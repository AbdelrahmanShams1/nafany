var bM=Object.defineProperty;var xM=(n,e,t)=>e in n?bM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Me=(n,e,t)=>xM(n,typeof e!="symbol"?e+"":e,t);function _M(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function cS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var py={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function wM(){if(l1)return Pu;l1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Pu.Fragment=e,Pu.jsx=t,Pu.jsxs=t,Pu}var c1;function EM(){return c1||(c1=1,py.exports=wM()),py.exports}var g=EM(),gy={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function TM(){if(u1)return rt;u1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function D(P,Z,ue){this.props=P,this.context=Z,this.refs=A,this.updater=ue||w}D.prototype.isReactComponent={},D.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},D.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=D.prototype;function U(P,Z,ue){this.props=P,this.context=Z,this.refs=A,this.updater=ue||w}var F=U.prototype=new O;F.constructor=U,T(F,D.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,N={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function I(P,Z,ue,xe,ge,de){return ue=de.ref,{$$typeof:n,type:P,key:Z,ref:ue!==void 0?ue:null,props:de}}function C(P,Z){return I(P.type,Z,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function M(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return Z[ue]})}var L=/\/+/g;function H(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):Z.toString(36)}function B(){}function Se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(B,B):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function we(P,Z,ue,xe,ge){var de=typeof P;(de==="undefined"||de==="boolean")&&(P=null);var se=!1;if(P===null)se=!0;else switch(de){case"bigint":case"string":case"number":se=!0;break;case"object":switch(P.$$typeof){case n:case e:se=!0;break;case y:return se=P._init,we(se(P._payload),Z,ue,xe,ge)}}if(se)return ge=ge(P),se=xe===""?"."+H(P,0):xe,Y(ge)?(ue="",se!=null&&(ue=se.replace(L,"$&/")+"/"),we(ge,Z,ue,"",function(Te){return Te})):ge!=null&&(R(ge)&&(ge=C(ge,ue+(ge.key==null||P&&P.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+se)),Z.push(ge)),1;se=0;var Ne=xe===""?".":xe+":";if(Y(P))for(var Ce=0;Ce<P.length;Ce++)xe=P[Ce],de=Ne+H(xe,Ce),se+=we(xe,Z,ue,de,ge);else if(Ce=x(P),typeof Ce=="function")for(P=Ce.call(P),Ce=0;!(xe=P.next()).done;)xe=xe.value,de=Ne+H(xe,Ce++),se+=we(xe,Z,ue,de,ge);else if(de==="object"){if(typeof P.then=="function")return we(Se(P),Z,ue,xe,ge);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return se}function ae(P,Z,ue){if(P==null)return P;var xe=[],ge=0;return we(P,xe,"","",function(de){return Z.call(ue,de,ge++)}),xe}function J(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function be(){}return rt.Children={map:ae,forEach:function(P,Z,ue){ae(P,function(){Z.apply(this,arguments)},ue)},count:function(P){var Z=0;return ae(P,function(){Z++}),Z},toArray:function(P){return ae(P,function(Z){return Z})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},rt.Component=D,rt.Fragment=t,rt.Profiler=a,rt.PureComponent=U,rt.StrictMode=r,rt.Suspense=f,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},rt.cache=function(P){return function(){return P.apply(null,arguments)}},rt.cloneElement=function(P,Z,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var xe=T({},P.props),ge=P.key,de=void 0;if(Z!=null)for(se in Z.ref!==void 0&&(de=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!$.call(Z,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&Z.ref===void 0||(xe[se]=Z[se]);var se=arguments.length-2;if(se===1)xe.children=ue;else if(1<se){for(var Ne=Array(se),Ce=0;Ce<se;Ce++)Ne[Ce]=arguments[Ce+2];xe.children=Ne}return I(P.type,ge,void 0,void 0,de,xe)},rt.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},rt.createElement=function(P,Z,ue){var xe,ge={},de=null;if(Z!=null)for(xe in Z.key!==void 0&&(de=""+Z.key),Z)$.call(Z,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(ge[xe]=Z[xe]);var se=arguments.length-2;if(se===1)ge.children=ue;else if(1<se){for(var Ne=Array(se),Ce=0;Ce<se;Ce++)Ne[Ce]=arguments[Ce+2];ge.children=Ne}if(P&&P.defaultProps)for(xe in se=P.defaultProps,se)ge[xe]===void 0&&(ge[xe]=se[xe]);return I(P,de,void 0,void 0,null,ge)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(P){return{$$typeof:u,render:P}},rt.isValidElement=R,rt.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:J}},rt.memo=function(P,Z){return{$$typeof:h,type:P,compare:Z===void 0?null:Z}},rt.startTransition=function(P){var Z=N.T,ue={};N.T=ue;try{var xe=P(),ge=N.S;ge!==null&&ge(ue,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(be,ne)}catch(de){ne(de)}finally{N.T=Z}},rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},rt.use=function(P){return N.H.use(P)},rt.useActionState=function(P,Z,ue){return N.H.useActionState(P,Z,ue)},rt.useCallback=function(P,Z){return N.H.useCallback(P,Z)},rt.useContext=function(P){return N.H.useContext(P)},rt.useDebugValue=function(){},rt.useDeferredValue=function(P,Z){return N.H.useDeferredValue(P,Z)},rt.useEffect=function(P,Z){return N.H.useEffect(P,Z)},rt.useId=function(){return N.H.useId()},rt.useImperativeHandle=function(P,Z,ue){return N.H.useImperativeHandle(P,Z,ue)},rt.useInsertionEffect=function(P,Z){return N.H.useInsertionEffect(P,Z)},rt.useLayoutEffect=function(P,Z){return N.H.useLayoutEffect(P,Z)},rt.useMemo=function(P,Z){return N.H.useMemo(P,Z)},rt.useOptimistic=function(P,Z){return N.H.useOptimistic(P,Z)},rt.useReducer=function(P,Z,ue){return N.H.useReducer(P,Z,ue)},rt.useRef=function(P){return N.H.useRef(P)},rt.useState=function(P){return N.H.useState(P)},rt.useSyncExternalStore=function(P,Z,ue){return N.H.useSyncExternalStore(P,Z,ue)},rt.useTransition=function(){return N.H.useTransition()},rt.version="19.0.0",rt}var d1;function hv(){return d1||(d1=1,gy.exports=TM()),gy.exports}var k=hv();const W=cS(k),SM=_M({__proto__:null,default:W},[k]);var yy={exports:{}},Ou={},vy={exports:{}},by={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function DM(){return f1||(f1=1,function(n){function e(ae,J){var ne=ae.length;ae.push(J);e:for(;0<ne;){var be=ne-1>>>1,P=ae[be];if(0<a(P,J))ae[be]=J,ae[ne]=P,ne=be;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var J=ae[0],ne=ae.pop();if(ne!==J){ae[0]=ne;e:for(var be=0,P=ae.length,Z=P>>>1;be<Z;){var ue=2*(be+1)-1,xe=ae[ue],ge=ue+1,de=ae[ge];if(0>a(xe,ne))ge<P&&0>a(de,xe)?(ae[be]=de,ae[ge]=ne,be=ge):(ae[be]=xe,ae[ue]=ne,be=ue);else if(ge<P&&0>a(de,ne))ae[be]=de,ae[ge]=ne,be=ge;else break e}}return J}function a(ae,J){var ne=ae.sortIndex-J.sortIndex;return ne!==0?ne:ae.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],h=[],y=1,v=null,x=3,w=!1,T=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function F(ae){for(var J=t(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=ae)r(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(h)}}function Y(ae){if(A=!1,F(ae),!T)if(t(f)!==null)T=!0,Se();else{var J=t(h);J!==null&&we(Y,J.startTime-ae)}}var N=!1,$=-1,I=5,C=-1;function R(){return!(n.unstable_now()-C<I)}function M(){if(N){var ae=n.unstable_now();C=ae;var J=!0;try{e:{T=!1,A&&(A=!1,O($),$=-1),w=!0;var ne=x;try{t:{for(F(ae),v=t(f);v!==null&&!(v.expirationTime>ae&&R());){var be=v.callback;if(typeof be=="function"){v.callback=null,x=v.priorityLevel;var P=be(v.expirationTime<=ae);if(ae=n.unstable_now(),typeof P=="function"){v.callback=P,F(ae),J=!0;break t}v===t(f)&&r(f),F(ae)}else r(f);v=t(f)}if(v!==null)J=!0;else{var Z=t(h);Z!==null&&we(Y,Z.startTime-ae),J=!1}}break e}finally{v=null,x=ne,w=!1}J=void 0}}finally{J?L():N=!1}}}var L;if(typeof U=="function")L=function(){U(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=M,L=function(){B.postMessage(null)}}else L=function(){D(M,0)};function Se(){N||(N=!0,L())}function we(ae,J){$=D(function(){ae(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,Se())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var ne=x;x=J;try{return ae()}finally{x=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,J){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ne=x;x=ae;try{return J()}finally{x=ne}},n.unstable_scheduleCallback=function(ae,J,ne){var be=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,ae){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ne+P,ae={id:y++,callback:J,priorityLevel:ae,startTime:ne,expirationTime:P,sortIndex:-1},ne>be?(ae.sortIndex=ne,e(h,ae),t(f)===null&&ae===t(h)&&(A?(O($),$=-1):A=!0,we(Y,ne-be))):(ae.sortIndex=P,e(f,ae),T||w||(T=!0,Se())),ae},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ae){var J=x;return function(){var ne=x;x=J;try{return ae.apply(this,arguments)}finally{x=ne}}}}(by)),by}var h1;function AM(){return h1||(h1=1,vy.exports=DM()),vy.exports}var xy={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function CM(){if(m1)return ir;m1=1;var n=hv();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:y}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(f,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,y)},ir.flushSync=function(f){var h=l.T,y=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=y,r.d.f()}},ir.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},ir.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ir.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var y=h.as,v=u(y,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):y==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ir.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},ir.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,v=u(y,h.crossOrigin);r.d.L(f,y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ir.preloadModule=function(f,h){if(typeof f=="string")if(h){var y=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},ir.requestFormReset=function(f){r.d.r(f)},ir.unstable_batchedUpdates=function(f,h){return f(h)},ir.useFormState=function(f,h,y){return l.H.useFormState(f,h,y)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.0.0",ir}var p1;function uS(){if(p1)return xy.exports;p1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xy.exports=CM(),xy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function RM(){if(g1)return Ou;g1=1;var n=AM(),e=hv(),t=uS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case u:return"Portal";case y:return"Profiler";case h:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case x:return(i._context.displayName||"Context")+".Consumer";case T:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:C(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return C(i(s))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,L,H;function B(i){if(L===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+H}var Se=!1;function we(i,s){if(!i||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(le){var re=le}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(le){re=le}i.call(ye.prototype)}}else{try{throw Error()}catch(le){re=le}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),S=b[0],j=b[1];if(S&&j){var z=S.split(`
`),Q=j.split(`
`);for(p=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(d===z.length||p===Q.length)for(d=z.length-1,p=Q.length-1;1<=d&&0<=p&&z[d]!==Q[p];)p--;for(;1<=d&&0<=p;d--,p--)if(z[d]!==Q[p]){if(d!==1||p!==1)do if(d--,p--,0>p||z[d]!==Q[p]){var ce=`
`+z[d].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=d&&0<=p);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?B(c):""}function ae(i){switch(i.tag){case 26:case 27:case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function J(i){try{var s="";do s+=ae(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ne(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function be(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function P(i){if(ne(i)!==i)throw Error(r(188))}function Z(i){var s=i.alternate;if(!s){if(s=ne(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,d=s;;){var p=c.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===c)return P(p),i;if(b===d)return P(p),s;b=b.sibling}throw Error(r(188))}if(c.return!==d.return)c=p,d=b;else{for(var S=!1,j=p.child;j;){if(j===c){S=!0,c=p,d=b;break}if(j===d){S=!0,d=p,c=b;break}j=j.sibling}if(!S){for(j=b.child;j;){if(j===c){S=!0,c=b,d=p;break}if(j===d){S=!0,d=b,c=p;break}j=j.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function ue(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=ue(i),s!==null)return s;i=i.sibling}return null}var xe=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},se=[],Ne=-1;function Ce(i){return{current:i}}function Te(i){0>Ne||(i.current=se[Ne],se[Ne]=null,Ne--)}function ze(i,s){Ne++,se[Ne]=i.current,i.current=s}var dt=Ce(null),nt=Ce(null),Xe=Ce(null),_e=Ce(null);function Ge(i,s){switch(ze(Xe,s),ze(nt,i),ze(dt,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Vw(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Vw(i),s=Lw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Te(dt),ze(dt,s)}function ot(){Te(dt),Te(nt),Te(Xe)}function Bt(i){i.memoizedState!==null&&ze(_e,i);var s=dt.current,c=Lw(s,i.type);s!==c&&(ze(nt,i),ze(dt,c))}function fr(i){nt.current===i&&(Te(dt),Te(nt)),_e.current===i&&(Te(_e),Cu._currentValue=de)}var Tr=Object.prototype.hasOwnProperty,hr=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,kr=n.unstable_shouldYield,Sr=n.unstable_requestPaint,Mn=n.unstable_now,Pr=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,cn=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,ol=n.unstable_LowPriority,Dr=n.unstable_IdlePriority,ll=n.log,Pa=n.unstable_setDisableYieldValue,va=null,kn=null;function es(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(va,i,void 0,(i.current.flags&128)===128)}catch{}}function mr(i){if(typeof ll=="function"&&Pa(i),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(va,i)}catch{}}var Pn=Math.clz32?Math.clz32:no,mi=Math.log,cl=Math.LN2;function no(i){return i>>>=0,i===0?32:31-(mi(i)/cl|0)|0}var qr=128,ba=4194304;function rr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Hn(i,s){var c=i.pendingLanes;if(c===0)return 0;var d=0,p=i.suspendedLanes,b=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var j=c&134217727;return j!==0?(c=j&~p,c!==0?d=rr(c):(b&=j,b!==0?d=rr(b):i||(S=j&~S,S!==0&&(d=rr(S))))):(j=c&~p,j!==0?d=rr(j):b!==0?d=rr(b):i||(S=c&~S,S!==0&&(d=rr(S)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,S=s&-s,p>=S||p===32&&(S&4194176)!==0)?s:d}function Oa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ts(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q(){var i=qr;return qr<<=1,(qr&4194176)===0&&(qr=128),i}function K(){var i=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),i}function ie(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function fe(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function De(i,s,c,d,p,b){var S=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var j=i.entanglements,z=i.expirationTimes,Q=i.hiddenUpdates;for(c=S&~c;0<c;){var ce=31-Pn(c),ye=1<<ce;j[ce]=0,z[ce]=-1;var re=Q[ce];if(re!==null)for(Q[ce]=null,ce=0;ce<re.length;ce++){var le=re[ce];le!==null&&(le.lane&=-536870913)}c&=~ye}d!==0&&He(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(S&~s))}function He(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Pn(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194218}function Fe(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-Pn(c),p=1<<d;p&s|i[d]&s&&(i[d]|=s),c&=~p}}function Ve(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ue(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:n1(i.type))}function Ae(i,s){var c=ge.p;try{return ge.p=i,s()}finally{ge.p=c}}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,$e="__reactProps$"+Oe,Et="__reactContainer$"+Oe,Kt="__reactEvents$"+Oe,Lt="__reactListeners$"+Oe,xt="__reactHandles$"+Oe,$t="__reactResources$"+Oe,pr="__reactMarker$"+Oe;function Ir(i){delete i[Ie],delete i[$e],delete i[Kt],delete i[Lt],delete i[xt]}function un(i){var s=i[Ie];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Et]||c[Ie]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=Fw(i);i!==null;){if(c=i[Ie])return c;i=Fw(i)}return s}i=c,c=i.parentNode}return null}function yn(i){if(i=i[Ie]||i[Et]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function $r(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ar(i){var s=i[$t];return s||(s=i[$t]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[pr]=!0}var Ia=new Set,xa={};function at(i,s){Ct(i,s),Ct(i+"Capture",s)}function Ct(i,s){for(xa[i]=s,i=0;i<s.length;i++)Ia.add(s[i])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ft={},Gr={};function ro(i){return Tr.call(Gr,i)?!0:Tr.call(Ft,i)?!1:pi.test(i)?Gr[i]=!0:(Ft[i]=!0,!1)}function ja(i,s,c){if(ro(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function ns(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Qr(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}function gr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xp(i){var s=Gd(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,b=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,b.call(this,S)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ao(i){i._valueTracker||(i._valueTracker=xp(i))}function Lc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=Gd(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function ul(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gi=/[\n"\\]/g;function nn(i){return i.replace(gi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rs(i,s,c,d,p,b,S,j){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+gr(s)):i.value!==""+gr(s)&&(i.value=""+gr(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?dl(i,S,gr(s)):c!=null?dl(i,S,gr(c)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.name=""+gr(j):i.removeAttribute("name")}function io(i,s,c,d,p,b,S,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;c=c!=null?""+gr(c):"",s=s!=null?""+gr(s):c,j||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=j?i.checked:!!d,i.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function dl(i,s,c){s==="number"&&ul(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Tt(i,s,c,d){if(i=i.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<i.length;c++)p=s.hasOwnProperty("$"+i[c].value),i[c].selected!==p&&(i[c].selected=p),p&&d&&(i[c].defaultSelected=!0)}else{for(c=""+gr(c),s=null,p=0;p<i.length;p++){if(i[p].value===c){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function so(i,s,c){if(s!=null&&(s=""+gr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+gr(c):""}function as(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(xe(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=gr(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function Kr(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var _p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||_p.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Qd(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&c[p]!==d&&Uc(i,p,d)}else for(var b in s)s.hasOwnProperty(b)&&Uc(i,b,s[b])}function Bc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ep=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return Ep.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wr=null;function fl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yi=null,vi=null;function bi(i){var s=yn(i);if(s&&(i=s.stateNode)){var c=i[$e]||null;e:switch(i=s.stateNode,s.type){case"input":if(rs(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var p=d[$e]||null;if(!p)throw Error(r(90));rs(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&Lc(d)}break e;case"textarea":so(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Tt(i,!!c.multiple,s,!1)}}}var Fc=!1;function Kd(i,s,c){if(Fc)return i(s,c);Fc=!0;try{var d=i(s);return d}finally{if(Fc=!1,(yi!==null||vi!==null)&&(Ff(),yi&&(s=yi,i=vi,vi=yi=null,bi(s),i)))for(s=0;s<i.length;s++)bi(i[s])}}function oo(i,s){var c=i.stateNode;if(c===null)return null;var d=c[$e]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Xr=!1;if(On)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Xr=!1}var La=null,is=null,xi=null;function zc(){if(xi)return xi;var i,s=is,c=s.length,d,p="value"in La?La.value:La.textContent,b=p.length;for(i=0;i<c&&s[i]===p[i];i++);var S=c-i;for(d=1;d<=S&&s[c-d]===p[b-d];d++);return xi=p.slice(i,1<d?1-d:void 0)}function Ua(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ba(){return!0}function Hc(){return!1}function In(i){function s(c,d,p,b,S){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(c=i[j],this[j]=c?c(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ba:Hc,this.isPropagationStopped=Hc,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),s}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=In(Nt),co=M({},Nt,{view:0,detail:0}),Wd=In(co),ml,pl,Fa,uo=M({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fa&&(Fa&&i.type==="mousemove"?(ml=i.screenX-Fa.screenX,pl=i.screenY-Fa.screenY):pl=ml=0,Fa=i),ml)},movementY:function(i){return"movementY"in i?i.movementY:pl}}),Zr=In(uo),Xd=M({},uo,{dataTransfer:0}),Tp=In(Xd),fo=M({},co,{relatedTarget:0}),gl=In(fo),Yc=M({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=In(Yc),Zd=M({},Nt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vl=In(Zd),Sp=M({},Nt,{data:0}),qc=In(Sp),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $c(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ef[i])?!!s[i]:!1}function mo(){return $c}var tf=M({},co,{key:function(i){if(i.key){var s=ho[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bl=In(tf),nf=M({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=In(nf),_i=M({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),rf=In(_i),af=M({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sf=In(af),of=M({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xl=In(of),yr=M({},Nt,{newState:0,oldState:0}),lf=In(yr),cf=[9,13,27,32],za=On&&"CompositionEvent"in window,m=null;On&&"documentMode"in document&&(m=document.documentMode);var _=On&&"TextEvent"in window&&!m,E=On&&(!za||m&&8<m&&11>=m),V=" ",ee=!1;function oe(i,s){switch(i){case"keyup":return cf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pt=!1;function Tn(i,s){switch(i){case"compositionend":return Ee(s);case"keypress":return s.which!==32?null:(ee=!0,V);case"textInput":return i=s.data,i===V&&ee?null:i;default:return null}}function gt(i,s){if(pt)return i==="compositionend"||!za&&oe(i,s)?(i=zc(),xi=is=La=null,pt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!jn[i.type]:s==="textarea"}function wi(i,s,c,d){yi?vi?vi.push(d):vi=[d]:yi=d,s=$f(s,"onChange"),0<s.length&&(c=new hl("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var Yn=null,Ha=null;function Qc(i){kw(i,0)}function uf(i){var s=$r(i);if(Lc(s))return i}function ox(i,s){if(i==="change")return s}var lx=!1;if(On){var Dp;if(On){var Ap="oninput"in document;if(!Ap){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),Ap=typeof cx.oninput=="function"}Dp=Ap}else Dp=!1;lx=Dp&&(!document.documentMode||9<document.documentMode)}function ux(){Yn&&(Yn.detachEvent("onpropertychange",dx),Ha=Yn=null)}function dx(i){if(i.propertyName==="value"&&uf(Ha)){var s=[];wi(s,Ha,i,fl(i)),Kd(Qc,s)}}function KR(i,s,c){i==="focusin"?(ux(),Yn=s,Ha=c,Yn.attachEvent("onpropertychange",dx)):i==="focusout"&&ux()}function WR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uf(Ha)}function XR(i,s){if(i==="click")return uf(s)}function ZR(i,s){if(i==="input"||i==="change")return uf(s)}function JR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var jr=typeof Object.is=="function"?Object.is:JR;function Kc(i,s){if(jr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!Tr.call(s,p)||!jr(i[p],s[p]))return!1}return!0}function fx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hx(i,s){var c=fx(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=fx(c)}}function mx(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?mx(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function px(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ul(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=ul(i.document)}return s}function Cp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function eN(i,s){var c=px(s);s=i.focusedElem;var d=i.selectionRange;if(c!==s&&s&&s.ownerDocument&&mx(s.ownerDocument.documentElement,s)){if(d!==null&&Cp(s)){if(i=d.start,c=d.end,c===void 0&&(c=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(c,s.value.length);else if(c=(i=s.ownerDocument||document)&&i.defaultView||window,c.getSelection){c=c.getSelection();var p=s.textContent.length,b=Math.min(d.start,p);d=d.end===void 0?b:Math.min(d.end,p),!c.extend&&b>d&&(p=d,d=b,b=p),p=hx(s,b);var S=hx(s,d);p&&S&&(c.rangeCount!==1||c.anchorNode!==p.node||c.anchorOffset!==p.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),c.removeAllRanges(),b>d?(c.addRange(i),c.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),c.addRange(i)))}}for(i=[],c=s;c=c.parentNode;)c.nodeType===1&&i.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)c=i[s],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var tN=On&&"documentMode"in document&&11>=document.documentMode,_l=null,Rp=null,Wc=null,Np=!1;function gx(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Np||_l==null||_l!==ul(d)||(d=_l,"selectionStart"in d&&Cp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wc&&Kc(Wc,d)||(Wc=d,d=$f(Rp,"onSelect"),0<d.length&&(s=new hl("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=_l)))}function po(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var wl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},Mp={},yx={};On&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function go(i){if(Mp[i])return Mp[i];if(!wl[i])return i;var s=wl[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in yx)return Mp[i]=s[c];return i}var vx=go("animationend"),bx=go("animationiteration"),xx=go("animationstart"),nN=go("transitionrun"),rN=go("transitionstart"),aN=go("transitioncancel"),_x=go("transitionend"),wx=new Map,Ex="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _a(i,s){wx.set(i,s),at(s,[i])}var Jr=[],El=0,kp=0;function df(){for(var i=El,s=kp=El=0;s<i;){var c=Jr[s];Jr[s++]=null;var d=Jr[s];Jr[s++]=null;var p=Jr[s];Jr[s++]=null;var b=Jr[s];if(Jr[s++]=null,d!==null&&p!==null){var S=d.pending;S===null?p.next=p:(p.next=S.next,S.next=p),d.pending=p}b!==0&&Tx(c,p,b)}}function ff(i,s,c,d){Jr[El++]=i,Jr[El++]=s,Jr[El++]=c,Jr[El++]=d,kp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Pp(i,s,c,d){return ff(i,s,c,d),hf(i)}function ss(i,s){return ff(i,null,null,s),hf(i)}function Tx(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var p=!1,b=i.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;p&&s!==null&&i.tag===3&&(b=i.stateNode,p=31-Pn(c),b=b.hiddenUpdates,i=b[p],i===null?b[p]=[s]:i.push(s),s.lane=c|536870912)}function hf(i){if(50<_u)throw _u=0,Ug=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Tl={},Sx=new WeakMap;function ea(i,s){if(typeof i=="object"&&i!==null){var c=Sx.get(i);return c!==void 0?c:(s={value:i,source:s,stack:J(s)},Sx.set(i,s),s)}return{value:i,source:s,stack:J(s)}}var Sl=[],Dl=0,mf=null,pf=0,ta=[],na=0,yo=null,Ei=1,Ti="";function vo(i,s){Sl[Dl++]=pf,Sl[Dl++]=mf,mf=i,pf=s}function Dx(i,s,c){ta[na++]=Ei,ta[na++]=Ti,ta[na++]=yo,yo=i;var d=Ei;i=Ti;var p=32-Pn(d)-1;d&=~(1<<p),c+=1;var b=32-Pn(s)+p;if(30<b){var S=p-p%5;b=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Ei=1<<32-Pn(s)+p|c<<p|d,Ti=b+i}else Ei=1<<b|c<<p|d,Ti=i}function Op(i){i.return!==null&&(vo(i,1),Dx(i,1,0))}function Ip(i){for(;i===mf;)mf=Sl[--Dl],Sl[Dl]=null,pf=Sl[--Dl],Sl[Dl]=null;for(;i===yo;)yo=ta[--na],ta[na]=null,Ti=ta[--na],ta[na]=null,Ei=ta[--na],ta[na]=null}var vr=null,qn=null,St=!1,wa=null,Ya=!1,jp=Error(r(519));function bo(i){var s=Error(r(418,""));throw Jc(ea(s,i)),jp}function Ax(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[Ie]=i,s[$e]=d,c){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(c=0;c<Eu.length;c++)mt(Eu[c],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),io(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ao(s);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),as(s,d.value,d.defaultValue,d.children),ao(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||jw(s.textContent,c)?(d.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),d.onScroll!=null&&mt("scroll",s),d.onScrollEnd!=null&&mt("scrollend",s),d.onClick!=null&&(s.onclick=Gf),s=!0):s=!1,s||bo(i)}function Cx(i){for(vr=i.return;vr;)switch(vr.tag){case 3:case 27:Ya=!0;return;case 5:case 13:Ya=!1;return;default:vr=vr.return}}function Xc(i){if(i!==vr)return!1;if(!St)return Cx(i),St=!0,!1;var s=!1,c;if((c=i.tag!==3&&i.tag!==27)&&((c=i.tag===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ny(i.type,i.memoizedProps)),c=!c),c&&(s=!0),s&&qn&&bo(i),Cx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){qn=Ta(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}qn=null}}else qn=vr?Ta(i.stateNode.nextSibling):null;return!0}function Zc(){qn=vr=null,St=!1}function Jc(i){wa===null?wa=[i]:wa.push(i)}var eu=Error(r(460)),Rx=Error(r(474)),Vp={then:function(){}};function Nx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gf(){}function Mx(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(gf,gf),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===eu?Error(r(483)):i;default:if(typeof s.status=="string")s.then(gf,gf);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===eu?Error(r(483)):i}throw tu=s,eu}}var tu=null;function kx(){if(tu===null)throw Error(r(459));var i=tu;return tu=null,i}var Al=null,nu=0;function yf(i){var s=nu;return nu+=1,Al===null&&(Al=[]),Mx(Al,i,s)}function ru(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vf(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Px(i){var s=i._init;return s(i._payload)}function Ox(i){function s(X,G){if(i){var te=X.deletions;te===null?(X.deletions=[G],X.flags|=16):te.push(G)}}function c(X,G){if(!i)return null;for(;G!==null;)s(X,G),G=G.sibling;return null}function d(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function p(X,G){return X=vs(X,G),X.index=0,X.sibling=null,X}function b(X,G,te){return X.index=te,i?(te=X.alternate,te!==null?(te=te.index,te<G?(X.flags|=33554434,G):te):(X.flags|=33554434,G)):(X.flags|=1048576,G)}function S(X){return i&&X.alternate===null&&(X.flags|=33554434),X}function j(X,G,te,he){return G===null||G.tag!==6?(G=Mg(te,X.mode,he),G.return=X,G):(G=p(G,te),G.return=X,G)}function z(X,G,te,he){var je=te.type;return je===f?ce(X,G,te.props.children,he,te.key):G!==null&&(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&Px(je)===G.type)?(G=p(G,te.props),ru(G,te),G.return=X,G):(G=jf(te.type,te.key,te.props,null,X.mode,he),ru(G,te),G.return=X,G)}function Q(X,G,te,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=kg(te,X.mode,he),G.return=X,G):(G=p(G,te.children||[]),G.return=X,G)}function ce(X,G,te,he,je){return G===null||G.tag!==7?(G=Ro(te,X.mode,he,je),G.return=X,G):(G=p(G,te),G.return=X,G)}function ye(X,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Mg(""+G,X.mode,te),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return te=jf(G.type,G.key,G.props,null,X.mode,te),ru(te,G),te.return=X,te;case u:return G=kg(G,X.mode,te),G.return=X,G;case U:var he=G._init;return G=he(G._payload),ye(X,G,te)}if(xe(G)||$(G))return G=Ro(G,X.mode,te,null),G.return=X,G;if(typeof G.then=="function")return ye(X,yf(G),te);if(G.$$typeof===w)return ye(X,Pf(X,G),te);vf(X,G)}return null}function re(X,G,te,he){var je=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return je!==null?null:j(X,G,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return te.key===je?z(X,G,te,he):null;case u:return te.key===je?Q(X,G,te,he):null;case U:return je=te._init,te=je(te._payload),re(X,G,te,he)}if(xe(te)||$(te))return je!==null?null:ce(X,G,te,he,null);if(typeof te.then=="function")return re(X,G,yf(te),he);if(te.$$typeof===w)return re(X,G,Pf(X,te),he);vf(X,te)}return null}function le(X,G,te,he,je){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(te)||null,j(G,X,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return X=X.get(he.key===null?te:he.key)||null,z(G,X,he,je);case u:return X=X.get(he.key===null?te:he.key)||null,Q(G,X,he,je);case U:var lt=he._init;return he=lt(he._payload),le(X,G,te,he,je)}if(xe(he)||$(he))return X=X.get(te)||null,ce(G,X,he,je,null);if(typeof he.then=="function")return le(X,G,te,yf(he),je);if(he.$$typeof===w)return le(X,G,te,Pf(G,he),je);vf(G,he)}return null}function Be(X,G,te,he){for(var je=null,lt=null,Ye=G,Qe=G=0,Un=null;Ye!==null&&Qe<te.length;Qe++){Ye.index>Qe?(Un=Ye,Ye=null):Un=Ye.sibling;var Dt=re(X,Ye,te[Qe],he);if(Dt===null){Ye===null&&(Ye=Un);break}i&&Ye&&Dt.alternate===null&&s(X,Ye),G=b(Dt,G,Qe),lt===null?je=Dt:lt.sibling=Dt,lt=Dt,Ye=Un}if(Qe===te.length)return c(X,Ye),St&&vo(X,Qe),je;if(Ye===null){for(;Qe<te.length;Qe++)Ye=ye(X,te[Qe],he),Ye!==null&&(G=b(Ye,G,Qe),lt===null?je=Ye:lt.sibling=Ye,lt=Ye);return St&&vo(X,Qe),je}for(Ye=d(Ye);Qe<te.length;Qe++)Un=le(Ye,X,Qe,te[Qe],he),Un!==null&&(i&&Un.alternate!==null&&Ye.delete(Un.key===null?Qe:Un.key),G=b(Un,G,Qe),lt===null?je=Un:lt.sibling=Un,lt=Un);return i&&Ye.forEach(function(Ss){return s(X,Ss)}),St&&vo(X,Qe),je}function et(X,G,te,he){if(te==null)throw Error(r(151));for(var je=null,lt=null,Ye=G,Qe=G=0,Un=null,Dt=te.next();Ye!==null&&!Dt.done;Qe++,Dt=te.next()){Ye.index>Qe?(Un=Ye,Ye=null):Un=Ye.sibling;var Ss=re(X,Ye,Dt.value,he);if(Ss===null){Ye===null&&(Ye=Un);break}i&&Ye&&Ss.alternate===null&&s(X,Ye),G=b(Ss,G,Qe),lt===null?je=Ss:lt.sibling=Ss,lt=Ss,Ye=Un}if(Dt.done)return c(X,Ye),St&&vo(X,Qe),je;if(Ye===null){for(;!Dt.done;Qe++,Dt=te.next())Dt=ye(X,Dt.value,he),Dt!==null&&(G=b(Dt,G,Qe),lt===null?je=Dt:lt.sibling=Dt,lt=Dt);return St&&vo(X,Qe),je}for(Ye=d(Ye);!Dt.done;Qe++,Dt=te.next())Dt=le(Ye,X,Qe,Dt.value,he),Dt!==null&&(i&&Dt.alternate!==null&&Ye.delete(Dt.key===null?Qe:Dt.key),G=b(Dt,G,Qe),lt===null?je=Dt:lt.sibling=Dt,lt=Dt);return i&&Ye.forEach(function(vM){return s(X,vM)}),St&&vo(X,Qe),je}function sn(X,G,te,he){if(typeof te=="object"&&te!==null&&te.type===f&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case l:e:{for(var je=te.key;G!==null;){if(G.key===je){if(je=te.type,je===f){if(G.tag===7){c(X,G.sibling),he=p(G,te.props.children),he.return=X,X=he;break e}}else if(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&Px(je)===G.type){c(X,G.sibling),he=p(G,te.props),ru(he,te),he.return=X,X=he;break e}c(X,G);break}else s(X,G);G=G.sibling}te.type===f?(he=Ro(te.props.children,X.mode,he,te.key),he.return=X,X=he):(he=jf(te.type,te.key,te.props,null,X.mode,he),ru(he,te),he.return=X,X=he)}return S(X);case u:e:{for(je=te.key;G!==null;){if(G.key===je)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){c(X,G.sibling),he=p(G,te.children||[]),he.return=X,X=he;break e}else{c(X,G);break}else s(X,G);G=G.sibling}he=kg(te,X.mode,he),he.return=X,X=he}return S(X);case U:return je=te._init,te=je(te._payload),sn(X,G,te,he)}if(xe(te))return Be(X,G,te,he);if($(te)){if(je=$(te),typeof je!="function")throw Error(r(150));return te=je.call(te),et(X,G,te,he)}if(typeof te.then=="function")return sn(X,G,yf(te),he);if(te.$$typeof===w)return sn(X,G,Pf(X,te),he);vf(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(c(X,G.sibling),he=p(G,te),he.return=X,X=he):(c(X,G),he=Mg(te,X.mode,he),he.return=X,X=he),S(X)):c(X,G)}return function(X,G,te,he){try{nu=0;var je=sn(X,G,te,he);return Al=null,je}catch(Ye){if(Ye===eu)throw Ye;var lt=sa(29,Ye,null,X.mode);return lt.lanes=he,lt.return=X,lt}finally{}}}var xo=Ox(!0),Ix=Ox(!1),Cl=Ce(null),bf=Ce(0);function jx(i,s){i=Ii,ze(bf,i),ze(Cl,s),Ii=i|s.baseLanes}function Lp(){ze(bf,Ii),ze(Cl,Cl.current)}function Up(){Ii=bf.current,Te(Cl),Te(bf)}var ra=Ce(null),qa=null;function os(i){var s=i.alternate;ze(Dn,Dn.current&1),ze(ra,i),qa===null&&(s===null||Cl.current!==null||s.memoizedState!==null)&&(qa=i)}function Vx(i){if(i.tag===22){if(ze(Dn,Dn.current),ze(ra,i),qa===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qa=i)}}else ls()}function ls(){ze(Dn,Dn.current),ze(ra,ra.current)}function Si(i){Te(ra),qa===i&&(qa=null),Te(Dn)}var Dn=Ce(0);function xf(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var iN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},sN=n.unstable_scheduleCallback,oN=n.unstable_NormalPriority,An={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bp(){return{controller:new iN,data:new Map,refCount:0}}function au(i){i.refCount--,i.refCount===0&&sN(oN,function(){i.controller.abort()})}var iu=null,Fp=0,Rl=0,Nl=null;function lN(i,s){if(iu===null){var c=iu=[];Fp=0,Rl=Gg(),Nl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Fp++,s.then(Lx,Lx),s}function Lx(){if(--Fp===0&&iu!==null){Nl!==null&&(Nl.status="fulfilled");var i=iu;iu=null,Rl=0,Nl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function cN(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<c.length;p++)(0,c[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var Ux=R.S;R.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&lN(i,s),Ux!==null&&Ux(i,s)};var _o=Ce(null);function zp(){var i=_o.current;return i!==null?i:zt.pooledCache}function _f(i,s){s===null?ze(_o,_o.current):ze(_o,s.pool)}function Bx(){var i=zp();return i===null?null:{parent:An._currentValue,pool:i}}var cs=0,it=null,jt=null,vn=null,wf=!1,Ml=!1,wo=!1,Ef=0,su=0,kl=null,uN=0;function dn(){throw Error(r(321))}function Hp(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!jr(i[c],s[c]))return!1;return!0}function Yp(i,s,c,d,p,b){return cs=b,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=i===null||i.memoizedState===null?Eo:us,wo=!1,b=c(d,p),wo=!1,Ml&&(b=zx(s,c,d,p)),Fx(i),b}function Fx(i){R.H=$a;var s=jt!==null&&jt.next!==null;if(cs=0,vn=jt=it=null,wf=!1,su=0,kl=null,s)throw Error(r(300));i===null||Vn||(i=i.dependencies,i!==null&&kf(i)&&(Vn=!0))}function zx(i,s,c,d){it=i;var p=0;do{if(Ml&&(kl=null),su=0,Ml=!1,25<=p)throw Error(r(301));if(p+=1,vn=jt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=To,b=s(c,d)}while(Ml);return b}function dN(){var i=R.H,s=i.useState()[0];return s=typeof s.then=="function"?ou(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(it.flags|=1024),s}function qp(){var i=Ef!==0;return Ef=0,i}function $p(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function Gp(i){if(wf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wf=!1}cs=0,vn=jt=it=null,Ml=!1,su=Ef=0,kl=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?it.memoizedState=vn=i:vn=vn.next=i,vn}function bn(){if(jt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=vn===null?it.memoizedState:vn.next;if(s!==null)vn=s,jt=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},vn===null?it.memoizedState=vn=i:vn=vn.next=i}return vn}var Tf;Tf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ou(i){var s=su;return su+=1,kl===null&&(kl=[]),i=Mx(kl,i,s),s=it,(vn===null?s.memoizedState:vn.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Eo:us),i}function Sf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===w)return ar(i)}throw Error(r(438,String(i)))}function Qp(i){var s=null,c=it.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=it.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Tf(),it.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=Y;return s.index++,c}function Di(i,s){return typeof s=="function"?s(i):s}function Df(i){var s=bn();return Kp(s,jt,i)}function Kp(i,s,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var S=p.next;p.next=b.next,b.next=S}s.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var j=S=null,z=null,Q=s,ce=!1;do{var ye=Q.lane&-536870913;if(ye!==Q.lane?(yt&ye)===ye:(cs&ye)===ye){var re=Q.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ye===Rl&&(ce=!0);else if((cs&re)===re){Q=Q.next,re===Rl&&(ce=!0);continue}else ye={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(j=z=ye,S=b):z=z.next=ye,it.lanes|=re,bs|=re;ye=Q.action,wo&&c(b,ye),b=Q.hasEagerState?Q.eagerState:c(b,ye)}else re={lane:ye,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(j=z=re,S=b):z=z.next=re,it.lanes|=ye,bs|=ye;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?S=b:z.next=j,!jr(b,i.memoizedState)&&(Vn=!0,ce&&(c=Nl,c!==null)))throw c;i.memoizedState=b,i.baseState=S,i.baseQueue=z,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Wp(i){var s=bn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,p=c.pending,b=s.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do b=i(b,S.action),S=S.next;while(S!==p);jr(b,s.memoizedState)||(Vn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,d]}function Hx(i,s,c){var d=it,p=bn(),b=St;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var S=!jr((jt||p).memoizedState,c);if(S&&(p.memoizedState=c,Vn=!0),p=p.queue,Jp($x.bind(null,d,p,i),[i]),p.getSnapshot!==s||S||vn!==null&&vn.memoizedState.tag&1){if(d.flags|=2048,Pl(9,qx.bind(null,d,p,c,s),{destroy:void 0},null),zt===null)throw Error(r(349));b||(cs&60)!==0||Yx(d,s,c)}return c}function Yx(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=it.updateQueue,s===null?(s=Tf(),it.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function qx(i,s,c,d){s.value=c,s.getSnapshot=d,Gx(s)&&Qx(i)}function $x(i,s,c){return c(function(){Gx(s)&&Qx(i)})}function Gx(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!jr(i,c)}catch{return!0}}function Qx(i){var s=ss(i,2);s!==null&&br(s,i,2)}function Xp(i){var s=Cr();if(typeof i=="function"){var c=i;if(i=c(),wo){mr(!0);try{c()}finally{mr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},s}function Kx(i,s,c,d){return i.baseState=c,Kp(i,jt,typeof d=="function"?d:Di)}function fN(i,s,c,d,p){if(Rf(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};R.T!==null?c(!0):b.isTransition=!1,d(b),c=s.pending,c===null?(b.next=s.pending=b,Wx(s,b)):(b.next=c.next,s.pending=c.next=b)}}function Wx(i,s){var c=s.action,d=s.payload,p=i.state;if(s.isTransition){var b=R.T,S={};R.T=S;try{var j=c(p,d),z=R.S;z!==null&&z(S,j),Xx(i,s,j)}catch(Q){Zp(i,s,Q)}finally{R.T=b}}else try{b=c(p,d),Xx(i,s,b)}catch(Q){Zp(i,s,Q)}}function Xx(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Zx(i,s,d)},function(d){return Zp(i,s,d)}):Zx(i,s,c)}function Zx(i,s,c){s.status="fulfilled",s.value=c,Jx(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,Wx(i,c)))}function Zp(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,Jx(s),s=s.next;while(s!==d)}i.action=null}function Jx(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function e_(i,s){return s}function t_(i,s){if(St){var c=zt.formState;if(c!==null){e:{var d=it;if(St){if(qn){t:{for(var p=qn,b=Ya;p.nodeType!==8;){if(!b){p=null;break t}if(p=Ta(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){qn=Ta(p.nextSibling),d=p.data==="F!";break e}}bo(d)}d=!1}d&&(s=c[0])}}return c=Cr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:s},c.queue=d,c=b_.bind(null,it,d),d.dispatch=c,d=Xp(!1),b=ag.bind(null,it,!1,d.queue),d=Cr(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,c=fN.bind(null,it,p,b,c),p.dispatch=c,d.memoizedState=i,[s,c,!1]}function n_(i){var s=bn();return r_(s,jt,i)}function r_(i,s,c){s=Kp(i,s,e_)[0],i=Df(Di)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ou(s):s;var d=bn(),p=d.queue,b=p.dispatch;return c!==d.memoizedState&&(it.flags|=2048,Pl(9,hN.bind(null,p,c),{destroy:void 0},null)),[s,b,i]}function hN(i,s){i.action=s}function a_(i){var s=bn(),c=jt;if(c!==null)return r_(s,c,i);bn(),s=s.memoizedState,c=bn();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function Pl(i,s,c,d){return i={tag:i,create:s,inst:c,deps:d,next:null},s=it.updateQueue,s===null&&(s=Tf(),it.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function i_(){return bn().memoizedState}function Af(i,s,c,d){var p=Cr();it.flags|=i,p.memoizedState=Pl(1|s,c,{destroy:void 0},d===void 0?null:d)}function Cf(i,s,c,d){var p=bn();d=d===void 0?null:d;var b=p.memoizedState.inst;jt!==null&&d!==null&&Hp(d,jt.memoizedState.deps)?p.memoizedState=Pl(s,c,b,d):(it.flags|=i,p.memoizedState=Pl(1|s,c,b,d))}function s_(i,s){Af(8390656,8,i,s)}function Jp(i,s){Cf(2048,8,i,s)}function o_(i,s){return Cf(4,2,i,s)}function l_(i,s){return Cf(4,4,i,s)}function c_(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function u_(i,s,c){c=c!=null?c.concat([i]):null,Cf(4,4,c_.bind(null,s,i),c)}function eg(){}function d_(i,s){var c=bn();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Hp(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function f_(i,s){var c=bn();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Hp(s,d[1]))return d[0];if(d=i(),wo){mr(!0);try{i()}finally{mr(!1)}}return c.memoizedState=[d,s],d}function tg(i,s,c){return c===void 0||(cs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=mw(),it.lanes|=i,bs|=i,c)}function h_(i,s,c,d){return jr(c,s)?c:Cl.current!==null?(i=tg(i,c,d),jr(i,s)||(Vn=!0),i):(cs&42)===0?(Vn=!0,i.memoizedState=c):(i=mw(),it.lanes|=i,bs|=i,s)}function m_(i,s,c,d,p){var b=ge.p;ge.p=b!==0&&8>b?b:8;var S=R.T,j={};R.T=j,ag(i,!1,s,c);try{var z=p(),Q=R.S;if(Q!==null&&Q(j,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=cN(z,d);lu(i,s,ce,Br(i))}else lu(i,s,d,Br(i))}catch(ye){lu(i,s,{then:function(){},status:"rejected",reason:ye},Br())}finally{ge.p=b,R.T=S}}function mN(){}function ng(i,s,c,d){if(i.tag!==5)throw Error(r(476));var p=p_(i).queue;m_(i,p,s,de,c===null?mN:function(){return g_(i),c(d)})}function p_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:de},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function g_(i){var s=p_(i).next.queue;lu(i,s,{},Br())}function rg(){return ar(Cu)}function y_(){return bn().memoizedState}function v_(){return bn().memoizedState}function pN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=Br();i=hs(c);var d=ms(s,i,c);d!==null&&(br(d,s,c),du(d,s,c)),s={cache:Bp()},i.payload=s;return}s=s.return}}function gN(i,s,c){var d=Br();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Rf(i)?x_(s,c):(c=Pp(i,s,c,d),c!==null&&(br(c,i,d),__(c,s,d)))}function b_(i,s,c){var d=Br();lu(i,s,c,d)}function lu(i,s,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rf(i))x_(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var S=s.lastRenderedState,j=b(S,c);if(p.hasEagerState=!0,p.eagerState=j,jr(j,S))return ff(i,s,p,0),zt===null&&df(),!1}catch{}finally{}if(c=Pp(i,s,p,d),c!==null)return br(c,i,d),__(c,s,d),!0}return!1}function ag(i,s,c,d){if(d={lane:2,revertLane:Gg(),action:d,hasEagerState:!1,eagerState:null,next:null},Rf(i)){if(s)throw Error(r(479))}else s=Pp(i,c,d,2),s!==null&&br(s,i,2)}function Rf(i){var s=i.alternate;return i===it||s!==null&&s===it}function x_(i,s){Ml=wf=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function __(i,s,c){if((c&4194176)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}var $a={readContext:ar,use:Sf,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn};$a.useCacheRefresh=dn,$a.useMemoCache=dn,$a.useHostTransitionStatus=dn,$a.useFormState=dn,$a.useActionState=dn,$a.useOptimistic=dn;var Eo={readContext:ar,use:Sf,useCallback:function(i,s){return Cr().memoizedState=[i,s===void 0?null:s],i},useContext:ar,useEffect:s_,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Af(4194308,4,c_.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Af(4194308,4,i,s)},useInsertionEffect:function(i,s){Af(4,2,i,s)},useMemo:function(i,s){var c=Cr();s=s===void 0?null:s;var d=i();if(wo){mr(!0);try{i()}finally{mr(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=Cr();if(c!==void 0){var p=c(s);if(wo){mr(!0);try{c(s)}finally{mr(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=gN.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var s=Cr();return i={current:i},s.memoizedState=i},useState:function(i){i=Xp(i);var s=i.queue,c=b_.bind(null,it,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:eg,useDeferredValue:function(i,s){var c=Cr();return tg(c,i,s)},useTransition:function(){var i=Xp(!1);return i=m_.bind(null,it,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=it,p=Cr();if(St){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),zt===null)throw Error(r(349));(yt&60)!==0||Yx(d,s,c)}p.memoizedState=c;var b={value:c,getSnapshot:s};return p.queue=b,s_($x.bind(null,d,b,i),[i]),d.flags|=2048,Pl(9,qx.bind(null,d,b,c,s),{destroy:void 0},null),c},useId:function(){var i=Cr(),s=zt.identifierPrefix;if(St){var c=Ti,d=Ei;c=(d&~(1<<32-Pn(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Ef++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=uN++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Cr().memoizedState=pN.bind(null,it)}};Eo.useMemoCache=Qp,Eo.useHostTransitionStatus=rg,Eo.useFormState=t_,Eo.useActionState=t_,Eo.useOptimistic=function(i){var s=Cr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=ag.bind(null,it,!0,c),c.dispatch=s,[i,s]};var us={readContext:ar,use:Sf,useCallback:d_,useContext:ar,useEffect:Jp,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Df,useRef:i_,useState:function(){return Df(Di)},useDebugValue:eg,useDeferredValue:function(i,s){var c=bn();return h_(c,jt.memoizedState,i,s)},useTransition:function(){var i=Df(Di)[0],s=bn().memoizedState;return[typeof i=="boolean"?i:ou(i),s]},useSyncExternalStore:Hx,useId:y_};us.useCacheRefresh=v_,us.useMemoCache=Qp,us.useHostTransitionStatus=rg,us.useFormState=n_,us.useActionState=n_,us.useOptimistic=function(i,s){var c=bn();return Kx(c,jt,i,s)};var To={readContext:ar,use:Sf,useCallback:d_,useContext:ar,useEffect:Jp,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Wp,useRef:i_,useState:function(){return Wp(Di)},useDebugValue:eg,useDeferredValue:function(i,s){var c=bn();return jt===null?tg(c,i,s):h_(c,jt.memoizedState,i,s)},useTransition:function(){var i=Wp(Di)[0],s=bn().memoizedState;return[typeof i=="boolean"?i:ou(i),s]},useSyncExternalStore:Hx,useId:y_};To.useCacheRefresh=v_,To.useMemoCache=Qp,To.useHostTransitionStatus=rg,To.useFormState=a_,To.useActionState=a_,To.useOptimistic=function(i,s){var c=bn();return jt!==null?Kx(c,jt,i,s):(c.baseState=i,[i,c.queue.dispatch])};function ig(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:M({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var sg={isMounted:function(i){return(i=i._reactInternals)?ne(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var d=Br(),p=hs(d);p.payload=s,c!=null&&(p.callback=c),s=ms(i,p,d),s!==null&&(br(s,i,d),du(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=Br(),p=hs(d);p.tag=1,p.payload=s,c!=null&&(p.callback=c),s=ms(i,p,d),s!==null&&(br(s,i,d),du(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Br(),d=hs(c);d.tag=2,s!=null&&(d.callback=s),s=ms(i,d,c),s!==null&&(br(s,i,c),du(s,i,c))}};function w_(i,s,c,d,p,b,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,S):s.prototype&&s.prototype.isPureReactComponent?!Kc(c,d)||!Kc(p,b):!0}function E_(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&sg.enqueueReplaceState(s,s.state,null)}function So(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=M({},c));for(var p in i)c[p]===void 0&&(c[p]=i[p])}return c}var Nf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function T_(i){Nf(i)}function S_(i){console.error(i)}function D_(i){Nf(i)}function Mf(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function A_(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function og(i,s,c){return c=hs(c),c.tag=3,c.payload={element:null},c.callback=function(){Mf(i,s)},c}function C_(i){return i=hs(i),i.tag=3,i}function R_(i,s,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){A_(s,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){A_(s,c,d),typeof p!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function yN(i,s,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&uu(s,c,p,!0),c=ra.current,c!==null){switch(c.tag){case 13:return qa===null?zg():c.alternate===null&&an===0&&(an=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===Vp?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),Yg(i,d,p)),!1;case 22:return c.flags|=65536,d===Vp?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),Yg(i,d,p)),!1}throw Error(r(435,c.tag))}return Yg(i,d,p),zg(),!1}if(St)return s=ra.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==jp&&(i=Error(r(422),{cause:d}),Jc(ea(i,c)))):(d!==jp&&(s=Error(r(423),{cause:d}),Jc(ea(s,c))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=ea(d,c),p=og(i.stateNode,d,p),wg(i,p),an!==4&&(an=2)),!1;var b=Error(r(520),{cause:d});if(b=ea(b,c),bu===null?bu=[b]:bu.push(b),an!==4&&(an=2),s===null)return!0;d=ea(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=p&-p,c.lanes|=i,i=og(c.stateNode,d,i),wg(c,i),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xs===null||!xs.has(b))))return c.flags|=65536,p&=-p,c.lanes|=p,p=C_(p),R_(p,i,c,d),wg(c,p),!1}c=c.return}while(c!==null);return!1}var N_=Error(r(461)),Vn=!1;function $n(i,s,c,d){s.child=i===null?Ix(s,null,c,d):xo(s,i.child,c,d)}function M_(i,s,c,d,p){c=c.render;var b=s.ref;if("ref"in d){var S={};for(var j in d)j!=="ref"&&(S[j]=d[j])}else S=d;return Ao(s),d=Yp(i,s,c,S,b,p),j=qp(),i!==null&&!Vn?($p(i,s,p),Ai(i,s,p)):(St&&j&&Op(s),s.flags|=1,$n(i,s,d,p),s.child)}function k_(i,s,c,d,p){if(i===null){var b=c.type;return typeof b=="function"&&!Ng(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,P_(i,s,b,d,p)):(i=jf(c.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!gg(i,p)){var S=b.memoizedProps;if(c=c.compare,c=c!==null?c:Kc,c(S,d)&&i.ref===s.ref)return Ai(i,s,p)}return s.flags|=1,i=vs(b,d),i.ref=s.ref,i.return=s,s.child=i}function P_(i,s,c,d,p){if(i!==null){var b=i.memoizedProps;if(Kc(b,d)&&i.ref===s.ref)if(Vn=!1,s.pendingProps=d=b,gg(i,p))(i.flags&131072)!==0&&(Vn=!0);else return s.lanes=i.lanes,Ai(i,s,p)}return lg(i,s,c,d,p)}function O_(i,s,c){var d=s.pendingProps,p=d.children,b=(s.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(cu(i,s),d.mode==="hidden"||b){if((s.flags&128)!==0){if(d=S!==null?S.baseLanes|c:c,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return I_(i,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&_f(s,S!==null?S.cachePool:null),S!==null?jx(s,S):Lp(),Vx(s);else return s.lanes=s.childLanes=536870912,I_(i,s,S!==null?S.baseLanes|c:c,c)}else S!==null?(_f(s,S.cachePool),jx(s,S),ls(),s.memoizedState=null):(i!==null&&_f(s,null),Lp(),ls());return $n(i,s,p,c),s.child}function I_(i,s,c,d){var p=zp();return p=p===null?null:{parent:An._currentValue,pool:p},s.memoizedState={baseLanes:c,cachePool:p},i!==null&&_f(s,null),Lp(),Vx(s),i!==null&&uu(i,s,d,!0),null}function cu(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=2097664)}}function lg(i,s,c,d,p){return Ao(s),c=Yp(i,s,c,d,void 0,p),d=qp(),i!==null&&!Vn?($p(i,s,p),Ai(i,s,p)):(St&&d&&Op(s),s.flags|=1,$n(i,s,c,p),s.child)}function j_(i,s,c,d,p,b){return Ao(s),s.updateQueue=null,c=zx(s,d,c,p),Fx(i),d=qp(),i!==null&&!Vn?($p(i,s,b),Ai(i,s,b)):(St&&d&&Op(s),s.flags|=1,$n(i,s,c,b),s.child)}function V_(i,s,c,d,p){if(Ao(s),s.stateNode===null){var b=Tl,S=c.contextType;typeof S=="object"&&S!==null&&(b=ar(S)),b=new c(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=sg,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},xg(s),S=c.contextType,b.context=typeof S=="object"&&S!==null?ar(S):Tl,b.state=s.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(ig(s,c,S,d),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&sg.enqueueReplaceState(b,b.state,null),hu(s,d,b,p),fu(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){b=s.stateNode;var j=s.memoizedProps,z=So(c,j);b.props=z;var Q=b.context,ce=c.contextType;S=Tl,typeof ce=="object"&&ce!==null&&(S=ar(ce));var ye=c.getDerivedStateFromProps;ce=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||Q!==S)&&E_(s,b,d,S),fs=!1;var re=s.memoizedState;b.state=re,hu(s,d,b,p),fu(),Q=s.memoizedState,j||re!==Q||fs?(typeof ye=="function"&&(ig(s,c,ye,d),Q=s.memoizedState),(z=fs||w_(s,c,z,d,re,Q,S))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Q),b.props=d,b.state=Q,b.context=S,d=z):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,_g(i,s),S=s.memoizedProps,ce=So(c,S),b.props=ce,ye=s.pendingProps,re=b.context,Q=c.contextType,z=Tl,typeof Q=="object"&&Q!==null&&(z=ar(Q)),j=c.getDerivedStateFromProps,(Q=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==ye||re!==z)&&E_(s,b,d,z),fs=!1,re=s.memoizedState,b.state=re,hu(s,d,b,p),fu();var le=s.memoizedState;S!==ye||re!==le||fs||i!==null&&i.dependencies!==null&&kf(i.dependencies)?(typeof j=="function"&&(ig(s,c,j,d),le=s.memoizedState),(ce=fs||w_(s,c,ce,d,re,le,z)||i!==null&&i.dependencies!==null&&kf(i.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,le,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,le,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=le),b.props=d,b.state=le,b.context=z,d=ce):(typeof b.componentDidUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),d=!1)}return b=d,cu(i,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&d?(s.child=xo(s,i.child,null,p),s.child=xo(s,null,c,p)):$n(i,s,c,p),s.memoizedState=b.state,i=s.child):i=Ai(i,s,p),i}function L_(i,s,c,d){return Zc(),s.flags|=256,$n(i,s,c,d),s.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function ug(i){return{baseLanes:i,cachePool:Bx()}}function dg(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=oa),i}function U_(i,s,c){var d=s.pendingProps,p=!1,b=(s.flags&128)!==0,S;if((S=b)||(S=i!==null&&i.memoizedState===null?!1:(Dn.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(St){if(p?os(s):ls(),St){var j=qn,z;if(z=j){e:{for(z=j,j=Ya;z.nodeType!==8;){if(!j){j=null;break e}if(z=Ta(z.nextSibling),z===null){j=null;break e}}j=z}j!==null?(s.memoizedState={dehydrated:j,treeContext:yo!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},z=sa(18,null,null,0),z.stateNode=j,z.return=s,s.child=z,vr=s,qn=null,z=!0):z=!1}z||bo(s)}if(j=s.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return j.data==="$!"?s.lanes=16:s.lanes=536870912,null;Si(s)}return j=d.children,d=d.fallback,p?(ls(),p=s.mode,j=hg({mode:"hidden",children:j},p),d=Ro(d,p,c,null),j.return=s,d.return=s,j.sibling=d,s.child=j,p=s.child,p.memoizedState=ug(c),p.childLanes=dg(i,S,c),s.memoizedState=cg,d):(os(s),fg(s,j))}if(z=i.memoizedState,z!==null&&(j=z.dehydrated,j!==null)){if(b)s.flags&256?(os(s),s.flags&=-257,s=mg(i,s,c)):s.memoizedState!==null?(ls(),s.child=i.child,s.flags|=128,s=null):(ls(),p=d.fallback,j=s.mode,d=hg({mode:"visible",children:d.children},j),p=Ro(p,j,c,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,xo(s,i.child,null,c),d=s.child,d.memoizedState=ug(c),d.childLanes=dg(i,S,c),s.memoizedState=cg,s=p);else if(os(s),j.data==="$!"){if(S=j.nextSibling&&j.nextSibling.dataset,S)var Q=S.dgst;S=Q,d=Error(r(419)),d.stack="",d.digest=S,Jc({value:d,source:null,stack:null}),s=mg(i,s,c)}else if(Vn||uu(i,s,c,!1),S=(c&i.childLanes)!==0,Vn||S){if(S=zt,S!==null){if(d=c&-c,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(S.suspendedLanes|c))!==0?0:d,d!==0&&d!==z.retryLane)throw z.retryLane=d,ss(i,d),br(S,i,d),N_}j.data==="$?"||zg(),s=mg(i,s,c)}else j.data==="$?"?(s.flags|=128,s.child=i.child,s=kN.bind(null,i),j._reactRetry=s,s=null):(i=z.treeContext,qn=Ta(j.nextSibling),vr=s,St=!0,wa=null,Ya=!1,i!==null&&(ta[na++]=Ei,ta[na++]=Ti,ta[na++]=yo,Ei=i.id,Ti=i.overflow,yo=s),s=fg(s,d.children),s.flags|=4096);return s}return p?(ls(),p=d.fallback,j=s.mode,z=i.child,Q=z.sibling,d=vs(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&31457280,Q!==null?p=vs(Q,p):(p=Ro(p,j,c,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,j=i.child.memoizedState,j===null?j=ug(c):(z=j.cachePool,z!==null?(Q=An._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=Bx(),j={baseLanes:j.baseLanes|c,cachePool:z}),p.memoizedState=j,p.childLanes=dg(i,S,c),s.memoizedState=cg,d):(os(s),c=i.child,i=c.sibling,c=vs(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=c,s.memoizedState=null,c)}function fg(i,s){return s=hg({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function hg(i,s){return dw(i,s,0,null)}function mg(i,s,c){return xo(s,i.child,null,c),i=fg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function B_(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),vg(i.return,s,c)}function pg(i,s,c,d,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=p)}function F_(i,s,c){var d=s.pendingProps,p=d.revealOrder,b=d.tail;if($n(i,s,d.children,c),d=Dn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&B_(i,c,s);else if(i.tag===19)B_(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(ze(Dn,d),p){case"forwards":for(c=s.child,p=null;c!==null;)i=c.alternate,i!==null&&xf(i)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),pg(s,!1,p,c,b);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&xf(i)===null){s.child=p;break}i=p.sibling,p.sibling=c,c=p,p=i}pg(s,!0,c,null,b);break;case"together":pg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ai(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(uu(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=vs(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=vs(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function gg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&kf(i)))}function vN(i,s,c){switch(s.tag){case 3:Ge(s,s.stateNode.containerInfo),ds(s,An,i.memoizedState.cache),Zc();break;case 27:case 5:Bt(s);break;case 4:Ge(s,s.stateNode.containerInfo);break;case 10:ds(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(os(s),s.flags|=128,null):(c&s.child.childLanes)!==0?U_(i,s,c):(os(s),i=Ai(i,s,c),i!==null?i.sibling:null);os(s);break;case 19:var p=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(uu(i,s,c,!1),d=(c&s.childLanes)!==0),p){if(d)return F_(i,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ze(Dn,Dn.current),d)break;return null;case 22:case 23:return s.lanes=0,O_(i,s,c);case 24:ds(s,An,i.memoizedState.cache)}return Ai(i,s,c)}function z_(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Vn=!0;else{if(!gg(i,c)&&(s.flags&128)===0)return Vn=!1,vN(i,s,c);Vn=(i.flags&131072)!==0}else Vn=!1,St&&(s.flags&1048576)!==0&&Dx(s,pf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")Ng(d)?(i=So(d,i),s.tag=1,s=V_(null,s,d,i,c)):(s.tag=0,s=lg(null,s,d,i,c));else{if(d!=null){if(p=d.$$typeof,p===T){s.tag=11,s=M_(null,s,d,i,c);break e}else if(p===O){s.tag=14,s=k_(null,s,d,i,c);break e}}throw s=C(d)||d,Error(r(306,s,""))}}return s;case 0:return lg(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,p=So(d,s.pendingProps),V_(i,s,d,p,c);case 3:e:{if(Ge(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var b=s.pendingProps;p=s.memoizedState,d=p.element,_g(i,s),hu(s,b,null,c);var S=s.memoizedState;if(b=S.cache,ds(s,An,b),b!==p.cache&&bg(s,[An],c,!0),fu(),b=S.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=L_(i,s,b,c);break e}else if(b!==d){d=ea(Error(r(424)),s),Jc(d),s=L_(i,s,b,c);break e}else for(qn=Ta(s.stateNode.containerInfo.firstChild),vr=s,St=!0,wa=null,Ya=!0,c=Ix(s,null,b,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Zc(),b===d){s=Ai(i,s,c);break e}$n(i,s,b,c)}s=s.child}return s;case 26:return cu(i,s),i===null?(c=qw(s.type,null,s.pendingProps,null))?s.memoizedState=c:St||(c=s.type,i=s.pendingProps,d=Qf(Xe.current).createElement(c),d[Ie]=s,d[$e]=i,Gn(d,c,i),At(d),s.stateNode=d):s.memoizedState=qw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Bt(s),i===null&&St&&(d=s.stateNode=zw(s.type,s.pendingProps,Xe.current),vr=s,Ya=!0,qn=Ta(d.firstChild)),d=s.pendingProps.children,i!==null||St?$n(i,s,d,c):s.child=xo(s,null,d,c),cu(i,s),s.child;case 5:return i===null&&St&&((p=d=qn)&&(d=QN(d,s.type,s.pendingProps,Ya),d!==null?(s.stateNode=d,vr=s,qn=Ta(d.firstChild),Ya=!1,p=!0):p=!1),p||bo(s)),Bt(s),p=s.type,b=s.pendingProps,S=i!==null?i.memoizedProps:null,d=b.children,ny(p,b)?d=null:S!==null&&ny(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=Yp(i,s,dN,null,null,c),Cu._currentValue=p),cu(i,s),$n(i,s,d,c),s.child;case 6:return i===null&&St&&((i=c=qn)&&(c=KN(c,s.pendingProps,Ya),c!==null?(s.stateNode=c,vr=s,qn=null,i=!0):i=!1),i||bo(s)),null;case 13:return U_(i,s,c);case 4:return Ge(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=xo(s,null,d,c):$n(i,s,d,c),s.child;case 11:return M_(i,s,s.type,s.pendingProps,c);case 7:return $n(i,s,s.pendingProps,c),s.child;case 8:return $n(i,s,s.pendingProps.children,c),s.child;case 12:return $n(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,ds(s,s.type,d.value),$n(i,s,d.children,c),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ao(s),p=ar(p),d=d(p),s.flags|=1,$n(i,s,d,c),s.child;case 14:return k_(i,s,s.type,s.pendingProps,c);case 15:return P_(i,s,s.type,s.pendingProps,c);case 19:return F_(i,s,c);case 22:return O_(i,s,c);case 24:return Ao(s),d=ar(An),i===null?(p=zp(),p===null&&(p=zt,b=Bp(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=c),p=b),s.memoizedState={parent:d,cache:p},xg(s),ds(s,An,p)):((i.lanes&c)!==0&&(_g(i,s),hu(s,null,null,c),fu()),p=i.memoizedState,b=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ds(s,An,d)):(d=b.cache,ds(s,An,d),d!==p.cache&&bg(s,[An],c,!0))),$n(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var yg=Ce(null),Do=null,Ci=null;function ds(i,s,c){ze(yg,s._currentValue),s._currentValue=c}function Ri(i){i._currentValue=yg.current,Te(yg)}function vg(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function bg(i,s,c,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var S=p.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=p;for(var z=0;z<s.length;z++)if(j.context===s[z]){b.lanes|=c,j=b.alternate,j!==null&&(j.lanes|=c),vg(b.return,c,i),d||(S=null);break e}b=j.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=c,b=S.alternate,b!==null&&(b.lanes|=c),vg(S,c,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function uu(i,s,c,d){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var j=p.type;jr(p.pendingProps.value,S.value)||(i!==null?i.push(j):i=[j])}}else if(p===_e.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}p=p.return}i!==null&&bg(s,i,c,d),s.flags|=262144}function kf(i){for(i=i.firstContext;i!==null;){if(!jr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ao(i){Do=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ar(i){return H_(Do,i)}function Pf(i,s){return Do===null&&Ao(i),H_(i,s)}function H_(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Ci===null){if(i===null)throw Error(r(308));Ci=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ci=Ci.next=s;return c}var fs=!1;function xg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _g(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ms(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Zt&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=hf(i),Tx(i,null,c),s}return ff(i,d,s,c),hf(i)}function du(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194176)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}function wg(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?p=b=S:b=b.next=S,c=c.next}while(c!==null);b===null?p=b=s:b=b.next=s}else p=b=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Eg=!1;function fu(){if(Eg){var i=Nl;if(i!==null)throw i}}function hu(i,s,c,d){Eg=!1;var p=i.updateQueue;fs=!1;var b=p.firstBaseUpdate,S=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var z=j,Q=z.next;z.next=null,S===null?b=Q:S.next=Q,S=z;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==S&&(j===null?ce.firstBaseUpdate=Q:j.next=Q,ce.lastBaseUpdate=z))}if(b!==null){var ye=p.baseState;S=0,ce=Q=z=null,j=b;do{var re=j.lane&-536870913,le=re!==j.lane;if(le?(yt&re)===re:(d&re)===re){re!==0&&re===Rl&&(Eg=!0),ce!==null&&(ce=ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Be=i,et=j;re=s;var sn=c;switch(et.tag){case 1:if(Be=et.payload,typeof Be=="function"){ye=Be.call(sn,ye,re);break e}ye=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=et.payload,re=typeof Be=="function"?Be.call(sn,ye,re):Be,re==null)break e;ye=M({},ye,re);break e;case 2:fs=!0}}re=j.callback,re!==null&&(i.flags|=64,le&&(i.flags|=8192),le=p.callbacks,le===null?p.callbacks=[re]:le.push(re))}else le={lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(Q=ce=le,z=ye):ce=ce.next=le,S|=re;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;le=j,j=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ce===null&&(z=ye),p.baseState=z,p.firstBaseUpdate=Q,p.lastBaseUpdate=ce,b===null&&(p.shared.lanes=0),bs|=S,i.lanes=S,i.memoizedState=ye}}function Y_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function q_(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Y_(c[i],s)}function mu(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){d=void 0;var b=c.create,S=c.inst;d=b(),S.destroy=d}c=c.next}while(c!==p)}}catch(j){Ut(s,s.return,j)}}function ps(i,s,c){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var S=d.inst,j=S.destroy;if(j!==void 0){S.destroy=void 0,p=s;var z=c;try{j()}catch(Q){Ut(p,z,Q)}}}d=d.next}while(d!==b)}}catch(Q){Ut(s,s.return,Q)}}function $_(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{q_(s,c)}catch(d){Ut(i,i.return,d)}}}function G_(i,s,c){c.props=So(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Ut(i,s,d)}}function Co(i,s){try{var c=i.ref;if(c!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=d;break;default:p=d}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(b){Ut(i,s,b)}}function Vr(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){Ut(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){Ut(i,s,p)}else c.current=null}function Q_(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){Ut(i,i.return,p)}}function K_(i,s,c){try{var d=i.stateNode;HN(d,i.type,c,s),d[$e]=s}catch(p){Ut(i,i.return,p)}}function W_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Tg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sg(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Gf));else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Sg(i,s,c),i=i.sibling;i!==null;)Sg(i,s,c),i=i.sibling}function Of(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Of(i,s,c),i=i.sibling;i!==null;)Of(i,s,c),i=i.sibling}var Ni=!1,rn=!1,Dg=!1,X_=typeof WeakSet=="function"?WeakSet:Set,Ln=null,Z_=!1;function bN(i,s){if(i=i.containerInfo,ey=eh,i=px(i),Cp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var S=0,j=-1,z=-1,Q=0,ce=0,ye=i,re=null;t:for(;;){for(var le;ye!==c||p!==0&&ye.nodeType!==3||(j=S+p),ye!==b||d!==0&&ye.nodeType!==3||(z=S+d),ye.nodeType===3&&(S+=ye.nodeValue.length),(le=ye.firstChild)!==null;)re=ye,ye=le;for(;;){if(ye===i)break t;if(re===c&&++Q===p&&(j=S),re===b&&++ce===d&&(z=S),(le=ye.nextSibling)!==null)break;ye=re,re=ye.parentNode}ye=le}c=j===-1||z===-1?null:{start:j,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(ty={focusedElem:i,selectionRange:c},eh=!1,Ln=s;Ln!==null;)if(s=Ln,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ln=i;else for(;Ln!==null;){switch(s=Ln,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=s,p=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var Be=So(c.type,p,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Be,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(et){Ut(c,c.return,et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)iy(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":iy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ln=i;break}Ln=s.return}return Be=Z_,Z_=!1,Be}function J_(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ki(i,c),d&4&&mu(5,c);break;case 1:if(ki(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(j){Ut(c,c.return,j)}else{var p=So(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(j){Ut(c,c.return,j)}}d&64&&$_(c),d&512&&Co(c,c.return);break;case 3:if(ki(i,c),d&64&&(d=c.updateQueue,d!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{q_(d,i)}catch(j){Ut(c,c.return,j)}}break;case 26:ki(i,c),d&512&&Co(c,c.return);break;case 27:case 5:ki(i,c),s===null&&d&4&&Q_(c),d&512&&Co(c,c.return);break;case 12:ki(i,c);break;case 13:ki(i,c),d&4&&nw(i,c);break;case 22:if(p=c.memoizedState!==null||Ni,!p){s=s!==null&&s.memoizedState!==null||rn;var b=Ni,S=rn;Ni=p,(rn=s)&&!S?gs(i,c,(c.subtreeFlags&8772)!==0):ki(i,c),Ni=b,rn=S}d&512&&(c.memoizedProps.mode==="manual"?Co(c,c.return):Vr(c,c.return));break;default:ki(i,c)}}function ew(i){var s=i.alternate;s!==null&&(i.alternate=null,ew(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xn=null,Lr=!1;function Mi(i,s,c){for(c=c.child;c!==null;)tw(i,s,c),c=c.sibling}function tw(i,s,c){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(va,c)}catch{}switch(c.tag){case 26:rn||Vr(c,s),Mi(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:rn||Vr(c,s);var d=xn,p=Lr;for(xn=c.stateNode,Mi(i,s,c),c=c.stateNode,s=c.attributes;s.length;)c.removeAttributeNode(s[0]);Ir(c),xn=d,Lr=p;break;case 5:rn||Vr(c,s);case 6:p=xn;var b=Lr;if(xn=null,Mi(i,s,c),xn=p,Lr=b,xn!==null)if(Lr)try{i=xn,d=c.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(S){Ut(c,s,S)}else try{xn.removeChild(c.stateNode)}catch(S){Ut(c,s,S)}break;case 18:xn!==null&&(Lr?(s=xn,c=c.stateNode,s.nodeType===8?ay(s.parentNode,c):s.nodeType===1&&ay(s,c),ku(s)):ay(xn,c.stateNode));break;case 4:d=xn,p=Lr,xn=c.stateNode.containerInfo,Lr=!0,Mi(i,s,c),xn=d,Lr=p;break;case 0:case 11:case 14:case 15:rn||ps(2,c,s),rn||ps(4,c,s),Mi(i,s,c);break;case 1:rn||(Vr(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&G_(c,s,d)),Mi(i,s,c);break;case 21:Mi(i,s,c);break;case 22:rn||Vr(c,s),rn=(d=rn)||c.memoizedState!==null,Mi(i,s,c),rn=d;break;default:Mi(i,s,c)}}function nw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ku(i)}catch(c){Ut(s,s.return,c)}}function xN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new X_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new X_),s;default:throw Error(r(435,i.tag))}}function Ag(i,s){var c=xN(i);s.forEach(function(d){var p=PN.bind(null,i,d);c.has(d)||(c.add(d),d.then(p,p))})}function aa(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],b=i,S=s,j=S;e:for(;j!==null;){switch(j.tag){case 27:case 5:xn=j.stateNode,Lr=!1;break e;case 3:xn=j.stateNode.containerInfo,Lr=!0;break e;case 4:xn=j.stateNode.containerInfo,Lr=!0;break e}j=j.return}if(xn===null)throw Error(r(160));tw(b,S,p),xn=null,Lr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)rw(s,i),s=s.sibling}var Ea=null;function rw(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:aa(s,i),ia(i),d&4&&(ps(3,i,i.return),mu(3,i),ps(5,i,i.return));break;case 1:aa(s,i),ia(i),d&512&&(rn||c===null||Vr(c,c.return)),d&64&&Ni&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Ea;if(aa(s,i),ia(i),d&512&&(rn||c===null||Vr(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[pr]||b[Ie]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Gn(b,d,c),b[Ie]=i,At(b),d=b;break e;case"link":var S=Qw("link","href",p).get(d+(c.href||""));if(S){for(var j=0;j<S.length;j++)if(b=S[j],b.getAttribute("href")===(c.href==null?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(j,1);break t}}b=p.createElement(d),Gn(b,d,c),p.head.appendChild(b);break;case"meta":if(S=Qw("meta","content",p).get(d+(c.content||""))){for(j=0;j<S.length;j++)if(b=S[j],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(j,1);break t}}b=p.createElement(d),Gn(b,d,c),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[Ie]=i,At(b),d=b}i.stateNode=d}else Kw(p,i.type,i.stateNode);else i.stateNode=Gw(p,d,i.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?Kw(p,i.type,i.stateNode):Gw(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&K_(i,i.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){p=i.stateNode,b=i.memoizedProps;try{for(var z=p.firstChild;z;){var Q=z.nextSibling,ce=z.nodeName;z[pr]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||p.removeChild(z),z=Q}for(var ye=i.type,re=p.attributes;re.length;)p.removeAttributeNode(re[0]);Gn(p,ye,b),p[Ie]=i,p[$e]=b}catch(Be){Ut(i,i.return,Be)}}case 5:if(aa(s,i),ia(i),d&512&&(rn||c===null||Vr(c,c.return)),i.flags&32){p=i.stateNode;try{Kr(p,"")}catch(Be){Ut(i,i.return,Be)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,K_(i,p,c!==null?c.memoizedProps:p)),d&1024&&(Dg=!0);break;case 6:if(aa(s,i),ia(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Be){Ut(i,i.return,Be)}}break;case 3:if(Xf=null,p=Ea,Ea=Kf(s.containerInfo),aa(s,i),Ea=p,ia(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{ku(s.containerInfo)}catch(Be){Ut(i,i.return,Be)}Dg&&(Dg=!1,aw(i));break;case 4:d=Ea,Ea=Kf(i.stateNode.containerInfo),aa(s,i),ia(i),Ea=d;break;case 12:aa(s,i),ia(i);break;case 13:aa(s,i),ia(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(jg=Mn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ag(i,d)));break;case 22:if(d&512&&(rn||c===null||Vr(c,c.return)),z=i.memoizedState!==null,Q=c!==null&&c.memoizedState!==null,ce=Ni,ye=rn,Ni=ce||z,rn=ye||Q,aa(s,i),rn=ye,Ni=ce,ia(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,d&8192&&(s._visibility=z?s._visibility&-2:s._visibility|1,z&&(s=Ni||rn,c===null||Q||s||Ol(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(c=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(c===null){Q=c=s;try{if(p=Q.stateNode,z)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=Q.stateNode,j=Q.memoizedProps.style;var le=j!=null&&j.hasOwnProperty("display")?j.display:null;S.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Be){Ut(Q,Q.return,Be)}}}else if(s.tag===6){if(c===null){Q=s;try{Q.stateNode.nodeValue=z?"":Q.memoizedProps}catch(Be){Ut(Q,Q.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Ag(i,c))));break;case 19:aa(s,i),ia(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ag(i,d)));break;case 21:break;default:aa(s,i),ia(i)}}function ia(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var c=i.return;c!==null;){if(W_(c)){var d=c;break e}c=c.return}throw Error(r(160))}switch(d.tag){case 27:var p=d.stateNode,b=Tg(i);Of(i,b,p);break;case 5:var S=d.stateNode;d.flags&32&&(Kr(S,""),d.flags&=-33);var j=Tg(i);Of(i,j,S);break;case 3:case 4:var z=d.stateNode.containerInfo,Q=Tg(i);Sg(i,Q,z);break;default:throw Error(r(161))}}}catch(ce){Ut(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function aw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;aw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ki(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J_(i,s.alternate,s),s=s.sibling}function Ol(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Ol(s);break;case 1:Vr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&G_(s,s.return,c),Ol(s);break;case 26:case 27:case 5:Vr(s,s.return),Ol(s);break;case 22:Vr(s,s.return),s.memoizedState===null&&Ol(s);break;default:Ol(s)}i=i.sibling}}function gs(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,b=s,S=b.flags;switch(b.tag){case 0:case 11:case 15:gs(p,b,c),mu(4,b);break;case 1:if(gs(p,b,c),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ut(d,d.return,Q)}if(d=b,p=d.updateQueue,p!==null){var j=d.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Y_(z[p],j)}catch(Q){Ut(d,d.return,Q)}}c&&S&64&&$_(b),Co(b,b.return);break;case 26:case 27:case 5:gs(p,b,c),c&&d===null&&S&4&&Q_(b),Co(b,b.return);break;case 12:gs(p,b,c);break;case 13:gs(p,b,c),c&&S&4&&nw(p,b);break;case 22:b.memoizedState===null&&gs(p,b,c),Co(b,b.return);break;default:gs(p,b,c)}s=s.sibling}}function Cg(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&au(c))}function Rg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&au(i))}function ys(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iw(i,s,c,d),s=s.sibling}function iw(i,s,c,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ys(i,s,c,d),p&2048&&mu(9,s);break;case 3:ys(i,s,c,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&au(i)));break;case 12:if(p&2048){ys(i,s,c,d),i=s.stateNode;try{var b=s.memoizedProps,S=b.id,j=b.onPostCommit;typeof j=="function"&&j(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ut(s,s.return,z)}}else ys(i,s,c,d);break;case 23:break;case 22:b=s.stateNode,s.memoizedState!==null?b._visibility&4?ys(i,s,c,d):pu(i,s):b._visibility&4?ys(i,s,c,d):(b._visibility|=4,Il(i,s,c,d,(s.subtreeFlags&10256)!==0)),p&2048&&Cg(s.alternate,s);break;case 24:ys(i,s,c,d),p&2048&&Rg(s.alternate,s);break;default:ys(i,s,c,d)}}function Il(i,s,c,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,S=s,j=c,z=d,Q=S.flags;switch(S.tag){case 0:case 11:case 15:Il(b,S,j,z,p),mu(8,S);break;case 23:break;case 22:var ce=S.stateNode;S.memoizedState!==null?ce._visibility&4?Il(b,S,j,z,p):pu(b,S):(ce._visibility|=4,Il(b,S,j,z,p)),p&&Q&2048&&Cg(S.alternate,S);break;case 24:Il(b,S,j,z,p),p&&Q&2048&&Rg(S.alternate,S);break;default:Il(b,S,j,z,p)}s=s.sibling}}function pu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,p=d.flags;switch(d.tag){case 22:pu(c,d),p&2048&&Cg(d.alternate,d);break;case 24:pu(c,d),p&2048&&Rg(d.alternate,d);break;default:pu(c,d)}s=s.sibling}}var gu=8192;function jl(i){if(i.subtreeFlags&gu)for(i=i.child;i!==null;)sw(i),i=i.sibling}function sw(i){switch(i.tag){case 26:jl(i),i.flags&gu&&i.memoizedState!==null&&lM(Ea,i.memoizedState,i.memoizedProps);break;case 5:jl(i);break;case 3:case 4:var s=Ea;Ea=Kf(i.stateNode.containerInfo),jl(i),Ea=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=gu,gu=16777216,jl(i),gu=s):jl(i));break;default:jl(i)}}function ow(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function yu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Ln=d,cw(d,i)}ow(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lw(i),i=i.sibling}function lw(i){switch(i.tag){case 0:case 11:case 15:yu(i),i.flags&2048&&ps(9,i,i.return);break;case 3:yu(i);break;case 12:yu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,If(i)):yu(i);break;default:yu(i)}}function If(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Ln=d,cw(d,i)}ow(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ps(8,s,s.return),If(s);break;case 22:c=s.stateNode,c._visibility&4&&(c._visibility&=-5,If(s));break;default:If(s)}i=i.sibling}}function cw(i,s){for(;Ln!==null;){var c=Ln;switch(c.tag){case 0:case 11:case 15:ps(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:au(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Ln=d;else e:for(c=i;Ln!==null;){d=Ln;var p=d.sibling,b=d.return;if(ew(d),d===c){Ln=null;break e}if(p!==null){p.return=b,Ln=p;break e}Ln=b}}}function _N(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,s,c,d){return new _N(i,s,c,d)}function Ng(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vs(i,s){var c=i.alternate;return c===null?(c=sa(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&31457280,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function uw(i,s){i.flags&=31457282;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function jf(i,s,c,d,p,b){var S=0;if(d=i,typeof i=="function")Ng(i)&&(S=1);else if(typeof i=="string")S=sM(i,c,dt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Ro(c.children,p,b,s);case h:S=8,p|=24;break;case y:return i=sa(12,c,s,p|2),i.elementType=y,i.lanes=b,i;case A:return i=sa(13,c,s,p),i.elementType=A,i.lanes=b,i;case D:return i=sa(19,c,s,p),i.elementType=D,i.lanes=b,i;case F:return dw(c,p,b,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case w:S=10;break e;case x:S=9;break e;case T:S=11;break e;case O:S=14;break e;case U:S=16,d=null;break e}S=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=sa(S,c,s,p),s.elementType=i,s.type=d,s.lanes=b,s}function Ro(i,s,c,d){return i=sa(7,i,d,s),i.lanes=c,i}function dw(i,s,c,d){i=sa(22,i,d,s),i.elementType=F,i.lanes=c;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var S=ss(b,2);S!==null&&(p._pendingVisibility|=2,br(S,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var S=ss(b,2);S!==null&&(p._pendingVisibility&=-3,br(S,b,2))}}};return i.stateNode=p,i}function Mg(i,s,c){return i=sa(6,i,null,s),i.lanes=c,i}function kg(i,s,c){return s=sa(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Pi(i){i.flags|=4}function fw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ww(s)){if(s=ra.current,s!==null&&((yt&4194176)===yt?qa!==null:(yt&62914560)!==yt&&(yt&536870912)===0||s!==qa))throw tu=Vp,Rx;i.flags|=8192}}function Vf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?K():536870912,i.lanes|=s,Ll|=s)}function vu(i,s){if(!St)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&31457280,d|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function wN(i,s,c){var d=s.pendingProps;switch(Ip(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return Xt(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ri(An),ot(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Xc(s)?Pi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wa!==null&&(Bg(wa),wa=null))),Xt(s),null;case 26:return c=s.memoizedState,i===null?(Pi(s),c!==null?(Xt(s),fw(s,c)):(Xt(s),s.flags&=-16777217)):c?c!==i.memoizedState?(Pi(s),Xt(s),fw(s,c)):(Xt(s),s.flags&=-16777217):(i.memoizedProps!==d&&Pi(s),Xt(s),s.flags&=-16777217),null;case 27:fr(s),c=Xe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}i=dt.current,Xc(s)?Ax(s):(i=zw(p,d,c),s.stateNode=i,Pi(s))}return Xt(s),null;case 5:if(fr(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}if(i=dt.current,Xc(s))Ax(s);else{switch(p=Qf(Xe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}i[Ie]=s,i[$e]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Gn(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pi(s)}}return Xt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xe.current,Xc(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,p=vr,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Ie]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||jw(i.nodeValue,c)),i||bo(s)}else i=Qf(i).createTextNode(d),i[Ie]=s,s.stateNode=i}return Xt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Xc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ie]=s}else Zc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),p=!1}else wa!==null&&(Bg(wa),wa=null),p=!0;if(!p)return s.flags&256?(Si(s),s):(Si(s),null)}if(Si(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),Vf(s,s.updateQueue),Xt(s),null;case 4:return ot(),i===null&&Xg(s.stateNode.containerInfo),Xt(s),null;case 10:return Ri(s.type),Xt(s),null;case 19:if(Te(Dn),p=s.memoizedState,p===null)return Xt(s),null;if(d=(s.flags&128)!==0,b=p.rendering,b===null)if(d)vu(p,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=xf(i),b!==null){for(s.flags|=128,vu(p,!1),i=b.updateQueue,s.updateQueue=i,Vf(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)uw(c,i),c=c.sibling;return ze(Dn,Dn.current&1|2),s.child}i=i.sibling}p.tail!==null&&Mn()>Lf&&(s.flags|=128,d=!0,vu(p,!1),s.lanes=4194304)}else{if(!d)if(i=xf(b),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Vf(s,i),vu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!St)return Xt(s),null}else 2*Mn()-p.renderingStartTime>Lf&&c!==536870912&&(s.flags|=128,d=!0,vu(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(i=p.last,i!==null?i.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Mn(),s.sibling=null,i=Dn.current,ze(Dn,d?i&1|2:i&1),s):(Xt(s),null);case 22:case 23:return Si(s),Up(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),c=s.updateQueue,c!==null&&Vf(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&Te(_o),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ri(An),Xt(s),null;case 25:return null}throw Error(r(156,s.tag))}function EN(i,s){switch(Ip(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ri(An),ot(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return fr(s),null;case 13:if(Si(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Zc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Te(Dn),null;case 4:return ot(),null;case 10:return Ri(s.type),null;case 22:case 23:return Si(s),Up(),i!==null&&Te(_o),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ri(An),null;case 25:return null;default:return null}}function hw(i,s){switch(Ip(s),s.tag){case 3:Ri(An),ot();break;case 26:case 27:case 5:fr(s);break;case 4:ot();break;case 13:Si(s);break;case 19:Te(Dn);break;case 10:Ri(s.type);break;case 22:case 23:Si(s),Up(),i!==null&&Te(_o);break;case 24:Ri(An)}}var TN={getCacheForType:function(i){var s=ar(An),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},SN=typeof WeakMap=="function"?WeakMap:Map,Zt=0,zt=null,ft=null,yt=0,Ht=0,Ur=null,Oi=!1,Vl=!1,Pg=!1,Ii=0,an=0,bs=0,No=0,Og=0,oa=0,Ll=0,bu=null,Ga=null,Ig=!1,jg=0,Lf=1/0,Uf=null,xs=null,Bf=!1,Mo=null,xu=0,Vg=0,Lg=null,_u=0,Ug=null;function Br(){if((Zt&2)!==0&&yt!==0)return yt&-yt;if(R.T!==null){var i=Rl;return i!==0?i:Gg()}return Ue()}function mw(){oa===0&&(oa=(yt&536870912)===0||St?q():536870912);var i=ra.current;return i!==null&&(i.flags|=32),oa}function br(i,s,c){(i===zt&&Ht===2||i.cancelPendingCommit!==null)&&(Ul(i,0),ji(i,yt,oa,!1)),fe(i,c),((Zt&2)===0||i!==zt)&&(i===zt&&((Zt&2)===0&&(No|=c),an===4&&ji(i,yt,oa,!1)),Qa(i))}function pw(i,s,c){if((Zt&6)!==0)throw Error(r(327));var d=!c&&(s&60)===0&&(s&i.expiredLanes)===0||Oa(i,s),p=d?CN(i,s):Hg(i,s,!0),b=d;do{if(p===0){Vl&&!d&&ji(i,s,0,!1);break}else if(p===6)ji(i,s,0,!Oi);else{if(c=i.current.alternate,b&&!DN(c)){p=Hg(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var j=i;p=bu;var z=j.current.memoizedState.isDehydrated;if(z&&(Ul(j,S).flags|=256),S=Hg(j,S,!1),S!==2){if(Pg&&!z){j.errorRecoveryDisabledLanes|=b,No|=b,p=4;break e}b=Ga,Ga=p,b!==null&&Bg(b)}p=S}if(b=!1,p!==2)continue}}if(p===1){Ul(i,0),ji(i,s,0,!0);break}e:{switch(d=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){ji(d,s,oa,!Oi);break e}break;case 2:Ga=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=c,d.finishedLanes=s,(s&62914560)===s&&(b=jg+300-Mn(),10<b)){if(ji(d,s,oa,!Oi),Hn(d,0)!==0)break e;d.timeoutHandle=Uw(gw.bind(null,d,c,Ga,Uf,Ig,s,oa,No,Ll,Oi,2,-0,0),b);break e}gw(d,c,Ga,Uf,Ig,s,oa,No,Ll,Oi,0,-0,0)}}break}while(!0);Qa(i)}function Bg(i){Ga===null?Ga=i:Ga.push.apply(Ga,i)}function gw(i,s,c,d,p,b,S,j,z,Q,ce,ye,re){var le=s.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:oM},sw(s),s=cM(),s!==null)){i.cancelPendingCommit=s(Ew.bind(null,i,c,d,p,S,j,z,1,ye,re)),ji(i,b,S,!Q);return}Ew(i,c,d,p,S,j,z,ce,ye,re)}function DN(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],b=p.getSnapshot;p=p.value;try{if(!jr(b(),p))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(i,s,c,d){s&=~Og,s&=~No,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var b=31-Pn(p),S=1<<b;d[b]=-1,p&=~S}c!==0&&He(i,c,s)}function Ff(){return(Zt&6)===0?(wu(0),!1):!0}function Fg(){if(ft!==null){if(Ht===0)var i=ft.return;else i=ft,Ci=Do=null,Gp(i),Al=null,nu=0,i=ft;for(;i!==null;)hw(i.alternate,i),i=i.return;ft=null}}function Ul(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,qN(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Fg(),zt=i,ft=c=vs(i.current,null),yt=s,Ht=0,Ur=null,Oi=!1,Vl=Oa(i,s),Pg=!1,Ll=oa=Og=No=bs=an=0,Ga=bu=null,Ig=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-Pn(d),b=1<<p;s|=i[p],d&=~b}return Ii=s,df(),c}function yw(i,s){it=null,R.H=$a,s===eu?(s=kx(),Ht=3):s===Rx?(s=kx(),Ht=4):Ht=s===N_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ur=s,ft===null&&(an=1,Mf(i,ea(s,i.current)))}function vw(){var i=R.H;return R.H=$a,i===null?$a:i}function bw(){var i=R.A;return R.A=TN,i}function zg(){an=4,Oi||(yt&4194176)!==yt&&ra.current!==null||(Vl=!0),(bs&134217727)===0&&(No&134217727)===0||zt===null||ji(zt,yt,oa,!1)}function Hg(i,s,c){var d=Zt;Zt|=2;var p=vw(),b=bw();(zt!==i||yt!==s)&&(Uf=null,Ul(i,s)),s=!1;var S=an;e:do try{if(Ht!==0&&ft!==null){var j=ft,z=Ur;switch(Ht){case 8:Fg(),S=6;break e;case 3:case 2:case 6:ra.current===null&&(s=!0);var Q=Ht;if(Ht=0,Ur=null,Bl(i,j,z,Q),c&&Vl){S=0;break e}break;default:Q=Ht,Ht=0,Ur=null,Bl(i,j,z,Q)}}AN(),S=an;break}catch(ce){yw(i,ce)}while(!0);return s&&i.shellSuspendCounter++,Ci=Do=null,Zt=d,R.H=p,R.A=b,ft===null&&(zt=null,yt=0,df()),S}function AN(){for(;ft!==null;)xw(ft)}function CN(i,s){var c=Zt;Zt|=2;var d=vw(),p=bw();zt!==i||yt!==s?(Uf=null,Lf=Mn()+500,Ul(i,s)):Vl=Oa(i,s);e:do try{if(Ht!==0&&ft!==null){s=ft;var b=Ur;t:switch(Ht){case 1:Ht=0,Ur=null,Bl(i,s,b,1);break;case 2:if(Nx(b)){Ht=0,Ur=null,_w(s);break}s=function(){Ht===2&&zt===i&&(Ht=7),Qa(i)},b.then(s,s);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:Nx(b)?(Ht=0,Ur=null,_w(s)):(Ht=0,Ur=null,Bl(i,s,b,7));break;case 5:var S=null;switch(ft.tag){case 26:S=ft.memoizedState;case 5:case 27:var j=ft;if(!S||Ww(S)){Ht=0,Ur=null;var z=j.sibling;if(z!==null)ft=z;else{var Q=j.return;Q!==null?(ft=Q,zf(Q)):ft=null}break t}}Ht=0,Ur=null,Bl(i,s,b,5);break;case 6:Ht=0,Ur=null,Bl(i,s,b,6);break;case 8:Fg(),an=6;break e;default:throw Error(r(462))}}RN();break}catch(ce){yw(i,ce)}while(!0);return Ci=Do=null,R.H=d,R.A=p,Zt=c,ft!==null?0:(zt=null,yt=0,df(),an)}function RN(){for(;ft!==null&&!kr();)xw(ft)}function xw(i){var s=z_(i.alternate,i,Ii);i.memoizedProps=i.pendingProps,s===null?zf(i):ft=s}function _w(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=j_(c,s,s.pendingProps,s.type,void 0,yt);break;case 11:s=j_(c,s,s.pendingProps,s.type.render,s.ref,yt);break;case 5:Gp(s);default:hw(c,s),s=ft=uw(s,Ii),s=z_(c,s,Ii)}i.memoizedProps=i.pendingProps,s===null?zf(i):ft=s}function Bl(i,s,c,d){Ci=Do=null,Gp(s),Al=null,nu=0;var p=s.return;try{if(yN(i,p,s,c,yt)){an=1,Mf(i,ea(c,i.current)),ft=null;return}}catch(b){if(p!==null)throw ft=p,b;an=1,Mf(i,ea(c,i.current)),ft=null;return}s.flags&32768?(St||d===1?i=!0:Vl||(yt&536870912)!==0?i=!1:(Oi=i=!0,(d===2||d===3||d===6)&&(d=ra.current,d!==null&&d.tag===13&&(d.flags|=16384))),ww(s,i)):zf(s)}function zf(i){var s=i;do{if((s.flags&32768)!==0){ww(s,Oi);return}i=s.return;var c=wN(s.alternate,s,Ii);if(c!==null){ft=c;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=i}while(s!==null);an===0&&(an=5)}function ww(i,s){do{var c=EN(i.alternate,i);if(c!==null){c.flags&=32767,ft=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){ft=i;return}ft=i=c}while(i!==null);an=6,ft=null}function Ew(i,s,c,d,p,b,S,j,z,Q){var ce=R.T,ye=ge.p;try{ge.p=2,R.T=null,NN(i,s,c,d,ye,p,b,S,j,z,Q)}finally{R.T=ce,ge.p=ye}}function NN(i,s,c,d,p,b,S,j){do Fl();while(Mo!==null);if((Zt&6)!==0)throw Error(r(327));var z=i.finishedWork;if(d=i.finishedLanes,z===null)return null;if(i.finishedWork=null,i.finishedLanes=0,z===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Q=z.lanes|z.childLanes;if(Q|=kp,De(i,d,Q,b,S,j),i===zt&&(ft=zt=null,yt=0),(z.subtreeFlags&10256)===0&&(z.flags&10256)===0||Bf||(Bf=!0,Vg=Q,Lg=c,ON(Or,function(){return Fl(),null})),c=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||c?(c=R.T,R.T=null,b=ge.p,ge.p=2,S=Zt,Zt|=4,bN(i,z),rw(z,i),eN(ty,i.containerInfo),eh=!!ey,ty=ey=null,i.current=z,J_(i,z.alternate,z),Sr(),Zt=S,ge.p=b,R.T=c):i.current=z,Bf?(Bf=!1,Mo=i,xu=d):Tw(i,Q),Q=i.pendingLanes,Q===0&&(xs=null),es(z.stateNode),Qa(i),s!==null)for(p=i.onRecoverableError,z=0;z<s.length;z++)Q=s[z],p(Q.value,{componentStack:Q.stack});return(xu&3)!==0&&Fl(),Q=i.pendingLanes,(d&4194218)!==0&&(Q&42)!==0?i===Ug?_u++:(_u=0,Ug=i):_u=0,wu(0),null}function Tw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,au(s)))}function Fl(){if(Mo!==null){var i=Mo,s=Vg;Vg=0;var c=Ve(xu),d=R.T,p=ge.p;try{if(ge.p=32>c?32:c,R.T=null,Mo===null)var b=!1;else{c=Lg,Lg=null;var S=Mo,j=xu;if(Mo=null,xu=0,(Zt&6)!==0)throw Error(r(331));var z=Zt;if(Zt|=4,lw(S.current),iw(S,S.current,j,c),Zt=z,wu(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(va,S)}catch{}b=!0}return b}finally{ge.p=p,R.T=d,Tw(i,s)}}return!1}function Sw(i,s,c){s=ea(c,s),s=og(i.stateNode,s,2),i=ms(i,s,2),i!==null&&(fe(i,2),Qa(i))}function Ut(i,s,c){if(i.tag===3)Sw(i,i,c);else for(;s!==null;){if(s.tag===3){Sw(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xs===null||!xs.has(d))){i=ea(c,i),c=C_(2),d=ms(s,c,2),d!==null&&(R_(c,d,s,i),fe(d,2),Qa(d));break}}s=s.return}}function Yg(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new SN;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(Pg=!0,p.add(c),i=MN.bind(null,i,s,c),s.then(i,i))}function MN(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,zt===i&&(yt&c)===c&&(an===4||an===3&&(yt&62914560)===yt&&300>Mn()-jg?(Zt&2)===0&&Ul(i,0):Og|=c,Ll===yt&&(Ll=0)),Qa(i)}function Dw(i,s){s===0&&(s=K()),i=ss(i,s),i!==null&&(fe(i,s),Qa(i))}function kN(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Dw(i,c)}function PN(i,s){var c=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),Dw(i,c)}function ON(i,s){return hr(i,s)}var Hf=null,zl=null,qg=!1,Yf=!1,$g=!1,ko=0;function Qa(i){i!==zl&&i.next===null&&(zl===null?Hf=zl=i:zl=zl.next=i),Yf=!0,qg||(qg=!0,jN(IN))}function wu(i,s){if(!$g&&Yf){$g=!0;do for(var c=!1,d=Hf;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var S=d.suspendedLanes,j=d.pingedLanes;b=(1<<31-Pn(42|i)+1)-1,b&=p&~(S&~j),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(c=!0,Rw(d,b))}else b=yt,b=Hn(d,d===zt?b:0),(b&3)===0||Oa(d,b)||(c=!0,Rw(d,b));d=d.next}while(c);$g=!1}}function IN(){Yf=qg=!1;var i=0;ko!==0&&(YN()&&(i=ko),ko=0);for(var s=Mn(),c=null,d=Hf;d!==null;){var p=d.next,b=Aw(d,s);b===0?(d.next=null,c===null?Hf=p:c.next=p,p===null&&(zl=c)):(c=d,(i!==0||(b&3)!==0)&&(Yf=!0)),d=p}wu(i)}function Aw(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var S=31-Pn(b),j=1<<S,z=p[S];z===-1?((j&c)===0||(j&d)!==0)&&(p[S]=ts(j,s)):z<=s&&(i.expiredLanes|=j),b&=~j}if(s=zt,c=yt,c=Hn(i,i===s?c:0),d=i.callbackNode,c===0||i===s&&Ht===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Qt(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Oa(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&Qt(d),Ve(c)){case 2:case 8:c=cn;break;case 32:c=Or;break;case 268435456:c=Dr;break;default:c=Or}return d=Cw.bind(null,i),c=hr(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&Qt(d),i.callbackPriority=2,i.callbackNode=null,2}function Cw(i,s){var c=i.callbackNode;if(Fl()&&i.callbackNode!==c)return null;var d=yt;return d=Hn(i,i===zt?d:0),d===0?null:(pw(i,d,s),Aw(i,Mn()),i.callbackNode!=null&&i.callbackNode===c?Cw.bind(null,i):null)}function Rw(i,s){if(Fl())return null;pw(i,s,!0)}function jN(i){$N(function(){(Zt&6)!==0?hr(Pt,i):i()})}function Gg(){return ko===0&&(ko=q()),ko}function Nw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function Mw(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function VN(i,s,c,d,p){if(s==="submit"&&c&&c.stateNode===p){var b=Nw((p[$e]||null).action),S=d.submitter;S&&(s=(s=S[$e]||null)?Nw(s.formAction):S.getAttribute("formAction"),s!==null&&(b=s,S=null));var j=new hl("action","action",null,d,p);i.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ko!==0){var z=S?Mw(p,S):new FormData(p);ng(c,{pending:!0,data:z,method:p.method,action:b},null,z)}}else typeof b=="function"&&(j.preventDefault(),z=S?Mw(p,S):new FormData(p),ng(c,{pending:!0,data:z,method:p.method,action:b},b,z))},currentTarget:p}]})}}for(var Qg=0;Qg<Ex.length;Qg++){var Kg=Ex[Qg],LN=Kg.toLowerCase(),UN=Kg[0].toUpperCase()+Kg.slice(1);_a(LN,"on"+UN)}_a(vx,"onAnimationEnd"),_a(bx,"onAnimationIteration"),_a(xx,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(nN,"onTransitionRun"),_a(rN,"onTransitionStart"),_a(aN,"onTransitionCancel"),_a(_x,"onTransitionEnd"),Ct("onMouseEnter",["mouseout","mouseover"]),Ct("onMouseLeave",["mouseout","mouseover"]),Ct("onPointerEnter",["pointerout","pointerover"]),Ct("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function kw(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],p=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var S=d.length-1;0<=S;S--){var j=d[S],z=j.instance,Q=j.currentTarget;if(j=j.listener,z!==b&&p.isPropagationStopped())break e;b=j,p.currentTarget=Q;try{b(p)}catch(ce){Nf(ce)}p.currentTarget=null,b=z}else for(S=0;S<d.length;S++){if(j=d[S],z=j.instance,Q=j.currentTarget,j=j.listener,z!==b&&p.isPropagationStopped())break e;b=j,p.currentTarget=Q;try{b(p)}catch(ce){Nf(ce)}p.currentTarget=null,b=z}}}}function mt(i,s){var c=s[Kt];c===void 0&&(c=s[Kt]=new Set);var d=i+"__bubble";c.has(d)||(Pw(s,i,2,!1),c.add(d))}function Wg(i,s,c){var d=0;s&&(d|=4),Pw(c,i,d,s)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Xg(i){if(!i[qf]){i[qf]=!0,Ia.forEach(function(c){c!=="selectionchange"&&(BN.has(c)||Wg(c,!1,i),Wg(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[qf]||(s[qf]=!0,Wg("selectionchange",!1,s))}}function Pw(i,s,c,d){switch(n1(s)){case 2:var p=fM;break;case 8:p=hM;break;default:p=uy}c=p.bind(null,s,c,i),p=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,c,{capture:!0,passive:p}):i.addEventListener(s,c,!0):p!==void 0?i.addEventListener(s,c,{passive:p}):i.addEventListener(s,c,!1)}function Zg(i,s,c,d,p){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var j=d.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;S=S.return}for(;j!==null;){if(S=un(j),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){d=b=S;continue e}j=j.parentNode}}d=d.return}Kd(function(){var Q=b,ce=fl(c),ye=[];e:{var re=wx.get(i);if(re!==void 0){var le=hl,Be=i;switch(i){case"keypress":if(Ua(c)===0)break e;case"keydown":case"keyup":le=bl;break;case"focusin":Be="focus",le=gl;break;case"focusout":Be="blur",le=gl;break;case"beforeblur":case"afterblur":le=gl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=rf;break;case vx:case bx:case xx:le=yl;break;case _x:le=sf;break;case"scroll":case"scrollend":le=Wd;break;case"wheel":le=xl;break;case"copy":case"cut":case"paste":le=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Gc;break;case"toggle":case"beforetoggle":le=lf}var et=(s&4)!==0,sn=!et&&(i==="scroll"||i==="scrollend"),X=et?re!==null?re+"Capture":null:re;et=[];for(var G=Q,te;G!==null;){var he=G;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||X===null||(he=oo(G,X),he!=null&&et.push(Tu(G,he,te))),sn)break;G=G.return}0<et.length&&(re=new le(re,Be,null,c,ce),ye.push({event:re,listeners:et}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",re&&c!==Wr&&(Be=c.relatedTarget||c.fromElement)&&(un(Be)||Be[Et]))break e;if((le||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,le?(Be=c.relatedTarget||c.toElement,le=Q,Be=Be?un(Be):null,Be!==null&&(sn=ne(Be),et=Be.tag,Be!==sn||et!==5&&et!==27&&et!==6)&&(Be=null)):(le=null,Be=Q),le!==Be)){if(et=Zr,he="onMouseLeave",X="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(et=Gc,he="onPointerLeave",X="onPointerEnter",G="pointer"),sn=le==null?re:$r(le),te=Be==null?re:$r(Be),re=new et(he,G+"leave",le,c,ce),re.target=sn,re.relatedTarget=te,he=null,un(ce)===Q&&(et=new et(X,G+"enter",Be,c,ce),et.target=te,et.relatedTarget=sn,he=et),sn=he,le&&Be)t:{for(et=le,X=Be,G=0,te=et;te;te=Hl(te))G++;for(te=0,he=X;he;he=Hl(he))te++;for(;0<G-te;)et=Hl(et),G--;for(;0<te-G;)X=Hl(X),te--;for(;G--;){if(et===X||X!==null&&et===X.alternate)break t;et=Hl(et),X=Hl(X)}et=null}else et=null;le!==null&&Ow(ye,re,le,et,!1),Be!==null&&sn!==null&&Ow(ye,sn,Be,et,!0)}}e:{if(re=Q?$r(Q):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var je=ox;else if(Sn(re))if(lx)je=ZR;else{je=WR;var lt=KR}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?Q&&Bc(Q.elementType)&&(je=ox):je=XR;if(je&&(je=je(i,Q))){wi(ye,je,c,ce);break e}lt&&lt(i,re,Q),i==="focusout"&&Q&&re.type==="number"&&Q.memoizedProps.value!=null&&dl(re,"number",re.value)}switch(lt=Q?$r(Q):window,i){case"focusin":(Sn(lt)||lt.contentEditable==="true")&&(_l=lt,Rp=Q,Wc=null);break;case"focusout":Wc=Rp=_l=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,gx(ye,c,ce);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":gx(ye,c,ce)}var Ye;if(za)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else pt?oe(i,c)&&(Qe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(E&&c.locale!=="ko"&&(pt||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&pt&&(Ye=zc()):(La=ce,is="value"in La?La.value:La.textContent,pt=!0)),lt=$f(Q,Qe),0<lt.length&&(Qe=new qc(Qe,i,null,c,ce),ye.push({event:Qe,listeners:lt}),Ye?Qe.data=Ye:(Ye=Ee(c),Ye!==null&&(Qe.data=Ye)))),(Ye=_?Tn(i,c):gt(i,c))&&(Qe=$f(Q,"onBeforeInput"),0<Qe.length&&(lt=new qc("onBeforeInput","beforeinput",null,c,ce),ye.push({event:lt,listeners:Qe}),lt.data=Ye)),VN(ye,i,Q,c,ce)}kw(ye,s)})}function Tu(i,s,c){return{instance:i,listener:s,currentTarget:c}}function $f(i,s){for(var c=s+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=oo(i,c),p!=null&&d.unshift(Tu(i,p,b)),p=oo(i,s),p!=null&&d.push(Tu(i,p,b))),i=i.return}return d}function Hl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ow(i,s,c,d,p){for(var b=s._reactName,S=[];c!==null&&c!==d;){var j=c,z=j.alternate,Q=j.stateNode;if(j=j.tag,z!==null&&z===d)break;j!==5&&j!==26&&j!==27||Q===null||(z=Q,p?(Q=oo(c,b),Q!=null&&S.unshift(Tu(c,Q,z))):p||(Q=oo(c,b),Q!=null&&S.push(Tu(c,Q,z)))),c=c.return}S.length!==0&&i.push({event:s,listeners:S})}var FN=/\r\n?/g,zN=/\u0000|\uFFFD/g;function Iw(i){return(typeof i=="string"?i:""+i).replace(FN,`
`).replace(zN,"")}function jw(i,s){return s=Iw(s),Iw(i)===s}function Gf(){}function Vt(i,s,c,d,p,b){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Kr(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Kr(i,""+d);break;case"className":ns(i,"class",d);break;case"tabIndex":ns(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(i,c,d);break;case"style":Qd(i,d,b);break;case"data":if(s!=="object"){ns(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Va(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&Vt(i,s,"name",p.name,p,null),Vt(i,s,"formEncType",p.formEncType,p,null),Vt(i,s,"formMethod",p.formMethod,p,null),Vt(i,s,"formTarget",p.formTarget,p,null)):(Vt(i,s,"encType",p.encType,p,null),Vt(i,s,"method",p.method,p,null),Vt(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Va(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=Gf);break;case"onScroll":d!=null&&mt("scroll",i);break;case"onScrollEnd":d!=null&&mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Va(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":mt("beforetoggle",i),mt("toggle",i),ja(i,"popover",d);break;case"xlinkActuate":Qr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Qr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Qr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Qr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Qr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Qr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ja(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=wp.get(c)||c,ja(i,c,d))}}function Jg(i,s,c,d,p,b){switch(c){case"style":Qd(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Kr(i,d):(typeof d=="number"||typeof d=="bigint")&&Kr(i,""+d);break;case"onScroll":d!=null&&mt("scroll",i);break;case"onScrollEnd":d!=null&&mt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),s=c.slice(2,p?c.length-7:void 0),b=i[$e]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,p);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):ja(i,c,d)}}}function Gn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",i),mt("load",i);var d=!1,p=!1,b;for(b in c)if(c.hasOwnProperty(b)){var S=c[b];if(S!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vt(i,s,b,S,c,null)}}p&&Vt(i,s,"srcSet",c.srcSet,c,null),d&&Vt(i,s,"src",c.src,c,null);return;case"input":mt("invalid",i);var j=b=S=p=null,z=null,Q=null;for(d in c)if(c.hasOwnProperty(d)){var ce=c[d];if(ce!=null)switch(d){case"name":p=ce;break;case"type":S=ce;break;case"checked":z=ce;break;case"defaultChecked":Q=ce;break;case"value":b=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Vt(i,s,d,ce,c,null)}}io(i,b,j,z,Q,S,p,!1),ao(i);return;case"select":mt("invalid",i),d=S=b=null;for(p in c)if(c.hasOwnProperty(p)&&(j=c[p],j!=null))switch(p){case"value":b=j;break;case"defaultValue":S=j;break;case"multiple":d=j;default:Vt(i,s,p,j,c,null)}s=b,c=S,i.multiple=!!d,s!=null?Tt(i,!!d,s,!1):c!=null&&Tt(i,!!d,c,!0);return;case"textarea":mt("invalid",i),b=p=d=null;for(S in c)if(c.hasOwnProperty(S)&&(j=c[S],j!=null))switch(S){case"value":d=j;break;case"defaultValue":p=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Vt(i,s,S,j,c,null)}as(i,d,p,b),ao(i);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Vt(i,s,z,d,c,null)}return;case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":mt("load",i);break;case"video":case"audio":for(d=0;d<Eu.length;d++)mt(Eu[d],i);break;case"image":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"embed":case"source":case"link":mt("error",i),mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(d=c[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vt(i,s,Q,d,c,null)}return;default:if(Bc(s)){for(ce in c)c.hasOwnProperty(ce)&&(d=c[ce],d!==void 0&&Jg(i,s,ce,d,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(d=c[j],d!=null&&Vt(i,s,j,d,c,null))}function HN(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,S=null,j=null,z=null,Q=null,ce=null;for(le in c){var ye=c[le];if(c.hasOwnProperty(le)&&ye!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=ye;default:d.hasOwnProperty(le)||Vt(i,s,le,null,d,ye)}}for(var re in d){var le=d[re];if(ye=c[re],d.hasOwnProperty(re)&&(le!=null||ye!=null))switch(re){case"type":b=le;break;case"name":p=le;break;case"checked":Q=le;break;case"defaultChecked":ce=le;break;case"value":S=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:le!==ye&&Vt(i,s,re,le,d,ye)}}rs(i,S,j,z,Q,ce,b,p);return;case"select":le=S=j=re=null;for(b in c)if(z=c[b],c.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":le=z;default:d.hasOwnProperty(b)||Vt(i,s,b,null,d,z)}for(p in d)if(b=d[p],z=c[p],d.hasOwnProperty(p)&&(b!=null||z!=null))switch(p){case"value":re=b;break;case"defaultValue":j=b;break;case"multiple":S=b;default:b!==z&&Vt(i,s,p,b,d,z)}s=j,c=S,d=le,re!=null?Tt(i,!!c,re,!1):!!d!=!!c&&(s!=null?Tt(i,!!c,s,!0):Tt(i,!!c,c?[]:"",!1));return;case"textarea":le=re=null;for(j in c)if(p=c[j],c.hasOwnProperty(j)&&p!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Vt(i,s,j,null,d,p)}for(S in d)if(p=d[S],b=c[S],d.hasOwnProperty(S)&&(p!=null||b!=null))switch(S){case"value":re=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&Vt(i,s,S,p,d,b)}so(i,re,le);return;case"option":for(var Be in c)if(re=c[Be],c.hasOwnProperty(Be)&&re!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:Vt(i,s,Be,null,d,re)}for(z in d)if(re=d[z],le=c[z],d.hasOwnProperty(z)&&re!==le&&(re!=null||le!=null))switch(z){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Vt(i,s,z,re,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in c)re=c[et],c.hasOwnProperty(et)&&re!=null&&!d.hasOwnProperty(et)&&Vt(i,s,et,null,d,re);for(Q in d)if(re=d[Q],le=c[Q],d.hasOwnProperty(Q)&&re!==le&&(re!=null||le!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Vt(i,s,Q,re,d,le)}return;default:if(Bc(s)){for(var sn in c)re=c[sn],c.hasOwnProperty(sn)&&re!==void 0&&!d.hasOwnProperty(sn)&&Jg(i,s,sn,void 0,d,re);for(ce in d)re=d[ce],le=c[ce],!d.hasOwnProperty(ce)||re===le||re===void 0&&le===void 0||Jg(i,s,ce,re,d,le);return}}for(var X in c)re=c[X],c.hasOwnProperty(X)&&re!=null&&!d.hasOwnProperty(X)&&Vt(i,s,X,null,d,re);for(ye in d)re=d[ye],le=c[ye],!d.hasOwnProperty(ye)||re===le||re==null&&le==null||Vt(i,s,ye,re,d,le)}var ey=null,ty=null;function Qf(i){return i.nodeType===9?i:i.ownerDocument}function Vw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ny(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ry=null;function YN(){var i=window.event;return i&&i.type==="popstate"?i===ry?!1:(ry=i,!0):(ry=null,!1)}var Uw=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,Bw=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof Bw<"u"?function(i){return Bw.resolve(null).then(i).catch(GN)}:Uw;function GN(i){setTimeout(function(){throw i})}function ay(i,s){var c=s,d=0;do{var p=c.nextSibling;if(i.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){i.removeChild(p),ku(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);ku(s)}function iy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":iy(c),Ir(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function QN(i,s,c,d){for(;i.nodeType===1;){var p=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[pr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ta(i.nextSibling),i===null)break}return null}function KN(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ta(i.nextSibling),i===null))return null;return i}function Ta(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function Fw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function zw(i,s,c){switch(s=Qf(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var la=new Map,Hw=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Vi=ge.d;ge.d={f:WN,r:XN,D:ZN,C:JN,L:eM,m:tM,X:rM,S:nM,M:aM};function WN(){var i=Vi.f(),s=Ff();return i||s}function XN(i){var s=yn(i);s!==null&&s.tag===5&&s.type==="form"?g_(s):Vi.r(i)}var Yl=typeof document>"u"?null:document;function Yw(i,s,c){var d=Yl;if(d&&typeof s=="string"&&s){var p=nn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),Hw.has(p)||(Hw.add(p),i={rel:i,crossOrigin:c,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Gn(s,"link",i),At(s),d.head.appendChild(s)))}}function ZN(i){Vi.D(i),Yw("dns-prefetch",i,null)}function JN(i,s){Vi.C(i,s),Yw("preconnect",i,s)}function eM(i,s,c){Vi.L(i,s,c);var d=Yl;if(d&&i&&s){var p='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+nn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+nn(c.imageSizes)+'"]')):p+='[href="'+nn(i)+'"]';var b=p;switch(s){case"style":b=ql(i);break;case"script":b=$l(i)}la.has(b)||(i=M({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),la.set(b,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Su(b))||s==="script"&&d.querySelector(Du(b))||(s=d.createElement("link"),Gn(s,"link",i),At(s),d.head.appendChild(s)))}}function tM(i,s){Vi.m(i,s);var c=Yl;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+nn(d)+'"][href="'+nn(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=$l(i)}if(!la.has(b)&&(i=M({rel:"modulepreload",href:i},s),la.set(b,i),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Du(b)))return}d=c.createElement("link"),Gn(d,"link",i),At(d),c.head.appendChild(d)}}}function nM(i,s,c){Vi.S(i,s,c);var d=Yl;if(d&&i){var p=Ar(d).hoistableStyles,b=ql(i);s=s||"default";var S=p.get(b);if(!S){var j={loading:0,preload:null};if(S=d.querySelector(Su(b)))j.loading=5;else{i=M({rel:"stylesheet",href:i,"data-precedence":s},c),(c=la.get(b))&&sy(i,c);var z=S=d.createElement("link");At(z),Gn(z,"link",i),z._p=new Promise(function(Q,ce){z.onload=Q,z.onerror=ce}),z.addEventListener("load",function(){j.loading|=1}),z.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Wf(S,s,d)}S={type:"stylesheet",instance:S,count:1,state:j},p.set(b,S)}}}function rM(i,s){Vi.X(i,s);var c=Yl;if(c&&i){var d=Ar(c).hoistableScripts,p=$l(i),b=d.get(p);b||(b=c.querySelector(Du(p)),b||(i=M({src:i,async:!0},s),(s=la.get(p))&&oy(i,s),b=c.createElement("script"),At(b),Gn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function aM(i,s){Vi.M(i,s);var c=Yl;if(c&&i){var d=Ar(c).hoistableScripts,p=$l(i),b=d.get(p);b||(b=c.querySelector(Du(p)),b||(i=M({src:i,async:!0,type:"module"},s),(s=la.get(p))&&oy(i,s),b=c.createElement("script"),At(b),Gn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function qw(i,s,c,d){var p=(p=Xe.current)?Kf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ql(c.href),c=Ar(p).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=ql(c.href);var b=Ar(p).hoistableStyles,S=b.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,S),(b=p.querySelector(Su(i)))&&!b._p&&(S.instance=b,S.state.loading=5),la.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},la.set(i,c),b||iM(p,i,c,S.state))),s&&d===null)throw Error(r(528,""));return S}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$l(c),c=Ar(p).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ql(i){return'href="'+nn(i)+'"'}function Su(i){return'link[rel="stylesheet"]['+i+"]"}function $w(i){return M({},i,{"data-precedence":i.precedence,precedence:null})}function iM(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Gn(s,"link",c),At(s),i.head.appendChild(s))}function $l(i){return'[src="'+nn(i)+'"]'}function Du(i){return"script[async]"+i}function Gw(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+nn(c.href)+'"]');if(d)return s.instance=d,At(d),d;var p=M({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),At(d),Gn(d,"style",p),Wf(d,c.precedence,i),s.instance=d;case"stylesheet":p=ql(c.href);var b=i.querySelector(Su(p));if(b)return s.state.loading|=4,s.instance=b,At(b),b;d=$w(c),(p=la.get(p))&&sy(d,p),b=(i.ownerDocument||i).createElement("link"),At(b);var S=b;return S._p=new Promise(function(j,z){S.onload=j,S.onerror=z}),Gn(b,"link",d),s.state.loading|=4,Wf(b,c.precedence,i),s.instance=b;case"script":return b=$l(c.src),(p=i.querySelector(Du(b)))?(s.instance=p,At(p),p):(d=c,(p=la.get(b))&&(d=M({},c),oy(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),Gn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Wf(d,c.precedence,i));return s.instance}function Wf(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,S=0;S<d.length;S++){var j=d[S];if(j.dataset.precedence===s)b=j;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function sy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function oy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function Qw(i,s,c){if(Xf===null){var d=new Map,p=Xf=new Map;p.set(c,d)}else p=Xf,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),p=0;p<c.length;p++){var b=c[p];if(!(b[pr]||b[Ie]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(s)||"";S=i+S;var j=d.get(S);j?j.push(b):d.set(S,[b])}}return d}function Kw(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function sM(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ww(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Au=null;function oM(){}function lM(i,s,c){if(Au===null)throw Error(r(475));var d=Au;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ql(c.href),b=i.querySelector(Su(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Zf.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=b,At(b);return}b=i.ownerDocument||i,c=$w(c),(p=la.get(p))&&sy(c,p),b=b.createElement("link"),At(b);var S=b;S._p=new Promise(function(j,z){S.onload=j,S.onerror=z}),Gn(b,"link",c),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Zf.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function cM(){if(Au===null)throw Error(r(475));var i=Au;return i.stylesheets&&i.count===0&&ly(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&ly(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)ly(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jf=null;function ly(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jf=new Map,s.forEach(uM,i),Jf=null,Zf.call(i))}function uM(i,s){if(!(s.state.loading&4)){var c=Jf.get(i);if(c)var d=c.get(null);else{c=new Map,Jf.set(i,c);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var S=p[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}p=s.instance,S=p.getAttribute("data-precedence"),b=c.get(S)||d,b===d&&c.set(null,p),c.set(S,p),this.count++,d=Zf.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Cu={$$typeof:w,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function dM(i,s,c,d,p,b,S,j){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Xw(i,s,c,d,p,b,S,j,z,Q,ce,ye){return i=new dM(i,s,c,S,j,z,Q,ye),s=1,b===!0&&(s|=24),b=sa(3,null,null,s),i.current=b,b.stateNode=i,s=Bp(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:s},xg(b),i}function Zw(i){return i?(i=Tl,i):Tl}function Jw(i,s,c,d,p,b){p=Zw(p),d.context===null?d.context=p:d.pendingContext=p,d=hs(s),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=ms(i,d,s),c!==null&&(br(c,i,s),du(c,i,s))}function e1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function cy(i,s){e1(i,s),(i=i.alternate)&&e1(i,s)}function t1(i){if(i.tag===13){var s=ss(i,67108864);s!==null&&br(s,i,67108864),cy(i,67108864)}}var eh=!0;function fM(i,s,c,d){var p=R.T;R.T=null;var b=ge.p;try{ge.p=2,uy(i,s,c,d)}finally{ge.p=b,R.T=p}}function hM(i,s,c,d){var p=R.T;R.T=null;var b=ge.p;try{ge.p=8,uy(i,s,c,d)}finally{ge.p=b,R.T=p}}function uy(i,s,c,d){if(eh){var p=dy(d);if(p===null)Zg(i,s,d,th,c),r1(i,d);else if(pM(p,i,s,c,d))d.stopPropagation();else if(r1(i,d),s&4&&-1<mM.indexOf(i)){for(;p!==null;){var b=yn(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=rr(b.pendingLanes);if(S!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;S;){var z=1<<31-Pn(S);j.entanglements[1]|=z,S&=~z}Qa(b),(Zt&6)===0&&(Lf=Mn()+500,wu(0))}}break;case 13:j=ss(b,2),j!==null&&br(j,b,2),Ff(),cy(b,2)}if(b=dy(d),b===null&&Zg(i,s,d,th,c),b===p)break;p=b}p!==null&&d.stopPropagation()}else Zg(i,s,d,null,c)}}function dy(i){return i=fl(i),fy(i)}var th=null;function fy(i){if(th=null,i=un(i),i!==null){var s=ne(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=be(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return th=i,null}function n1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case Pt:return 2;case cn:return 8;case Or:case ol:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var hy=!1,_s=null,ws=null,Es=null,Ru=new Map,Nu=new Map,Ts=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r1(i,s){switch(i){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(s.pointerId)}}function Mu(i,s,c,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},s!==null&&(s=yn(s),s!==null&&t1(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function pM(i,s,c,d,p){switch(s){case"focusin":return _s=Mu(_s,i,s,c,d,p),!0;case"dragenter":return ws=Mu(ws,i,s,c,d,p),!0;case"mouseover":return Es=Mu(Es,i,s,c,d,p),!0;case"pointerover":var b=p.pointerId;return Ru.set(b,Mu(Ru.get(b)||null,i,s,c,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Nu.set(b,Mu(Nu.get(b)||null,i,s,c,d,p)),!0}return!1}function a1(i){var s=un(i.target);if(s!==null){var c=ne(s);if(c!==null){if(s=c.tag,s===13){if(s=be(c),s!==null){i.blockedOn=s,Ae(i.priority,function(){if(c.tag===13){var d=Br(),p=ss(c,d);p!==null&&br(p,c,d),cy(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=dy(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);Wr=d,c.target.dispatchEvent(d),Wr=null}else return s=yn(c),s!==null&&t1(s),i.blockedOn=c,!1;s.shift()}return!0}function i1(i,s,c){nh(i)&&c.delete(s)}function gM(){hy=!1,_s!==null&&nh(_s)&&(_s=null),ws!==null&&nh(ws)&&(ws=null),Es!==null&&nh(Es)&&(Es=null),Ru.forEach(i1),Nu.forEach(i1)}function rh(i,s){i.blockedOn===s&&(i.blockedOn=null,hy||(hy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gM)))}var ah=null;function s1(i){ah!==i&&(ah=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ah===i&&(ah=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(fy(d||c)===null)continue;break}var b=yn(c);b!==null&&(i.splice(s,3),s-=3,ng(b,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function ku(i){function s(z){return rh(z,i)}_s!==null&&rh(_s,i),ws!==null&&rh(ws,i),Es!==null&&rh(Es,i),Ru.forEach(s),Nu.forEach(s);for(var c=0;c<Ts.length;c++){var d=Ts[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ts.length&&(c=Ts[0],c.blockedOn===null);)a1(c),c.blockedOn===null&&Ts.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],b=c[d+1],S=p[$e]||null;if(typeof b=="function")S||s1(c);else if(S){var j=null;if(b&&b.hasAttribute("formAction")){if(p=b,S=b[$e]||null)j=S.formAction;else if(fy(p)!==null)continue}else j=S.action;typeof j=="function"?c[d+1]=j:(c.splice(d,3),d-=3),s1(c)}}}function my(i){this._internalRoot=i}ih.prototype.render=my.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=Br();Jw(c,d,i,s,null,null)},ih.prototype.unmount=my.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Fl(),Jw(i.current,2,null,i,null,null),Ff(),s[Et]=null}};function ih(i){this._internalRoot=i}ih.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ue();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ts.length&&s!==0&&s<Ts[c].priority;c++);Ts.splice(c,0,i),c===0&&a1(i)}};var o1=e.version;if(o1!=="19.0.0")throw Error(r(527,o1,"19.0.0"));ge.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Z(s),i=i!==null?ue(i):null,i=i===null?null:i.stateNode,i};var yM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{va=sh.inject(yM),kn=sh}catch{}}return Ou.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,d="",p=T_,b=S_,S=D_,j=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks)),s=Xw(i,1,!1,null,null,c,d,p,b,S,j,null),i[Et]=s.current,Xg(i.nodeType===8?i.parentNode:i),new my(s)},Ou.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var d=!1,p="",b=T_,S=S_,j=D_,z=null,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(Q=c.formState)),s=Xw(i,1,!0,s,c??null,d,p,b,S,j,z,Q),s.context=Zw(null),c=s.current,d=Br(),p=hs(d),p.callback=null,ms(c,p,d),s.current.lanes=d,fe(s,d),Qa(s),i[Et]=s.current,Xg(i),new ih(s)},Ou.version="19.0.0",Ou}var y1;function NM(){if(y1)return yy.exports;y1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yy.exports=RM(),yy.exports}var MM=NM(),Iu={},v1;function kM(){if(v1)return Iu;v1=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=l,Iu.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,w){const T=new o,A=x.length;if(A<2)return T;const D=(w==null?void 0:w.decode)||y;let O=0;do{const U=x.indexOf("=",O);if(U===-1)break;const F=x.indexOf(";",O),Y=F===-1?A:F;if(U>Y){O=x.lastIndexOf(";",U-1)+1;continue}const N=u(x,O,U),$=f(x,U,N),I=x.slice(N,$);if(T[I]===void 0){let C=u(x,U+1,Y),R=f(x,Y,C);const M=D(x.slice(C,R));T[I]=M}O=Y+1}while(O<A);return T}function u(x,w,T){do{const A=x.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<T);return T}function f(x,w,T){for(;w>T;){const A=x.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return T}function h(x,w,T){const A=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const D=A(w);if(!e.test(D))throw new TypeError(`argument val is invalid: ${w}`);let O=x+"="+D;if(!T)return O;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);O+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);O+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);O+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);O+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(O+="; HttpOnly"),T.secure&&(O+="; Secure"),T.partitioned&&(O+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return O}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return a.call(x)==="[object Date]"}return Iu}kM();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dS=n=>{throw TypeError(n)},PM=(n,e,t)=>e.has(n)||dS("Cannot "+t),_y=(n,e,t)=>(PM(n,e,"read from private field"),t?t.call(n):e.get(n)),OM=(n,e,t)=>e.has(n)?dS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b1="popstate";function IM(n={}){function e(r,a){let{pathname:o,search:l,hash:u}=r.location;return ld("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Bs(a)}return VM(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jM(){return Math.random().toString(36).substring(2,10)}function x1(n,e){return{usr:n.state,key:n.key,idx:e}}function ld(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||jM()}}function Bs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function VM(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,u="POP",f=null,h=y();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function y(){return(l.state||{idx:null}).idx}function v(){u="POP";let D=y(),O=D==null?null:D-h;h=D,f&&f({action:u,location:A.location,delta:O})}function x(D,O){u="PUSH";let U=ld(A.location,D,O);h=y()+1;let F=x1(U,h),Y=A.createHref(U);try{l.pushState(F,"",Y)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(Y)}o&&f&&f({action:u,location:A.location,delta:1})}function w(D,O){u="REPLACE";let U=ld(A.location,D,O);h=y();let F=x1(U,h),Y=A.createHref(U);l.replaceState(F,"",Y),o&&f&&f({action:u,location:A.location,delta:0})}function T(D){let O=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof D=="string"?D:Bs(D);return U=U.replace(/ $/,"%20"),ut(O,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,O)}let A={get action(){return u},get location(){return n(a,l)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(b1,v),f=D,()=>{a.removeEventListener(b1,v),f=null}},createHref(D){return e(a,D)},createURL:T,encodeLocation(D){let O=T(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:w,go(D){return l.go(D)}};return A}var Yu,_1=class{constructor(n){if(OM(this,Yu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(_y(this,Yu).has(n))return _y(this,Yu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){_y(this,Yu).set(n,e)}};Yu=new WeakMap;var LM=new Set(["lazy","caseSensitive","path","id","index","children"]);function UM(n){return n.index===!0}function qh(n,e,t=[],r={}){return n.map((a,o)=>{let l=[...t,String(o)],u=typeof a.id=="string"?a.id:l.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),UM(a)){let f={...a,...e(a),id:u};return r[u]=f,f}else{let f={...a,...e(a),id:u,children:void 0};return r[u]=f,a.children&&(f.children=qh(a.children,e,l,r)),f}})}function Ns(n,e,t="/"){return Dh(n,e,t,!1)}function Dh(n,e,t,r){let a=typeof e=="string"?Xs(e):e,o=ga(a.pathname||"/",t);if(o==null)return null;let l=fS(n);FM(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=ZM(o);u=WM(l[f],h,r)}return u}function BM(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function fS(n,e=[],t=[],r=""){let a=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=ti([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),fS(o.children,e,y,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:QM(h,o.index),routesMeta:y})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let f of hS(o.path))a(o,l,f)}),e}function hS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=hS(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function FM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var zM=/^:[\w-]+$/,HM=3,YM=2,qM=1,$M=10,GM=-2,w1=n=>n==="*";function QM(n,e){let t=n.split("/"),r=t.length;return t.some(w1)&&(r+=GM),e&&(r+=YM),t.filter(a=>!w1(a)).reduce((a,o)=>a+(zM.test(o)?HM:o===""?qM:$M),r)}function KM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function WM(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},y),x=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:ti([o,v.pathname]),pathnameBase:t4(ti([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ti([o,v.pathnameBase]))}return l}function $h(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=XM(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:y,isOptional:v},x)=>{if(y==="*"){let T=u[x]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?h[y]=void 0:h[y]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function XM(n,e=!1,t=!0){tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function ZM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function JM(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:e4(t,e):e,search:n4(r),hash:r4(a)}}function e4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wy(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mv(n){let e=mS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function pv(n,e,t,r=!1){let a;typeof n=="string"?a=Xs(n):(a={...n},ut(!a.pathname||!a.pathname.includes("?"),wy("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),wy("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),wy("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=JM(a,u),h=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||y)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),t4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,r4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Gh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function cd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pS=["POST","PUT","PATCH","DELETE"],a4=new Set(pS),i4=["GET",...pS],s4=new Set(i4),o4=new Set([301,302,303,307,308]),l4=new Set([307,308]),Ey={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u4=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),gS="remix-router-transitions",yS=Symbol("ResetLoaderData");function d4(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||u4,a={},o=qh(n.routes,r,void 0,a),l,u=n.basename||"/",f=n.dataStrategy||g4,h={unstable_middleware:!1,...n.future},y=null,v=new Set,x=null,w=null,T=null,A=n.hydrationData!=null,D=Ns(o,n.history.location,u),O=!1,U=null;if(D==null&&!n.patchRoutesOnNavigation){let q=da(404,{pathname:n.history.location.pathname}),{matches:K,route:ie}=O1(o);D=K,U={[ie.id]:q}}D&&!n.hydrationData&&rr(D,o,n.history.location.pathname).active&&(D=null);let F;if(D)if(D.some(q=>q.route.lazy))F=!1;else if(!D.some(q=>q.route.loader))F=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let ie=D.findIndex(fe=>K[fe.route.id]!==void 0);F=D.slice(0,ie+1).every(fe=>!i0(fe.route,q,K))}else F=D.every(ie=>!i0(ie.route,q,K))}else{F=!1,D=[];let q=rr(null,o,n.history.location.pathname);q.active&&q.matches&&(O=!0,D=q.matches)}let Y,N={historyAction:n.history.action,location:n.history.location,matches:D,initialized:F,navigation:Ey,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},$="POP",I=!1,C,R=!1,M=new Map,L=null,H=!1,B=!1,Se=new Set,we=new Map,ae=0,J=-1,ne=new Map,be=new Set,P=new Map,Z=new Map,ue=new Set,xe=new Map,ge,de=null;function se(){if(y=n.history.listen(({action:q,location:K,delta:ie})=>{if(ge){ge(),ge=void 0;return}tr(xe.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Pn({currentLocation:N.location,nextLocation:K,historyAction:q});if(fe&&ie!=null){let De=new Promise(He=>{ge=He});n.history.go(ie*-1),mr(fe,{state:"blocked",location:K,proceed(){mr(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),De.then(()=>n.history.go(ie))},reset(){let He=new Map(N.blockers);He.set(fe,ju),Te({blockers:He})}});return}return Xe(q,K)}),t){C4(e,M);let q=()=>R4(e,M);e.addEventListener("pagehide",q),L=()=>e.removeEventListener("pagehide",q)}return N.initialized||Xe("POP",N.location,{initialHydration:!0}),Y}function Ne(){y&&y(),L&&L(),v.clear(),C&&C.abort(),N.fetchers.forEach((q,K)=>Or(K)),N.blockers.forEach((q,K)=>es(K))}function Ce(q){return v.add(q),()=>v.delete(q)}function Te(q,K={}){N={...N,...q};let ie=[],fe=[];N.fetchers.forEach((De,He)=>{De.state==="idle"&&(ue.has(He)?ie.push(He):fe.push(He))}),ue.forEach(De=>{!N.fetchers.has(De)&&!we.has(De)&&ie.push(De)}),[...v].forEach(De=>De(N,{deletedFetchers:ie,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),ie.forEach(De=>Or(De)),fe.forEach(De=>N.fetchers.delete(De))}function ze(q,K,{flushSync:ie}={}){var Ae,Oe;let fe=N.actionData!=null&&N.navigation.formMethod!=null&&Da(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Ae=q.state)==null?void 0:Ae._isRedirect)!==!0,De;K.actionData?Object.keys(K.actionData).length>0?De=K.actionData:De=null:fe?De=N.actionData:De=null;let He=K.loaderData?k1(N.loaderData,K.loaderData,K.matches||[],K.errors):N.loaderData,Fe=N.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((Ie,$e)=>Fe.set($e,ju)));let Ve=I===!0||N.navigation.formMethod!=null&&Da(N.navigation.formMethod)&&((Oe=q.state)==null?void 0:Oe._isRedirect)!==!0;l&&(o=l,l=void 0),H||$==="POP"||($==="PUSH"?n.history.push(q,q.state):$==="REPLACE"&&n.history.replace(q,q.state));let Ue;if($==="POP"){let Ie=M.get(N.location.pathname);Ie&&Ie.has(q.pathname)?Ue={currentLocation:N.location,nextLocation:q}:M.has(q.pathname)&&(Ue={currentLocation:q,nextLocation:N.location})}else if(R){let Ie=M.get(N.location.pathname);Ie?Ie.add(q.pathname):(Ie=new Set([q.pathname]),M.set(N.location.pathname,Ie)),Ue={currentLocation:N.location,nextLocation:q}}Te({...K,actionData:De,loaderData:He,historyAction:$,location:q,initialized:!0,navigation:Ey,revalidation:"idle",restoreScrollPosition:ba(q,K.matches||N.matches),preventScrollReset:Ve,blockers:Fe},{viewTransitionOpts:Ue,flushSync:ie===!0}),$="POP",I=!1,R=!1,H=!1,B=!1,de==null||de.resolve(),de=null}async function dt(q,K){if(typeof q=="number"){n.history.go(q);return}let ie=a0(N.location,N.matches,u,q,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:fe,submission:De,error:He}=E1(!1,ie,K),Fe=N.location,Ve=ld(N.location,fe,K&&K.state);Ve={...Ve,...n.history.encodeLocation(Ve)};let Ue=K&&K.replace!=null?K.replace:void 0,Ae="PUSH";Ue===!0?Ae="REPLACE":Ue===!1||De!=null&&Da(De.formMethod)&&De.formAction===N.location.pathname+N.location.search&&(Ae="REPLACE");let Oe=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Ie=(K&&K.flushSync)===!0,$e=Pn({currentLocation:Fe,nextLocation:Ve,historyAction:Ae});if($e){mr($e,{state:"blocked",location:Ve,proceed(){mr($e,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),dt(q,K)},reset(){let Et=new Map(N.blockers);Et.set($e,ju),Te({blockers:Et})}});return}await Xe(Ae,Ve,{submission:De,pendingError:He,preventScrollReset:Oe,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Ie})}function nt(){de||(de=N4()),Mn(),Te({revalidation:"loading"});let q=de.promise;return N.navigation.state==="submitting"?q:N.navigation.state==="idle"?(Xe(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),q):(Xe($||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:R===!0}),q)}async function Xe(q,K,ie){C&&C.abort(),C=null,$=q,H=(ie&&ie.startUninterruptedRevalidation)===!0,qr(N.location,N.matches),I=(ie&&ie.preventScrollReset)===!0,R=(ie&&ie.enableViewTransition)===!0;let fe=l||o,De=ie&&ie.overrideNavigation,He=ie!=null&&ie.initialHydration&&N.matches&&N.matches.length>0&&!O?N.matches:Ns(fe,K,u),Fe=(ie&&ie.flushSync)===!0;if(He&&N.initialized&&!B&&E4(N.location,K)&&!(ie&&ie.submission&&Da(ie.submission.formMethod))){ze(K,{matches:He},{flushSync:Fe});return}let Ve=rr(He,fe,K.pathname);if(Ve.active&&Ve.matches&&(He=Ve.matches),!He){let{error:Lt,notFoundMatches:xt,route:$t}=mi(K.pathname);ze(K,{matches:xt,loaderData:{},errors:{[$t.id]:Lt}},{flushSync:Fe});return}C=new AbortController;let Ue=Gl(n.history,K,C.signal,ie&&ie.submission),Ae=new _1(n.unstable_getContext?await n.unstable_getContext():void 0),Oe;if(ie&&ie.pendingError)Oe=[Vo(He).route.id,{type:"error",error:ie.pendingError}];else if(ie&&ie.submission&&Da(ie.submission.formMethod)){let Lt=await _e(Ue,K,ie.submission,He,Ae,Ve.active,{replace:ie.replace,flushSync:Fe});if(Lt.shortCircuited)return;if(Lt.pendingActionResult){let[xt,$t]=Lt.pendingActionResult;if(Fr($t)&&cd($t.error)&&$t.error.status===404){C=null,ze(K,{matches:Lt.matches,loaderData:{},errors:{[xt]:$t.error}});return}}He=Lt.matches||He,Oe=Lt.pendingActionResult,De=Ty(K,ie.submission),Fe=!1,Ve.active=!1,Ue=Gl(n.history,Ue.url,Ue.signal)}let{shortCircuited:Ie,matches:$e,loaderData:Et,errors:Kt}=await Ge(Ue,K,He,Ae,Ve.active,De,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,Fe,Oe);Ie||(C=null,ze(K,{matches:$e||He,...P1(Oe),loaderData:Et,errors:Kt}))}async function _e(q,K,ie,fe,De,He,Fe={}){Mn();let Ve=D4(K,ie);if(Te({navigation:Ve},{flushSync:Fe.flushSync===!0}),He){let Oe=await Hn(fe,K.pathname,q.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let Ie=Vo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ie,{type:"error",error:Oe.error}]}}else if(Oe.matches)fe=Oe.matches;else{let{notFoundMatches:Ie,error:$e,route:Et}=mi(K.pathname);return{matches:Ie,pendingActionResult:[Et.id,{type:"error",error:$e}]}}}let Ue,Ae=qu(fe,K);if(!Ae.route.action&&!Ae.route.lazy)Ue={type:"error",error:da(405,{method:q.method,pathname:K.pathname,routeId:Ae.route.id})};else{let Oe=await kr("action",q,[Ae],fe,De,null);if(Ue=Oe[Ae.route.id],!Ue){for(let Ie of fe)if(Oe[Ie.route.id]){Ue=Oe[Ie.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Lo(Ue)){let Oe;return Fe&&Fe.replace!=null?Oe=Fe.replace:Oe=R1(Ue.response.headers.get("Location"),new URL(q.url),u)===N.location.pathname+N.location.search,await Qt(q,Ue,!0,{submission:ie,replace:Oe}),{shortCircuited:!0}}if(Fr(Ue)){let Oe=Vo(fe,Ae.route.id);return(Fe&&Fe.replace)!==!0&&($="PUSH"),{matches:fe,pendingActionResult:[Oe.route.id,Ue]}}return{matches:fe,pendingActionResult:[Ae.route.id,Ue]}}async function Ge(q,K,ie,fe,De,He,Fe,Ve,Ue,Ae,Oe,Ie){let $e=He||Ty(K,Fe),Et=Fe||Ve||j1($e),Kt=!H&&!Ae;if(De){if(Kt){let Ct=ot(Ie);Te({navigation:$e,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Oe})}let at=await Hn(ie,K.pathname,q.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){let Ct=Vo(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[Ct]:at.error}}}else if(at.matches)ie=at.matches;else{let{error:Ct,notFoundMatches:On,route:pi}=mi(K.pathname);return{matches:On,loaderData:{},errors:{[pi.id]:Ct}}}}let Lt=l||o,[xt,$t]=S1(n.history,N,ie,Et,K,Ae===!0,B,Se,ue,P,be,Lt,u,Ie);if(J=++ae,xt.length===0&&$t.length===0){let at=Pa();return ze(K,{matches:ie,loaderData:{},errors:Ie&&Fr(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...P1(Ie),...at?{fetchers:new Map(N.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(Kt){let at={};if(!De){at.navigation=$e;let Ct=ot(Ie);Ct!==void 0&&(at.actionData=Ct)}$t.length>0&&(at.fetchers=Bt($t)),Te(at,{flushSync:Oe})}$t.forEach(at=>{Dr(at.key),at.controller&&we.set(at.key,at.controller)});let pr=()=>$t.forEach(at=>Dr(at.key));C&&C.signal.addEventListener("abort",pr);let{loaderResults:Ir,fetcherResults:un}=await Sr(ie,xt,$t,q,fe);if(q.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",pr),$t.forEach(at=>we.delete(at.key));let yn=oh(Ir);if(yn)return await Qt(q,yn.result,!0,{replace:Ue}),{shortCircuited:!0};if(yn=oh(un),yn)return be.add(yn.key),await Qt(q,yn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:$r,errors:Ar}=M1(N,ie,Ir,Ie,$t,un);Ae&&N.errors&&(Ar={...N.errors,...Ar});let At=Pa(),Ia=va(J),xa=At||Ia||$t.length>0;return{matches:ie,loaderData:$r,errors:Ar,...xa?{fetchers:new Map(N.fetchers)}:{}}}function ot(q){if(q&&!Fr(q[1]))return{[q[0]]:q[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Bt(q){return q.forEach(K=>{let ie=N.fetchers.get(K.key),fe=Vu(void 0,ie?ie.data:void 0);N.fetchers.set(K.key,fe)}),new Map(N.fetchers)}async function fr(q,K,ie,fe){Dr(q);let De=(fe&&fe.flushSync)===!0,He=l||o,Fe=a0(N.location,N.matches,u,ie,K,fe==null?void 0:fe.relative),Ve=Ns(He,Fe,u),Ue=rr(Ve,He,Fe);if(Ue.active&&Ue.matches&&(Ve=Ue.matches),!Ve){Pt(q,K,da(404,{pathname:Fe}),{flushSync:De});return}let{path:Ae,submission:Oe,error:Ie}=E1(!0,Fe,fe);if(Ie){Pt(q,K,Ie,{flushSync:De});return}let $e=qu(Ve,Ae),Et=new _1(n.unstable_getContext?await n.unstable_getContext():void 0),Kt=(fe&&fe.preventScrollReset)===!0;if(Oe&&Da(Oe.formMethod)){await Tr(q,K,Ae,$e,Ve,Et,Ue.active,De,Kt,Oe);return}P.set(q,{routeId:K,path:Ae}),await hr(q,K,Ae,$e,Ve,Et,Ue.active,De,Kt,Oe)}async function Tr(q,K,ie,fe,De,He,Fe,Ve,Ue,Ae){Mn(),P.delete(q);function Oe(Ft){if(!Ft.route.action&&!Ft.route.lazy){let Gr=da(405,{method:Ae.formMethod,pathname:ie,routeId:K});return Pt(q,K,Gr,{flushSync:Ve}),!0}return!1}if(!Fe&&Oe(fe))return;let Ie=N.fetchers.get(q);Pr(q,A4(Ae,Ie),{flushSync:Ve});let $e=new AbortController,Et=Gl(n.history,ie,$e.signal,Ae);if(Fe){let Ft=await Hn(De,ie,Et.signal,q);if(Ft.type==="aborted")return;if(Ft.type==="error"){Pt(q,K,Ft.error,{flushSync:Ve});return}else if(Ft.matches){if(De=Ft.matches,fe=qu(De,ie),Oe(fe))return}else{Pt(q,K,da(404,{pathname:ie}),{flushSync:Ve});return}}we.set(q,$e);let Kt=ae,xt=(await kr("action",Et,[fe],De,He,q))[fe.route.id];if(Et.signal.aborted){we.get(q)===$e&&we.delete(q);return}if(ue.has(q)){if(Lo(xt)||Fr(xt)){Pr(q,Cs(void 0));return}}else{if(Lo(xt))if(we.delete(q),J>Kt){Pr(q,Cs(void 0));return}else return be.add(q),Pr(q,Vu(Ae)),Qt(Et,xt,!1,{fetcherSubmission:Ae,preventScrollReset:Ue});if(Fr(xt)){Pt(q,K,xt.error);return}}let $t=N.navigation.location||N.location,pr=Gl(n.history,$t,$e.signal),Ir=l||o,un=N.navigation.state!=="idle"?Ns(Ir,N.navigation.location,u):N.matches;ut(un,"Didn't find any matches after fetcher action");let yn=++ae;ne.set(q,yn);let $r=Vu(Ae,xt.data);N.fetchers.set(q,$r);let[Ar,At]=S1(n.history,N,un,Ae,$t,!1,B,Se,ue,P,be,Ir,u,[fe.route.id,xt]);At.filter(Ft=>Ft.key!==q).forEach(Ft=>{let Gr=Ft.key,ro=N.fetchers.get(Gr),ja=Vu(void 0,ro?ro.data:void 0);N.fetchers.set(Gr,ja),Dr(Gr),Ft.controller&&we.set(Gr,Ft.controller)}),Te({fetchers:new Map(N.fetchers)});let Ia=()=>At.forEach(Ft=>Dr(Ft.key));$e.signal.addEventListener("abort",Ia);let{loaderResults:xa,fetcherResults:at}=await Sr(un,Ar,At,pr,He);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Ia),ne.delete(q),we.delete(q),At.forEach(Ft=>we.delete(Ft.key));let Ct=oh(xa);if(Ct)return Qt(pr,Ct.result,!1,{preventScrollReset:Ue});if(Ct=oh(at),Ct)return be.add(Ct.key),Qt(pr,Ct.result,!1,{preventScrollReset:Ue});let{loaderData:On,errors:pi}=M1(N,un,xa,void 0,At,at);if(N.fetchers.has(q)){let Ft=Cs(xt.data);N.fetchers.set(q,Ft)}va(yn),N.navigation.state==="loading"&&yn>J?(ut($,"Expected pending action"),C&&C.abort(),ze(N.navigation.location,{matches:un,loaderData:On,errors:pi,fetchers:new Map(N.fetchers)})):(Te({errors:pi,loaderData:k1(N.loaderData,On,un,pi),fetchers:new Map(N.fetchers)}),B=!1)}async function hr(q,K,ie,fe,De,He,Fe,Ve,Ue,Ae){let Oe=N.fetchers.get(q);Pr(q,Vu(Ae,Oe?Oe.data:void 0),{flushSync:Ve});let Ie=new AbortController,$e=Gl(n.history,ie,Ie.signal);if(Fe){let xt=await Hn(De,ie,$e.signal,q);if(xt.type==="aborted")return;if(xt.type==="error"){Pt(q,K,xt.error,{flushSync:Ve});return}else if(xt.matches)De=xt.matches,fe=qu(De,ie);else{Pt(q,K,da(404,{pathname:ie}),{flushSync:Ve});return}}we.set(q,Ie);let Et=ae,Lt=(await kr("loader",$e,[fe],De,He,q))[fe.route.id];if(we.get(q)===Ie&&we.delete(q),!$e.signal.aborted){if(ue.has(q)){Pr(q,Cs(void 0));return}if(Lo(Lt))if(J>Et){Pr(q,Cs(void 0));return}else{be.add(q),await Qt($e,Lt,!1,{preventScrollReset:Ue});return}if(Fr(Lt)){Pt(q,K,Lt.error);return}Pr(q,Cs(Lt.data))}}async function Qt(q,K,ie,{submission:fe,fetcherSubmission:De,preventScrollReset:He,replace:Fe}={}){K.response.headers.has("X-Remix-Revalidate")&&(B=!0);let Ve=K.response.headers.get("Location");ut(Ve,"Expected a Location header on the redirect Response"),Ve=R1(Ve,new URL(q.url),u);let Ue=ld(N.location,Ve,{_isRedirect:!0});if(t){let Kt=!1;if(K.response.headers.has("X-Remix-Reload-Document"))Kt=!0;else if(gv.test(Ve)){const Lt=n.history.createURL(Ve);Kt=Lt.origin!==e.location.origin||ga(Lt.pathname,u)==null}if(Kt){Fe?e.location.replace(Ve):e.location.assign(Ve);return}}C=null;let Ae=Fe===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Ie,formEncType:$e}=N.navigation;!fe&&!De&&Oe&&Ie&&$e&&(fe=j1(N.navigation));let Et=fe||De;if(l4.has(K.response.status)&&Et&&Da(Et.formMethod))await Xe(Ae,Ue,{submission:{...Et,formAction:Ve},preventScrollReset:He||I,enableViewTransition:ie?R:void 0});else{let Kt=Ty(Ue,fe);await Xe(Ae,Ue,{overrideNavigation:Kt,fetcherSubmission:De,preventScrollReset:He||I,enableViewTransition:ie?R:void 0})}}async function kr(q,K,ie,fe,De,He){let Fe,Ve={};try{Fe=await v4(f,q,K,ie,fe,He,a,r,De,h.unstable_middleware)}catch(Ue){return ie.forEach(Ae=>{Ve[Ae.route.id]={type:"error",error:Ue}}),Ve}for(let[Ue,Ae]of Object.entries(Fe))if(T4(Ae)){let Oe=Ae.result;Ve[Ue]={type:"redirect",response:_4(Oe,K,Ue,fe,u)}}else Ve[Ue]=await x4(Ae);return Ve}async function Sr(q,K,ie,fe,De){let He=kr("loader",fe,K,q,De,null),Fe=Promise.all(ie.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let Ie=(await kr("loader",Gl(n.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,De,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ie}}else return Promise.resolve({[Ae.key]:{type:"error",error:da(404,{pathname:Ae.path})}})})),Ve=await He,Ue=(await Fe).reduce((Ae,Oe)=>Object.assign(Ae,Oe),{});return{loaderResults:Ve,fetcherResults:Ue}}function Mn(){B=!0,P.forEach((q,K)=>{we.has(K)&&Se.add(K),Dr(K)})}function Pr(q,K,ie={}){N.fetchers.set(q,K),Te({fetchers:new Map(N.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Pt(q,K,ie,fe={}){let De=Vo(N.matches,K);Or(q),Te({errors:{[De.route.id]:ie},fetchers:new Map(N.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function cn(q){return Z.set(q,(Z.get(q)||0)+1),ue.has(q)&&ue.delete(q),N.fetchers.get(q)||c4}function Or(q){let K=N.fetchers.get(q);we.has(q)&&!(K&&K.state==="loading"&&ne.has(q))&&Dr(q),P.delete(q),ne.delete(q),be.delete(q),ue.delete(q),Se.delete(q),N.fetchers.delete(q)}function ol(q){let K=(Z.get(q)||0)-1;K<=0?(Z.delete(q),ue.add(q)):Z.set(q,K),Te({fetchers:new Map(N.fetchers)})}function Dr(q){let K=we.get(q);K&&(K.abort(),we.delete(q))}function ll(q){for(let K of q){let ie=cn(K),fe=Cs(ie.data);N.fetchers.set(K,fe)}}function Pa(){let q=[],K=!1;for(let ie of be){let fe=N.fetchers.get(ie);ut(fe,`Expected fetcher: ${ie}`),fe.state==="loading"&&(be.delete(ie),q.push(ie),K=!0)}return ll(q),K}function va(q){let K=[];for(let[ie,fe]of ne)if(fe<q){let De=N.fetchers.get(ie);ut(De,`Expected fetcher: ${ie}`),De.state==="loading"&&(Dr(ie),ne.delete(ie),K.push(ie))}return ll(K),K.length>0}function kn(q,K){let ie=N.blockers.get(q)||ju;return xe.get(q)!==K&&xe.set(q,K),ie}function es(q){N.blockers.delete(q),xe.delete(q)}function mr(q,K){let ie=N.blockers.get(q)||ju;ut(ie.state==="unblocked"&&K.state==="blocked"||ie.state==="blocked"&&K.state==="blocked"||ie.state==="blocked"&&K.state==="proceeding"||ie.state==="blocked"&&K.state==="unblocked"||ie.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${ie.state} -> ${K.state}`);let fe=new Map(N.blockers);fe.set(q,K),Te({blockers:fe})}function Pn({currentLocation:q,nextLocation:K,historyAction:ie}){if(xe.size===0)return;xe.size>1&&tr(!1,"A router only supports one blocker at a time");let fe=Array.from(xe.entries()),[De,He]=fe[fe.length-1],Fe=N.blockers.get(De);if(!(Fe&&Fe.state==="proceeding")&&He({currentLocation:q,nextLocation:K,historyAction:ie}))return De}function mi(q){let K=da(404,{pathname:q}),ie=l||o,{matches:fe,route:De}=O1(ie);return{notFoundMatches:fe,route:De,error:K}}function cl(q,K,ie){if(x=q,T=K,w=ie||null,!A&&N.navigation===Ey){A=!0;let fe=ba(N.location,N.matches);fe!=null&&Te({restoreScrollPosition:fe})}return()=>{x=null,T=null,w=null}}function no(q,K){return w&&w(q,K.map(fe=>BM(fe,N.loaderData)))||q.key}function qr(q,K){if(x&&T){let ie=no(q,K);x[ie]=T()}}function ba(q,K){if(x){let ie=no(q,K),fe=x[ie];if(typeof fe=="number")return fe}return null}function rr(q,K,ie){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Dh(K,ie,u,!0)}}else return{active:!0,matches:Dh(K,ie,u,!0)||[]};return{active:!1,matches:null}}async function Hn(q,K,ie,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let De=q;for(;;){let He=l==null,Fe=l||o,Ve=a;try{await n.patchRoutesOnNavigation({signal:ie,path:K,matches:De,fetcherKey:fe,patch:(Oe,Ie)=>{ie.aborted||A1(Oe,Ie,Fe,Ve,r)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:De}}finally{He&&!ie.aborted&&(o=[...o])}if(ie.aborted)return{type:"aborted"};let Ue=Ns(Fe,K,u);if(Ue)return{type:"success",matches:Ue};let Ae=Dh(Fe,K,u,!0);if(!Ae||De.length===Ae.length&&De.every((Oe,Ie)=>Oe.route.id===Ae[Ie].route.id))return{type:"success",matches:null};De=Ae}}function Oa(q){a={},l=qh(q,r,void 0,a)}function ts(q,K){let ie=l==null;A1(q,K,l||o,a,r),ie&&(o=[...o],Te({}))}return Y={get basename(){return u},get future(){return h},get state(){return N},get routes(){return o},get window(){return e},initialize:se,subscribe:Ce,enableScrollRestoration:cl,navigate:dt,fetch:fr,revalidate:nt,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:cn,deleteFetcher:ol,dispose:Ne,getBlocker:kn,deleteBlocker:es,patchRoutes:ts,_internalFetchControllers:we,_internalSetRoutes:Oa},Y}function f4(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function a0(n,e,t,r,a,o){let l,u;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){u=h;break}}else l=e,u=e[e.length-1];let f=pv(r||".",mv(l),ga(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&u){let h=yv(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let y=new URLSearchParams(f.search),v=y.getAll("index");y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let x=y.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:ti([t,f.pathname])),Bs(f)}function E1(n,e,t){if(!t||!f4(t))return{path:e};if(t.formMethod&&!S4(t.formMethod))return{path:e,error:da(405,{method:t.formMethod})};let r=()=>({path:e,error:da(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=xS(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Da(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[w,T])=>`${x}${w}=${T}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Da(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let u,f;if(t.formData)u=s0(t.formData),f=t.formData;else if(t.body instanceof FormData)u=s0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)u=t.body,f=N1(u);else if(t.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(t.body),f=N1(u)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Da(h.formMethod))return{path:e,submission:h};let y=Xs(e);return n&&y.search&&yv(y.search)&&u.append("index",""),y.search=`?${u}`,{path:Bs(y),submission:h}}function T1(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function S1(n,e,t,r,a,o,l,u,f,h,y,v,x,w){let T=w?Fr(w[1])?w[1].error:w[1].data:void 0,A=n.createURL(e.location),D=n.createURL(a),O=t;o&&e.errors?O=T1(t,Object.keys(e.errors)[0],!0):w&&Fr(w[1])&&(O=T1(t,w[0]));let U=w?w[1].statusCode:void 0,F=U&&U>=400,Y=O.filter(($,I)=>{let{route:C}=$;if(C.lazy)return!0;if(C.loader==null)return!1;if(o)return i0(C,e.loaderData,e.errors);if(h4(e.loaderData,e.matches[I],$))return!0;let R=e.matches[I],M=$;return D1($,{currentUrl:A,currentParams:R.params,nextUrl:D,nextParams:M.params,...r,actionResult:T,actionStatus:U,defaultShouldRevalidate:F?!1:l||A.pathname+A.search===D.pathname+D.search||A.search!==D.search||m4(R,M)})}),N=[];return h.forEach(($,I)=>{if(o||!t.some(H=>H.route.id===$.routeId)||f.has(I))return;let C=Ns(v,$.path,x);if(!C){N.push({key:I,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(I),M=qu(C,$.path),L=!1;y.has(I)?L=!1:u.has(I)?(u.delete(I),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=l:L=D1(M,{currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...r,actionResult:T,actionStatus:U,defaultShouldRevalidate:F?!1:l}),L&&N.push({key:I,routeId:$.routeId,path:$.path,matches:C,match:M,controller:new AbortController})}),[Y,N]}function i0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function h4(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function m4(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function D1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function A1(n,e,t,r,a){let o;if(n){let f=r[n];ut(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let l=e.filter(f=>!o.some(h=>vS(f,h))),u=qh(l,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function vS(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>vS(t,o))}):!1}async function p4(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];ut(a,"No route found in manifest");let o={};for(let l in r){let f=a[l]!==void 0&&l!=="hasErrorBoundary";tr(!f,`Route "${a.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!f&&!LM.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function C1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function g4(n){return n.matches.some(e=>e.route.unstable_middleware)?y4(n,!1,()=>C1(n),(e,t)=>({[t]:{type:"error",result:e}})):C1(n)}async function y4(n,e,t,r){let{matches:a,request:o,params:l,context:u}=n,f={handlerResult:void 0};try{let h=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),y=await bS({request:o,params:l,context:u},h,e,f,t);return e?y:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function bS(n,e,t,r,a,o=0){let{request:l}=n;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return r.handlerResult=await a(),r.handlerResult;let[f,h]=u,y=!1,v,x=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await bS(n,e,t,r,a,o+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},x);return y?w===void 0?v:w:x()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}async function v4(n,e,t,r,a,o,l,u,f,h){let y=a.map(w=>w.route.lazy?p4(w.route,u,l):void 0);h&&await Promise.all(y);let v=a.map((w,T)=>{let A=y[T],D=r.some(U=>U.route.id===w.route.id);return{...w,shouldLoad:D,resolve:async U=>(U&&t.method==="GET"&&(w.route.lazy||w.route.loader)&&(D=!0),D?b4(e,t,w,A,U,f):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:v,request:t,params:a[0].params,fetcherKey:o,context:f});try{await Promise.all(y)}catch{}return x}async function b4(n,e,t,r,a,o){let l,u,f=h=>{let y,v=new Promise((T,A)=>y=A);u=()=>y(),e.signal.addEventListener("abort",u);let x=T=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:o},...T!==void 0?[T]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(A=>x(A)):x())}}catch(T){return{type:"error",result:T}}})();return Promise.race([w,v])};try{let h=t.route[n];if(r)if(h){let y,[v]=await Promise.all([f(h).catch(x=>{y=x}),r]);if(y!==void 0)throw y;l=v}else if(await r,h=t.route[n],h)l=await f(h);else if(n==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw da(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(h)l=await f(h);else{let y=new URL(e.url),v=y.pathname+y.search;throw da(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function x4(n){var r,a,o,l,u,f;let{result:e,type:t}=n;if(_S(e)){let h;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Gh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?I1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Gh(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:cd(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cd(e)?e.status:void 0}:I1(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function _4(n,e,t,r,a){let o=n.headers.get("Location");if(ut(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gv.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===t)+1);o=a0(new URL(e.url),l,a,o),n.headers.set("Location",o)}return n}function R1(n,e,t){if(gv.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ga(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Gl(n,e,t,r){let a=n.createURL(xS(e)).toString(),o={signal:t};if(r&&Da(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=s0(r.formData):o.body=r.formData}return new Request(a,o)}function s0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function N1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function w4(n,e,t,r=!1,a=!1){let o={},l=null,u,f=!1,h={},y=t&&Fr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(ut(!Lo(w),"Cannot handle redirect results in processLoaderData"),Fr(w)){let T=w.error;if(y!==void 0&&(T=y,y=void 0),l=l||{},a)l[x]=T;else{let A=Vo(n,x);l[A.route.id]==null&&(l[A.route.id]=T)}r||(o[x]=yS),f||(f=!0,u=cd(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else o[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(h[x]=w.headers)}),y!==void 0&&t&&(l={[t[0]]:y},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function M1(n,e,t,r,a,o){let{loaderData:l,errors:u}=w4(e,t,r);return a.forEach(f=>{let{key:h,match:y,controller:v}=f,x=o[h];if(ut(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Fr(x)){let w=Vo(n.matches,y==null?void 0:y.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:x.error}),n.fetchers.delete(h)}else if(Lo(x))ut(!1,"Unhandled fetcher revalidation redirect");else{let w=Cs(x.data);n.fetchers.set(h,w)}}),{loaderData:l,errors:u}}function k1(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==yS).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(a[l]=n[l]),r&&r.hasOwnProperty(l))break}return a}function P1(n){return n?Fr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Vo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function O1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function da(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",u=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Gh(n||500,l,new Error(u),!0)}function oh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Lo(a))return{key:r,result:a}}}function xS(n){let e=typeof n=="string"?Xs(n):n;return Bs({...e,hash:""})}function E4(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function T4(n){return _S(n.result)&&o4.has(n.result.status)}function Fr(n){return n.type==="error"}function Lo(n){return(n&&n.type)==="redirect"}function I1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function _S(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function S4(n){return s4.has(n.toUpperCase())}function Da(n){return a4.has(n.toUpperCase())}function yv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function qu(n,e){let t=typeof e=="string"?Xs(e).search:e.search;if(n[n.length-1].route.index&&yv(t||""))return n[n.length-1];let r=mS(n);return r[r.length-1]}function j1(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:l}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ty(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function D4(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function A4(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Cs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function C4(n,e){try{let t=n.sessionStorage.getItem(gS);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function R4(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(gS,JSON.stringify(t))}catch(r){tr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function N4(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var tl=k.createContext(null);tl.displayName="DataRouter";var Md=k.createContext(null);Md.displayName="DataRouterState";var vv=k.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var wS=k.createContext(new Map);wS.displayName="Fetchers";var M4=k.createContext(null);M4.displayName="Await";var ui=k.createContext(null);ui.displayName="Navigation";var Im=k.createContext(null);Im.displayName="Location";var di=k.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var bv=k.createContext(null);bv.displayName="RouteError";function k4(n,{relative:e}={}){ut(kd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=k.useContext(ui),{hash:a,pathname:o,search:l}=Pd(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ti([t,o])),r.createHref({pathname:u,search:l,hash:a})}function kd(){return k.useContext(Im)!=null}function ka(){return ut(kd(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Im).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(n){k.useContext(ui).static||k.useLayoutEffect(n)}function Nn(){let{isDataRoute:n}=k.useContext(di);return n?q4():P4()}function P4(){ut(kd(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(tl),{basename:e,navigator:t}=k.useContext(ui),{matches:r}=k.useContext(di),{pathname:a}=ka(),o=JSON.stringify(mv(r)),l=k.useRef(!1);return TS(()=>{l.current=!0}),k.useCallback((f,h={})=>{if(tr(l.current,ES),!l.current)return;if(typeof f=="number"){t.go(f);return}let y=pv(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ti([e,y.pathname])),(h.replace?t.replace:t.push)(y,h.state,h)},[e,t,o,a,n])}k.createContext(null);function jm(){let{matches:n}=k.useContext(di),e=n[n.length-1];return e?e.params:{}}function Pd(n,{relative:e}={}){let{matches:t}=k.useContext(di),{pathname:r}=ka(),a=JSON.stringify(mv(t));return k.useMemo(()=>pv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function O4(n,e,t,r){ut(kd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=k.useContext(ui),{matches:l}=k.useContext(di),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",y=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";SS(h,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=ka(),w;w=x;let T=w.pathname||"/",A=T;if(y!=="/"){let U=y.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:Ns(n,{pathname:A});return tr(v||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),tr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),U4(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:ti([y,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:ti([y,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,r)}function I4(){let n=Y4(),e=cd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:a},t):null,l)}var j4=k.createElement(I4,null),V4=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?k.createElement(di.Provider,{value:this.props.routeContext},k.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L4({routeContext:n,match:e,children:t}){let r=k.useContext(tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(di.Provider,{value:n},t)}function U4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ut(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:y,errors:v}=t,x=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,y)=>{let v,x=!1,w=null,T=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||j4,l&&(u<0&&y===0?(SS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):u===y&&(x=!0,T=h.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,y+1)),D=()=>{let O;return v?O=w:x?O=T:h.route.Component?O=k.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,k.createElement(L4,{match:h,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?k.createElement(V4,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function xv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B4(n){let e=k.useContext(tl);return ut(e,xv(n)),e}function F4(n){let e=k.useContext(Md);return ut(e,xv(n)),e}function z4(n){let e=k.useContext(di);return ut(e,xv(n)),e}function _v(n){let e=z4(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function H4(){return _v("useRouteId")}function Y4(){var r;let n=k.useContext(bv),e=F4("useRouteError"),t=_v("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function q4(){let{router:n}=B4("useNavigate"),e=_v("useNavigate"),t=k.useRef(!1);return TS(()=>{t.current=!0}),k.useCallback(async(a,o={})=>{tr(t.current,ES),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var V1={};function SS(n,e,t){!e&&!V1[n]&&(V1[n]=!0,tr(!1,t))}var L1={};function U1(n,e){!n&&!L1[e]&&(L1[e]=!0,console.warn(e))}function $4(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&tr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&tr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&tr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var G4=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Q4({router:n,flushSync:e}){let[t,r]=k.useState(n.state),[a,o]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[f,h]=k.useState(),[y,v]=k.useState(),[x,w]=k.useState(),T=k.useRef(new Map),A=k.useCallback((F,{deletedFetchers:Y,flushSync:N,viewTransitionOpts:$})=>{F.fetchers.forEach((C,R)=>{C.data!==void 0&&T.current.set(R,C.data)}),Y.forEach(C=>T.current.delete(C)),U1(N===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(U1($==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!I){e&&N?e(()=>r(F)):k.startTransition(()=>r(F));return}if(e&&N){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let C=n.window.document.startViewTransition(()=>{e(()=>r(F))});C.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(C));return}y?(f&&f.resolve(),y.skipTransition(),w({state:F,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(o(F),u({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,e,y,f]);k.useLayoutEffect(()=>n.subscribe(A),[n,A]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new G4)},[l]),k.useEffect(()=>{if(f&&a&&n.window){let F=a,Y=f.promise,N=n.window.document.startViewTransition(async()=>{k.startTransition(()=>r(F)),await Y});N.finished.finally(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(N)}},[a,f,n.window]),k.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),k.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),w(void 0))},[l.isTransitioning,x]);let D=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:F=>n.navigate(F),push:(F,Y,N)=>n.navigate(F,{state:Y,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(F,Y,N)=>n.navigate(F,{replace:!0,state:Y,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),O=n.basename||"/",U=k.useMemo(()=>({router:n,navigator:D,static:!1,basename:O}),[n,D,O]);return k.createElement(k.Fragment,null,k.createElement(tl.Provider,{value:U},k.createElement(Md.Provider,{value:t},k.createElement(wS.Provider,{value:T.current},k.createElement(vv.Provider,{value:l},k.createElement(X4,{basename:O,location:t.location,navigationType:t.historyAction,navigator:D},k.createElement(K4,{routes:n.routes,future:n.future,state:t})))))),null)}var K4=k.memo(W4);function W4({routes:n,future:e,state:t}){return O4(n,void 0,t,e)}function Qn(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ut(!kd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Xs(t));let{pathname:f="/",search:h="",hash:y="",state:v=null,key:x="default"}=t,w=k.useMemo(()=>{let T=ga(f,l);return T==null?null:{location:{pathname:T,search:h,hash:y,state:v,key:x},navigationType:r}},[l,f,h,y,v,x,r]);return tr(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(ui.Provider,{value:u},k.createElement(Im.Provider,{children:e,value:w}))}function o0(n,e=[]){let t=[];return k.Children.forEach(n,(r,a)=>{if(!k.isValidElement(r))return;let o=[...e,a];if(r.type===k.Fragment){t.push.apply(t,o0(r.props.children,o));return}ut(r.type===Qn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=o0(r.props.children,o)),t.push(l)}),t}var Z4=o0,Ah="get",Ch="application/x-www-form-urlencoded";function Vm(n){return n!=null&&typeof n.tagName=="string"}function J4(n){return Vm(n)&&n.tagName.toLowerCase()==="button"}function ek(n){return Vm(n)&&n.tagName.toLowerCase()==="form"}function tk(n){return Vm(n)&&n.tagName.toLowerCase()==="input"}function nk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rk(n,e){return n.button===0&&(!e||e==="_self")&&!nk(n)}var lh=null;function ak(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sy(n){return n!=null&&!ik.has(n)?(tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):n}function sk(n,e){let t,r,a,o,l;if(ek(n)){let u=n.getAttribute("action");r=u?ga(u,e):null,t=n.getAttribute("method")||Ah,a=Sy(n.getAttribute("enctype"))||Ch,o=new FormData(n)}else if(J4(n)||tk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?ga(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ah,a=Sy(n.getAttribute("formenctype"))||Sy(u.getAttribute("enctype"))||Ch,o=new FormData(u,n),!ak()){let{name:h,type:y,value:v}=n;if(y==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,v)}}else{if(Vm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ah,r=null,a=Ch,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function wv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ok(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ck(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await ok(o,t);return l.links?l.links():[]}return[]}));return hk(r.flat(1).filter(lk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function B1(n,e,t,r,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var y;return t[h].pathname!==f.pathname||((y=t[h].route.path)==null?void 0:y.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{var v;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function uk(n,e,{includeHydrateFallback:t}={}){return dk(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function dk(n){return[...new Set(n)]}function fk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function hk(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(fk(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function mk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DS(){let n=k.useContext(tl);return wv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pk(){let n=k.useContext(Md);return wv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ev=k.createContext(void 0);Ev.displayName="FrameworkContext";function AS(){let n=k.useContext(Ev);return wv(n,"You must render this element inside a <HydratedRouter> element"),n}function gk(n,e){let t=k.useContext(Ev),[r,a]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:y,onTouchStart:v}=e,x=k.useRef(null);k.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(U=>{l(U.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return x.current&&D.observe(x.current),()=>{D.disconnect()}}},[n]),k.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{a(!0)},T=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Lu(u,w),onBlur:Lu(f,T),onMouseEnter:Lu(h,w),onMouseLeave:Lu(y,T),onTouchStart:Lu(v,w)}]:[!1,x,{}]}function Lu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function yk({page:n,...e}){let{router:t}=DS(),r=k.useMemo(()=>Ns(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?k.createElement(bk,{page:n,matches:r,...e}):null}function vk(n){let{manifest:e,routeModules:t}=AS(),[r,a]=k.useState([]);return k.useEffect(()=>{let o=!1;return ck(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function bk({page:n,matches:e,...t}){let r=ka(),{manifest:a,routeModules:o}=AS(),{basename:l}=DS(),{loaderData:u,matches:f}=pk(),h=k.useMemo(()=>B1(n,e,f,a,r,"data"),[n,e,f,a,r]),y=k.useMemo(()=>B1(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=k.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(O=>{var F;let U=a.routes[O.route.id];!U||!U.hasLoader||(!h.some(Y=>Y.route.id===O.route.id)&&O.route.id in u&&((F=o[O.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?A=!0:T.add(O.route.id))}),T.size===0)return[];let D=mk(n,l);return A&&T.size>0&&D.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[l,u,r,a,h,e,n,o]),x=k.useMemo(()=>uk(y,a),[y,a]),w=vk(y);return k.createElement(k.Fragment,null,v.map(T=>k.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),x.map(T=>k.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:A})=>k.createElement("link",{key:T,...A})))}function xk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CS&&(window.__reactRouterVersion="7.4.0")}catch{}function _k(n,e){return d4({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:IM({window:e==null?void 0:e.window}),hydrationData:wk(),routes:n,mapRouteProperties:$4,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function wk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Ek(n.errors)}),n}function Ek(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Gh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=k.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:y,viewTransition:v,...x},w){let{basename:T}=k.useContext(ui),A=typeof h=="string"&&RS.test(h),D,O=!1;if(typeof h=="string"&&A&&(D=h,CS))try{let R=new URL(window.location.href),M=h.startsWith("//")?new URL(R.protocol+h):new URL(h),L=ga(M.pathname,T);M.origin===R.origin&&L!=null?h=L+M.search+M.hash:O=!0}catch{tr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=k4(h,{relative:a}),[F,Y,N]=gk(r,x),$=Ak(h,{replace:l,state:u,target:f,preventScrollReset:y,relative:a,viewTransition:v});function I(R){e&&e(R),R.defaultPrevented||$(R)}let C=k.createElement("a",{...x,...N,href:D||U,onClick:O||o?e:I,ref:xk(w,Y),target:f,"data-discover":!A&&t==="render"?"true":void 0});return F&&!A?k.createElement(k.Fragment,null,C,k.createElement(yk,{page:U})):C});lc.displayName="Link";var Tk=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:u,children:f,...h},y){let v=Pd(l,{relative:h.relative}),x=ka(),w=k.useContext(Md),{navigator:T,basename:A}=k.useContext(ui),D=w!=null&&kk(v)&&u===!0,O=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,U=x.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(U=U.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&A&&(F=ga(F,A)||F);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let N=U===O||!a&&U.startsWith(O)&&U.charAt(Y)==="/",$=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),I={isActive:N,isPending:$,isTransitioning:D},C=N?e:void 0,R;typeof r=="function"?R=r(I):R=[r,N?"active":null,$?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(I):o;return k.createElement(lc,{...h,"aria-current":C,className:R,ref:y,style:M,to:l,viewTransition:u},typeof f=="function"?f(I):f)});Tk.displayName="NavLink";var Sk=k.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=Ah,action:u,onSubmit:f,relative:h,preventScrollReset:y,viewTransition:v,...x},w)=>{let T=Nk(),A=Mk(u,{relative:h}),D=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&RS.test(u),U=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let Y=F.nativeEvent.submitter,N=(Y==null?void 0:Y.getAttribute("formmethod"))||l;T(Y||F.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:a,state:o,relative:h,preventScrollReset:y,viewTransition:v})};return k.createElement("form",{ref:w,method:D,action:A,onSubmit:r?f:U,...x,"data-discover":!O&&n==="render"?"true":void 0})});Sk.displayName="Form";function Dk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(n){let e=k.useContext(tl);return ut(e,Dk(n)),e}function Ak(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=Nn(),f=ka(),h=Pd(n,{relative:o});return k.useCallback(y=>{if(rk(y,e)){y.preventDefault();let v=t!==void 0?t:Bs(f)===Bs(h);u(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,u,h,t,r,e,n,a,o,l])}var Ck=0,Rk=()=>`__${String(++Ck)}__`;function Nk(){let{router:n}=NS("useSubmit"),{basename:e}=k.useContext(ui),t=H4();return k.useCallback(async(r,a={})=>{let{action:o,method:l,encType:u,formData:f,body:h}=sk(r,e);if(a.navigate===!1){let y=a.fetcherKey||Rk();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Mk(n,{relative:e}={}){let{basename:t}=k.useContext(ui),r=k.useContext(di);ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Pd(n||".",{relative:e})},l=ka();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(y=>y==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let y=u.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ti([t,o.pathname])),Bs(o)}function kk(n,e={}){let t=k.useContext(vv);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NS("useViewTransitionState"),a=Pd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $h(a.pathname,l)!=null||$h(a.pathname,o)!=null}new TextEncoder;var Tv=uS();const Pk=cS(Tv);/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ok(n){return k.createElement(Q4,{flushSync:Tv.flushSync,...n})}const Sv=k.createContext({});function Dv(n){const e=k.useRef(null);return e.current===null&&(e.current=n()),e.current}const Av=typeof window<"u",MS=Av?k.useLayoutEffect:k.useEffect,Lm=k.createContext(null),Cv=k.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Ik extends k.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jk({children:n,isPresent:e,anchorX:t}){const r=k.useId(),a=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(Cv);return k.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:y,right:v}=o.current;if(e||!a.current||!u||!f)return;const x=t==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=r;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),g.jsx(Ik,{isPresent:e,childRef:a,sizeRef:o,children:k.cloneElement(n,{ref:a})})}const Vk=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const f=Dv(Lk),h=k.useId(),y=k.useCallback(x=>{f.set(x,!0);for(const w of f.values())if(!w)return;r&&r()},[f,r]),v=k.useMemo(()=>({id:h,initial:e,isPresent:t,custom:a,onExitComplete:y,register:x=>(f.set(x,!1),()=>f.delete(x))}),o?[Math.random(),y]:[t,y]);return k.useMemo(()=>{f.forEach((x,w)=>f.set(w,!1))},[t]),k.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),l==="popLayout"&&(n=g.jsx(jk,{isPresent:t,anchorX:u,children:n})),g.jsx(Lm.Provider,{value:v,children:n})};function Lk(){return new Map}function kS(n=!0){const e=k.useContext(Lm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,o=k.useId();k.useEffect(()=>{if(n)return a(o)},[n]);const l=k.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const ch=n=>n.key||"";function F1(n){const e=[];return k.Children.forEach(n,t=>{k.isValidElement(t)&&e.push(t)}),e}const Uk=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[f,h]=kS(l),y=k.useMemo(()=>F1(n),[n]),v=l&&!f?[]:y.map(ch),x=k.useRef(!0),w=k.useRef(y),T=Dv(()=>new Map),[A,D]=k.useState(y),[O,U]=k.useState(y);MS(()=>{x.current=!1,w.current=y;for(let N=0;N<O.length;N++){const $=ch(O[N]);v.includes($)?T.delete($):T.get($)!==!0&&T.set($,!1)}},[O,v.length,v.join("-")]);const F=[];if(y!==A){let N=[...y];for(let $=0;$<O.length;$++){const I=O[$],C=ch(I);v.includes(C)||(N.splice($,0,I),F.push(I))}return o==="wait"&&F.length&&(N=F),U(F1(N)),D(y),null}const{forceRender:Y}=k.useContext(Sv);return g.jsx(g.Fragment,{children:O.map(N=>{const $=ch(N),I=l&&!f?!1:y===O||v.includes($),C=()=>{if(T.has($))T.set($,!0);else return;let R=!0;T.forEach(M=>{M||(R=!1)}),R&&(Y==null||Y(),U(w.current),l&&(h==null||h()),r&&r())};return g.jsx(Vk,{isPresent:I,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,onExitComplete:I?void 0:C,anchorX:u,children:N},$)})})};function Rv(n,e){n.indexOf(e)===-1&&n.push(e)}function Nv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hr=n=>n;let PS=Hr;const Bk={useManualTiming:!1};function Mv(n){let e;return()=>(e===void 0&&(e=n()),e)}const cc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class kv{constructor(){this.subscriptions=[]}add(e){return Rv(this.subscriptions,e),()=>Nv(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ui=n=>n*1e3,Bi=n=>n/1e3;function OS(n,e){return e?n*(1e3/e):0}const Fk=Mv(()=>window.ScrollTimeline!==void 0);class zk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(Fk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Hk extends zk{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Pv(n,e){return n?n[e]||n.default||n:void 0}const l0=2e4;function IS(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<l0;)e+=t,r=n.next(e);return e>=l0?1/0:e}function Ov(n){return typeof n=="function"}function z1(n,e){n.timeline=e,n.onfinish=null}const Iv=n=>Array.isArray(n)&&typeof n[0]=="number",Yk={linearEasing:void 0};function qk(n,e){const t=Mv(n);return()=>{var r;return(r=Yk[e])!==null&&r!==void 0?r:t()}}const Qh=qk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jS=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)r+=n(cc(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function VS(n){return!!(typeof n=="function"&&Qh()||!n||typeof n=="string"&&(n in c0||Qh())||Iv(n)||Array.isArray(n)&&n.every(VS))}const $u=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,c0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function LS(n,e){if(n)return typeof n=="function"&&Qh()?jS(n,e):Iv(n)?$u(n):Array.isArray(n)?n.map(t=>LS(t,e)||c0.easeOut):c0[n]}const uh=["read","resolveKeyframes","update","preRender","render","postRender"],H1={value:null};function $k(n,e){let t=new Set,r=new Set,a=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function h(v){l.has(v)&&(y.schedule(v),n()),f++,v(u)}const y={schedule:(v,x=!1,w=!1)=>{const A=w&&a?t:r;return x&&l.add(v),A.has(v)||A.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,a){o=!0;return}a=!0,[t,r]=[r,t],t.forEach(h),e&&H1.value&&H1.value.frameloop[e].push(f),f=0,t.clear(),a=!1,o&&(o=!1,y.process(v))}};return y}const Gk=40;function US(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=uh.reduce((O,U)=>(O[U]=$k(o,e?U:void 0),O),{}),{read:u,resolveKeyframes:f,update:h,preRender:y,render:v,postRender:x}=l,w=()=>{const O=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,Gk),1),a.timestamp=O,a.isProcessing=!0,u.process(a),f.process(a),h.process(a),y.process(a),v.process(a),x.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(w))},T=()=>{t=!0,r=!0,a.isProcessing||n(w)};return{schedule:uh.reduce((O,U)=>{const F=l[U];return O[U]=(Y,N=!1,$=!1)=>(t||T(),F.schedule(Y,N,$)),O},{}),cancel:O=>{for(let U=0;U<uh.length;U++)l[uh[U]].cancel(O)},state:a,steps:l}}const{schedule:qt,cancel:Fs,state:Kn,steps:Dy}=US(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),{schedule:jv}=US(queueMicrotask,!1);let Rh;function Qk(){Rh=void 0}const ni={now:()=>(Rh===void 0&&ni.set(Kn.isProcessing||Bk.useManualTiming?Kn.timestamp:performance.now()),Rh),set:n=>{Rh=n,queueMicrotask(Qk)}},Sa={x:!1,y:!1};function BS(){return Sa.x||Sa.y}function Kk(n){return n==="x"||n==="y"?Sa[n]?null:(Sa[n]=!0,()=>{Sa[n]=!1}):Sa.x||Sa.y?null:(Sa.x=Sa.y=!0,()=>{Sa.x=Sa.y=!1})}function Wk(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function FS(n,e){const t=Wk(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function Y1(n){return!(n.pointerType==="touch"||BS())}function Xk(n,e,t={}){const[r,a,o]=FS(n,t),l=u=>{if(!Y1(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const y=v=>{Y1(v)&&(h(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return r.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}function q1(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const zS=(n,e)=>e?n===e?!0:zS(n,e.parentElement):!1,Vv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Zk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Jk(n){return Zk.has(n.tagName)||n.tabIndex!==-1}const Gu=new WeakSet;function $1(n){return e=>{e.key==="Enter"&&n(e)}}function Ay(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=$1(()=>{if(Gu.has(t))return;Ay(t,"down");const a=$1(()=>{Ay(t,"up")}),o=()=>Ay(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function G1(n){return Vv(n)&&!BS()}function tP(n,e,t={}){const[r,a,o]=FS(n,t),l=u=>{const f=u.currentTarget;if(!f||!G1(u)||Gu.has(f))return;Gu.add(f),q1(u,"set");const h=e(f,u),y=(w,T)=>{f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",x),q1(w,"release"),!(!G1(w)||!Gu.has(f))&&(Gu.delete(f),typeof h=="function"&&h(w,{success:T}))},v=w=>{(w.isTrusted?nP(w,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(w,!1):y(w,!(f instanceof Element)||zS(f,w.target))},x=w=>{y(w,!1)};f.addEventListener("pointerup",v,a),f.addEventListener("pointercancel",x,a),f.addEventListener("lostpointercapture",x,a)};return r.forEach(u=>{u=t.useGlobalTarget?window:u;let f=!1;u instanceof HTMLElement&&(f=!0,!Jk(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0)),u.addEventListener("pointerdown",l,a),f&&u.addEventListener("focus",h=>eP(h,a),a)}),o}function nP(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const Q1=30,rP=n=>!isNaN(parseFloat(n));class aP{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=ni.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new kv);const r=this.events[e].add(t);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Q1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Q1);return OS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ud(n,e){return new aP(n,e)}const HS=k.createContext({strict:!1}),K1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uc={};for(const n in K1)uc[n]={isEnabled:e=>K1[n].some(t=>!!e[t])};function iP(n){for(const e in n)uc[e]={...uc[e],...n[e]}}const sP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sP.has(n)}let YS=n=>!Kh(n);function oP(n){n&&(YS=e=>e.startsWith("on")?!Kh(e):n(e))}try{oP(require("@emotion/is-prop-valid").default)}catch{}function lP(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(YS(a)||t===!0&&Kh(a)||!e&&!Kh(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function cP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const Um=k.createContext({});function Bm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function dd(n){return typeof n=="string"||Array.isArray(n)}const Lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uv=["initial",...Lv];function Fm(n){return Bm(n.animate)||Uv.some(e=>dd(n[e]))}function qS(n){return!!(Fm(n)||n.variants)}function uP(n,e){if(Fm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||dd(t)?t:void 0,animate:dd(r)?r:void 0}}return n.inherit!==!1?e:{}}function dP(n){const{initial:e,animate:t}=uP(n,k.useContext(Um));return k.useMemo(()=>({initial:e,animate:t}),[W1(e),W1(t)])}function W1(n){return Array.isArray(n)?n.join(" "):n}const fP=Symbol.for("motionComponentSymbol");function ec(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hP(n,e,t){return k.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ec(t)&&(t.current=r))},[e])}const Bv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mP="framerAppearId",$S="data-"+Bv(mP),GS=k.createContext({});function pP(n,e,t,r,a){var o,l;const{visualElement:u}=k.useContext(Um),f=k.useContext(HS),h=k.useContext(Lm),y=k.useContext(Cv).reducedMotion,v=k.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:y}));const x=v.current,w=k.useContext(GS);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&gP(v.current,t,a,w);const T=k.useRef(!1);k.useInsertionEffect(()=>{x&&T.current&&x.update(t,h)});const A=t[$S],D=k.useRef(!!A&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,A))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,A)));return MS(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),jv.render(x.render),D.current&&x.animationState&&x.animationState.animateChanges())}),k.useEffect(()=>{x&&(!D.current&&x.animationState&&x.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,A)}),D.current=!1))}),x}function gP(n,e,t,r){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:QS(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&ec(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:h})}function QS(n){if(n)return n.options.allowProjection!==!1?n.projection:QS(n.parent)}function yP({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var o,l;n&&iP(n);function u(h,y){let v;const x={...k.useContext(Cv),...h,layoutId:vP(h)},{isStatic:w}=x,T=dP(h),A=r(h,w);if(!w&&Av){bP();const D=xP(x);v=D.MeasureLayout,T.visualElement=pP(a,A,x,e,D.ProjectionNode)}return g.jsxs(Um.Provider,{value:T,children:[v&&T.visualElement?g.jsx(v,{visualElement:T.visualElement,...x}):null,t(a,h,hP(A,T.visualElement,y),A,w,T.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(l=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&l!==void 0?l:""})`}`;const f=k.forwardRef(u);return f[fP]=a,f}function vP({layoutId:n}){const e=k.useContext(Sv).id;return e&&n!==void 0?e+"-"+n:n}function bP(n,e){k.useContext(HS).strict}function xP(n){const{drag:e,layout:t}=uc;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const KS=n=>e=>typeof e=="string"&&e.startsWith(n),Fv=KS("--"),_P=KS("var(--"),zv=n=>_P(n)?wP.test(n.split("/*")[0].trim()):!1,wP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fd={};function EP(n){for(const e in n)fd[e]=n[e],Fv(e)&&(fd[e].isCSSVariable=!0)}const Rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(Rc);function WS(n,{layout:e,layoutId:t}){return nl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!fd[n]||n==="opacity")}const ur=n=>!!(n&&n.getVelocity),XS=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Gi=(n,e,t)=>t>e?e:t<n?n:t,Nc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},hd={...Nc,transform:n=>Gi(0,1,n)},dh={...Nc,default:1},Od=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Rs=Od("deg"),ri=Od("%"),Ke=Od("px"),TP=Od("vh"),SP=Od("vw"),X1={...ri,parse:n=>ri.parse(n)/100,transform:n=>ri.transform(n*100)},DP={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},AP={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:dh,scaleX:dh,scaleY:dh,scaleZ:dh,skew:Rs,skewX:Rs,skewY:Rs,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:hd,originX:X1,originY:X1,originZ:Ke},Z1={...Nc,transform:Math.round},Hv={...DP,...AP,zIndex:Z1,size:Ke,fillOpacity:hd,strokeOpacity:hd,numOctaves:Z1},CP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RP=Rc.length;function NP(n,e,t){let r="",a=!0;for(let o=0;o<RP;o++){const l=Rc[o],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const h=XS(u,Hv[l]);if(!f){a=!1;const y=CP[l]||l;r+=`${y}(${h}) `}t&&(e[l]=h)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function Yv(n,e,t){const{style:r,vars:a,transformOrigin:o}=n;let l=!1,u=!1;for(const f in e){const h=e[f];if(nl.has(f)){l=!0;continue}else if(Fv(f)){a[f]=h;continue}else{const y=XS(h,Hv[f]);f.startsWith("origin")?(u=!0,o[f]=y):r[f]=y}}if(e.transform||(l||t?r.transform=NP(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:y=0}=o;r.transformOrigin=`${f} ${h} ${y}`}}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZS(n,e,t){for(const r in e)!ur(e[r])&&!WS(r,t)&&(n[r]=e[r])}function MP({transformTemplate:n},e){return k.useMemo(()=>{const t=qv();return Yv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function kP(n,e){const t=n.style||{},r={};return ZS(r,t,n),Object.assign(r,MP(n,e)),r}function PP(n,e){const t={},r=kP(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const OP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $v(n){return typeof n!="string"||n.includes("-")?!1:!!(OP.indexOf(n)>-1||/[A-Z]/u.test(n))}const IP={offset:"stroke-dashoffset",array:"stroke-dasharray"},jP={offset:"strokeDashoffset",array:"strokeDasharray"};function VP(n,e,t=1,r=0,a=!0){n.pathLength=1;const o=a?IP:jP;n[o.offset]=Ke.transform(-r);const l=Ke.transform(e),u=Ke.transform(t);n[o.array]=`${l} ${u}`}function J1(n,e,t){return typeof n=="string"?n:Ke.transform(e+t*n)}function LP(n,e,t){const r=J1(e,n.x,n.width),a=J1(t,n.y,n.height);return`${r} ${a}`}function Gv(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...h},y,v){if(Yv(n,h,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:w,dimensions:T}=n;x.transform&&(T&&(w.transform=x.transform),delete x.transform),T&&(a!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=LP(T,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),l!==void 0&&VP(x,l,u,f,!1)}const JS=()=>({...qv(),attrs:{}}),Qv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function UP(n,e,t,r){const a=k.useMemo(()=>{const o=JS();return Gv(o,e,Qv(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};ZS(o,n.style,n),a.style={...o,...a.style}}return a}function BP(n=!1){return(t,r,a,{latestValues:o},l)=>{const f=($v(t)?UP:PP)(r,o,l,t),h=lP(r,typeof t=="string",n),y=t!==k.Fragment?{...h,...f,ref:a}:{},{children:v}=r,x=k.useMemo(()=>ur(v)?v.get():v,[v]);return k.createElement(t,{...y,children:x})}}function eE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Kv(n,e,t,r){if(typeof e=="function"){const[a,o]=eE(r);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=eE(r);e=e(t!==void 0?t:n.custom,a,o)}return e}const u0=n=>Array.isArray(n),FP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),zP=n=>u0(n)?n[n.length-1]||0:n;function Nh(n){const e=ur(n)?n.get():n;return FP(e)?e.toValue():e}function HP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,o){const l={latestValues:YP(r,a,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const eD=n=>(e,t)=>{const r=k.useContext(Um),a=k.useContext(Lm),o=()=>HP(n,e,r,a);return t?o():Dv(o)};function YP(n,e,t,r){const a={},o=r(n,{});for(const x in o)a[x]=Nh(o[x]);let{initial:l,animate:u}=n;const f=Fm(n),h=qS(n);e&&h&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let y=t?t.initial===!1:!1;y=y||l===!1;const v=y?u:l;if(v&&typeof v!="boolean"&&!Bm(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=Kv(n,x[w]);if(T){const{transitionEnd:A,transition:D,...O}=T;for(const U in O){let F=O[U];if(Array.isArray(F)){const Y=y?F.length-1:0;F=F[Y]}F!==null&&(a[U]=F)}for(const U in A)a[U]=A[U]}}}return a}function Wv(n,e,t){var r;const{style:a}=n,o={};for(const l in a)(ur(a[l])||e.style&&ur(e.style[l])||WS(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=a[l]);return o}const qP={useVisualState:eD({scrapeMotionValuesFromProps:Wv,createRenderState:qv})};function tD(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function nD(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const rD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aD(n,e,t,r){nD(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(rD.has(a)?a:Bv(a),e.attrs[a])}function iD(n,e,t){const r=Wv(n,e,t);for(const a in n)if(ur(n[a])||ur(e[a])){const o=Rc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=n[a]}return r}const tE=["x","y","width","height","cx","cy","r"],$P={useVisualState:eD({scrapeMotionValuesFromProps:iD,createRenderState:JS,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in a)if(nl.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<tE.length;u++){const f=tE[u];n[f]!==e[f]&&(l=!0)}l&&qt.read(()=>{tD(t,r),qt.render(()=>{Gv(r,a,Qv(t.tagName),n.transformTemplate),aD(t,r)})})}})};function GP(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...$v(r)?$P:qP,preloadedFeatures:n,useRender:BP(a),createVisualElement:e,Component:r};return yP(l)}}function md(n,e,t){const r=n.getProps();return Kv(r,e,t!==void 0?t:r.custom,n)}const sD=new Set(["width","height","top","left","right","bottom",...Rc]);function QP(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ud(t))}function KP(n,e){const t=md(n,e);let{transitionEnd:r={},transition:a={},...o}=t||{};o={...o,...r};for(const l in o){const u=zP(o[l]);QP(n,l,u)}}function WP(n){return!!(ur(n)&&n.add)}function d0(n,e){const t=n.getValue("willChange");if(WP(t))return t.add(e)}function oD(n){return n.props[$S]}const lD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,XP=1e-7,ZP=12;function JP(n,e,t,r,a){let o,l,u=0;do l=e+(t-e)/2,o=lD(l,r,a)-n,o>0?t=l:e=l;while(Math.abs(o)>XP&&++u<ZP);return l}function Id(n,e,t,r){if(n===e&&t===r)return Hr;const a=o=>JP(o,0,1,n,t);return o=>o===0||o===1?o:lD(a(o),e,r)}const cD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,uD=n=>e=>1-n(1-e),dD=Id(.33,1.53,.69,.99),Xv=uD(dD),fD=cD(Xv),hD=n=>(n*=2)<1?.5*Xv(n):.5*(2-Math.pow(2,-10*(n-1))),Zv=n=>1-Math.sin(Math.acos(n)),mD=uD(Zv),pD=cD(Zv),gD=n=>/^0[^.\s]+$/u.test(n);function eO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||gD(n):!0}const ed=n=>Math.round(n*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tO(n){return n==null}const nO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eb=(n,e)=>t=>!!(typeof t=="string"&&nO.test(t)&&t.startsWith(n)||e&&!tO(t)&&Object.prototype.hasOwnProperty.call(t,e)),yD=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,o,l,u]=r.match(Jv);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},rO=n=>Gi(0,255,n),Cy={...Nc,transform:n=>Math.round(rO(n))},Uo={test:eb("rgb","red"),parse:yD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Cy.transform(n)+", "+Cy.transform(e)+", "+Cy.transform(t)+", "+ed(hd.transform(r))+")"};function aO(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const f0={test:eb("#"),parse:aO,transform:Uo.transform},tc={test:eb("hsl","hue"),parse:yD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ri.transform(ed(e))+", "+ri.transform(ed(t))+", "+ed(hd.transform(r))+")"},or={test:n=>Uo.test(n)||f0.test(n)||tc.test(n),parse:n=>Uo.test(n)?Uo.parse(n):tc.test(n)?tc.parse(n):f0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Uo.transform(n):tc.transform(n)},iO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sO(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Jv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(iO))===null||t===void 0?void 0:t.length)||0)>0}const vD="number",bD="color",oO="var",lO="var(",nE="${}",cO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pd(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(cO,f=>(or.test(f)?(r.color.push(o),a.push(bD),t.push(or.parse(f))):f.startsWith(lO)?(r.var.push(o),a.push(oO),t.push(f)):(r.number.push(o),a.push(vD),t.push(parseFloat(f))),++o,nE)).split(nE);return{values:t,split:u,indexes:r,types:a}}function xD(n){return pd(n).values}function _D(n){const{split:e,types:t}=pd(n),r=e.length;return a=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],a[l]!==void 0){const u=t[l];u===vD?o+=ed(a[l]):u===bD?o+=or.transform(a[l]):o+=a[l]}return o}}const uO=n=>typeof n=="number"?0:n;function dO(n){const e=xD(n);return _D(n)(e.map(uO))}const zs={test:sO,parse:xD,createTransformer:_D,getAnimatableNone:dO},fO=new Set(["brightness","contrast","saturate","opacity"]);function hO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Jv)||[];if(!r)return n;const a=t.replace(r,"");let o=fO.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+a+")"}const mO=/\b([a-z-]*)\(.*?\)/gu,h0={...zs,getAnimatableNone:n=>{const e=n.match(mO);return e?e.map(hO).join(" "):n}},pO={...Hv,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:h0,WebkitFilter:h0},wD=n=>pO[n];function ED(n,e){let t=wD(n);return t!==h0&&(t=zs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const gO=new Set(["auto","none","0"]);function yO(n,e,t){let r=0,a;for(;r<n.length&&!a;){const o=n[r];typeof o=="string"&&!gO.has(o)&&pd(o).values.length&&(a=n[r]),r++}if(a&&t)for(const o of e)n[o]=ED(t,a)}const Bo=n=>n*180/Math.PI,m0=n=>{const e=Bo(Math.atan2(n[1],n[0]));return p0(e)},vO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:m0,rotateZ:m0,skewX:n=>Bo(Math.atan(n[1])),skewY:n=>Bo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},p0=n=>(n=n%360,n<0&&(n+=360),n),rE=m0,aE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),bO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aE,scaleY:iE,scale:n=>(aE(n)+iE(n))/2,rotateX:n=>p0(Bo(Math.atan2(n[6],n[5]))),rotateY:n=>p0(Bo(Math.atan2(-n[2],n[0]))),rotateZ:rE,rotate:rE,skewX:n=>Bo(Math.atan(n[4])),skewY:n=>Bo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function sE(n){return n.includes("scale")?1:0}function g0(n,e){if(!n||n==="none")return sE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=bO,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=vO,a=u}if(!a)return sE(e);const o=r[e],l=a[1].split(",").map(_O);return typeof o=="function"?o(l):l[o]}const xO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return g0(t,e)};function _O(n){return parseFloat(n.trim())}const oE=n=>n===Nc||n===Ke,wO=new Set(["x","y","z"]),EO=Rc.filter(n=>!wO.has(n));function TO(n){const e=[];return EO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const dc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>g0(e,"x"),y:(n,{transform:e})=>g0(e,"y")};dc.translateX=dc.x;dc.translateY=dc.y;const Ho=new Set;let y0=!1,v0=!1;function TD(){if(v0){const n=Array.from(Ho).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=TO(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}v0=!1,y0=!1,Ho.forEach(n=>n.complete()),Ho.clear()}function SD(){Ho.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(v0=!0)})}function SO(){SD(),TD()}class tb{constructor(e,t,r,a,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ho.add(this),y0||(y0=!0,qt.read(SD),qt.resolveKeyframes(TD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const DD=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),DO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AO(n){const e=DO.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function AD(n,e,t=1){const[r,a]=AO(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return DD(l)?parseFloat(l):l}return zv(a)?AD(a,e,t+1):a}const CD=n=>e=>e.test(n),CO={test:n=>n==="auto",parse:n=>n},RD=[Nc,Ke,ri,Rs,SP,TP,CO],lE=n=>RD.find(CD(n));class ND extends tb{constructor(e,t,r,a,o){super(e,t,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),zv(h))){const y=AD(h,t.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!sD.has(r)||e.length!==2)return;const[a,o]=e,l=lE(a),u=lE(o);if(l!==u)if(oE(l)&&oE(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)eO(e[a])&&r.push(a);r.length&&yO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=dc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const cE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zs.test(n)||n==="0")&&!n.startsWith("url("));function RO(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function NO(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=cE(a,e),u=cE(o,e);return!l||!u?!1:RO(n)||(t==="spring"||Ov(t))&&r}const MO=n=>n!==null;function zm(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(MO),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const kO=40;class MD{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&SO(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:l,onComplete:u,onUpdate:f,isGenerator:h}=this.options;if(!h&&!NO(e,r,a,o))if(l)this.options.duration=0;else{f&&f(zm(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Jt=(n,e,t)=>n+(e-n)*t;function Ry(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PO({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,o=0,l=0;if(!e)a=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;a=Ry(f,u,n+1/3),o=Ry(f,u,n),l=Ry(f,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Wh(n,e){return t=>t>0?e:n}const Ny=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},OO=[f0,Uo,tc],IO=n=>OO.find(e=>e.test(n));function uE(n){const e=IO(n);if(!e)return!1;let t=e.parse(n);return e===tc&&(t=PO(t)),t}const dE=(n,e)=>{const t=uE(n),r=uE(e);if(!t||!r)return Wh(n,e);const a={...t};return o=>(a.red=Ny(t.red,r.red,o),a.green=Ny(t.green,r.green,o),a.blue=Ny(t.blue,r.blue,o),a.alpha=Jt(t.alpha,r.alpha,o),Uo.transform(a))},jO=(n,e)=>t=>e(n(t)),jd=(...n)=>n.reduce(jO),b0=new Set(["none","hidden"]);function VO(n,e){return b0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function LO(n,e){return t=>Jt(n,e,t)}function nb(n){return typeof n=="number"?LO:typeof n=="string"?zv(n)?Wh:or.test(n)?dE:FO:Array.isArray(n)?kD:typeof n=="object"?or.test(n)?dE:UO:Wh}function kD(n,e){const t=[...n],r=t.length,a=n.map((o,l)=>nb(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=a[l](o);return t}}function UO(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=nb(n[a])(n[a],e[a]));return a=>{for(const o in r)t[o]=r[o](a);return t}}function BO(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=n.indexes[l][a[l]],f=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=f,a[l]++}return r}const FO=(n,e)=>{const t=zs.createTransformer(e),r=pd(n),a=pd(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?b0.has(n)&&!a.values.length||b0.has(e)&&!r.values.length?VO(n,e):jd(kD(BO(r,a),a.values),t):Wh(n,e)};function PD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jt(n,e,t):nb(n)(n,e)}const zO=5;function OD(n,e,t){const r=Math.max(e-zO,0);return OS(t-n(r),e-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fE=.001;function HO({duration:n=on.duration,bounce:e=on.bounce,velocity:t=on.velocity,mass:r=on.mass}){let a,o,l=1-e;l=Gi(on.minDamping,on.maxDamping,l),n=Gi(on.minDuration,on.maxDuration,Bi(n)),l<1?(a=h=>{const y=h*l,v=y*n,x=y-t,w=x0(h,l),T=Math.exp(-v);return fE-x/w*T},o=h=>{const v=h*l*n,x=v*t+t,w=Math.pow(l,2)*Math.pow(h,2)*n,T=Math.exp(-v),A=x0(Math.pow(h,2),l);return(-a(h)+fE>0?-1:1)*((x-w)*T)/A}):(a=h=>{const y=Math.exp(-h*n),v=(h-t)*n+1;return-.001+y*v},o=h=>{const y=Math.exp(-h*n),v=(t-h)*(n*n);return y*v});const u=5/n,f=qO(a,o,u);if(n=Ui(n),isNaN(f))return{stiffness:on.stiffness,damping:on.damping,duration:n};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:n}}}const YO=12;function qO(n,e,t){let r=t;for(let a=1;a<YO;a++)r=r-n(r)/e(r);return r}function x0(n,e){return n*Math.sqrt(1-e*e)}const $O=["duration","bounce"],GO=["stiffness","damping","mass"];function hE(n,e){return e.some(t=>n[t]!==void 0)}function QO(n){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...n};if(!hE(n,GO)&&hE(n,$O))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,o=2*Gi(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:on.mass,stiffness:a,damping:o}}else{const t=HO(n);e={...e,...t,mass:on.mass},e.isResolvedFromDuration=!0}return e}function ID(n=on.visualDuration,e=on.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:h,mass:y,duration:v,velocity:x,isResolvedFromDuration:w}=QO({...t,velocity:-Bi(t.velocity||0)}),T=x||0,A=h/(2*Math.sqrt(f*y)),D=l-o,O=Bi(Math.sqrt(f/y)),U=Math.abs(D)<5;r||(r=U?on.restSpeed.granular:on.restSpeed.default),a||(a=U?on.restDelta.granular:on.restDelta.default);let F;if(A<1){const N=x0(O,A);F=$=>{const I=Math.exp(-A*O*$);return l-I*((T+A*O*D)/N*Math.sin(N*$)+D*Math.cos(N*$))}}else if(A===1)F=N=>l-Math.exp(-O*N)*(D+(T+O*D)*N);else{const N=O*Math.sqrt(A*A-1);F=$=>{const I=Math.exp(-A*O*$),C=Math.min(N*$,300);return l-I*((T+A*O*D)*Math.sinh(C)+N*D*Math.cosh(C))/N}}const Y={calculatedDuration:w&&v||null,next:N=>{const $=F(N);if(w)u.done=N>=v;else{let I=0;A<1&&(I=N===0?Ui(T):OD(F,N,$));const C=Math.abs(I)<=r,R=Math.abs(l-$)<=a;u.done=C&&R}return u.value=u.done?l:$,u},toString:()=>{const N=Math.min(IS(Y),l0),$=jS(I=>Y.next(N*I).value,N,30);return N+"ms "+$}};return Y}function mE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:f,restDelta:h=.5,restSpeed:y}){const v=n[0],x={done:!1,value:v},w=C=>u!==void 0&&C<u||f!==void 0&&C>f,T=C=>u===void 0?f:f===void 0||Math.abs(u-C)<Math.abs(f-C)?u:f;let A=t*e;const D=v+A,O=l===void 0?D:l(D);O!==D&&(A=O-v);const U=C=>-A*Math.exp(-C/r),F=C=>O+U(C),Y=C=>{const R=U(C),M=F(C);x.done=Math.abs(R)<=h,x.value=x.done?O:M};let N,$;const I=C=>{w(x.value)&&(N=C,$=ID({keyframes:[x.value,T(x.value)],velocity:OD(F,C,x.value),damping:a,stiffness:o,restDelta:h,restSpeed:y}))};return I(0),{calculatedDuration:null,next:C=>{let R=!1;return!$&&N===void 0&&(R=!0,Y(C),I(C)),N!==void 0&&C>=N?$.next(C-N):(!R&&Y(C),x)}}}const KO=Id(.42,0,1,1),WO=Id(0,0,.58,1),jD=Id(.42,0,.58,1),XO=n=>Array.isArray(n)&&typeof n[0]!="number",ZO={linear:Hr,easeIn:KO,easeInOut:jD,easeOut:WO,circIn:Zv,circInOut:pD,circOut:mD,backIn:Xv,backInOut:fD,backOut:dD,anticipate:hD},pE=n=>{if(Iv(n)){PS(n.length===4);const[e,t,r,a]=n;return Id(e,t,r,a)}else if(typeof n=="string")return ZO[n];return n};function JO(n,e,t){const r=[],a=t||PD,o=n.length-1;for(let l=0;l<o;l++){let u=a(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||Hr:e;u=jd(f,u)}r.push(u)}return r}function e3(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const o=n.length;if(PS(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=JO(e,r,a),f=u.length,h=y=>{if(l&&y<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const x=cc(n[v],n[v+1],y);return u[v](x)};return t?y=>h(Gi(n[0],n[o-1],y)):h}function t3(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=cc(0,e,r);n.push(Jt(t,1,a))}}function n3(n){const e=[0];return t3(e,n.length-1),e}function r3(n,e){return n.map(t=>t*e)}function a3(n,e){return n.map(()=>e||jD).splice(0,n.length-1)}function Xh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=XO(r)?r.map(pE):pE(r),o={done:!1,value:e[0]},l=r3(t&&t.length===e.length?t:n3(e),n),u=e3(l,e,{ease:Array.isArray(a)?a:a3(e,a)});return{calculatedDuration:n,next:f=>(o.value=u(f),o.done=f>=n,o)}}const i3=n=>{const e=({timestamp:t})=>n(t);return{start:()=>qt.update(e,!0),stop:()=>Fs(e),now:()=>Kn.isProcessing?Kn.timestamp:ni.now()}},s3={decay:mE,inertia:mE,tween:Xh,keyframes:Xh,spring:ID},o3=n=>n/100;class rb extends MD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:a,keyframes:o}=this.options,l=(a==null?void 0:a.KeyframeResolver)||tb,u=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new l(o,u,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=this.options,u=Ov(t)?t:s3[t]||Xh;let f,h;u!==Xh&&typeof e[0]!="number"&&(f=jd(o3,PD(e[0],e[1])),e=[0,100]);const y=u({...this.options,keyframes:e});o==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),y.calculatedDuration===null&&(y.calculatedDuration=IS(y));const{calculatedDuration:v}=y,x=v+a,w=x*(r+1)-a;return{generator:y,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:h,totalDuration:y,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:x,repeat:w,repeatType:T,repeatDelay:A,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-x*(this.speed>=0?1:-1),U=this.speed>=0?O<0:O>y;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let F=this.currentTime,Y=o;if(w){const C=Math.min(this.currentTime,y)/v;let R=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(T==="reverse"?(M=1-M,A&&(M-=A/v)):T==="mirror"&&(Y=l)),F=Gi(0,1,M)*v}const N=U?{done:!1,value:f[0]}:Y.next(F);u&&(N.value=u(N.value));let{done:$}=N;!U&&h!==null&&($=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return I&&a!==void 0&&(N.value=zm(f,this.options,a)),D&&D(N.value),I&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Bi(e.calculatedDuration):0}get time(){return Bi(this.currentTime)}set time(e){e=Ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=i3,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const l3=new Set(["opacity","clipPath","filter","transform"]);function c3(n,e,t,{delay:r=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const h={[e]:t};f&&(h.offset=f);const y=LS(u,a);return Array.isArray(y)&&(h.easing=y),n.animate(h,{delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const u3=Mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zh=10,d3=2e4;function f3(n){return Ov(n.type)||n.type==="spring"||!VS(n.ease)}function h3(n,e){const t=new rb({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let o=0;for(;!r.done&&o<d3;)r=t.sample(o),a.push(r.value),o+=Zh;return{times:void 0,keyframes:a,duration:o-Zh,ease:"linear"}}const VD={anticipate:hD,backInOut:fD,circInOut:pD};function m3(n){return n in VD}class gE extends MD{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new ND(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:o,type:l,motionValue:u,name:f,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Qh()&&m3(o)&&(o=VD[o]),f3(this.options)){const{onComplete:v,onUpdate:x,motionValue:w,element:T,...A}=this.options,D=h3(e,A);e=D.keyframes,e.length===1&&(e[1]=e[0]),r=D.duration,a=D.times,o=D.ease,l="keyframes"}const y=c3(u.owner.current,f,e,{...this.options,duration:r,times:a,ease:o});return y.startTime=h??this.calcStartTime(),this.pendingTimeline?(z1(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:v}=this.options;u.set(zm(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Bi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Bi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Hr;const{animation:r}=t;z1(r,e)}return Hr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:y,onComplete:v,element:x,...w}=this.options,T=new rb({...w,keyframes:r,duration:a,type:o,ease:l,times:u,isGenerator:!0}),A=Ui(this.time);h.setWithVelocity(T.sample(A-Zh).value,T.sample(A).value,Zh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return u3()&&r&&l3.has(r)&&!f&&!h&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}}const p3={type:"spring",stiffness:500,damping:25,restSpeed:10},g3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),y3={type:"keyframes",duration:.8},v3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b3=(n,{keyframes:e})=>e.length>2?y3:nl.has(n)?n.startsWith("scale")?g3(e[1]):p3:v3;function x3({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:f,elapsed:h,...y}){return!!Object.keys(y).length}const ab=(n,e,t,r={},a,o)=>l=>{const u=Pv(r,n)||{},f=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ui(f);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:a};x3(u)||(y={...y,...b3(n,y)}),y.duration&&(y.duration=Ui(y.duration)),y.repeatDelay&&(y.repeatDelay=Ui(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),y.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=zm(y.keyframes,u);if(x!==void 0)return qt.update(()=>{y.onUpdate(x),y.onComplete()}),new Hk([])}return!o&&gE.supports(y)?new gE(y):new rb(y)};function _3({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function LD(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(l=r);const h=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const v in f){const x=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),w=f[v];if(w===void 0||y&&_3(y,v))continue;const T={delay:t,...Pv(l||{},v)};let A=!1;if(window.MotionHandoffAnimation){const O=oD(n);if(O){const U=window.MotionHandoffAnimation(O,v,qt);U!==null&&(T.startTime=U,A=!0)}}d0(n,v),x.start(ab(v,x,w,n.shouldReduceMotion&&sD.has(v)?{type:!1}:T,n,A));const D=x.animation;D&&h.push(D)}return u&&Promise.all(h).then(()=>{qt.update(()=>{u&&KP(n,u)})}),h}function _0(n,e,t={}){var r;const a=md(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(o=t.transitionOverride);const l=a?()=>Promise.all(LD(n,a,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:x}=o;return w3(n,e,y+h,v,x,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,y]=f==="beforeChildren"?[l,u]:[u,l];return h().then(()=>y())}else return Promise.all([l(),u(t.delay)])}function w3(n,e,t=0,r=0,a=1,o){const l=[],u=(n.variantChildren.size-1)*r,f=a===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(E3).forEach((h,y)=>{h.notify("AnimationStart",e),l.push(_0(h,e,{...o,delay:t+f(y)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function E3(n,e){return n.sortNodePosition(e)}function T3(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>_0(n,o,t));r=Promise.all(a)}else if(typeof e=="string")r=_0(n,e,t);else{const a=typeof e=="function"?md(n,e,t.custom):e;r=Promise.all(LD(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function UD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const S3=Uv.length;function BD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?BD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<S3;t++){const r=Uv[t],a=n.props[r];(dd(a)||a===!1)&&(e[r]=a)}return e}const D3=[...Lv].reverse(),A3=Lv.length;function C3(n){return e=>Promise.all(e.map(({animation:t,options:r})=>T3(n,t,r)))}function R3(n){let e=C3(n),t=yE(),r=!0;const a=f=>(h,y)=>{var v;const x=md(n,y,f==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:w,transitionEnd:T,...A}=x;h={...h,...A,...T}}return h};function o(f){e=f(n)}function l(f){const{props:h}=n,y=BD(n.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let D=0;D<A3;D++){const O=D3[D],U=t[O],F=h[O]!==void 0?h[O]:y[O],Y=dd(F),N=O===f?U.isActive:null;N===!1&&(T=D);let $=F===y[O]&&F!==h[O]&&Y;if($&&r&&n.manuallyAnimateOnMount&&($=!1),U.protectedKeys={...w},!U.isActive&&N===null||!F&&!U.prevProp||Bm(F)||typeof F=="boolean")continue;const I=N3(U.prevProp,F);let C=I||O===f&&U.isActive&&!$&&Y||D>T&&Y,R=!1;const M=Array.isArray(F)?F:[F];let L=M.reduce(a(O),{});N===!1&&(L={});const{prevResolvedValues:H={}}=U,B={...H,...L},Se=J=>{C=!0,x.has(J)&&(R=!0,x.delete(J)),U.needsAnimating[J]=!0;const ne=n.getValue(J);ne&&(ne.liveStyle=!1)};for(const J in B){const ne=L[J],be=H[J];if(w.hasOwnProperty(J))continue;let P=!1;u0(ne)&&u0(be)?P=!UD(ne,be):P=ne!==be,P?ne!=null?Se(J):x.add(J):ne!==void 0&&x.has(J)?Se(J):U.protectedKeys[J]=!0}U.prevProp=F,U.prevResolvedValues=L,U.isActive&&(w={...w,...L}),r&&n.blockInitialAnimation&&(C=!1),C&&(!($&&I)||R)&&v.push(...M.map(J=>({animation:J,options:{type:O}})))}if(x.size){const D={};if(typeof h.initial!="boolean"){const O=md(n,Array.isArray(h.initial)?h.initial[0]:h.initial);O&&O.transition&&(D.transition=O.transition)}x.forEach(O=>{const U=n.getBaseTarget(O),F=n.getValue(O);F&&(F.liveStyle=!0),D[O]=U??null}),v.push({animation:D})}let A=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(f,h){var y;if(t[f].isActive===h)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(f,h)}),t[f].isActive=h;const v=l(f);for(const x in t)t[x].protectedKeys={};return v}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=yE(),r=!0}}}function N3(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!UD(e,n):!1}function Po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yE(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class Zs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class M3 extends Zs{constructor(e){super(e),e.animationState||(e.animationState=R3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let k3=0;class P3 extends Zs{constructor(){super(...arguments),this.id=k3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const O3={animation:{Feature:M3},exit:{Feature:P3}};function gd(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Vd(n){return{point:{x:n.pageX,y:n.pageY}}}const I3=n=>e=>Vv(e)&&n(e,Vd(e));function td(n,e,t,r){return gd(n,e,I3(t),r)}function FD({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function j3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function V3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const zD=1e-4,L3=1-zD,U3=1+zD,HD=.01,B3=0-HD,F3=0+HD;function _r(n){return n.max-n.min}function z3(n,e,t){return Math.abs(n-e)<=t}function vE(n,e,t,r=.5){n.origin=r,n.originPoint=Jt(e.min,e.max,n.origin),n.scale=_r(t)/_r(e),n.translate=Jt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=L3&&n.scale<=U3||isNaN(n.scale))&&(n.scale=1),(n.translate>=B3&&n.translate<=F3||isNaN(n.translate))&&(n.translate=0)}function nd(n,e,t,r){vE(n.x,e.x,t.x,r?r.originX:void 0),vE(n.y,e.y,t.y,r?r.originY:void 0)}function bE(n,e,t){n.min=t.min+e.min,n.max=n.min+_r(e)}function H3(n,e,t){bE(n.x,e.x,t.x),bE(n.y,e.y,t.y)}function xE(n,e,t){n.min=e.min-t.min,n.max=n.min+_r(e)}function rd(n,e,t){xE(n.x,e.x,t.x),xE(n.y,e.y,t.y)}const _E=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:_E(),y:_E()}),wE=()=>({min:0,max:0}),fn=()=>({x:wE(),y:wE()});function ua(n){return[n("x"),n("y")]}function My(n){return n===void 0||n===1}function w0({scale:n,scaleX:e,scaleY:t}){return!My(n)||!My(e)||!My(t)}function Oo(n){return w0(n)||YD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function YD(n){return EE(n.x)||EE(n.y)}function EE(n){return n&&n!=="0%"}function Jh(n,e,t){const r=n-t,a=e*r;return t+a}function TE(n,e,t,r,a){return a!==void 0&&(n=Jh(n,a,r)),Jh(n,t,r)+e}function E0(n,e=0,t=1,r,a){n.min=TE(n.min,e,t,r,a),n.max=TE(n.max,e,t,r,a)}function qD(n,{x:e,y:t}){E0(n.x,e.translate,e.scale,e.originPoint),E0(n.y,t.translate,t.scale,t.originPoint)}const SE=.999999999999,DE=1.0000000000001;function Y3(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,l;for(let u=0;u<a;u++){o=t[u],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ac(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,qD(n,l)),r&&Oo(o.latestValues)&&ac(n,o.latestValues))}e.x<DE&&e.x>SE&&(e.x=1),e.y<DE&&e.y>SE&&(e.y=1)}function rc(n,e){n.min=n.min+e,n.max=n.max+e}function AE(n,e,t,r,a=.5){const o=Jt(n.min,n.max,a);E0(n,e,t,o,r)}function ac(n,e){AE(n.x,e.x,e.scaleX,e.scale,e.originX),AE(n.y,e.y,e.scaleY,e.scale,e.originY)}function $D(n,e){return FD(V3(n.getBoundingClientRect(),e))}function q3(n,e,t){const r=$D(n,t),{scroll:a}=e;return a&&(rc(r.x,a.offset.x),rc(r.y,a.offset.y)),r}const GD=({current:n})=>n?n.ownerDocument.defaultView:null,CE=(n,e)=>Math.abs(n-e);function $3(n,e){const t=CE(n.x,e.x),r=CE(n.y,e.y);return Math.sqrt(t**2+r**2)}class QD{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Py(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=$3(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:T}=v,{timestamp:A}=Kn;this.history.push({...T,timestamp:A});const{onStart:D,onMove:O}=this.handlers;x||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=ky(x,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Py(v.type==="pointercancel"?this.lastMoveEventInfo:ky(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,D),T&&T(v,D)},!Vv(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const l=Vd(e),u=ky(l,this.transformPagePoint),{point:f}=u,{timestamp:h}=Kn;this.history=[{...f,timestamp:h}];const{onSessionStart:y}=t;y&&y(e,Py(u,this.history)),this.removeListeners=jd(td(this.contextWindow,"pointermove",this.handlePointerMove),td(this.contextWindow,"pointerup",this.handlePointerUp),td(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fs(this.updatePoint)}}function ky(n,e){return e?{point:e(n.point)}:n}function RE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Py({point:n},e){return{point:n,delta:RE(n,KD(e)),offset:RE(n,G3(e)),velocity:Q3(e,.1)}}function G3(n){return n[0]}function KD(n){return n[n.length-1]}function Q3(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=KD(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Ui(e)));)t--;if(!r)return{x:0,y:0};const o=Bi(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function K3(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jt(t,n,r.max):Math.min(n,t)),n}function NE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function W3(n,{top:e,left:t,bottom:r,right:a}){return{x:NE(n.x,t,a),y:NE(n.y,e,r)}}function ME(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function X3(n,e){return{x:ME(n.x,e.x),y:ME(n.y,e.y)}}function Z3(n,e){let t=.5;const r=_r(n),a=_r(e);return a>r?t=cc(e.min,e.max-r,n.min):r>a&&(t=cc(n.min,n.max-a,e.min)),Gi(0,1,t)}function J3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const T0=.35;function eI(n=T0){return n===!1?n=0:n===!0&&(n=T0),{x:kE(n,"left","right"),y:kE(n,"top","bottom")}}function kE(n,e,t){return{min:PE(n,e),max:PE(n,t)}}function PE(n,e){return typeof n=="number"?n:n[e]||0}const tI=new WeakMap;class nI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vd(y).point)},o=(y,v)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Kk(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ua(D=>{let O=this.getAxisMotionValue(D).get()||0;if(ri.test(O)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[D];F&&(O=_r(F)*(parseFloat(O)/100))}}this.originPoint[D]=O}),T&&qt.postRender(()=>T(y,v)),d0(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(y,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:A}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:D}=v;if(w&&this.currentDirection===null){this.currentDirection=rI(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),A&&A(y,v)},u=(y,v)=>this.stop(y,v),f=()=>ua(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new QD(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:GD(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&qt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!fh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=K3(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&ec(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=W3(a.layoutBox,t):this.constraints=!1,this.elastic=eI(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ua(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=J3(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ec(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=q3(r,a.root,this.visualElement.getTransformPagePoint());let l=X3(a.layout.layoutBox,o);if(t){const u=t(j3(l));this.hasMutatedConstraints=!!u,u&&(l=FD(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=ua(y=>{if(!fh(y,t,this.currentDirection))return;let v=f&&f[y]||{};l&&(v={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,T={type:"inertia",velocity:r?e[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return d0(this.visualElement,e),r.start(ab(e,r,0,t,this.visualElement,!1))}stopAnimation(){ua(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ua(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ua(t=>{const{drag:r}=this.getProps();if(!fh(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];o.set(e[t]-Jt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ec(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ua(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();a[l]=Z3({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ua(l=>{if(!fh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];u.set(Jt(f,h,a[l]))})}addListeners(){if(!this.visualElement.current)return;tI.set(this.visualElement,this);const e=this.visualElement.current,t=td(e,"pointerdown",f=>{const{drag:h,dragListener:y=!0}=this.getProps();h&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ec(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),qt.read(r);const l=gd(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(ua(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=T0,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function fh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function rI(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class aI extends Zs{constructor(e){super(e),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new nI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const OE=n=>(e,t)=>{n&&qt.postRender(()=>n(e,t))};class iI extends Zs{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(e){this.session=new QD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:OE(e),onStart:OE(t),onMove:r,onEnd:(o,l)=>{delete this.session,a&&qt.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=td(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Uu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ke.test(n))n=parseFloat(n);else return n;const t=IE(n,e.target.x),r=IE(n,e.target.y);return`${t}% ${r}%`}},sI={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=zs.parse(n);if(a.length>5)return r;const o=zs.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=f;const h=Jt(u,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=h),typeof a[3+l]=="number"&&(a[3+l]/=h),o(a)}};class oI extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;EP(lI),o&&(t.group&&t.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||qt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WD(n){const[e,t]=kS(),r=k.useContext(Sv);return g.jsx(oI,{...n,layoutGroup:r,switchLayoutGroup:k.useContext(GS),isPresent:e,safeToRemove:t})}const lI={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:sI};function cI(n,e,t){const r=ur(n)?n:ud(n);return r.start(ab("",r,e,t)),r.animation}function uI(n){return n instanceof SVGElement&&n.tagName!=="svg"}const dI=(n,e)=>n.depth-e.depth;class fI{constructor(){this.children=[],this.isDirty=!1}add(e){Rv(this.children,e),this.isDirty=!0}remove(e){Nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dI),this.isDirty=!1,this.children.forEach(e)}}function hI(n,e){const t=ni.now(),r=({timestamp:a})=>{const o=a-t;o>=e&&(Fs(r),n(o-e))};return qt.read(r,!0),()=>Fs(r)}const XD=["TopLeft","TopRight","BottomLeft","BottomRight"],mI=XD.length,jE=n=>typeof n=="string"?parseFloat(n):n,VE=n=>typeof n=="number"||Ke.test(n);function pI(n,e,t,r,a,o){a?(n.opacity=Jt(0,t.opacity!==void 0?t.opacity:1,gI(r)),n.opacityExit=Jt(e.opacity!==void 0?e.opacity:1,0,yI(r))):o&&(n.opacity=Jt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<mI;l++){const u=`border${XD[l]}Radius`;let f=LE(e,u),h=LE(t,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||VE(f)===VE(h)?(n[u]=Math.max(Jt(jE(f),jE(h),r),0),(ri.test(h)||ri.test(f))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=Jt(e.rotate||0,t.rotate||0,r))}function LE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const gI=ZD(0,.5,mD),yI=ZD(.5,.95,Hr);function ZD(n,e,t){return r=>r<n?0:r>e?1:t(cc(n,e,r))}function UE(n,e){n.min=e.min,n.max=e.max}function ca(n,e){UE(n.x,e.x),UE(n.y,e.y)}function BE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function FE(n,e,t,r,a){return n-=e,n=Jh(n,1/t,r),a!==void 0&&(n=Jh(n,1/a,r)),n}function vI(n,e=0,t=1,r=.5,a,o=n,l=n){if(ri.test(e)&&(e=parseFloat(e),e=Jt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Jt(o.min,o.max,r);n===o&&(u-=e),n.min=FE(n.min,e,t,u,a),n.max=FE(n.max,e,t,u,a)}function zE(n,e,[t,r,a],o,l){vI(n,e[t],e[r],e[a],e.scale,o,l)}const bI=["x","scaleX","originX"],xI=["y","scaleY","originY"];function HE(n,e,t,r){zE(n.x,e,bI,t?t.x:void 0,r?r.x:void 0),zE(n.y,e,xI,t?t.y:void 0,r?r.y:void 0)}function YE(n){return n.translate===0&&n.scale===1}function JD(n){return YE(n.x)&&YE(n.y)}function qE(n,e){return n.min===e.min&&n.max===e.max}function _I(n,e){return qE(n.x,e.x)&&qE(n.y,e.y)}function $E(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eA(n,e){return $E(n.x,e.x)&&$E(n.y,e.y)}function GE(n){return _r(n.x)/_r(n.y)}function QE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class wI{constructor(){this.members=[]}add(e){Rv(this.members,e),e.scheduleRender()}remove(e){if(Nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EI(n,e,t){let r="";const a=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((a||o||l)&&(r=`translate3d(${a}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:y,rotateX:v,rotateY:x,skewX:w,skewY:T}=t;h&&(r=`perspective(${h}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const Oy=["","X","Y","Z"],TI={visibility:"hidden"},KE=1e3;let SI=0;function Iy(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function tA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=oD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",qt,!(a||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&tA(r)}function nA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},u=e==null?void 0:e()){this.id=SI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CI),this.nodes.forEach(PI),this.nodes.forEach(OI),this.nodes.forEach(RI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new fI)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new kv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uI(l),this.instance=l;const{layoutId:f,layout:h,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=hI(x,250),Mh.hasAnimatedSinceResize&&(Mh.hasAnimatedSinceResize=!1,this.nodes.forEach(XE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||y.getDefaultTransition()||UI,{onLayoutAnimationStart:D,onLayoutAnimationComplete:O}=y.getProps(),U=!this.targetLayout||!eA(this.targetLayout,T),F=!x&&w;if(this.options.layoutRoot||this.resumeFrom||F||x&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,F);const Y={...Pv(A,"layout"),onPlay:D,onComplete:O};(y.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else x||XE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(II),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WE);return}this.isUpdating||this.nodes.forEach(MI),this.isUpdating=!1,this.nodes.forEach(kI),this.nodes.forEach(DI),this.nodes.forEach(AI),this.clearAllSnapshots();const u=ni.now();Kn.delta=Gi(0,1e3/60,u-Kn.timestamp),Kn.timestamp=u,Kn.isProcessing=!0,Dy.update.process(Kn),Dy.preRender.process(Kn),Dy.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NI),this.sharedNodes.forEach(jI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_r(this.snapshot.measuredBox.x)&&!_r(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!JD(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,y=h!==this.prevTransformTemplateValue;l&&(u||Oo(this.latestValues)||y)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),BI(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return fn();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(FI))){const{scroll:y}=this.root;y&&(rc(f.x,y.offset.x),rc(f.y,y.offset.y))}return f}removeElementScroll(l){var u;const f=fn();if(ca(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let h=0;h<this.path.length;h++){const y=this.path[h],{scroll:v,options:x}=y;y!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ca(f,l),rc(f.x,v.offset.x),rc(f.y,v.offset.y))}return f}applyTransform(l,u=!1){const f=fn();ca(f,l);for(let h=0;h<this.path.length;h++){const y=this.path[h];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ac(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Oo(y.latestValues)&&ac(f,y.latestValues)}return Oo(this.latestValues)&&ac(f,this.latestValues),f}removeTransform(l){const u=fn();ca(u,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Oo(h.latestValues))continue;w0(h.latestValues)&&h.updateSnapshot();const y=fn(),v=h.measurePageBox();ca(y,v),HE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,y)}return Oo(this.latestValues)&&HE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),rd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ca(this.target,this.layout.layoutBox),qD(this.target,this.targetDelta)):ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),rd(this.relativeTargetOrigin,this.target,w.target),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w0(this.parent.latestValues)||YD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(h=!1),h)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;ca(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;Y3(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=fn());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BE(this.prevProjectionDelta.x,this.projectionDelta.x),BE(this.prevProjectionDelta.y,this.projectionDelta.y)),nd(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(l,u=!1){const f=this.snapshot,h=f?f.latestValues:{},y={...this.latestValues},v=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=fn(),w=f?f.source:void 0,T=this.layout?this.layout.source:void 0,A=w!==T,D=this.getStack(),O=!D||D.members.length<=1,U=!!(A&&!O&&this.options.crossfade===!0&&!this.path.some(LI));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const N=Y/1e3;ZE(v.x,l.x,N),ZE(v.y,l.y,N),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VI(this.relativeTarget,this.relativeTargetOrigin,x,N),F&&_I(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=fn()),ca(F,this.relativeTarget)),A&&(this.animationValues=y,pI(y,h,this.latestValues,N,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Mh.hasAnimatedSinceResize=!0,this.currentAnimation=cI(0,KE,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:y}=l;if(!(!u||!f||!h)){if(this!==l&&this.layout&&h&&rA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||fn();const v=_r(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const x=_r(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+x}ca(u,f),ac(u,y),nd(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new wI),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Iy("z",l,h,this.animationValues);for(let y=0;y<Oy.length;y++)Iy(`rotate${Oy[y]}`,l,h,this.animationValues),Iy(`skew${Oy[y]}`,l,h,this.animationValues);l.render();for(const y in h)l.setStaticValue(y,h[y]),this.animationValues&&(this.animationValues[y]=h[y]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return TI;const h={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Nh(l==null?void 0:l.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none",h;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Nh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(A.transform=y?y({},""):"none",this.hasProjected=!1),A}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),h.transform=EI(this.projectionDeltaWithTransform,this.treeScale,x),y&&(h.transform=y(x,h.transform));const{x:w,y:T}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,v.animationValues?h.opacity=v===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const A in fd){if(x[A]===void 0)continue;const{correct:D,applyTo:O,isCSSVariable:U}=fd[A],F=h.transform==="none"?x[A]:D(x[A],v);if(O){const Y=O.length;for(let N=0;N<Y;N++)h[O[N]]=F}else U?this.options.visualElement.renderState.vars[A]=F:h[A]=F}return this.options.layoutId&&(h.pointerEvents=v===this?Nh(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(WE),this.root.sharedNodes.clear()}}}function DI(n){n.updateLayout()}function AI(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?ua(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],w=_r(x);x.min=r[v].min,x.max=x.min+w}):rA(o,t.layoutBox,r)&&ua(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],w=_r(r[v]);x.max=x.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+w)});const u=nc();nd(u,r,t.layoutBox);const f=nc();l?nd(f,n.applyTransform(a,!0),t.measuredBox):nd(f,r,t.layoutBox);const h=!JD(u);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const T=fn();rd(T,t.layoutBox,x.layoutBox);const A=fn();rd(A,r,w.layoutBox),eA(T,A)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function CI(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function RI(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function NI(n){n.clearSnapshot()}function WE(n){n.clearMeasurements()}function MI(n){n.isLayoutDirty=!1}function kI(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function XE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function PI(n){n.resolveTargetDelta()}function OI(n){n.calcProjection()}function II(n){n.resetSkewAndRotation()}function jI(n){n.removeLeadSnapshot()}function ZE(n,e,t){n.translate=Jt(e.translate,0,t),n.scale=Jt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function JE(n,e,t,r){n.min=Jt(e.min,t.min,r),n.max=Jt(e.max,t.max,r)}function VI(n,e,t,r){JE(n.x,e.x,t.x,r),JE(n.y,e.y,t.y,r)}function LI(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const UI={duration:.45,ease:[.4,0,.1,1]},eT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),tT=eT("applewebkit/")&&!eT("chrome/")?Math.round:Hr;function nT(n){n.min=tT(n.min),n.max=tT(n.max)}function BI(n){nT(n.x),nT(n.y)}function rA(n,e,t){return n==="position"||n==="preserve-aspect"&&!z3(GE(e),GE(t),.2)}function FI(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const zI=nA({attachResizeListener:(n,e)=>gd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jy={current:void 0},aA=nA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jy.current){const n=new zI({});n.mount(window),n.setOptions({layoutScroll:!0}),jy.current=n}return jy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),HI={pan:{Feature:iI},drag:{Feature:aI,ProjectionNode:aA,MeasureLayout:WD}};function rT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=r[a];o&&qt.postRender(()=>o(e,Vd(e)))}class YI extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=Xk(e,(t,r)=>(rT(this.node,r,"Start"),a=>rT(this.node,a,"End"))))}unmount(){}}class qI extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jd(gd(this.node.current,"focus",()=>this.onFocus()),gd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=r[a];o&&qt.postRender(()=>o(e,Vd(e)))}class $I extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=tP(e,(t,r)=>(aT(this.node,r,"Start"),(a,{success:o})=>aT(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S0=new WeakMap,Vy=new WeakMap,GI=n=>{const e=S0.get(n.target);e&&e(n)},QI=n=>{n.forEach(GI)};function KI({root:n,...e}){const t=n||document;Vy.has(t)||Vy.set(t,{});const r=Vy.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(QI,{root:n,...e})),r[a]}function WI(n,e,t){const r=KI(e);return S0.set(n,t),r.observe(n),()=>{S0.delete(n),r.unobserve(n)}}const XI={some:0,all:1};class ZI extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:XI[a]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=h?y:v;x&&x(f)};return WI(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(JI(e,t))&&this.startObserver()}unmount(){}}function JI({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ej={inView:{Feature:ZI},tap:{Feature:$I},focus:{Feature:qI},hover:{Feature:YI}},tj={layout:{ProjectionNode:aA,MeasureLayout:WD}},D0={current:null},iA={current:!1};function nj(){if(iA.current=!0,!!Av)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>D0.current=n.matches;n.addListener(e),e()}else D0.current=!1}const rj=[...RD,or,zs],aj=n=>rj.find(CD(n)),ij=new WeakMap;function sj(n,e,t){for(const r in e){const a=e[r],o=t[r];if(ur(a))n.addValue(r,a);else if(ur(o))n.addValue(r,ud(a,{owner:n}));else if(o!==a)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(r);n.addValue(r,ud(l!==void 0?l:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const iT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oj{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ni.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,qt.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:y}=l;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Fm(t),this.isVariantNode=qS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in x){const T=x[w];f[w]!==void 0&&ur(T)&&T.set(f[w],!1)}}mount(e){this.current=e,ij.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),iA.current||nj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fs(this.notifyUpdate),Fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uc){const t=uc[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<iT.length;r++){const a=iT[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=e[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=sj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ud(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(DD(a)||gD(a))?a=parseFloat(a):!aj(a)&&zs.test(t)&&(a=ED(e,t)),this.setBaseTarget(e,ur(a)?a.get():a)),ur(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const l=Kv(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(a=l[e])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ur(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new kv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sA extends oj{constructor(){super(...arguments),this.KeyframeResolver=ND}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function lj(n){return window.getComputedStyle(n)}class cj extends sA{constructor(){super(...arguments),this.type="html",this.renderInstance=nD}readValueFromInstance(e,t){if(nl.has(t))return xO(e,t);{const r=lj(e),a=(Fv(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return $D(e,t)}build(e,t,r){Yv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Wv(e,t,r)}}class uj extends sA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tD(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(nl.has(t)){const r=wD(t);return r&&r.default||0}return t=rD.has(t)?t:Bv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return iD(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&qt.postRender(this.updateDimensions)}build(e,t,r){Gv(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){aD(e,t,r,a)}mount(e){this.isSVGTag=Qv(e.tagName),super.mount(e)}}const dj=(n,e)=>$v(n)?new uj(e):new cj(e,{allowProjection:n!==k.Fragment}),fj=GP({...O3,...ej,...HI,...tj},dj),ve=cP(fj),hj={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeInOut"}}},sT={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delay:.3,duration:.5}}},mj=()=>{const[n,e]=k.useState(null),t=Nn(),r=()=>{n==="user"?t("/nafany/register_user"):n==="provider"?t("/nafany/register"):alert("الرجاء اختيار نوع الحساب")};return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:g.jsxs(ve.div,{variants:hj,initial:"hidden",animate:"visible",className:"p-6 bg-white rounded-lg shadow-md text-right w-full max-w-[40rem] border border-cyan-100 dark:bg-gray-800",dir:"rtl",children:[g.jsx(ve.h2,{variants:sT,className:"text-2xl font-bold text-cyan-900 mb-8 text-center dark:text-cyan-300",children:"تسجيل حساب جديد"}),g.jsx("h3",{className:"text-xl text-gray-700 mb-4 text-center dark:text-gray-300",children:"اختر نوع الحساب"}),g.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-center mb-8",children:[{type:"user",label:"مستخدم خدمة",desc:"أبحث عن مقدمي الخدمات"},{type:"provider",label:"مقدم خدمة",desc:"أقدم خدماتي للعملاء"}].map(({type:a,label:o,desc:l})=>g.jsxs(ve.div,{variants:sT,whileHover:{scale:1.05},whileTap:{scale:.95},className:`border-2 p-4 rounded-lg cursor-pointer transition-all ${n===a?"border-cyan-600 bg-cyan-50":"border-gray-200"}`,onClick:()=>e(a),children:[g.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[g.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${n===a?"border-cyan-600":"border-gray-300"}`,children:n===a&&g.jsx("div",{className:"w-3 h-3 bg-cyan-600 rounded-full"})}),g.jsx("h4",{className:"text-lg font-medium dark:text-gray-200",children:o})]}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 mr-10",children:l})]},a))}),g.jsxs("div",{className:"flex justify-center gap-4",children:[g.jsx(ve.button,{onClick:r,whileHover:{scale:n?1.05:1},whileTap:{scale:.95},className:`px-8 py-3 rounded-full font-bold transition-all ${n?"bg-cyan-600 hover:bg-cyan-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!n,children:"متابعة"}),g.jsx(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"px-8 py-3 rounded-full font-bold bg-gray-500 hover:bg-gray-600 text-white",children:"رجوع"})]})]})})},pj={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},exit:{opacity:0,y:-20}},gj={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.3,duration:.5}}},yj={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delay:.5,duration:.5}}},vj=()=>g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:g.jsxs(ve.div,{variants:pj,initial:"hidden",animate:"visible",exit:"exit",className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100 dark:bg-gray-800",dir:"rtl",children:[g.jsx(ve.h2,{variants:gj,initial:"hidden",animate:"visible",className:"text-2xl font-bold text-cyan-800 mb-6 text-center dark:text-cyan-300",children:"تسجيل حساب جديد"}),g.jsxs(ve.div,{variants:yj,initial:"hidden",animate:"visible",className:"bg-gradient-to-r from-cyan-50 to-blue-50 p-6 rounded-lg mb-6 border border-cyan-100 dark:bg-gray-700",children:[g.jsx("h3",{className:"text-xl text-gray-700 mb-6 text-center font-medium dark:text-gray-300",children:"هل سبق لك التسجيل في الموقع؟"}),g.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[g.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx(lc,{to:"/nafany/login",className:"inline-block px-8 py-3 text-white rounded-lg bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 transition-colors duration-300 font-medium shadow-md cursor-pointer",children:"نعم"})}),g.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx(lc,{to:"/nafany/check_user",className:"inline-block px-8 py-3 border-2 border-cyan-600 text-cyan-600 rounded-lg hover:bg-cyan-50 transition-colors duration-300 font-medium cursor-pointer",children:"لا"})})]})]})]})}),bj=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},xj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],l=n[t++],u=n[t++],f=((a&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],l=a+1<n.length,u=l?n[a+1]:0,f=a+2<n.length,h=f?n[a+2]:0,y=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;f||(w=64,l||(x=64)),r.push(t[y],t[v],t[x],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const h=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||h==null||v==null)throw new _j;const x=o<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const T=h<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wj=function(n){const e=oA(n);return lA.encodeByteArray(e,!0)},em=function(n){return wj(n).replace(/\./g,"")},Ej=function(n){try{return lA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=()=>Tj().__FIREBASE_DEFAULTS__,Dj=()=>{if(typeof process>"u"||typeof oT>"u")return;const n=oT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Aj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ej(n[1]);return e&&JSON.parse(e)},ib=()=>{try{return bj()||Sj()||Dj()||Aj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Cj=n=>{var e,t;return(t=(e=ib())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cA=n=>{const e=Cj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},uA=()=>{var n;return(n=ib())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[em(JSON.stringify(t)),em(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mj(){var n;const e=(n=ib())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kj(){return!Mj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pj(){try{return typeof indexedDB=="object"}catch{return!1}}function Oj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="FirebaseError";class rl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ij,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fA.prototype.create)}}class fA{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?jj(o,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new rl(a,u,r)}}function jj(n,e){return n.replace(Vj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Vj=/\{\$([^}]+)}/g;function yd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],l=e[a];if(lT(o)&&lT(l)){if(!yd(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function lT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n){return n&&n._delegate?n._delegate:n}class fc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Rj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bj(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uj(n){return n===Io?void 0:n}function Bj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bt||(bt={}));const zj={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},Hj=bt.INFO,Yj={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},qj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Yj[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hA{constructor(e){this.name=e,this._logLevel=Hj,this._logHandler=qj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const $j=(n,e)=>e.some(t=>n instanceof t);let cT,uT;function Gj(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qj(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mA=new WeakMap,A0=new WeakMap,pA=new WeakMap,Ly=new WeakMap,sb=new WeakMap;function Kj(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Ps(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&mA.set(t,n)}).catch(()=>{}),sb.set(e,n),e}function Wj(n){if(A0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});A0.set(n,e)}let C0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return A0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Xj(n){C0=n(C0)}function Zj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Uy(this),e,...t);return pA.set(r,e.sort?e.sort():[e]),Ps(r)}:Qj().includes(n)?function(...e){return n.apply(Uy(this),e),Ps(mA.get(this))}:function(...e){return Ps(n.apply(Uy(this),e))}}function Jj(n){return typeof n=="function"?Zj(n):(n instanceof IDBTransaction&&Wj(n),$j(n,Gj())?new Proxy(n,C0):n)}function Ps(n){if(n instanceof IDBRequest)return Kj(n);if(Ly.has(n))return Ly.get(n);const e=Jj(n);return e!==n&&(Ly.set(n,e),sb.set(e,n)),e}const Uy=n=>sb.get(n);function e6(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(n,e),u=Ps(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ps(l.result),f.oldVersion,f.newVersion,Ps(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const t6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],By=new Map;function dT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=n6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||t6.includes(t)))return;const o=async function(l,...u){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),a&&f.done]))[0]};return By.set(e,o),o}Xj(n=>({...n,get:(e,t,r)=>dT(e,t)||n.get(e,t,r),has:(e,t)=>!!dT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(a6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function a6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R0="@firebase/app",fT="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new hA("@firebase/app"),i6="@firebase/app-compat",s6="@firebase/analytics-compat",o6="@firebase/analytics",l6="@firebase/app-check-compat",c6="@firebase/app-check",u6="@firebase/auth",d6="@firebase/auth-compat",f6="@firebase/database",h6="@firebase/data-connect",m6="@firebase/database-compat",p6="@firebase/functions",g6="@firebase/functions-compat",y6="@firebase/installations",v6="@firebase/installations-compat",b6="@firebase/messaging",x6="@firebase/messaging-compat",_6="@firebase/performance",w6="@firebase/performance-compat",E6="@firebase/remote-config",T6="@firebase/remote-config-compat",S6="@firebase/storage",D6="@firebase/storage-compat",A6="@firebase/firestore",C6="@firebase/vertexai",R6="@firebase/firestore-compat",N6="firebase",M6="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="[DEFAULT]",k6={[R0]:"fire-core",[i6]:"fire-core-compat",[o6]:"fire-analytics",[s6]:"fire-analytics-compat",[c6]:"fire-app-check",[l6]:"fire-app-check-compat",[u6]:"fire-auth",[d6]:"fire-auth-compat",[f6]:"fire-rtdb",[h6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[p6]:"fire-fn",[g6]:"fire-fn-compat",[y6]:"fire-iid",[v6]:"fire-iid-compat",[b6]:"fire-fcm",[x6]:"fire-fcm-compat",[_6]:"fire-perf",[w6]:"fire-perf-compat",[E6]:"fire-rc",[T6]:"fire-rc-compat",[S6]:"fire-gcs",[D6]:"fire-gcs-compat",[A6]:"fire-fst",[R6]:"fire-fst-compat",[C6]:"fire-vertex","fire-js":"fire-js",[N6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,P6=new Map,M0=new Map;function hT(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vd(n){const e=n.name;if(M0.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;M0.set(e,n);for(const t of tm.values())hT(t,n);for(const t of P6.values())hT(t,n);return!0}function gA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new fA("app","Firebase",O6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=M6;function bA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:N0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=uA()),!t)throw Os.create("no-options");const o=tm.get(a);if(o){if(yd(t,o.options)&&yd(r,o.config))return o;throw Os.create("duplicate-app",{appName:a})}const l=new Fj(a);for(const f of M0.values())l.addComponent(f);const u=new I6(t,r,l);return tm.set(a,u),u}function xA(n=N0){const e=tm.get(n);if(!e&&n===N0&&uA())return bA();if(!e)throw Os.create("no-app",{appName:n});return e}function Is(n,e,t){var r;let a=(r=k6[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(u.join(" "));return}vd(new fc(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebase-heartbeat-database",V6=1,bd="firebase-heartbeat-store";let Fy=null;function _A(){return Fy||(Fy=e6(j6,V6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),Fy}async function L6(n){try{const t=(await _A()).transaction(bd),r=await t.objectStore(bd).get(wA(n));return await t.done,r}catch(e){if(e instanceof rl)Qi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(t.message)}}}async function mT(n,e){try{const r=(await _A()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,wA(n)),await r.done}catch(t){if(t instanceof rl)Qi.warn(t.message);else{const r=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qi.warn(r.message)}}}function wA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=1024,B6=30;class F6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>B6){const l=Y6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pT(),{heartbeatsToSend:r,unsentEntries:a}=z6(this._heartbeatsCache.heartbeats),o=em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}}}function pT(){return new Date().toISOString().substring(0,10)}function z6(n,e=U6){const t=[];let r=n.slice();for(const a of n){const o=t.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),gT(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),gT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class H6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pj()?Oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await L6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gT(n){return em(JSON.stringify({version:2,heartbeats:n})).length}function Y6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(n){vd(new fc("platform-logger",e=>new r6(e),"PRIVATE")),vd(new fc("heartbeat",e=>new F6(e),"PRIVATE")),Is(R0,fT,n),Is(R0,fT,"esm2017"),Is("fire-js","")}q6("");var $6="firebase",G6="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is($6,G6,"app");var yT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,EA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function R(){}R.prototype=C.prototype,I.D=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(M,L,H){for(var B=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)B[Se-2]=arguments[Se];return C.prototype[L].apply(M,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,R){R||(R=0);var M=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)M[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;16>L;++L)M[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],L=I.g[2];var H=I.g[3],B=C+(H^R&(L^H))+M[0]+3614090360&4294967295;C=R+(B<<7&4294967295|B>>>25),B=H+(L^C&(R^L))+M[1]+3905402710&4294967295,H=C+(B<<12&4294967295|B>>>20),B=L+(R^H&(C^R))+M[2]+606105819&4294967295,L=H+(B<<17&4294967295|B>>>15),B=R+(C^L&(H^C))+M[3]+3250441966&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+(H^R&(L^H))+M[4]+4118548399&4294967295,C=R+(B<<7&4294967295|B>>>25),B=H+(L^C&(R^L))+M[5]+1200080426&4294967295,H=C+(B<<12&4294967295|B>>>20),B=L+(R^H&(C^R))+M[6]+2821735955&4294967295,L=H+(B<<17&4294967295|B>>>15),B=R+(C^L&(H^C))+M[7]+4249261313&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+(H^R&(L^H))+M[8]+1770035416&4294967295,C=R+(B<<7&4294967295|B>>>25),B=H+(L^C&(R^L))+M[9]+2336552879&4294967295,H=C+(B<<12&4294967295|B>>>20),B=L+(R^H&(C^R))+M[10]+4294925233&4294967295,L=H+(B<<17&4294967295|B>>>15),B=R+(C^L&(H^C))+M[11]+2304563134&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+(H^R&(L^H))+M[12]+1804603682&4294967295,C=R+(B<<7&4294967295|B>>>25),B=H+(L^C&(R^L))+M[13]+4254626195&4294967295,H=C+(B<<12&4294967295|B>>>20),B=L+(R^H&(C^R))+M[14]+2792965006&4294967295,L=H+(B<<17&4294967295|B>>>15),B=R+(C^L&(H^C))+M[15]+1236535329&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+(L^H&(R^L))+M[1]+4129170786&4294967295,C=R+(B<<5&4294967295|B>>>27),B=H+(R^L&(C^R))+M[6]+3225465664&4294967295,H=C+(B<<9&4294967295|B>>>23),B=L+(C^R&(H^C))+M[11]+643717713&4294967295,L=H+(B<<14&4294967295|B>>>18),B=R+(H^C&(L^H))+M[0]+3921069994&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^H&(R^L))+M[5]+3593408605&4294967295,C=R+(B<<5&4294967295|B>>>27),B=H+(R^L&(C^R))+M[10]+38016083&4294967295,H=C+(B<<9&4294967295|B>>>23),B=L+(C^R&(H^C))+M[15]+3634488961&4294967295,L=H+(B<<14&4294967295|B>>>18),B=R+(H^C&(L^H))+M[4]+3889429448&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^H&(R^L))+M[9]+568446438&4294967295,C=R+(B<<5&4294967295|B>>>27),B=H+(R^L&(C^R))+M[14]+3275163606&4294967295,H=C+(B<<9&4294967295|B>>>23),B=L+(C^R&(H^C))+M[3]+4107603335&4294967295,L=H+(B<<14&4294967295|B>>>18),B=R+(H^C&(L^H))+M[8]+1163531501&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^H&(R^L))+M[13]+2850285829&4294967295,C=R+(B<<5&4294967295|B>>>27),B=H+(R^L&(C^R))+M[2]+4243563512&4294967295,H=C+(B<<9&4294967295|B>>>23),B=L+(C^R&(H^C))+M[7]+1735328473&4294967295,L=H+(B<<14&4294967295|B>>>18),B=R+(H^C&(L^H))+M[12]+2368359562&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(R^L^H)+M[5]+4294588738&4294967295,C=R+(B<<4&4294967295|B>>>28),B=H+(C^R^L)+M[8]+2272392833&4294967295,H=C+(B<<11&4294967295|B>>>21),B=L+(H^C^R)+M[11]+1839030562&4294967295,L=H+(B<<16&4294967295|B>>>16),B=R+(L^H^C)+M[14]+4259657740&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^H)+M[1]+2763975236&4294967295,C=R+(B<<4&4294967295|B>>>28),B=H+(C^R^L)+M[4]+1272893353&4294967295,H=C+(B<<11&4294967295|B>>>21),B=L+(H^C^R)+M[7]+4139469664&4294967295,L=H+(B<<16&4294967295|B>>>16),B=R+(L^H^C)+M[10]+3200236656&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^H)+M[13]+681279174&4294967295,C=R+(B<<4&4294967295|B>>>28),B=H+(C^R^L)+M[0]+3936430074&4294967295,H=C+(B<<11&4294967295|B>>>21),B=L+(H^C^R)+M[3]+3572445317&4294967295,L=H+(B<<16&4294967295|B>>>16),B=R+(L^H^C)+M[6]+76029189&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^H)+M[9]+3654602809&4294967295,C=R+(B<<4&4294967295|B>>>28),B=H+(C^R^L)+M[12]+3873151461&4294967295,H=C+(B<<11&4294967295|B>>>21),B=L+(H^C^R)+M[15]+530742520&4294967295,L=H+(B<<16&4294967295|B>>>16),B=R+(L^H^C)+M[2]+3299628645&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(L^(R|~H))+M[0]+4096336452&4294967295,C=R+(B<<6&4294967295|B>>>26),B=H+(R^(C|~L))+M[7]+1126891415&4294967295,H=C+(B<<10&4294967295|B>>>22),B=L+(C^(H|~R))+M[14]+2878612391&4294967295,L=H+(B<<15&4294967295|B>>>17),B=R+(H^(L|~C))+M[5]+4237533241&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~H))+M[12]+1700485571&4294967295,C=R+(B<<6&4294967295|B>>>26),B=H+(R^(C|~L))+M[3]+2399980690&4294967295,H=C+(B<<10&4294967295|B>>>22),B=L+(C^(H|~R))+M[10]+4293915773&4294967295,L=H+(B<<15&4294967295|B>>>17),B=R+(H^(L|~C))+M[1]+2240044497&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~H))+M[8]+1873313359&4294967295,C=R+(B<<6&4294967295|B>>>26),B=H+(R^(C|~L))+M[15]+4264355552&4294967295,H=C+(B<<10&4294967295|B>>>22),B=L+(C^(H|~R))+M[6]+2734768916&4294967295,L=H+(B<<15&4294967295|B>>>17),B=R+(H^(L|~C))+M[13]+1309151649&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~H))+M[4]+4149444226&4294967295,C=R+(B<<6&4294967295|B>>>26),B=H+(R^(C|~L))+M[11]+3174756917&4294967295,H=C+(B<<10&4294967295|B>>>22),B=L+(C^(H|~R))+M[2]+718787259&4294967295,L=H+(B<<15&4294967295|B>>>17),B=R+(H^(L|~C))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var R=C-this.blockSize,M=this.B,L=this.h,H=0;H<C;){if(L==0)for(;H<=R;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<C;)if(M[L++]=I.charCodeAt(H++),L==this.blockSize){a(this,M),L=0;break}}else for(;H<C;)if(M[L++]=I[H++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var R=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.u(I),I=Array(16),C=R=0;4>C;++C)for(var M=0;32>M;M+=8)I[R++]=this.g[C]>>>M&255;return I};function o(I,C){var R=u;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function l(I,C){this.h=C;for(var R=[],M=!0,L=I.length-1;0<=L;L--){var H=I[L]|0;M&&H==C||(R[L]=H,M=!1)}this.g=R}var u={};function f(I){return-128<=I&&128>I?o(I,function(C){return new l([C|0],0>C?-1:0)}):new l([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return v;if(0>I)return D(h(-I));for(var C=[],R=1,M=0;I>=R;M++)C[M]=I/R|0,R*=4294967296;return new l(C,0)}function y(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return D(y(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(C,8)),M=v,L=0;L<I.length;L+=8){var H=Math.min(8,I.length-L),B=parseInt(I.substring(L,L+H),C);8>H?(H=h(Math.pow(C,H)),M=M.j(H).add(h(B))):(M=M.j(R),M=M.add(h(B)))}return M}var v=f(0),x=f(1),w=f(16777216);n=l.prototype,n.m=function(){if(A(this))return-D(this).m();for(var I=0,C=1,R=0;R<this.g.length;R++){var M=this.i(R);I+=(0<=M?M:4294967296+M)*C,C*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(A(this))return"-"+D(this).toString(I);for(var C=h(Math.pow(I,6)),R=this,M="";;){var L=Y(R,C).g;R=O(R,L.j(C));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=L,T(R))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function A(I){return I.h==-1}n.l=function(I){return I=O(this,I),A(I)?-1:T(I)?0:1};function D(I){for(var C=I.g.length,R=[],M=0;M<C;M++)R[M]=~I.g[M];return new l(R,~I.h).add(x)}n.abs=function(){return A(this)?D(this):this},n.add=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],M=0,L=0;L<=C;L++){var H=M+(this.i(L)&65535)+(I.i(L)&65535),B=(H>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);M=B>>>16,H&=65535,B&=65535,R[L]=B<<16|H}return new l(R,R[R.length-1]&-2147483648?-1:0)};function O(I,C){return I.add(D(C))}n.j=function(I){if(T(this)||T(I))return v;if(A(this))return A(I)?D(this).j(D(I)):D(D(this).j(I));if(A(I))return D(this.j(D(I)));if(0>this.l(w)&&0>I.l(w))return h(this.m()*I.m());for(var C=this.g.length+I.g.length,R=[],M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<I.g.length;L++){var H=this.i(M)>>>16,B=this.i(M)&65535,Se=I.i(L)>>>16,we=I.i(L)&65535;R[2*M+2*L]+=B*we,U(R,2*M+2*L),R[2*M+2*L+1]+=H*we,U(R,2*M+2*L+1),R[2*M+2*L+1]+=B*Se,U(R,2*M+2*L+1),R[2*M+2*L+2]+=H*Se,U(R,2*M+2*L+2)}for(M=0;M<C;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=C;M<2*C;M++)R[M]=0;return new l(R,0)};function U(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function F(I,C){this.g=I,this.h=C}function Y(I,C){if(T(C))throw Error("division by zero");if(T(I))return new F(v,v);if(A(I))return C=Y(D(I),C),new F(D(C.g),D(C.h));if(A(C))return C=Y(I,D(C)),new F(D(C.g),C.h);if(30<I.g.length){if(A(I)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=C;0>=M.l(I);)R=N(R),M=N(M);var L=$(R,1),H=$(M,1);for(M=$(M,2),R=$(R,2);!T(M);){var B=H.add(M);0>=B.l(I)&&(L=L.add(R),H=B),M=$(M,1),R=$(R,1)}return C=O(I,L.j(C)),new F(L,C)}for(L=v;0<=I.l(C);){for(R=Math.max(1,Math.floor(I.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=h(R),B=H.j(C);A(B)||0<B.l(I);)R-=M,H=h(R),B=H.j(C);T(H)&&(H=x),L=L.add(H),I=O(I,B)}return new F(L,I)}n.A=function(I){return Y(this,I).h},n.and=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)&I.i(M);return new l(R,this.h&I.h)},n.or=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)|I.i(M);return new l(R,this.h|I.h)},n.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)^I.i(M);return new l(R,this.h^I.h)};function N(I){for(var C=I.g.length+1,R=[],M=0;M<C;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new l(R,I.h)}function $(I,C){var R=C>>5;C%=32;for(var M=I.g.length-R,L=[],H=0;H<M;H++)L[H]=0<C?I.i(H+R)>>>C|I.i(H+R+1)<<32-C:I.i(H+R);return new l(L,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,EA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=y,js=l}).apply(typeof yT<"u"?yT:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TA,Qu,SA,kh,k0,DA,AA,CA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,E){return m==Array.prototype||m==Object.prototype||(m[_]=E.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var _=0;_<m.length;++_){var E=m[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var E=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var ee=m[V];if(!(ee in E))break e;E=E[ee]}m=m[m.length-1],V=E[m],_=_(V),_!=V&&_!=null&&e(E,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var E=0,V=!1,ee={next:function(){if(!V&&E<m.length){var oe=E++;return{value:_(oe,m[oe]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}a("Array.prototype.values",function(m){return m||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function y(m,_,E){return m.call.apply(m.bind,arguments)}function v(m,_,E){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,V),m.apply(_,ee)}}return function(){return m.apply(_,arguments)}}function x(m,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,x.apply(null,arguments)}function w(m,_){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function T(m,_){function E(){}E.prototype=_.prototype,m.aa=_.prototype,m.prototype=new E,m.prototype.constructor=m,m.Qb=function(V,ee,oe){for(var Ee=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Ee[pt-2]=arguments[pt];return _.prototype[ee].apply(V,Ee)}}function A(m){const _=m.length;if(0<_){const E=Array(_);for(let V=0;V<_;V++)E[V]=m[V];return E}return[]}function D(m,_){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(f(V)){const ee=m.length||0,oe=V.length||0;m.length=ee+oe;for(let Ee=0;Ee<oe;Ee++)m[ee+Ee]=V[Ee]}else m.push(V)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function Y(m){return Y[" "](m),m}Y[" "]=function(){};var N=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function $(m,_,E){for(const V in m)_.call(E,m[V],V,m)}function I(m,_){for(const E in m)_.call(void 0,m[E],E,m)}function C(m){const _={};for(const E in m)_[E]=m[E];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,_){let E,V;for(let ee=1;ee<arguments.length;ee++){V=arguments[ee];for(E in V)m[E]=V[E];for(let oe=0;oe<R.length;oe++)E=R[oe],Object.prototype.hasOwnProperty.call(V,E)&&(m[E]=V[E])}}function L(m){var _=1;m=m.split(":");const E=[];for(;0<_&&m.length;)E.push(m.shift()),_--;return m.length&&E.push(m.join(":")),E}function H(m){u.setTimeout(()=>{throw m},0)}function B(){var m=be;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Se{constructor(){this.h=this.g=null}add(_,E){const V=we.get();V.set(_,E),this.h?this.h.next=V:this.g=V,this.h=V}}var we=new O(()=>new ae,m=>m.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,be=new Se,P=()=>{const m=u.Promise.resolve(void 0);J=()=>{m.then(Z)}};var Z=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch(E){H(E)}var _=we;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}ne=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return m}();function de(m,_){if(xe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var E=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(N){e:{try{Y(_.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(_=null)}}else E=="mouseover"?_=m.fromElement:E=="mouseout"&&(_=m.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&de.aa.h.call(this)}}T(de,xe);var se={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Te(m,_,E,V,ee){this.listener=m,this.proxy=null,this.src=_,this.type=E,this.capture=!!V,this.ha=ee,this.key=++Ce,this.da=this.fa=!1}function ze(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function dt(m){this.src=m,this.g={},this.h=0}dt.prototype.add=function(m,_,E,V,ee){var oe=m.toString();m=this.g[oe],m||(m=this.g[oe]=[],this.h++);var Ee=Xe(m,_,V,ee);return-1<Ee?(_=m[Ee],E||(_.fa=!1)):(_=new Te(_,this.src,oe,!!V,ee),_.fa=E,m.push(_)),_};function nt(m,_){var E=_.type;if(E in m.g){var V=m.g[E],ee=Array.prototype.indexOf.call(V,_,void 0),oe;(oe=0<=ee)&&Array.prototype.splice.call(V,ee,1),oe&&(ze(_),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Xe(m,_,E,V){for(var ee=0;ee<m.length;++ee){var oe=m[ee];if(!oe.da&&oe.listener==_&&oe.capture==!!E&&oe.ha==V)return ee}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ge={};function ot(m,_,E,V,ee){if(Array.isArray(_)){for(var oe=0;oe<_.length;oe++)ot(m,_[oe],E,V,ee);return null}return E=Pr(E),m&&m[Ne]?m.K(_,E,h(V)?!!V.capture:!1,ee):Bt(m,_,E,!1,V,ee)}function Bt(m,_,E,V,ee,oe){if(!_)throw Error("Invalid event type");var Ee=h(ee)?!!ee.capture:!!ee,pt=Sr(m);if(pt||(m[_e]=pt=new dt(m)),E=pt.add(_,E,V,Ee,oe),E.proxy)return E;if(V=fr(),E.proxy=V,V.src=m,V.listener=E,m.addEventListener)ge||(ee=Ee),ee===void 0&&(ee=!1),m.addEventListener(_.toString(),V,ee);else if(m.attachEvent)m.attachEvent(Qt(_.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fr(){function m(E){return _.call(m.src,m.listener,E)}const _=kr;return m}function Tr(m,_,E,V,ee){if(Array.isArray(_))for(var oe=0;oe<_.length;oe++)Tr(m,_[oe],E,V,ee);else V=h(V)?!!V.capture:!!V,E=Pr(E),m&&m[Ne]?(m=m.i,_=String(_).toString(),_ in m.g&&(oe=m.g[_],E=Xe(oe,E,V,ee),-1<E&&(ze(oe[E]),Array.prototype.splice.call(oe,E,1),oe.length==0&&(delete m.g[_],m.h--)))):m&&(m=Sr(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Xe(_,E,V,ee)),(E=-1<m?_[m]:null)&&hr(E))}function hr(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ne])nt(_.i,m);else{var E=m.type,V=m.proxy;_.removeEventListener?_.removeEventListener(E,V,m.capture):_.detachEvent?_.detachEvent(Qt(E),V):_.addListener&&_.removeListener&&_.removeListener(V),(E=Sr(_))?(nt(E,m),E.h==0&&(E.src=null,_[_e]=null)):ze(m)}}}function Qt(m){return m in Ge?Ge[m]:Ge[m]="on"+m}function kr(m,_){if(m.da)m=!0;else{_=new de(_,this);var E=m.listener,V=m.ha||m.src;m.fa&&hr(m),m=E.call(V,_)}return m}function Sr(m){return m=m[_e],m instanceof dt?m:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pr(m){return typeof m=="function"?m:(m[Mn]||(m[Mn]=function(_){return m.handleEvent(_)}),m[Mn])}function Pt(){ue.call(this),this.i=new dt(this),this.M=this,this.F=null}T(Pt,ue),Pt.prototype[Ne]=!0,Pt.prototype.removeEventListener=function(m,_,E,V){Tr(this,m,_,E,V)};function cn(m,_){var E,V=m.F;if(V)for(E=[];V;V=V.F)E.push(V);if(m=m.M,V=_.type||_,typeof _=="string")_=new xe(_,m);else if(_ instanceof xe)_.target=_.target||m;else{var ee=_;_=new xe(V,m),M(_,ee)}if(ee=!0,E)for(var oe=E.length-1;0<=oe;oe--){var Ee=_.g=E[oe];ee=Or(Ee,V,!0,_)&&ee}if(Ee=_.g=m,ee=Or(Ee,V,!0,_)&&ee,ee=Or(Ee,V,!1,_)&&ee,E)for(oe=0;oe<E.length;oe++)Ee=_.g=E[oe],ee=Or(Ee,V,!1,_)&&ee}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var E=m.g[_],V=0;V<E.length;V++)ze(E[V]);delete m.g[_],m.h--}}this.F=null},Pt.prototype.K=function(m,_,E,V){return this.i.add(String(m),_,!1,E,V)},Pt.prototype.L=function(m,_,E,V){return this.i.add(String(m),_,!0,E,V)};function Or(m,_,E,V){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var ee=!0,oe=0;oe<_.length;++oe){var Ee=_[oe];if(Ee&&!Ee.da&&Ee.capture==E){var pt=Ee.listener,Tn=Ee.ha||Ee.src;Ee.fa&&nt(m.i,Ee),ee=pt.call(Tn,V)!==!1&&ee}}return ee&&!V.defaultPrevented}function ol(m,_,E){if(typeof m=="function")E&&(m=x(m,E));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Dr(m){m.g=ol(()=>{m.g=null,m.i&&(m.i=!1,Dr(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class ll extends ue{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(m){ue.call(this),this.h=m,this.g={}}T(Pa,ue);var va=[];function kn(m){$(m.g,function(_,E){this.g.hasOwnProperty(E)&&hr(_)},m),m.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),kn(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=u.JSON.stringify,mr=u.JSON.parse,Pn=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function mi(){}mi.prototype.h=null;function cl(m){return m.h||(m.h=m.i())}function no(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ba(){xe.call(this,"d")}T(ba,xe);function rr(){xe.call(this,"c")}T(rr,xe);var Hn={},Oa=null;function ts(){return Oa=Oa||new Pt}Hn.La="serverreachability";function q(m){xe.call(this,Hn.La,m)}T(q,xe);function K(m){const _=ts();cn(_,new q(_))}Hn.STAT_EVENT="statevent";function ie(m,_){xe.call(this,Hn.STAT_EVENT,m),this.stat=_}T(ie,xe);function fe(m){const _=ts();cn(_,new ie(_,m))}Hn.Ma="timingevent";function De(m,_){xe.call(this,Hn.Ma,m),this.size=_}T(De,xe);function He(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Ve(m,_,E,V,ee,oe){m.info(function(){if(m.g)if(oe)for(var Ee="",pt=oe.split("&"),Tn=0;Tn<pt.length;Tn++){var gt=pt[Tn].split("=");if(1<gt.length){var jn=gt[0];gt=gt[1];var Sn=jn.split("_");Ee=2<=Sn.length&&Sn[1]=="type"?Ee+(jn+"="+gt+"&"):Ee+(jn+"=redacted&")}}else Ee=null;else Ee=oe;return"XMLHTTP REQ ("+V+") [attempt "+ee+"]: "+_+`
`+E+`
`+Ee})}function Ue(m,_,E,V,ee,oe,Ee){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ee+"]: "+_+`
`+E+`
`+oe+" "+Ee})}function Ae(m,_,E,V){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ie(m,E)+(V?" "+V:"")})}function Oe(m,_){m.info(function(){return"TIMEOUT: "+_})}Fe.prototype.info=function(){};function Ie(m,_){if(!m.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(m=0;m<E.length;m++)if(Array.isArray(E[m])){var V=E[m];if(!(2>V.length)){var ee=V[1];if(Array.isArray(ee)&&!(1>ee.length)){var oe=ee[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Ee=1;Ee<ee.length;Ee++)ee[Ee]=""}}}}return es(E)}catch{return _}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Et={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kt;function Lt(){}T(Lt,mi),Lt.prototype.g=function(){return new XMLHttpRequest},Lt.prototype.i=function(){return{}},Kt=new Lt;function xt(m,_,E,V){this.j=m,this.i=_,this.l=E,this.R=V||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var pr={},Ir={};function un(m,_,E){m.L=1,m.v=so(nn(_)),m.m=E,m.P=!0,yn(m,null)}function yn(m,_){m.F=Date.now(),At(m),m.A=nn(m.v);var E=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),vi(E.i,"t",V),m.C=0,E=m.j.J,m.h=new $t,m.g=sf(m.j,E?_:null,!m.m),0<m.O&&(m.M=new ll(x(m.Y,m,m.g),m.O)),_=m.U,E=m.g,V=m.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(va[0]=ee.toString()),ee=va);for(var oe=0;oe<ee.length;oe++){var Ee=ot(E,ee[oe],V||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),K(),Ve(m.i,m.u,m.A,m.l,m.R,m.m)}xt.prototype.ca=function(m){m=m.target;const _=this.M;_&&Zr(m)==3?_.j():this.Y(m)},xt.prototype.Y=function(m){try{if(m==this.g)e:{const Sn=Zr(this.g);var _=this.g.Ba();const wi=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Xd(this.g)))){this.J||Sn!=4||_==7||(_==8||0>=wi?K(3):K(2)),xa(this);var E=this.g.Z();this.X=E;t:if($r(this)){var V=Xd(this.g);m="";var ee=V.length,oe=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),at(this);var Ee="";break t}this.h.i=new u.TextDecoder}for(_=0;_<ee;_++)this.h.h=!0,m+=this.h.i.decode(V[_],{stream:!(oe&&_==ee-1)});V.length=0,this.h.g+=m,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=E==200,Ue(this.i,this.u,this.A,this.l,this.R,Sn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Tn=this.g;if((pt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(pt)){var gt=pt;break t}}gt=null}if(E=gt)Ae(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,On(this,E);else{this.o=!1,this.s=3,fe(12),Ct(this),at(this);break e}}if(this.P){E=!0;let Yn;for(;!this.J&&this.C<Ee.length;)if(Yn=Ar(this,Ee),Yn==Ir){Sn==4&&(this.s=4,fe(14),E=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==pr){this.s=4,fe(15),Ae(this.i,this.l,Ee,"[Invalid Chunk]"),E=!1;break}else Ae(this.i,this.l,Yn,null),On(this,Yn);if($r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Ee.length!=0||this.h.h||(this.s=1,fe(16),E=!1),this.o=this.o&&E,!E)Ae(this.i,this.l,Ee,"[Invalid Chunked Response]"),Ct(this),at(this);else if(0<Ee.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),mo(jn),jn.M=!0,fe(11))}}else Ae(this.i,this.l,Ee,null),On(this,Ee);Sn==4&&Ct(this),this.o&&!this.J&&(Sn==4?nf(this.j,this):(this.o=!1,At(this)))}else Tp(this.g),E==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),Ct(this),at(this)}}}catch{}finally{}};function $r(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ar(m,_){var E=m.C,V=_.indexOf(`
`,E);return V==-1?Ir:(E=Number(_.substring(E,V)),isNaN(E)?pr:(V+=1,V+E>_.length?Ir:(_=_.slice(V,V+E),m.C=V+E,_)))}xt.prototype.cancel=function(){this.J=!0,Ct(this)};function At(m){m.S=Date.now()+m.I,Ia(m,m.I)}function Ia(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=He(x(m.ba,m),_)}function xa(m){m.B&&(u.clearTimeout(m.B),m.B=null)}xt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Oe(this.i,this.A),this.L!=2&&(K(),fe(17)),Ct(this),this.s=2,at(this)):Ia(this,this.S-m)};function at(m){m.j.G==0||m.J||nf(m.j,m)}function Ct(m){xa(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,kn(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function On(m,_){try{var E=m.j;if(E.G!=0&&(E.g==m||ja(E.h,m))){if(!m.K&&ja(E.h,m)&&E.G==3){try{var V=E.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ee=V;if(ee[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<m.F)bl(E),yl(E);else break e;$c(E),fe(18)}}else E.za=ee[1],0<E.za-E.T&&37500>ee[2]&&E.F&&E.v==0&&!E.C&&(E.C=He(x(E.Za,E),6e3));if(1>=ro(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else _i(E,11)}else if((m.K||E.g==m)&&bl(E),!U(_))for(ee=E.Da.g.parse(_),_=0;_<ee.length;_++){let gt=ee[_];if(E.T=gt[0],gt=gt[1],E.G==2)if(gt[0]=="c"){E.K=gt[1],E.ia=gt[2];const jn=gt[3];jn!=null&&(E.la=jn,E.j.info("VER="+E.la));const Sn=gt[4];Sn!=null&&(E.Aa=Sn,E.j.info("SVER="+E.Aa));const wi=gt[5];wi!=null&&typeof wi=="number"&&0<wi&&(V=1.5*wi,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const Yn=m.g;if(Yn){const Ha=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var oe=V.h;oe.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(ns(oe,oe.h),oe.h=null))}if(V.D){const Qc=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(V.ya=Qc,Tt(V.I,V.D,Qc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-m.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var Ee=m;if(V.qa=af(V,V.J?V.ia:null,V.W),Ee.K){Qr(V.h,Ee);var pt=Ee,Tn=V.L;Tn&&(pt.I=Tn),pt.B&&(xa(pt),At(pt)),V.g=Ee}else ef(V);0<E.i.length&&vl(E)}else gt[0]!="stop"&&gt[0]!="close"||_i(E,7);else E.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?_i(E,7):Yc(E):gt[0]!="noop"&&E.l&&E.l.ta(gt),E.v=0)}}K(4)}catch{}}var pi=class{constructor(m,_){this.g=m,this.map=_}};function Ft(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ro(m){return m.h?1:m.g?m.g.size:0}function ja(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function ns(m,_){m.g?m.g.add(_):m.h=_}function Qr(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Ft.prototype.cancel=function(){if(this.i=gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function gr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const E of m.g.values())_=_.concat(E.D);return _}return A(m.i)}function Gd(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],E=m.length,V=0;V<E;V++)_.push(m[V]);return _}_=[],E=0;for(V in m)_[E++]=m[V];return _}function xp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var E=0;E<m;E++)_.push(E);return _}_=[],E=0;for(const V in m)_[E++]=V;return _}}}function ao(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var E=xp(m),V=Gd(m),ee=V.length,oe=0;oe<ee;oe++)_.call(void 0,V[oe],E&&E[oe],m)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(m,_){if(m){m=m.split("&");for(var E=0;E<m.length;E++){var V=m[E].indexOf("="),ee=null;if(0<=V){var oe=m[E].substring(0,V);ee=m[E].substring(V+1)}else oe=m[E];_(oe,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function gi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof gi){this.h=m.h,rs(this,m.j),this.o=m.o,this.g=m.g,io(this,m.s),this.l=m.l;var _=m.i,E=new Va;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),dl(this,E),this.m=m.m}else m&&(_=String(m).match(Lc))?(this.h=!1,rs(this,_[1]||"",!0),this.o=as(_[2]||""),this.g=as(_[3]||"",!0),io(this,_[4]),this.l=as(_[5]||"",!0),dl(this,_[6]||"",!0),this.m=as(_[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}gi.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Kr(_,Uc,!0),":");var E=this.g;return(E||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Kr(_,Uc,!0),"@"),m.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&m.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Kr(E,E.charAt(0)=="/"?Bc:Qd,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Kr(E,Ep)),m.join("")};function nn(m){return new gi(m)}function rs(m,_,E){m.j=E?as(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function io(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function dl(m,_,E){_ instanceof Va?(m.i=_,Fc(m.i,m.h)):(E||(_=Kr(_,wp)),m.i=new Va(_,m.h))}function Tt(m,_,E){m.i.set(_,E)}function so(m){return Tt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function as(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Kr(m,_,E){return typeof m=="string"?(m=encodeURI(m).replace(_,_p),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function _p(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Uc=/[#\/\?@]/g,Qd=/[#\?:]/g,Bc=/[#\?]/g,wp=/[#\?@]/g,Ep=/#/g;function Va(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Wr(m){m.g||(m.g=new Map,m.h=0,m.i&&ul(m.i,function(_,E){m.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Va.prototype,n.add=function(m,_){Wr(this),this.i=null,m=bi(this,m);var E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(_),this.h+=1,this};function fl(m,_){Wr(m),_=bi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function yi(m,_){return Wr(m),_=bi(m,_),m.g.has(_)}n.forEach=function(m,_){Wr(this),this.g.forEach(function(E,V){E.forEach(function(ee){m.call(_,ee,V,this)},this)},this)},n.na=function(){Wr(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let V=0;V<_.length;V++){const ee=m[V];for(let oe=0;oe<ee.length;oe++)E.push(_[V])}return E},n.V=function(m){Wr(this);let _=[];if(typeof m=="string")yi(this,m)&&(_=_.concat(this.g.get(bi(this,m))));else{m=Array.from(this.g.values());for(let E=0;E<m.length;E++)_=_.concat(m[E])}return _},n.set=function(m,_){return Wr(this),this.i=null,m=bi(this,m),yi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function vi(m,_,E){fl(m,_),0<E.length&&(m.i=null,m.g.set(bi(m,_),A(E)),m.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var V=_[E];const oe=encodeURIComponent(String(V)),Ee=this.V(V);for(V=0;V<Ee.length;V++){var ee=oe;Ee[V]!==""&&(ee+="="+encodeURIComponent(String(Ee[V]))),m.push(ee)}}return this.i=m.join("&")};function bi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Fc(m,_){_&&!m.j&&(Wr(m),m.i=null,m.g.forEach(function(E,V){var ee=V.toLowerCase();V!=ee&&(fl(this,V),vi(this,ee,E))},m)),m.j=_}function Kd(m,_){const E=new Fe;if(u.Image){const V=new Image;V.onload=w(Xr,E,"TestLoadImage: loaded",!0,_,V),V.onerror=w(Xr,E,"TestLoadImage: error",!1,_,V),V.onabort=w(Xr,E,"TestLoadImage: abort",!1,_,V),V.ontimeout=w(Xr,E,"TestLoadImage: timeout",!1,_,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else _(!1)}function oo(m,_){const E=new Fe,V=new AbortController,ee=setTimeout(()=>{V.abort(),Xr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:V.signal}).then(oe=>{clearTimeout(ee),oe.ok?Xr(E,"TestPingServer: ok",!0,_):Xr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ee),Xr(E,"TestPingServer: error",!1,_)})}function Xr(m,_,E,V,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),V(E)}catch{}}function lo(){this.g=new Pn}function La(m,_,E){const V=E||"";try{ao(m,function(ee,oe){let Ee=ee;h(ee)&&(Ee=es(ee)),_.push(V+oe+"="+encodeURIComponent(Ee))})}catch(ee){throw _.push(V+"type="+encodeURIComponent("_badmap")),ee}}function is(m){this.l=m.Ub||null,this.j=m.eb||!1}T(is,mi),is.prototype.g=function(){return new xi(this.l,this.j)},is.prototype.i=function(m){return function(){return m}}({});function xi(m,_){Pt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(xi,Pt),n=xi.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Ba(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Ua(this):Ba(this),this.readyState==3&&zc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ua(this))},n.Qa=function(m){this.g&&(this.response=m,Ua(this))},n.ga=function(){this.g&&Ua(this)};function Ua(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ba(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=_.next();return m.join(`\r
`)};function Ba(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Hc(m){let _="";return $(m,function(E,V){_+=V,_+=":",_+=E,_+=`\r
`}),_}function In(m,_,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=Hc(E),typeof m=="string"?E!=null&&encodeURIComponent(String(E)):Tt(m,_,E))}function Nt(m){Pt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Nt,Pt);var hl=/^https?$/i,co=["POST","PUT"];n=Nt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kt.g(),this.v=this.o?cl(this.o):cl(Kt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(oe){Wd(this,oe);return}if(m=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ee in V)E.set(ee,V[ee]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const oe of V.keys())E.set(oe,V.get(oe));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(co,_,void 0))||V||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Ee]of E)this.g.setRequestHeader(oe,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(m),this.u=!1}catch(oe){Wd(this,oe)}};function Wd(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,ml(m),Fa(m)}function ml(m){m.A||(m.A=!0,cn(m,"complete"),cn(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,cn(this,"complete"),cn(this,"abort"),Fa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pl(this):this.bb())},n.bb=function(){pl(this)};function pl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Zr(m)!=4||m.Z()!=2)){if(m.u&&Zr(m)==4)ol(m.Ea,0,m);else if(cn(m,"readystatechange"),Zr(m)==4){m.h=!1;try{const Ee=m.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var V;if(V=Ee===0){var ee=String(m.D).match(Lc)[1]||null;!ee&&u.self&&u.self.location&&(ee=u.self.location.protocol.slice(0,-1)),V=!hl.test(ee?ee.toLowerCase():"")}E=V}if(E)cn(m,"complete"),cn(m,"success");else{m.m=6;try{var oe=2<Zr(m)?m.g.statusText:""}catch{oe=""}m.l=oe+" ["+m.Z()+"]",ml(m)}}finally{Fa(m)}}}}function Fa(m,_){if(m.g){uo(m);const E=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||cn(m,"ready");try{E.onreadystatechange=V}catch{}}}function uo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Zr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),mr(_)}};function Xd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Tp(m){const _={};m=(m.g&&2<=Zr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(U(m[V]))continue;var E=L(m[V]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const oe=_[ee]||[];_[ee]=oe,oe.push(E)}I(_,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(m,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||_}function gl(m){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,m),this.cb=fo("retryDelaySeedMs",1e4,m),this.Wa=fo("forwardChannelMaxRetries",2,m),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ft(m&&m.concurrentRequestLimit),this.Da=new lo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gl.prototype,n.la=8,n.G=1,n.connect=function(m,_,E,V){fe(0),this.W=m,this.H=_||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=af(this,null,this.W),vl(this)};function Yc(m){if(Zd(m),m.G==3){var _=m.U++,E=nn(m.I);if(Tt(E,"SID",m.K),Tt(E,"RID",_),Tt(E,"TYPE","terminate"),ho(m,E),_=new xt(m,m.j,_),_.L=2,_.v=so(nn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=sf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),At(_)}rf(m)}function yl(m){m.g&&(mo(m),m.g.cancel(),m.g=null)}function Zd(m){yl(m),m.u&&(u.clearTimeout(m.u),m.u=null),bl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function vl(m){if(!Gr(m.h)&&!m.s){m.s=!0;var _=m.Ga;J||P(),ne||(J(),ne=!0),be.add(_,m),m.B=0}}function Sp(m,_){return ro(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=He(x(m.Ga,m,_),Gc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ee=new xt(this,this.j,m);let oe=this.o;if(this.S&&(oe?(oe=C(oe),M(oe,this.S)):oe=this.S),this.m!==null||this.O||(ee.H=oe,oe=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Jd(this,ee,_),E=nn(this.I),Tt(E,"RID",m),Tt(E,"CVER",22),this.D&&Tt(E,"X-HTTP-Session-Id",this.D),ho(this,E),oe&&(this.O?_="headers="+encodeURIComponent(String(Hc(oe)))+"&"+_:this.m&&In(E,this.m,oe)),ns(this.h,ee),this.Ua&&Tt(E,"TYPE","init"),this.P?(Tt(E,"$req",_),Tt(E,"SID","null"),ee.T=!0,un(ee,E,null)):un(ee,E,_),this.G=2}}else this.G==3&&(m?qc(this,m):this.i.length==0||Gr(this.h)||qc(this))};function qc(m,_){var E;_?E=_.l:E=m.U++;const V=nn(m.I);Tt(V,"SID",m.K),Tt(V,"RID",E),Tt(V,"AID",m.T),ho(m,V),m.m&&m.o&&In(V,m.m,m.o),E=new xt(m,m.j,E,m.B+1),m.m===null&&(E.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Jd(m,E,1e3),E.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ns(m.h,E),un(E,V,_)}function ho(m,_){m.H&&$(m.H,function(E,V){Tt(_,V,E)}),m.l&&ao({},function(E,V){Tt(_,V,E)})}function Jd(m,_,E){E=Math.min(m.i.length,E);var V=m.l?x(m.l.Na,m.l,m):null;e:{var ee=m.i;let oe=-1;for(;;){const Ee=["count="+E];oe==-1?0<E?(oe=ee[0].g,Ee.push("ofs="+oe)):oe=0:Ee.push("ofs="+oe);let pt=!0;for(let Tn=0;Tn<E;Tn++){let gt=ee[Tn].g;const jn=ee[Tn].map;if(gt-=oe,0>gt)oe=Math.max(0,ee[Tn].g-100),pt=!1;else try{La(jn,Ee,"req"+gt+"_")}catch{V&&V(jn)}}if(pt){V=Ee.join("&");break e}}}return m=m.i.splice(0,E),_.D=m,V}function ef(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;J||P(),ne||(J(),ne=!0),be.add(_,m),m.v=0}}function $c(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=He(x(m.Fa,m),Gc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=He(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),yl(this),tf(this))};function mo(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function tf(m){m.g=new xt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=nn(m.qa);Tt(_,"RID","rpc"),Tt(_,"SID",m.K),Tt(_,"AID",m.T),Tt(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&Tt(_,"TO",m.ja),Tt(_,"TYPE","xmlhttp"),ho(m,_),m.m&&m.o&&In(_,m.m,m.o),m.L&&(m.g.I=m.L);var E=m.g;m=m.ia,E.L=1,E.v=so(nn(_)),E.m=null,E.P=!0,yn(E,m)}n.Za=function(){this.C!=null&&(this.C=null,yl(this),$c(this),fe(19))};function bl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function nf(m,_){var E=null;if(m.g==_){bl(m),mo(m),m.g=null;var V=2}else if(ja(m.h,_))E=_.D,Qr(m.h,_),V=1;else return;if(m.G!=0){if(_.o)if(V==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var ee=m.B;V=ts(),cn(V,new De(V,E)),vl(m)}else ef(m);else if(ee=_.s,ee==3||ee==0&&0<_.X||!(V==1&&Sp(m,_)||V==2&&$c(m)))switch(E&&0<E.length&&(_=m.h,_.i=_.i.concat(E)),ee){case 1:_i(m,5);break;case 4:_i(m,10);break;case 3:_i(m,6);break;default:_i(m,2)}}}function Gc(m,_){let E=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(E*=2),E*_}function _i(m,_){if(m.j.info("Error code "+_),_==2){var E=x(m.fb,m),V=m.Xa;const ee=!V;V=new gi(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rs(V,"https"),so(V),ee?Kd(V.toString(),E):oo(V.toString(),E)}else fe(2);m.G=0,m.l&&m.l.sa(_),rf(m),Zd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function rf(m){if(m.G=0,m.ka=[],m.l){const _=gr(m.h);(_.length!=0||m.i.length!=0)&&(D(m.ka,_),D(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function af(m,_,E){var V=E instanceof gi?nn(E):new gi(E);if(V.g!="")_&&(V.g=_+"."+V.g),io(V,V.s);else{var ee=u.location;V=ee.protocol,_=_?_+"."+ee.hostname:ee.hostname,ee=+ee.port;var oe=new gi(null);V&&rs(oe,V),_&&(oe.g=_),ee&&io(oe,ee),E&&(oe.l=E),V=oe}return E=m.D,_=m.ya,E&&_&&Tt(V,E,_),Tt(V,"VER",m.la),ho(m,V),V}function sf(m,_,E){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Nt(new is({eb:E})):new Nt(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function of(){}n=of.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xl(){}xl.prototype.g=function(m,_){return new yr(m,_)};function yr(m,_){Pt.call(this),this.g=new gl(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!U(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new za(this)}T(yr,Pt),yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){Yc(this.g)},yr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.u&&(E={},E.__data__=es(m),m=E);_.i.push(new pi(_.Ya++,m)),_.G==3&&vl(_)},yr.prototype.N=function(){this.g.l=null,delete this.j,Yc(this.g),delete this.g,yr.aa.N.call(this)};function lf(m){ba.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const E in _){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}T(lf,ba);function cf(){rr.call(this),this.status=1}T(cf,rr);function za(m){this.g=m}T(za,of),za.prototype.ua=function(){cn(this.g,"a")},za.prototype.ta=function(m){cn(this.g,new lf(m))},za.prototype.sa=function(m){cn(this.g,new cf)},za.prototype.ra=function(){cn(this.g,"b")},xl.prototype.createWebChannel=xl.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,CA=function(){return new xl},AA=function(){return ts()},DA=Hn,k0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,kh=$e,Et.COMPLETE="complete",SA=Et,no.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Qu=no,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,TA=Nt}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore",bT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new hA("@firebase/firestore");function Kl(){return Qo.logLevel}function ke(n,...e){if(Qo.logLevel<=bt.DEBUG){const t=e.map(ob);Qo.debug(`Firestore (${Mc}): ${n}`,...t)}}function Ki(n,...e){if(Qo.logLevel<=bt.ERROR){const t=e.map(ob);Qo.error(`Firestore (${Mc}): ${n}`,...t)}}function hc(n,...e){if(Qo.logLevel<=bt.WARN){const t=e.map(ob);Qo.warn(`Firestore (${Mc}): ${n}`,...t)}}function ob(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(n="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+n;throw Ki(e),new Error(e)}function kt(n,e){n||We()}function tt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends rl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lr.UNAUTHENTICATED))}shutdown(){}}class K6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},u=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new RA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new lr(e)}}class X6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new X6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new xT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=e5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function P0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return st(r,a);{const o=NA(),l=t5(o.encode(_T(n,t)),o.encode(_T(e,t)));return l!==0?l:st(r,a)}}t+=r>65535?2:1}return st(n.length,e.length)}function _T(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function t5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return st(n[t],e[t]);return st(n.length,e.length)}function mc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,ET=1e6;class Cn{static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ET);return new Cn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wT)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Cn(0,0))}static max(){return new Ze(new Cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__name__";class Ka{constructor(e,t,r){t===void 0?t=0:t>e.length&&We(),r===void 0?r=e.length-t:r>e.length-t&&We(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ka.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return st(e.length,t.length)}static compareSegments(e,t){const r=Ka.isNumericId(e),a=Ka.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ka.extractNumericId(e).compare(Ka.extractNumericId(t)):P0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class Gt extends Ka{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Ka{construct(e,t,r){return new Jn(e,t,r)}static isValidIdentifier(e){return n5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TT}static keyField(){return new Jn([TT])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(o(),a++)}if(o(),l)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(t)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Gt.fromString(e))}static fromName(e){return new qe(Gt.fromString(e).popFirst(5))}static empty(){return new qe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function r5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(r===1e9?new Cn(t+1,0):new Cn(t,r));return new Hs(a,qe.empty(),e)}function a5(n){return new Hs(n.readTime,n.key,xd)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(Ze.min(),qe.empty(),xd)}static max(){return new Hs(Ze.max(),qe.empty(),xd)}}function i5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=qe.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==s5)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,l=!1;e.forEach(u=>{++a,u.next(()=>{++o,l&&o===a&&t()},f=>r(f))}),l=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(y=>{l[h]=y,++u,u===o&&r(l)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function l5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Hm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=-1;function Ym(n){return n==null}function nm(n){return n===0&&1/n==-1/0}function c5(n){return typeof n=="number"&&Number.isInteger(n)&&!nm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="";function u5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ST(e)),e=d5(n.get(t),e);return ST(e)}function d5(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case kA:t+="";break;default:t+=o}}return t}function ST(n){return n+kA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Wn.RED,this.left=a??Wn.EMPTY,this.right=o??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Wn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,t,r,a,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AT(this.data.getIterator())}getIteratorFrom(e){return new AT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rn(this.comparator);return t.data=e,t}}class AT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new zr([])}unionWith(e){let t=new Rn(Jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OA("Invalid base64 string: "+o):o}}(e);return new nr(t)}static fromUint8Array(e){const t=function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o}(e);return new nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const f5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(kt(!!n),typeof n=="string"){let e=0;const t=f5.exec(n);if(kt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(n.seconds),nanos:hn(n.nanos)}}function hn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?nr.fromBase64String(n):nr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="server_timestamp",jA="__type__",VA="__previous_value__",LA="__local_write_time__";function cb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jA])===null||t===void 0?void 0:t.stringValue)===IA}function qm(n){const e=n.mapValue.fields[VA];return cb(e)?qm(e):e}function _d(n){const e=Ys(n.mapValue.fields[LA].timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,t,r,a,o,l,u,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h}}const rm="(default)";class wd{constructor(e,t){this.projectId=e,this.database=t||rm}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="__type__",m5="__max__",ph={mapValue:{}},BA="__vector__",am="value";function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cb(n)?4:g5(n)?9007199254740991:p5(n)?10:11:We()}function oi(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _d(n).isEqual(_d(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Ys(a.timestampValue),u=Ys(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return qs(a.bytesValue).isEqual(qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return hn(a.geoPointValue.latitude)===hn(o.geoPointValue.latitude)&&hn(a.geoPointValue.longitude)===hn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return hn(a.integerValue)===hn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=hn(a.doubleValue),u=hn(o.doubleValue);return l===u?nm(l)===nm(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return mc(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(a,o){const l=a.mapValue.fields||{},u=o.mapValue.fields||{};if(DT(l)!==DT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!oi(l[f],u[f])))return!1;return!0}(n,e);default:return We()}}function Ed(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function pc(n,e){if(n===e)return 0;const t=$s(n),r=$s(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=hn(o.integerValue||o.doubleValue),f=hn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return CT(n.timestampValue,e.timestampValue);case 4:return CT(_d(n),_d(e));case 5:return P0(n.stringValue,e.stringValue);case 6:return function(o,l){const u=qs(o),f=qs(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const y=st(u[h],f[h]);if(y!==0)return y}return st(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=st(hn(o.latitude),hn(l.latitude));return u!==0?u:st(hn(o.longitude),hn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return RT(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,f,h,y;const v=o.fields||{},x=l.fields||{},w=(u=v[am])===null||u===void 0?void 0:u.arrayValue,T=(f=x[am])===null||f===void 0?void 0:f.arrayValue,A=st(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((y=T==null?void 0:T.values)===null||y===void 0?void 0:y.length)||0);return A!==0?A:RT(w,T)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===ph.mapValue&&l===ph.mapValue)return 0;if(o===ph.mapValue)return 1;if(l===ph.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),h=l.fields||{},y=Object.keys(h);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const x=P0(f[v],y[v]);if(x!==0)return x;const w=pc(u[f[v]],h[y[v]]);if(w!==0)return w}return st(f.length,y.length)}(n.mapValue,e.mapValue);default:throw We()}}function CT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Ys(n),r=Ys(e),a=st(t.seconds,r.seconds);return a!==0?a:st(t.nanos,r.nanos)}function RT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=pc(t[a],r[a]);if(o)return o}return st(t.length,r.length)}function gc(n){return O0(n)}function O0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return qe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=O0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${O0(t.fields[l])}`;return a+"}"}(n.mapValue):We()}function Ph(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qm(n);return e?16+Ph(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Ph(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Js(r.fields,(o,l)=>{a+=o.length+Ph(l)}),a}(n.mapValue);default:throw We()}}function NT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function I0(n){return!!n&&"integerValue"in n}function ub(n){return!!n&&"arrayValue"in n}function MT(n){return!!n&&"nullValue"in n}function kT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oh(n){return!!n&&"mapValue"in n}function p5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[UA])===null||t===void 0?void 0:t.stringValue)===BA}function ad(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ad(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ad(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(t)}setAll(e){let t=Jn.emptyPath(),r={},a=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=ad(l):a.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Oh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Js(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Nr(ad(this.value))}}function FA(n){const e=[];return Js(n.fields,(t,r)=>{const a=new Jn([t]);if(Oh(r)){const o=FA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)}),new zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t,r,a,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new cr(e,0,Ze.min(),Ze.min(),Ze.min(),Nr.empty(),0)}static newFoundDocument(e,t,r,a){return new cr(e,1,t,Ze.min(),r,a,0)}static newNoDocument(e,t){return new cr(e,2,t,Ze.min(),Ze.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,Ze.min(),Ze.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this.position=e,this.inclusive=t}}function PT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],l=n.position[a];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(l.referenceValue),t.key):r=pc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t="asc"){this.field=e,this.dir=t}}function y5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class wn extends zA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new b5(e,t,r):t==="array-contains"?new w5(e,r):t==="in"?new E5(e,r):t==="not-in"?new T5(e,r):t==="array-contains-any"?new S5(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new x5(e,r):new _5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pc(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends zA{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Na(e,t)}matches(e){return HA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function HA(n){return n.op==="and"}function YA(n){return v5(n)&&HA(n)}function v5(n){for(const e of n.filters)if(e instanceof Na)return!1;return!0}function j0(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+gc(n.value);if(YA(n))return n.filters.map(e=>j0(e)).join(",");{const e=n.filters.map(t=>j0(t)).join(",");return`${n.op}(${e})`}}function qA(n,e){return n instanceof wn?function(r,a){return a instanceof wn&&r.op===a.op&&r.field.isEqual(a.field)&&oi(r.value,a.value)}(n,e):n instanceof Na?function(r,a){return a instanceof Na&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,l,u)=>o&&qA(l,a.filters[u]),!0):!1}(n,e):void We()}function $A(n){return n instanceof wn?function(t){return`${t.field.canonicalString()} ${t.op} ${gc(t.value)}`}(n):n instanceof Na?function(t){return t.op.toString()+" {"+t.getFilters().map($A).join(" ,")+"}"}(n):"Filter"}class b5 extends wn{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class x5 extends wn{constructor(e,t){super(e,"in",t),this.keys=GA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _5 extends wn{constructor(e,t){super(e,"not-in",t),this.keys=GA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class w5 extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ub(t)&&Ed(t.arrayValue,this.value)}}class E5 extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ed(this.value.arrayValue,t)}}class T5 extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ed(this.value.arrayValue,t)}}class S5 extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ub(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ed(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,t=null,r=[],a=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function IT(n,e=null,t=[],r=[],a=null,o=null,l=null){return new D5(n,e,t,r,a,o,l)}function db(n){const e=tt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>j0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ym(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gc(r)).join(",")),e.le=t}return e.le}function fb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OT(n.startAt,e.startAt)&&OT(n.endAt,e.endAt)}function V0(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,r=[],a=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function A5(n,e,t,r,a,o,l,u){return new Oc(n,e,t,r,a,o,l,u)}function $m(n){return new Oc(n)}function jT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QA(n){return n.collectionGroup!==null}function id(n){const e=tt(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Rn(Jn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Td(o,r))}),t.has(Jn.keyField().canonicalString())||e.he.push(new Td(Jn.keyField(),r))}return e.he}function ai(n){const e=tt(n);return e.Pe||(e.Pe=C5(e,id(n))),e.Pe}function C5(n,e){if(n.limitType==="F")return IT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Td(a.field,o)});const t=n.endAt?new im(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new im(n.startAt.position,n.startAt.inclusive):null;return IT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function L0(n,e){const t=n.filters.concat([e]);return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function U0(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gm(n,e){return fb(ai(n),ai(e))&&n.limitType===e.limitType}function KA(n){return`${db(ai(n))}|lt:${n.limitType}`}function Wl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>$A(a)).join(", ")}]`),Ym(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>gc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>gc(a)).join(",")),`Target(${r})`}(ai(n))}; limitType=${n.limitType})`}function Qm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of id(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(l,u,f){const h=PT(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,id(r),a)||r.endAt&&!function(l,u,f){const h=PT(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,id(r),a))}(n,e)}function R5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WA(n){return(e,t)=>{let r=!1;for(const a of id(n)){const o=N5(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function N5(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(o,l,u){const f=l.data.field(o),h=u.data.field(o);return f!==null&&h!==null?pc(f,h):We()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new tn(qe.comparator);function Wi(){return M5}const XA=new tn(qe.comparator);function Ku(...n){let e=XA;for(const t of n)e=e.insert(t.key,t);return e}function ZA(n){let e=XA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return sd()}function JA(){return sd()}function sd(){return new al(n=>n.toString(),(n,e)=>n.isEqual(e))}const k5=new tn(qe.comparator),P5=new Rn(qe.comparator);function ht(...n){let e=P5;for(const t of n)e=e.add(t);return e}const O5=new Rn(st);function I5(){return O5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nm(e)?"-0":e}}function eC(n){return{integerValue:""+n}}function j5(n,e){return c5(e)?eC(e):hb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this._=void 0}}function V5(n,e,t){return n instanceof Sd?function(a,o){const l={fields:{[jA]:{stringValue:IA},[LA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&cb(o)&&(o=qm(o)),o&&(l.fields[VA]=o),{mapValue:l}}(t,e):n instanceof yc?nC(n,e):n instanceof Dd?rC(n,e):function(a,o){const l=tC(a,o),u=VT(l)+VT(a.Ie);return I0(l)&&I0(a.Ie)?eC(u):hb(a.serializer,u)}(n,e)}function L5(n,e,t){return n instanceof yc?nC(n,e):n instanceof Dd?rC(n,e):t}function tC(n,e){return n instanceof sm?function(r){return I0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Sd extends Km{}class yc extends Km{constructor(e){super(),this.elements=e}}function nC(n,e){const t=aC(e);for(const r of n.elements)t.some(a=>oi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Dd extends Km{constructor(e){super(),this.elements=e}}function rC(n,e){let t=aC(e);for(const r of n.elements)t=t.filter(a=>!oi(a,r));return{arrayValue:{values:t}}}class sm extends Km{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VT(n){return hn(n.integerValue||n.doubleValue)}function aC(n){return ub(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.field=e,this.transform=t}}function U5(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof yc&&a instanceof yc||r instanceof Dd&&a instanceof Dd?mc(r.elements,a.elements,oi):r instanceof sm&&a instanceof sm?oi(r.Ie,a.Ie):r instanceof Sd&&a instanceof Sd}(n.transform,e.transform)}class B5{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wm{}function sC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mb(n.key,pa.none()):new Ld(n.key,n.data,pa.none());{const t=n.data,r=Nr.empty();let a=new Rn(Jn.comparator);for(let o of e.fields)if(!a.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new eo(n.key,r,new zr(a.toArray()),pa.none())}}function F5(n,e,t){n instanceof Ld?function(a,o,l){const u=a.value.clone(),f=UT(a.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof eo?function(a,o,l){if(!Ih(a.precondition,o))return void o.convertToUnknownDocument(l.version);const u=UT(a.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(oC(a)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function od(n,e,t,r){return n instanceof Ld?function(o,l,u,f){if(!Ih(o.precondition,l))return u;const h=o.value.clone(),y=BT(o.fieldTransforms,f,l);return h.setAll(y),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof eo?function(o,l,u,f){if(!Ih(o.precondition,l))return u;const h=BT(o.fieldTransforms,f,l),y=l.data;return y.setAll(oC(o)),y.setAll(h),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return Ih(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function z5(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=tC(r.transform,a||null);o!=null&&(t===null&&(t=Nr.empty()),t.set(r.field,o))}return t||null}function LT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&mc(r,a,(o,l)=>U5(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ld extends Wm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class eo extends Wm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UT(n,e,t){const r=new Map;kt(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],l=o.transform,u=e.data.field(o.field);r.set(o.field,L5(l,u,t[a]))}return r}function BT(n,e,t){const r=new Map;for(const a of n){const o=a.transform,l=t.data.field(a.field);r.set(a.field,V5(o,l,e))}return r}class mb extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H5 extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&F5(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=od(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=od(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JA();return this.mutations.forEach(a=>{const o=e.get(a.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(a.key)?null:u;const f=sC(l,u);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(t,r)=>LT(t,r))&&mc(this.baseMutations,e.baseMutations,(t,r)=>LT(t,r))}}class pb{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kt(e.mutations.length===r.length);let a=function(){return k5}();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new pb(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,vt;function G5(n){switch(n){case me.OK:return We();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return We()}}function lC(n){if(n===void 0)return Ki("GRPC error has no .code"),me.UNKNOWN;switch(n){case _n.OK:return me.OK;case _n.CANCELLED:return me.CANCELLED;case _n.UNKNOWN:return me.UNKNOWN;case _n.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case _n.INTERNAL:return me.INTERNAL;case _n.UNAVAILABLE:return me.UNAVAILABLE;case _n.UNAUTHENTICATED:return me.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case _n.NOT_FOUND:return me.NOT_FOUND;case _n.ALREADY_EXISTS:return me.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return me.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case _n.ABORTED:return me.ABORTED;case _n.OUT_OF_RANGE:return me.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return me.UNIMPLEMENTED;case _n.DATA_LOSS:return me.DATA_LOSS;default:return We()}}(vt=_n||(_n={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=new js([4294967295,4294967295],0);function FT(n){const e=NA().encode(n),t=new EA;return t.update(e),new Uint8Array(t.digest())}function zT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new js([t,r],0),new js([a,o],0)]}class gb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(r<0)throw new Wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=js.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(js.fromNumber(r)));return a.compare(Q5)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=FT(e),[r,a]=zT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,a,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new gb(o,a,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=FT(e),[r,a]=zT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,a,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xm(Ze.min(),a,new tn(st),Wi(),ht())}}class Ud{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ud(r,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class cC{constructor(e,t){this.targetId=e,this.ge=t}}class uC{constructor(e,t,r=nr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class HT{constructor(){this.pe=0,this.ye=YT(),this.we=nr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ht(),t=ht(),r=ht();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:We()}}),new Ud(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=YT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class K5{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wi(),this.$e=gh(),this.Ue=gh(),this.Ke=new tn(st)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:We()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(V0(o))if(r===0){const l=new qe(o.path);this.ze(t,l,cr.newNoDocument(l,Ze.min()))}else kt(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),f=u?this.nt(u,e,l):1;if(f!==0){this.Ye(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let l,u;try{l=qs(r).toUint8Array()}catch(f){if(f instanceof OA)return hc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new gb(l,a,o)}catch(f){return hc(f instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&V0(u.target)){const f=new qe(u.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,cr.newNoDocument(f,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=ht();this.Ue.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const h=this.Xe(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const a=new Xm(e,t,this.Ke,this.Qe,r);return this.Qe=Wi(),this.$e=gh(),this.Ue=gh(),this.Ke=new tn(st),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new HT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Rn(st),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Rn(st),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new HT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gh(){return new tn(qe.comparator)}function YT(){return new tn(qe.comparator)}const W5={asc:"ASCENDING",desc:"DESCENDING"},X5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z5={and:"AND",or:"OR"};class J5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function B0(n,e){return n.useProto3Json||Ym(e)?e:{value:e}}function om(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eV(n,e){return om(n,e.toTimestamp())}function ii(n){return kt(!!n),Ze.fromTimestamp(function(t){const r=Ys(t);return new Cn(r.seconds,r.nanos)}(n))}function yb(n,e){return F0(n,e).canonicalString()}function F0(n,e){const t=function(a){return new Gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function fC(n){const e=Gt.fromString(n);return kt(yC(e)),e}function z0(n,e){return yb(n.databaseId,e.path)}function zy(n,e){const t=fC(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(mC(t))}function hC(n,e){return yb(n.databaseId,e)}function tV(n){const e=fC(n);return e.length===4?Gt.emptyPath():mC(e)}function H0(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mC(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qT(n,e,t){return{name:z0(n,e),fields:t.value.mapValue.fields}}function nV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(h,y){return h.useProto3Json?(kt(y===void 0||typeof y=="string"),nr.fromBase64String(y||"")):(kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),nr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const y=h.code===void 0?me.UNKNOWN:lC(h.code);return new Pe(y,h.message||"")}(l);t=new uC(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=zy(n,r.document.name),o=ii(r.document.updateTime),l=r.document.createTime?ii(r.document.createTime):Ze.min(),u=new Nr({mapValue:{fields:r.document.fields}}),f=cr.newFoundDocument(a,o,l,u),h=r.targetIds||[],y=r.removedTargetIds||[];t=new jh(h,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=zy(n,r.document),o=r.readTime?ii(r.readTime):Ze.min(),l=cr.newNoDocument(a,o),u=r.removedTargetIds||[];t=new jh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=zy(n,r.document),o=r.removedTargetIds||[];t=new jh([],o,a,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new $5(a,o),u=r.targetId;t=new cC(u,l)}}return t}function rV(n,e){let t;if(e instanceof Ld)t={update:qT(n,e.key,e.value)};else if(e instanceof mb)t={delete:z0(n,e.key)};else if(e instanceof eo)t={update:qT(n,e.key,e.data),updateMask:fV(e.fieldMask)};else{if(!(e instanceof H5))return We();t={verify:z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Dd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sm)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw We()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:eV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We()}(n,e.precondition)),t}function aV(n,e){return n&&n.length>0?(kt(e!==void 0),n.map(t=>function(a,o){let l=a.updateTime?ii(a.updateTime):ii(o);return l.isEqual(Ze.min())&&(l=ii(o)),new B5(l,a.transformResults||[])}(t,e))):[]}function iV(n,e){return{documents:[hC(n,e.path)]}}function sV(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hC(n,a);const o=function(h){if(h.length!==0)return gC(Na.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(y=>function(x){return{field:Xl(x.field),direction:cV(x.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=B0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:a}}function oV(n){let e=tV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kt(r===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(v){const x=pC(v);return x instanceof Na&&YA(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(x=>function(T){return new Td(Zl(T.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Ym(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(v){const x=!!v.before,w=v.values||[];return new im(w,x)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const x=!v.before,w=v.values||[];return new im(w,x)}(t.endAt)),A5(e,a,l,o,u,"F",f,h)}function lV(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zl(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Zl(t.unaryFilter.field);return wn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zl(t.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zl(t.unaryFilter.field);return wn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(n):n.fieldFilter!==void 0?function(t){return wn.create(Zl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Na.create(t.compositeFilter.filters.map(r=>pC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return We()}}(t.compositeFilter.op))}(n):We()}function cV(n){return W5[n]}function uV(n){return X5[n]}function dV(n){return Z5[n]}function Xl(n){return{fieldPath:n.canonicalString()}}function Zl(n){return Jn.fromServerFormat(n.fieldPath)}function gC(n){return n instanceof wn?function(t){if(t.op==="=="){if(kT(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NAN"}};if(MT(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kT(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NAN"}};if(MT(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(t.field),op:uV(t.op),value:t.value}}}(n):n instanceof Na?function(t){const r=t.getFilters().map(a=>gC(a));return r.length===1?r[0]:{compositeFilter:{op:dV(t.op),filters:r}}}(n):We()}function fV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r,a,o=Ze.min(),l=Ze.min(),u=nr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.Tt=e}}function mV(n){const e=oV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?U0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.Tn=new gV}addToCollectionParentIndex(e,t){return this.Tn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Hs.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class gV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Rn(Gt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Rn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vC=41943040;class Rr{static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(vC,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vc(0)}static Kn(){return new vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",yV=1048576;function QT([n,e],[t,r]){const a=st(n,t);return a===0?st(e,r):a}class vV{constructor(e){this.Hn=e,this.buffer=new Rn(QT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();QT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(GT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pc(t)?ke(GT,"Ignoring IndexedDB error during garbage collection: ",t):await kc(t)}await this.er(3e5)})}}class xV{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(Hm.ae);const r=new vV(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve($T)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,o,l,u,f,h;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Kl()<=bt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function _V(n,e){return new xV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&od(r.mutation,a,zr.empty(),Cn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ht()){const a=Fo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let l=Ku();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ht()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,a){let o=Wi();const l=sd(),u=function(){return sd()}();return t.forEach((f,h)=>{const y=r.get(h.key);a.has(h.key)&&(y===void 0||y.mutation instanceof eo)?o=o.insert(h.key,h):y!==void 0?(l.set(h.key,y.mutation.getFieldMask()),od(y.mutation,h,y.mutation.getFieldMask(),Cn.now())):l.set(h.key,zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,y)=>l.set(h,y)),t.forEach((h,y)=>{var v;return u.set(h,new EV(y,(v=l.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=sd();let a=new tn((l,u)=>l-u),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let y=r.get(f)||zr.empty();y=u.applyToLocalView(h,y),r.set(f,y);const v=(a.get(u.batchId)||ht()).add(f);a=a.insert(u.batchId,v)})}).next(()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,y=f.value,v=JA();y.forEach(x=>{if(!o.has(x)){const w=sC(t.get(x),r.get(x));w!==null&&v.set(x,w),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return pe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(Fo());let u=xd,f=o;return l.next(h=>pe.forEach(h,(y,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{f=f.insert(y,x)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,ht())).next(y=>({batchId:u,changes:ZA(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let a=Ku();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let l=Ku();return this.indexManager.getCollectionParents(e,o).next(u=>pe.forEach(u,f=>{const h=function(v,x){return new Oc(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(y=>{y.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(l=>{o.forEach((f,h)=>{const y=h.getKey();l.get(y)===null&&(l=l.insert(y,cr.newInvalidDocument(y)))});let u=Ku();return l.forEach((f,h)=>{const y=o.get(f);y!==void 0&&od(y.mutation,h,zr.empty(),Cn.now()),Qm(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:mV(a.bundledQuery),readTime:ii(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.overlays=new tn(qe.comparator),this.Rr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.Et(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=Fo(),o=t.length+1,l=new qe(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new tn((h,y)=>h-y);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let y=o.get(h.largestBatchId);y===null&&(y=Fo(),o=o.insert(h.largestBatchId,y)),y.set(h.getKey(),h)}}const u=Fo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,y)=>u.set(h,y)),!(u.size()>=a)););return pe.resolve(u)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new q5(t,r));let o=this.Rr.get(t);o===void 0&&(o=ht(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.Vr=new Rn(Bn.mr),this.gr=new Rn(Bn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Bn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Bn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new qe(new Gt([])),r=new Bn(t,e),a=new Bn(t,e+1),o=[];return this.gr.forEachInRange([r,a],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new qe(new Gt([])),r=new Bn(t,e),a=new Bn(t,e+1);let o=ht();return this.gr.forEachInRange([r,a],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Bn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return qe.comparator(e.key,t.key)||st(e.Cr,t.Cr)}static pr(e,t){return st(e.Cr,t.Cr)||qe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Rn(Bn.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Y5(o,t,r,a);this.mutationQueue.push(l);for(const u of a)this.Mr=this.Mr.add(new Bn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,t){return pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?lb:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bn(t,0),a=new Bn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],l=>{const u=this.Or(l.Cr);o.push(u)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rn(st);return t.forEach(a=>{const o=new Bn(a,0),l=new Bn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),pe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const l=new Bn(new qe(o),0);let u=new Rn(st);return this.Mr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(u=u.add(f.Cr)),!0)},l),pe.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return pe.forEach(t.mutations,a=>{const o=new Bn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Bn(t,0),a=this.Mr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.kr=e,this.docs=function(){return new tn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():cr.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Wi();const l=t.path,u=new qe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:y}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||i5(a5(y),r)<=0||(a.has(y.key)||Qm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){We()}qr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NV(this)}getSize(e){return pe.resolve(this.size)}}class NV extends wV{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.persistence=e,this.Qr=new al(t=>db(t),fb),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vb,this.targetCount=0,this.Kr=vc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new vc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.zn(t),pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(l=>{o.push(a.markPotentiallyOrphaned(e,l))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Hm(0),this.zr=!1,this.zr=!0,this.jr=new AV,this.referenceDelegate=e(this),this.Hr=new MV(this),this.indexManager=new pV,this.remoteDocumentCache=function(a){return new RV(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new hV(t),this.Yr=new SV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new CV(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const a=new kV(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return pe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class kV extends o5{constructor(e){super(),this.currentSequenceNumber=e}}class bb{constructor(e){this.persistence=e,this.ti=new vb,this.ni=null}static ri(e){return new bb(e)}get ii(){if(this.ni)return this.ni;throw We()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,r=>{const a=qe.fromPath(r);return this.si(e,a).next(o=>{o||t.removeEntry(a,Ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return pe.or([()=>pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class lm{constructor(e,t){this.persistence=e,this.oi=new al(r=>u5(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=_V(this,t)}static ri(e,t){return new lm(e,t)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return pe.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ph(e.data.value)),t}ar(e,t,r){return pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=ht(),a=ht();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new xb(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kj()?8:l5(Nj())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,a,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new PV;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Kl()<=bt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(Kl()<=bt.DEBUG&&ke("QueryEngine","Query:",Wl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Kl()<=bt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):pe.resolve())}rs(e,t){if(jT(t))return pe.resolve(null);let r=ai(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=U0(t,null,"F"),r=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=ht(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.cs(t,u);return this.ls(t,h,l,f.readTime)?this.rs(e,U0(t,null,"F")):this.hs(e,h,t,f)}))})))}ss(e,t,r,a){return jT(t)||a.isEqual(Ze.min())?pe.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,a)?pe.resolve(null):(Kl()<=bt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wl(t)),this.hs(e,l,t,r5(a,xd)).next(u=>u))})}cs(e,t){let r=new Rn(WA(e));return t.forEach((a,o)=>{Qm(e,o)&&(r=r.add(o))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,r){return Kl()<=bt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.ns.getDocumentsMatchingQuery(e,t,Hs.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="LocalStore",IV=3e8;class jV{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new tn(st),this.Is=new al(o=>db(o),fb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function VV(n,e,t,r){return new jV(n,e,t,r)}async function xC(n,e){const t=tt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let f=ht();for(const h of a){l.push(h.batchId);for(const y of h.mutations)f=f.add(y.key)}for(const h of o){u.push(h.batchId);for(const y of h.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function LV(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,h,y){const v=h.batch,x=v.keys();let w=pe.resolve();return x.forEach(T=>{w=w.next(()=>y.getEntry(f,T)).next(A=>{const D=h.docVersions.get(T);kt(D!==null),A.version.compareTo(D)<0&&(v.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),y.addEntry(A)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=ht();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function _C(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function UV(n,e){const t=tt(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const u=[];e.targetChanges.forEach((y,v)=>{const x=a.get(v);if(!x)return;u.push(t.Hr.removeMatchingKeys(o,y.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,y.addedDocuments,v)));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(nr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(v,w),function(A,D,O){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=IV?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(x,w,y)&&u.push(t.Hr.updateTargetData(o,w))});let f=Wi(),h=ht();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),u.push(BV(o,l,e.documentUpdates).next(y=>{f=y.Vs,h=y.fs})),!r.isEqual(Ze.min())){const y=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(y)}return pe.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ts=a,o))}function BV(n,e,t){let r=ht(),a=ht();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Wi();return t.forEach((u,f)=>{const h=o.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(Ze.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):ke(_b,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{Vs:l,fs:a}})}function FV(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zV(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.Hr.allocateTargetId(r).next(l=>(a=new Ms(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Y0(n,e,t){const r=tt(n),a=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!Pc(l))throw l;ke(_b,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function KT(n,e,t){const r=tt(n);let a=Ze.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,y){const v=tt(f),x=v.Is.get(y);return x!==void 0?pe.resolve(v.Ts.get(x)):v.Hr.getTargetData(h,y)}(r,l,ai(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?a:Ze.min(),t?o:ht())).next(u=>(HV(r,R5(e),u),{documents:u,gs:o})))}function HV(n,e,t){let r=n.Es.get(e)||Ze.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class WT{constructor(){this.activeTargetIds=I5()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YV{constructor(){this.ho=new WT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new WT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="ConnectivityMonitor";class ZT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(XT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(XT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function q0(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="RestConnection",$V={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===rm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,o){const l=q0(),u=this.bo(e,t.toUriEncodedString());ke(Hy,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,u,f,r).then(h=>(ke(Hy,`Received RPC '${e}' ${l}: `,h),h),h=>{throw hc(Hy,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,a,o,l){return this.So(e,t,r,a,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const r=$V[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class KV extends GV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const o=q0();return new Promise((l,u)=>{const f=new TA;f.setWithCredentials(!0),f.listenOnce(SA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case kh.NO_ERROR:const y=f.getResponseJson();ke(sr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),l(y);break;case kh.TIMEOUT:ke(sr,`RPC '${e}' ${o} timed out`),u(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const v=f.getStatus();if(ke(sr,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const T=function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(O)>=0?O:me.UNKNOWN}(w.status);u(new Pe(T,w.message))}else u(new Pe(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{ke(sr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(a);ke(sr,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",h,r,15)})}Wo(e,t,r){const a=q0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CA(),u=AA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");ke(sr,`Creating RPC '${e}' stream ${a}: ${y}`,f);const v=l.createWebChannel(y,f);let x=!1,w=!1;const T=new QV({Fo:D=>{w?ke(sr,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(x||(ke(sr,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ke(sr,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Mo:()=>v.close()}),A=(D,O,U)=>{D.listen(O,F=>{try{U(F)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(v,Qu.EventType.OPEN,()=>{w||(ke(sr,`RPC '${e}' stream ${a} transport opened.`),T.Qo())}),A(v,Qu.EventType.CLOSE,()=>{w||(w=!0,ke(sr,`RPC '${e}' stream ${a} transport closed`),T.Uo())}),A(v,Qu.EventType.ERROR,D=>{w||(w=!0,hc(sr,`RPC '${e}' stream ${a} transport errored:`,D),T.Uo(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),A(v,Qu.EventType.MESSAGE,D=>{var O;if(!w){const U=D.data[0];kt(!!U);const F=U,Y=(F==null?void 0:F.error)||((O=F[0])===null||O===void 0?void 0:O.error);if(Y){ke(sr,`RPC '${e}' stream ${a} received error:`,Y);const N=Y.status;let $=function(R){const M=_n[R];if(M!==void 0)return lC(M)}(N),I=Y.message;$===void 0&&($=me.INTERNAL,I="Unknown error status: "+N+" with message "+Y.message),w=!0,T.Uo(new Pe($,I)),v.close()}else ke(sr,`RPC '${e}' stream ${a} received:`,U),T.Ko(U)}}),A(u,DA.STAT_EVENT,D=>{D.stat===k0.PROXY?ke(sr,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===k0.NOPROXY&&ke(sr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n){return new J5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="PersistentStream";class EC{constructor(e,t,r,a,o,l,u,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wC(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Pe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(JT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(JT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WV extends EC{constructor(e,t,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=nV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?ii(l.readTime):Ze.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=H0(this.serializer),t.addTarget=function(o,l){let u;const f=l.target;if(u=V0(f)?{documents:iV(o,f)}:{query:sV(o,f).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=dC(o,l.resumeToken);const h=B0(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ze.min())>0){u.readTime=om(o,l.snapshotVersion.toTimestamp());const h=B0(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=lV(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=H0(this.serializer),t.removeTarget=e,this.I_(t)}}class XV extends EC{constructor(e,t,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=aV(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=H0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rV(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{}class JV extends ZV{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,F0(t,r),a,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(me.UNKNOWN,o.toString())})}Co(e,t,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,F0(t,r),a,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(me.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ki(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class tL{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{il(this)&&(ke(Ko,"Restarting streams for network reachability change."),await async function(f){const h=tt(f);h.W_.add(4),await Bd(h),h.j_.set("Unknown"),h.W_.delete(4),await Jm(h)}(this))})}),this.j_=new eL(r,a)}}async function Jm(n){if(il(n))for(const e of n.G_)await e(!0)}async function Bd(n){for(const e of n.G_)await e(!1)}function TC(n,e){const t=tt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Sb(t)?Tb(t):Ic(t).c_()&&Eb(t,e))}function wb(n,e){const t=tt(n),r=Ic(t);t.K_.delete(e),r.c_()&&SC(t,e),t.K_.size===0&&(r.c_()?r.P_():il(t)&&t.j_.set("Unknown"))}function Eb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ic(n).y_(e)}function SC(n,e){n.H_.Ne(e),Ic(n).w_(e)}function Tb(n){n.H_=new K5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ic(n).start(),n.j_.B_()}function Sb(n){return il(n)&&!Ic(n).u_()&&n.K_.size>0}function il(n){return tt(n).W_.size===0}function DC(n){n.H_=void 0}async function nL(n){n.j_.set("Online")}async function rL(n){n.K_.forEach((e,t)=>{Eb(n,e)})}async function aL(n,e){DC(n),Sb(n)?(n.j_.q_(e),Tb(n)):n.j_.set("Unknown")}async function iL(n,e,t){if(n.j_.set("Online"),e instanceof uC&&e.state===2&&e.cause)try{await async function(a,o){const l=o.cause;for(const u of o.targetIds)a.K_.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.K_.delete(u),a.H_.removeTarget(u))}(n,e)}catch(r){ke(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cm(n,r)}else if(e instanceof jh?n.H_.We(e):e instanceof cC?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ze.min()))try{const r=await _C(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.K_.get(h);y&&o.K_.set(h,y.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const y=o.K_.get(f);if(!y)return;o.K_.set(f,y.withResumeToken(nr.EMPTY_BYTE_STRING,y.snapshotVersion)),SC(o,f);const v=new Ms(y.target,f,h,y.sequenceNumber);Eb(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ke(Ko,"Failed to raise snapshot:",r),await cm(n,r)}}async function cm(n,e,t){if(!Pc(e))throw e;n.W_.add(1),await Bd(n),n.j_.set("Offline"),t||(t=()=>_C(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(Ko,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Jm(n)})}function AC(n,e){return e().catch(t=>cm(n,t,e))}async function ep(n){const e=tt(n),t=Gs(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:lb;for(;sL(e);)try{const a=await FV(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,oL(e,a)}catch(a){await cm(e,a)}CC(e)&&RC(e)}function sL(n){return il(n)&&n.U_.length<10}function oL(n,e){n.U_.push(e);const t=Gs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function CC(n){return il(n)&&!Gs(n).u_()&&n.U_.length>0}function RC(n){Gs(n).start()}async function lL(n){Gs(n).C_()}async function cL(n){const e=Gs(n);for(const t of n.U_)e.b_(t.mutations)}async function uL(n,e,t){const r=n.U_.shift(),a=pb.from(r,e,t);await AC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await ep(n)}async function dL(n,e){e&&Gs(n).S_&&await async function(r,a){if(function(l){return G5(l)&&l!==me.ABORTED}(a.code)){const o=r.U_.shift();Gs(r).h_(),await AC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await ep(r)}}(n,e),CC(n)&&RC(n)}async function e2(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),ke(Ko,"RemoteStore received new credentials");const r=il(t);t.W_.add(3),await Bd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Jm(t)}async function fL(n,e){const t=tt(n);e?(t.W_.delete(2),await Jm(t)):e||(t.W_.add(2),await Bd(t),t.j_.set("Unknown"))}function Ic(n){return n.J_||(n.J_=function(t,r,a){const o=tt(t);return o.M_(),new WV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:nL.bind(null,n),No:rL.bind(null,n),Lo:aL.bind(null,n),p_:iL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Sb(n)?Tb(n):n.j_.set("Unknown")):(await n.J_.stop(),DC(n))})),n.J_}function Gs(n){return n.Y_||(n.Y_=function(t,r,a){const o=tt(t);return o.M_(),new XV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:lL.bind(null,n),Lo:dL.bind(null,n),D_:cL.bind(null,n),v_:uL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ep(n)):(await n.Y_.stop(),n.U_.length>0&&(ke(Ko,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const l=Date.now()+r,u=new Db(e,t,l,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ab(n,e){if(Ki("AsyncQueue",`${e}: ${n}`),Pc(n))return new Pe(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{static emptySet(e){return new ic(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Ku(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Z_=new tn(qe.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):We():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class bc{constructor(e,t,r,a,o,l,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,a,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new bc(e,t,ic.emptySet(t),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class mL{constructor(){this.queries=n2(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=tt(t),o=a.queries;a.queries=n2(),o.forEach((l,u)=>{for(const f of u.ta)f.onError(r)})})(this,new Pe(me.ABORTED,"Firestore shutting down"))}}function n2(){return new al(n=>KA(n),Gm)}async function Cb(n,e){const t=tt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new hL,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=Ab(l,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Nb(t)}async function Rb(n,e){const t=tt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function pL(n,e){const t=tt(n);let r=!1;for(const a of e){const o=a.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(a)&&(r=!0);l.ea=a}}r&&Nb(t)}function gL(n,e,t){const r=tt(n),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(t);r.queries.delete(e)}function Nb(n){n.ia.forEach(e=>{e.next()})}var $0,r2;(r2=$0||($0={}))._a="default",r2.Cache="cache";class Mb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.key=e}}class MC{constructor(e){this.key=e}}class yL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ht(),this.mutatedKeys=ht(),this.ya=WA(e),this.wa=new ic(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new t2,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,v)=>{const x=a.get(y),w=Qm(this.query,v)?v:null,T=!!x&&this.mutatedKeys.has(x.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;x&&w?x.data.isEqual(w.data)?T!==A&&(r.track({type:3,doc:w}),D=!0):this.va(x,w)||(r.track({type:2,doc:w}),D=!0,(f&&this.ya(w,f)>0||h&&this.ya(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),D=!0):x&&!w&&(r.track({type:1,doc:x}),D=!0,(f||h)&&(u=!0)),D&&(w?(l=l.add(w),o=A?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((y,v)=>function(w,T){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return A(w)-A(T)}(y.type,v.type)||this.ya(y.doc,v.doc)),this.Ca(r),a=a!=null&&a;const u=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,h=f!==this.ga;return this.ga=f,l.length!==0||h?{snapshot:new bc(this.query,e.wa,o,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new t2,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ht(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new MC(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new NC(r))}),t}Oa(e){this.fa=e.gs,this.pa=ht();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return bc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const kb="SyncEngine";class vL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bL{constructor(e){this.key=e,this.Ba=!1}}class xL{constructor(e,t,r,a,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new al(u=>KA(u),Gm),this.qa=new Map,this.Qa=new Set,this.$a=new tn(qe.comparator),this.Ua=new Map,this.Ka=new vb,this.Wa={},this.Ga=new Map,this.za=vc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _L(n,e,t=!0){const r=VC(n);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await kC(r,e,t,!0),a}async function wL(n,e){const t=VC(n);await kC(t,e,!0,!1)}async function kC(n,e,t,r){const a=await zV(n.localStore,ai(e)),o=a.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await EL(n,e,o,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&TC(n.remoteStore,a),u}async function EL(n,e,t,r,a){n.Ha=(v,x,w)=>async function(A,D,O,U){let F=D.view.ba(O);F.ls&&(F=await KT(A.localStore,D.query,!1).then(({documents:I})=>D.view.ba(I,F)));const Y=U&&U.targetChanges.get(D.targetId),N=U&&U.targetMismatches.get(D.targetId)!=null,$=D.view.applyChanges(F,A.isPrimaryClient,Y,N);return i2(A,D.targetId,$.Ma),$.snapshot}(n,v,x,w);const o=await KT(n.localStore,e,!0),l=new yL(e,o.gs),u=l.ba(o.documents),f=Ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),h=l.applyChanges(u,n.isPrimaryClient,f);i2(n,t,h.Ma);const y=new vL(e,t,l);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function TL(n,e,t){const r=tt(n),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(l=>!Gm(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Y0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&wb(r.remoteStore,a.targetId),G0(r,a.targetId)}).catch(kc)):(G0(r,a.targetId),await Y0(r.localStore,a.targetId,!0))}async function SL(n,e){const t=tt(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wb(t.remoteStore,r.targetId))}async function DL(n,e,t){const r=PL(n);try{const a=await function(l,u){const f=tt(l),h=Cn.now(),y=u.reduce((w,T)=>w.add(T.key),ht());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Wi(),A=ht();return f.ds.getEntries(w,y).next(D=>{T=D,T.forEach((O,U)=>{U.isValidDocument()||(A=A.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,T)).next(D=>{v=D;const O=[];for(const U of u){const F=z5(U,v.get(U.key).overlayedDocument);F!=null&&O.push(new eo(U.key,F,FA(F.value.mapValue),pa.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,O,u)}).next(D=>{x=D;const O=D.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(w,D.batchId,O)})}).then(()=>({batchId:x.batchId,changes:ZA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,u,f){let h=l.Wa[l.currentUser.toKey()];h||(h=new tn(st)),h=h.insert(u,f),l.Wa[l.currentUser.toKey()]=h}(r,a.batchId,t),await Fd(r,a.changes),await ep(r.remoteStore)}catch(a){const o=Ab(a,"Failed to persist write");t.reject(o)}}async function PC(n,e){const t=tt(n);try{const r=await UV(t.localStore,e);e.targetChanges.forEach((a,o)=>{const l=t.Ua.get(o);l&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.Ba=!0:a.modifiedDocuments.size>0?kt(l.Ba):a.removedDocuments.size>0&&(kt(l.Ba),l.Ba=!1))}),await Fd(t,r,e)}catch(r){await kc(r)}}function a2(n,e,t){const r=tt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&a.push(u.snapshot)}),function(l,u){const f=tt(l);f.onlineState=u;let h=!1;f.queries.forEach((y,v)=>{for(const x of v.ta)x.sa(u)&&(h=!0)}),h&&Nb(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AL(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),o=a&&a.key;if(o){let l=new tn(qe.comparator);l=l.insert(o,cr.newNoDocument(o,Ze.min()));const u=ht().add(o),f=new Xm(Ze.min(),new Map,new tn(st),l,u);await PC(r,f),r.$a=r.$a.remove(o),r.Ua.delete(e),Pb(r)}else await Y0(r.localStore,e,!1).then(()=>G0(r,e,t)).catch(kc)}async function CL(n,e){const t=tt(n),r=e.batch.batchId;try{const a=await LV(t.localStore,e);IC(t,r,null),OC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fd(t,a)}catch(a){await kc(a)}}async function RL(n,e,t){const r=tt(n);try{const a=await function(l,u){const f=tt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let y;return f.mutationQueue.lookupMutationBatch(h,u).next(v=>(kt(v!==null),y=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,y,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,y)).next(()=>f.localDocuments.getDocuments(h,y))})}(r.localStore,e);IC(r,e,t),OC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fd(r,a)}catch(a){await kc(a)}}function OC(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function IC(n,e,t){const r=tt(n);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function G0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||jC(n,r)})}function jC(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(wb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Pb(n))}function i2(n,e,t){for(const r of t)r instanceof NC?(n.Ka.addReference(r.key,e),NL(n,r)):r instanceof MC?(ke(kb,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||jC(n,r.key)):We()}function NL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(kb,"New document in limbo: "+t),n.Qa.add(r),Pb(n))}function Pb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new qe(Gt.fromString(e)),r=n.za.next();n.Ua.set(r,new bL(t)),n.$a=n.$a.insert(t,r),TC(n.remoteStore,new Ms(ai($m(t.path)),r,"TargetPurposeLimboResolution",Hm.ae))}}async function Fd(n,e,t){const r=tt(n),a=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,f)=>{l.push(r.Ha(f,e,t).then(h=>{var y;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){a.push(h);const v=xb.Yi(f.targetId,h);o.push(v)}}))}),await Promise.all(l),r.La.p_(a),await async function(f,h){const y=tt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>pe.forEach(h,x=>pe.forEach(x.Hi,w=>y.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>pe.forEach(x.Ji,w=>y.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!Pc(v))throw v;ke(_b,"Failed to update sequence numbers: "+v)}for(const v of h){const x=v.targetId;if(!v.fromCache){const w=y.Ts.get(x),T=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(T);y.Ts=y.Ts.insert(x,A)}}}(r.localStore,o))}async function ML(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){ke(kb,"User change. New user:",e.toKey());const r=await xC(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Pe(me.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fd(t,r.Rs)}}function kL(n,e){const t=tt(n),r=t.Ua.get(e);if(r&&r.Ba)return ht().add(r.key);{let a=ht();const o=t.qa.get(e);if(!o)return a;for(const l of o){const u=t.ka.get(l);a=a.unionWith(u.view.Sa)}return a}}function VC(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AL.bind(null,e),e.La.p_=pL.bind(null,e.eventManager),e.La.Ja=gL.bind(null,e.eventManager),e}function PL(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RL.bind(null,e),e}class um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return VV(this.persistence,new OV,e.initialUser,this.serializer)}Xa(e){return new bC(bb.ri,this.serializer)}Za(e){return new YV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}um.provider={build:()=>new um};class OL extends um{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof lm);const r=this.persistence.referenceDelegate.garbageCollector;return new bV(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new bC(r=>lm.ri(r,t),this.serializer)}}class Q0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ML.bind(null,this.syncEngine),await fL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mL}()}createDatastore(e){const t=Zm(e.databaseInfo.databaseId),r=function(o){return new KV(o)}(e.databaseInfo);return function(o,l,u,f){return new JV(o,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,l,u){return new tL(r,a,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>a2(this.syncEngine,t,0),function(){return ZT.D()?new ZT:new qV}())}createSyncEngine(e,t){return function(a,o,l,u,f,h,y){const v=new xL(a,o,l,u,f,h);return y&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=tt(a);ke(Ko,"RemoteStore shutting down."),o.W_.add(5),await Bd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Q0.provider={build:()=>new Q0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class IL{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=lr.UNAUTHENTICATED,this.clientId=MA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ke(Qs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ke(Qs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ab(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qy(n,e){n.asyncQueue.verifyOperationInProgress(),ke(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await xC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function s2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await jL(n);ke(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>e2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>e2(e.remoteStore,a)),n._onlineComponents=e}async function jL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(Qs,"Using user provided OfflineComponentProvider");try{await qy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;hc("Error using user provided cache. Falling back to memory cache: "+t),await qy(n,new um)}}else ke(Qs,"Using default OfflineComponentProvider"),await qy(n,new OL(void 0));return n._offlineComponents}async function LC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(Qs,"Using user provided OnlineComponentProvider"),await s2(n,n._uninitializedComponentsProvider._online)):(ke(Qs,"Using default OnlineComponentProvider"),await s2(n,new Q0))),n._onlineComponents}function VL(n){return LC(n).then(e=>e.syncEngine)}async function dm(n){const e=await LC(n),t=e.eventManager;return t.onListen=_L.bind(null,e.syncEngine),t.onUnlisten=TL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SL.bind(null,e.syncEngine),t}function LL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,h){const y=new Ob({next:x=>{y.su(),l.enqueueAndForget(()=>Rb(o,v));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new Mb($m(u.path),y,{includeMetadataChanges:!0,Ta:!0});return Cb(o,v)}(await dm(n),n.asyncQueue,e,t,r)),r.promise}function UL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,h){const y=new Ob({next:x=>{y.su(),l.enqueueAndForget(()=>Rb(o,v)),x.fromCache&&f.source==="server"?h.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new Mb(u,y,{includeMetadataChanges:!0,Ta:!0});return Cb(o,v)}(await dm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n,e,t){if(!t)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BL(n,e,t,r){if(e===!0&&r===!0)throw new Pe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l2(n){if(!qe.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c2(n){if(qe.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":We()}function Mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tp(n);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firestore.googleapis.com",u2=!0;class d2{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FC,this.ssl=u2}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:u2;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yV)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class np{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q6;switch(r.type){case"firstParty":return new Z6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=o2.get(t);r&&(ke("ComponentProvider","Removing Datastore"),o2.delete(t),r.terminate())}(this),Promise.resolve()}}function FL(n,e,t,r={}){var a;const o=(n=Mr(n,np))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==FC&&o.host!==u&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!yd(f,l)&&(n._setSettings(f),r.mockUserToken)){let h,y;if(typeof r.mockUserToken=="string")h=r.mockUserToken,y=lr.MOCK_USER;else{h=dA(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new lr(v)}n._authCredentials=new K6(new RA(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class Vs extends to{constructor(e,t,r){super(e,t,$m(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new qe(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Yt(n,e,...t){if(n=Ra(n),BC("collection","path",e),n instanceof np){const r=Gt.fromString(e,...t);return c2(r),new Vs(n,null,r)}{if(!(n instanceof dr||n instanceof Vs))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return c2(r),new Vs(n.firestore,null,r)}}function En(n,e,...t){if(n=Ra(n),arguments.length===1&&(e=MA.newId()),BC("doc","path",e),n instanceof np){const r=Gt.fromString(e,...t);return l2(r),new dr(n,null,new qe(r))}{if(!(n instanceof dr||n instanceof Vs))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return l2(r),new dr(n.firestore,n instanceof Vs?n.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="AsyncQueue";class h2{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wC(this,"async_queue_retry"),this.Su=()=>{const r=Yy();r&&ke(f2,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Yy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Yy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pc(e))throw e;ke(f2,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Ki("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Db.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&We()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function m2(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Xi extends np{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new h2,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h2(e),this._firestoreClient=void 0,await e}}}function zL(n,e){const t=typeof n=="object"?n:xA(),r=typeof n=="string"?n:rm,a=gA(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=cA("firestore");o&&FL(a,...o)}return a}function rp(n){if(n._terminated)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HL(n),n._firestoreClient}function HL(n){var e,t,r;const a=n._freezeSettings(),o=function(u,f,h,y){return new h5(u,f,h,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,UC(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new IL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(nr.fromBase64String(e))}catch(t){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xc(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^__.*__$/;class qL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ld(e,this.data,t,this.fieldTransforms)}}class zC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class ip{constructor(e,t,r,a,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HC(this.Lu)&&YL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $L{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zm(e)}ju(e,t,r,a=!1){return new ip({Lu:e,methodName:t,zu:r,path:Jn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sp(n){const e=n._freezeSettings(),t=Zm(n._databaseId);return new $L(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YC(n,e,t,r,a,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,a);Ub("Data must be an object, but it was:",l,r);const u=qC(r,l);let f,h;if(o.merge)f=new zr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const x=K0(e,v,t);if(!l.contains(x))throw new Pe(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);GC(y,x)||y.push(x)}f=new zr(y),h=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=l.fieldTransforms;return new qL(new Nr(u),f,h)}class op extends zd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof op}}function GL(n,e,t){return new ip({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vb extends zd{_toFieldTransform(e){return new iC(e.path,new Sd)}isEqual(e){return e instanceof Vb}}class Lb extends zd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=GL(this,e,!0),r=this.Hu.map(o=>jc(o,t)),a=new yc(r);return new iC(e.path,a)}isEqual(e){return e instanceof Lb&&yd(this.Hu,e.Hu)}}function QL(n,e,t,r){const a=n.ju(1,e,t);Ub("Data must be an object, but it was:",a,r);const o=[],l=Nr.empty();Js(r,(f,h)=>{const y=Bb(e,f,t);h=Ra(h);const v=a.Uu(y);if(h instanceof op)o.push(y);else{const x=jc(h,v);x!=null&&(o.push(y),l.set(y,x))}});const u=new zr(o);return new zC(l,u,a.fieldTransforms)}function KL(n,e,t,r,a,o){const l=n.ju(1,e,t),u=[K0(e,r,t)],f=[a];if(o.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(K0(e,o[x])),f.push(o[x+1]);const h=[],y=Nr.empty();for(let x=u.length-1;x>=0;--x)if(!GC(h,u[x])){const w=u[x];let T=f[x];T=Ra(T);const A=l.Uu(w);if(T instanceof op)h.push(w);else{const D=jc(T,A);D!=null&&(h.push(w),y.set(w,D))}}const v=new zr(h);return new zC(y,v,l.fieldTransforms)}function WL(n,e,t,r=!1){return jc(t,n.ju(r?4:3,e))}function jc(n,e){if($C(n=Ra(n)))return Ub("Unsupported field value:",e,n),qC(n,e);if(n instanceof zd)return function(r,a){if(!HC(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let l=0;for(const u of r){let f=jc(u,a.Ku(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Cn.fromDate(r);return{timestampValue:om(a.serializer,o)}}if(r instanceof Cn){const o=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:om(a.serializer,o)}}if(r instanceof Ib)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:dC(a.serializer,r._byteString)};if(r instanceof dr){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yb(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof jb)return function(l,u){return{mapValue:{fields:{[UA]:{stringValue:BA},[am]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return hb(u.serializer,h)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${tp(r)}`)}(n,e)}function qC(n,e){const t={};return PA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(r,a)=>{const o=jc(a,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $C(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Cn||n instanceof Ib||n instanceof xc||n instanceof dr||n instanceof zd||n instanceof jb)}function Ub(n,e,t){if(!$C(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=tp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function K0(n,e,t){if((e=Ra(e))instanceof ap)return e._internalPath;if(typeof e=="string")return Bb(n,e);throw fm("Field path arguments must be of type string or ",n,!1,void 0,t)}const XL=new RegExp("[~\\*/\\[\\]]");function Bb(n,e,t){if(e.search(XL)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ap(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fm(n,e,t,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new Pe(me.INVALID_ARGUMENT,u+n+f)}function GC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZL extends QC{data(){return super.data()}}function lp(n,e){return typeof e=="string"?Bb(n,e):e instanceof ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fb{}class WC extends Fb{}function Xn(n,e,...t){let r=[];e instanceof Fb&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof zb).length,u=o.filter(f=>f instanceof cp).length;if(l>1||l>0&&u>0)throw new Pe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class cp extends WC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cp(e,t,r)}_apply(e){const t=this._parse(e);return XC(e._query,t),new to(e.firestore,e.converter,L0(e._query,t))}_parse(e){const t=sp(e.firestore);return function(o,l,u,f,h,y,v){let x;if(h.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){g2(v,y);const T=[];for(const A of v)T.push(p2(f,o,A));x={arrayValue:{values:T}}}else x=p2(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||g2(v,y),x=WL(u,l,v,y==="in"||y==="not-in");return wn.create(h,y,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fn(n,e,t){const r=e,a=lp("where",n);return cp._create(a,r,t)}class zb extends Fb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Na.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let l=a;const u=o.getFlattenedFilters();for(const f of u)XC(l,f),l=L0(l,f)}(e._query,t),new to(e.firestore,e.converter,L0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hb extends WC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hb(e,t)}_apply(e){const t=function(a,o,l){if(a.startAt!==null)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Td(o,l)}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(a,o){const l=a.explicitOrderBy.concat([o]);return new Oc(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function _c(n,e="asc"){const t=e,r=lp("orderBy",n);return Hb._create(r,t)}function p2(n,e,t){if(typeof(t=Ra(t))=="string"){if(t==="")throw new Pe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&t.indexOf("/")!==-1)throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gt.fromString(t));if(!qe.isDocumentKey(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NT(n,new qe(r))}if(t instanceof dr)return NT(n,t._key);throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(t)}.`)}function g2(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XC(n,e){const t=function(a,o){for(const l of a)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JL{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw We()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Js(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[am].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>hn(l.doubleValue));return new jb(o)}convertGeoPoint(e){return new Ib(hn(e.latitude),hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);kt(yC(r));const a=new wd(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return a.isEqual(t)||Ki(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JC extends QC{constructor(e,t,r,a,o,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vh extends JC{data(e={}){return super.data(e)}}class eR{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Xu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vh(this._firestore,this._userDataWriter,r.key,r,new Xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(u=>{const f=new Vh(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Xu(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new Vh(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Xu(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,y=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:e9(u.type),doc:f,oldIndex:h,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){n=Mr(n,dr);const e=Mr(n.firestore,Xi);return LL(rp(e),n._key).then(t=>nR(e,n,t))}class Yb extends JL{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function Zn(n){n=Mr(n,to);const e=Mr(n.firestore,Xi),t=rp(e),r=new Yb(e);return KC(n._query),UL(t,n._query).then(a=>new eR(e,r,n,a))}function qb(n,e,t){n=Mr(n,dr);const r=Mr(n.firestore,Xi),a=ZC(n.converter,e,t);return up(r,[YC(sp(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,pa.none())])}function Yo(n,e,t,...r){n=Mr(n,dr);const a=Mr(n.firestore,Xi),o=sp(a);let l;return l=typeof(e=Ra(e))=="string"||e instanceof ap?KL(o,"updateDoc",n._key,e,t,r):QL(o,"updateDoc",n._key,e),up(a,[l.toMutation(n._key,pa.exists(!0))])}function tR(n){return up(Mr(n.firestore,Xi),[new mb(n._key,pa.none())])}function Ad(n,e){const t=Mr(n.firestore,Xi),r=En(n),a=ZC(n.converter,e);return up(t,[YC(sp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,pa.exists(!1))]).then(()=>r)}function hm(n,...e){var t,r,a;n=Ra(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||m2(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(m2(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,h,y;if(n instanceof dr)h=Mr(n.firestore,Xi),y=$m(n._key.path),f={next:v=>{e[l]&&e[l](nR(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=Mr(n,to);h=Mr(v.firestore,Xi),y=v._query;const x=new Yb(h);f={next:w=>{e[l]&&e[l](new eR(h,x,v,w))},error:e[l+1],complete:e[l+2]},KC(n._query)}return function(x,w,T,A){const D=new Ob(A),O=new Mb(w,D,T);return x.asyncQueue.enqueueAndForget(async()=>Cb(await dm(x),O)),()=>{D.su(),x.asyncQueue.enqueueAndForget(async()=>Rb(await dm(x),O))}}(rp(h),y,u,f)}function up(n,e){return function(r,a){const o=new Fi;return r.asyncQueue.enqueueAndForget(async()=>DL(await VL(r),a,o)),o.promise}(rp(n),e)}function nR(n,e,t){const r=t.docs.get(e._key),a=new Yb(n);return new JC(n,a,e._key,r,new Xu(t.hasPendingWrites,t.fromCache),e.converter)}function Xo(){return new Vb("serverTimestamp")}function $y(...n){return new Lb("arrayUnion",n)}(function(e,t=!0){(function(a){Mc=a})(vA),vd(new fc("firestore",(r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Xi(new W6(r.getProvider("auth-internal")),new J6(l,r.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(h.options.projectId,y)}(l,a),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Is(vT,bT,e),Is(vT,bT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebasestorage.googleapis.com",t9="storageBucket",n9=2*60*1e3,r9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends rl{constructor(e,t,r=0){super(Gy(e),`Firebase Storage: ${t} (${Gy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function Gy(n){return"storage/"+n}function a9(){const n="An unknown error occurred, please check the error payload for server response.";return new fi(li.UNKNOWN,n)}function i9(){return new fi(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s9(){return new fi(li.CANCELED,"User canceled the upload/download.")}function o9(n){return new fi(li.INVALID_URL,"Invalid URL '"+n+"'.")}function l9(n){return new fi(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function y2(n){return new fi(li.INVALID_ARGUMENT,n)}function aR(){return new fi(li.APP_DELETED,"The Firebase app was deleted.")}function c9(n){return new fi(li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Aa.makeFromUrl(e,t)}catch{return new Aa(e,"")}if(r.path==="")return r;throw l9(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function h(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${y}/b/${a}/o${x}`,"i"),T={bucket:1,path:3},A=t===rR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",O=new RegExp(`^https?://${A}/${a}/${D}`,"i"),F=[{regex:u,indices:f,postModify:o},{regex:w,indices:T,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let Y=0;Y<F.length;Y++){const N=F[Y],$=N.regex.exec(e);if($){const I=$[N.indices.bucket];let C=$[N.indices.path];C||(C=""),r=new Aa(I,C),N.postModify(r);break}}if(r==null)throw o9(e);return r}}class u9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(n,e,t){let r=1,a=null,o=null,l=!1,u=0;function f(){return u===2}let h=!1;function y(...D){h||(h=!0,e.apply(null,D))}function v(D){a=setTimeout(()=>{a=null,n(w,f())},D)}function x(){o&&clearTimeout(o)}function w(D,...O){if(h){x();return}if(D){x(),y.call(null,D,...O);return}if(f()||l){x(),y.call(null,D,...O);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let T=!1;function A(D){T||(T=!0,x(),!h&&(a!==null?(D||(u=2),clearTimeout(a),v(0)):D||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,A(!0)},t),A}function f9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(n){return n!==void 0}function v2(n,e,t,r){if(r<e)throw y2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw y2(`Invalid value for '${n}'. Expected ${t} or less.`)}function m9(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var mm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(mm||(mm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,t,r,a,o,l,u,f,h,y,v,x=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=y,this.connectionFactory_=v,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new vh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===mm.NO_ERROR,f=o.getStatus();if(!u||p9(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===mm.ABORT;r(!1,new vh(!1,null,y));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new vh(h,o))})},t=(r,a)=>{const o=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());h9(f)?o(f):o()}catch(f){l(f)}else if(u!==null){const f=a9();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(a.canceled){const f=this.appDelete_?aR():s9();l(f)}else{const f=i9();l(f)}};this.canceled_?t(!1,new vh(!1,null,!0)):this.backoffId_=d9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function y9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function v9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function x9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function _9(n,e,t,r,a,o,l=!0){const u=m9(n.urlParams),f=n.url+u,h=Object.assign({},n.headers);return b9(h,e),y9(h,t),v9(h,o),x9(h,r),new g9(f,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function E9(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this._service=e,t instanceof Aa?this._location=t:this._location=Aa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pm(e,t)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E9(this._location.path)}get storage(){return this._service}get parent(){const e=w9(this._location.path);if(e===null)return null;const t=new Aa(this._location.bucket,e);return new pm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw c9(e)}}function b2(n,e){const t=e==null?void 0:e[t9];return t==null?null:Aa.makeFromBucketSpec(t,n)}function T9(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:dA(a,n.app.options.projectId))}class S9{constructor(e,t,r,a,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=rR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n9,this._maxUploadRetryTime=r9,this._requests=new Set,a!=null?this._bucket=Aa.makeFromBucketSpec(a,this._host):this._bucket=b2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=b2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){v2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){v2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(yA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pm(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new u9(aR());{const l=_9(e,this._appId,r,a,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const x2="@firebase/storage",_2="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="storage";function D9(n=xA(),e){n=Ra(n);const r=gA(n,iR).getImmediate({identifier:e}),a=cA("storage");return a&&A9(r,...a),r}function A9(n,e,t,r={}){T9(n,e,t,r)}function C9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new S9(t,r,a,e,vA)}function R9(){vd(new fc(iR,C9,"PUBLIC").setMultipleInstances(!0)),Is(x2,_2,""),Is(x2,_2,"esm2017")}R9();const N9={apiKey:"AIzaSyDePZqpCrFdNsN1hUdw2_rwMfKP41SJgvU",authDomain:"nafa3ny-de185.firebaseapp.com",projectId:"nafa3ny-de185",storageBucket:"nafa3ny-de185.firebasestorage.app",messagingSenderId:"346694832541",appId:"1:346694832541:web:d2869f3ffb43e3c69a5f74"},sR=bA(N9),Je=zL(sR);D9(sR);const M9=()=>{const[n,e]=k.useState(""),[t,r]=k.useState(""),[a,o]=k.useState(""),[l,u]=k.useState(""),[f,h]=k.useState(!1),y=Nn(),v=async x=>{x.preventDefault(),u(""),h(!0);try{n==="admin"&&t==="admin1"&&y("/nafany/admin");const T=Yt(Je,a==="user"?"users":"serviceProviders"),A=Xn(T,Fn("email","==",n)),D=await Zn(A);if(D.empty){u("الحساب غير موجود");return}const O=D.docs[0],U=O.data();if(U.password!==t){u("كلمة المرور غير صحيحة");return}const F={uid:O.id,email:U.email,name:U.name||"",phone:U.phone||"",role:a,governorate:U.governorate||"",...a==="provider"&&{profession:U.profession||"",category:U.category||"",profileImage:U.profileImage||""}};localStorage.setItem("currentUser",JSON.stringify(F)),a==="user"?y("/nafany"):a==="provider"&&y("/nafany/servicer_page")}catch(w){console.error("خطأ أثناء تسجيل الدخول:",w),u("حدث خطأ أثناء تسجيل الدخول")}finally{h(!1)}};return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100",dir:"rtl",children:[g.jsx(ve.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-cyan-800 mb-6 text-center",children:"تسجيل الدخول"}),l&&g.jsx("p",{className:"text-red-600 text-center mb-4",children:l}),g.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"البريد الإلكتروني أو رقم الهاتف*"}),g.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"كلمة المرور*"}),g.jsx("input",{type:"password",value:t,onChange:x=>r(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),g.jsx("div",{className:"flex items-center justify-between mb-6",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"radio",id:"user",name:"role",value:"user",checked:a==="user",onChange:()=>o("user"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("label",{htmlFor:"user",className:"mr-2 block text-sm text-gray-700",children:"مستخدم"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"radio",id:"provider",name:"role",value:"provider",checked:a==="provider",onChange:()=>o("provider"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("label",{htmlFor:"provider",className:"mr-2 block text-sm text-gray-700",children:"مقدم خدمة"})]})]})}),g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx(ve.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full py-3 bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 text-white rounded-md text-center font-medium shadow-md",disabled:f,children:f?"جاري التحميل...":"تسجيل الدخول"}),g.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx("button",{onClick:()=>y(-1),className:"block w-full py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md text-center font-medium shadow-md",children:"رجوع"})})]})]}),g.jsxs("div",{className:"mt-6 text-center",children:[g.jsx("p",{className:"text-gray-600 mb-3",children:"ليس لديك حساب؟"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(lc,{to:"/nafany/register_user",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"إنشاء حساب مستخدم جديد"}),g.jsx(lc,{to:"/nafany/register",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"التسجيل كمقدم خدمة"})]})]})]})})},k9=()=>{var R;const n=Nn(),[e,t]=k.useState({name:"",email:"",password:"",nationalId:"",governorate:"",category:"",profession:"",subscriptionFee:"",idFrontImage:null,idBackImage:null,profileImage:null,bio:"",allowContact:!1,phone:"",address:"",ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0,role:"user"}),[r,a]=k.useState(null),[o,l]=k.useState(null),[u,f]=k.useState(null),[h,y]=k.useState({}),[v,x]=k.useState(!1),[w,T]=k.useState(!1),A=["وسط البلد","الزمالك","المعادي","مدينة نصر","مصر الجديدة","التجمع الخامس","الرحاب","مدينتي","الشروق","العبور","6 أكتوبر","الشيخ زايد","حدائق الأهرام","المقطم","عين شمس","المرج","حلوان","دار السلام","السيدة زينب","باب الشعرية","شبرا","الزاوية الحمراء","حدائق القبة","المطرية","مدينة بدر","البساتين","التبين","الواحة","النزهة","الهرم"],D={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد","فني تكييفات","نقاش","ترزي"],"خدمات صحية":["طبيب عام","صيدلي","أخصائي تغذية","ممرض","أخصائي علاج طبيعي","طبيب أسنان"],"خدمات عامة":["سوبر ماركت","مطعم","كافيه","مولات"],"خدمات أخرى":["عطار","جزار","فكهاني","خضري","محل ألبان"]},O=["100 جنيه","200 جنيه","300 جنيه"];k.useEffect(()=>{t(M=>({...M,governorate:A[0],category:Object.keys(D)[0],profession:D[Object.keys(D)[0]][0],subscriptionFee:O[0]}))},[]);const U=()=>{let M={};return e.name.trim()||(M.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(M.email="البريد الإلكتروني غير صالح"):M.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(M.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):M.password="كلمة المرور مطلوبة",e.nationalId.trim()||(M.nationalId="الرقم القومي مطلوب"),e.idFrontImage||(M.idFrontImage="صورة البطاقة الأمامية مطلوبة"),e.idBackImage||(M.idBackImage="صورة البطاقة الخلفية مطلوبة"),e.phone.trim()||(M.phone="رقم الهاتف مطلوب"),e.address.trim()||(M.address="العنوان مطلوب"),y(M),Object.keys(M).length===0},F=async M=>{const L=Xn(Yt(Je,"serviceProviders"),Fn("email","==",M));return!(await Zn(L)).empty},Y=(M,L)=>{if(!M)return;const H=new FileReader;H.onload=()=>{const B=H.result;t(Se=>({...Se,[L]:B})),L==="idFrontImage"?(a(B),y({...h,idFrontImage:""})):L==="idBackImage"?(l(B),y({...h,idBackImage:""})):L==="profileImage"&&f(B)},H.readAsDataURL(M)},N=M=>{const L=M.target.value;t(H=>({...H,category:L,profession:D[L][0],allowContact:L==="خدمات فنية"?H.allowContact:!1}))},$=async M=>{if(M.preventDefault(),T(!0),!U()){T(!1);return}try{if(await F(e.email)){x(!0),T(!1);return}if(!e.idFrontImage||!e.idBackImage){y({...h,idFrontImage:e.idFrontImage?"":"صورة البطاقة الأمامية مطلوبة",idBackImage:e.idBackImage?"":"صورة البطاقة الخلفية مطلوبة"}),T(!1);return}const H={name:e.name,email:e.email,password:e.password,nationalId:e.nationalId,governorate:e.governorate,category:e.category,profession:e.profession,subscriptionFee:e.subscriptionFee,idFrontImage:e.idFrontImage,idBackImage:e.idBackImage,profileImage:e.profileImage,bio:e.bio,phone:e.phone,address:e.address,createdAt:new Date,ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0};e.category==="خدمات فنية"&&(H.allowContact=e.allowContact),await qb(En(Je,"serviceProviders",e.email),H),alert("تم التسجيل بنجاح"),n("/nafany/login")}catch(L){console.error("حدث خطأ أثناء التسجيل: ",L),alert("حدث خطأ أثناء التسجيل، يرجى المحاولة مرة أخرى")}finally{T(!1)}},I=M=>{const{name:L,value:H}=M.target;t({...e,[L]:H}),h[L]&&y({...h,[L]:""}),L==="email"&&v&&x(!1)},C=(M,L)=>{const H={name:"الاسم",email:"البريد الإلكتروني",password:"كلمة المرور",nationalId:"الرقم القومي",phone:"رقم الهاتف",address:"العنوان"},B={password:"password",email:"email",nationalId:"number",phone:"tel",default:"text"};return g.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:L*.2},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:H[M]}),g.jsx("input",{type:B[M]||B.default,name:M,placeholder:`أدخل ${H[M]}`,className:`w-full border ${h[M]?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,required:!0,value:e[M],onChange:I}),h[M]&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:h[M]}),M==="email"&&v&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:"البريد الإلكتروني مستخدم بالفعل"})]},L)};return g.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:g.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[g.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل مقدم الخدمة"}),g.jsxs(ve.form,{onSubmit:$,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[["name","email","password","nationalId","phone","address"].map((M,L)=>C(M,L)),g.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"التصنيف"}),g.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.category,onChange:N,children:Object.keys(D).map((M,L)=>g.jsx("option",{value:M,children:M},L))})]}),g.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المهنة/الخدمة"}),g.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.profession,onChange:M=>t(L=>({...L,profession:M.target.value})),children:(R=D[e.category])==null?void 0:R.map((M,L)=>g.jsx("option",{value:M,children:M},L))})]}),e.category==="خدمات فنية"&&g.jsx(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:e.allowContact,onChange:M=>t(L=>({...L,allowContact:M.target.checked})),className:"rounded text-cyan-600 focus:ring-cyan-500"}),g.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر بين الفني والعميل"})]})}),g.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المحافظة"}),g.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:M=>t(L=>({...L,governorate:M.target.value})),children:A.map((M,L)=>g.jsx("option",{value:M,children:M},L))})]}),g.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"رسوم الاشتراك"}),g.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.subscriptionFee,onChange:M=>t(L=>({...L,subscriptionFee:M.target.value})),children:O.map((M,L)=>g.jsx("option",{value:M,children:M},L))})]}),g.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"idFrontImage",label:"صورة البطاقة من الأمام",preview:r,error:h.idFrontImage},{field:"idBackImage",label:"صورة البطاقة من الخلف",preview:o,error:h.idBackImage}].map((M,L)=>g.jsxs(ve.div,{className:"space-y-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:L*.3},children:[g.jsxs("div",{className:`bg-gray-50 border-2 border-dashed ${M.error?"border-red-500":"border-gray-300"} rounded-lg p-4 text-center hover:border-cyan-400 transition-colors`,children:[g.jsx("input",{type:"file",className:"hidden",id:`id-image-${L}`,required:!0,onChange:H=>Y(H.target.files[0],M.field),accept:"image/*"}),g.jsx("label",{htmlFor:`id-image-${L}`,className:"cursor-pointer",children:g.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:M.preview?g.jsx("img",{src:M.preview,alt:M.label,className:"h-20 w-20 object-cover rounded-lg mb-2"}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),g.jsx("span",{className:"text-sm font-medium",children:M.label}),g.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]}),M.error&&g.jsx("p",{className:"text-red-500 text-sm",children:M.error})]},L))})]}),g.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),g.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-cyan-400 transition-colors",children:[g.jsx("input",{type:"file",className:"hidden",id:"profile-image",onChange:M=>Y(M.target.files[0],"profileImage"),accept:"image/*"}),g.jsx("label",{htmlFor:"profile-image",className:"cursor-pointer",children:g.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:u?g.jsx("img",{src:u,alt:"الصورة الشخصية",className:"h-20 w-20 object-cover rounded-full mb-2"}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),g.jsx("span",{className:"text-sm font-medium",children:"صورة شخصية"}),g.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]})]}),g.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.9},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"تعريف شخصي"}),g.jsx("textarea",{placeholder:"أدخل تعريفاً شخصياً مختصراً عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:e.bio,onChange:M=>t(L=>({...L,bio:M.target.value}))})]}),g.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),g.jsx(ve.button,{type:"submit",className:`py-3 ${w?"bg-cyan-400":"bg-cyan-600 hover:bg-cyan-700"} text-white rounded-lg font-medium shadow-md flex items-center justify-center`,whileHover:{scale:w?1:1.03},whileTap:{scale:w?1:.97},disabled:w,children:w?"جاري التسجيل...":"تسجيل"})]})]})]})})},P9=()=>{const n=Nn(),[e,t]=k.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",chats:{}}),[r,a]=k.useState({}),[o,l]=k.useState(!1),[u,f]=k.useState(!1),h=["وسط البلد","الزمالك","المعادي","مدينة نصر","مصر الجديدة","التجمع الخامس","الرحاب","مدينتي","الشروق","العبور","6 أكتوبر","الشيخ زايد","حدائق الأهرام","المقطم","عين شمس","المرج","حلوان","دار السلام","السيدة زينب","باب الشعرية","شبرا","الزاوية الحمراء","حدائق القبة","المطرية","مدينة بدر","البساتين","التبين","الواحة","النزهة","الهرم"],y=()=>{let A={};return e.name.trim()||(A.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(A.email="البريد الإلكتروني غير صالح"):A.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(A.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):A.password="كلمة المرور مطلوبة",e.governorate||(A.governorate="يجب اختيار المحافظة"),a(A),Object.keys(A).length===0},v=async A=>{const D=Xn(Yt(Je,"users"),Fn("email","==",A));return!(await Zn(D)).empty},x=async A=>(await Wo(En(Je,"users",A))).exists(),w=async A=>{if(A.preventDefault(),!y())return;const D=e.email.split("@")[0],O=await v(e.email),U=await x(D);if(O){l(!0);return}if(U){f(!0);return}try{await qb(En(Je,"users",D),{...e}),alert("User registered successfully"),n("/nafany/login")}catch(F){console.error("Error adding user: ",F)}},T=A=>{t({...e,[A.target.name]:A.target.value}),a({...r,[A.target.name]:""}),A.target.name==="email"&&(l(!1),f(!1))};return g.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:g.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[g.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل المستخدم"}),g.jsxs(ve.form,{onSubmit:w,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[[{label:"الاسم",name:"name"},{label:"عنوان البريد",name:"email"},{label:"كلمة المرور",name:"password",type:"password"},{label:"رقم الهاتف",name:"phoneNumber"}].map(({label:A,name:D,type:O="text"},U)=>g.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:U*.2},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:A}),g.jsx("input",{type:O,name:D,placeholder:`أدخل ${A}`,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e[D],onChange:T}),r[D]&&g.jsx("p",{className:"text-red-500 text-sm",children:r[D]}),D==="email"&&o&&g.jsx("p",{className:"text-red-500 text-sm",children:"البريد الإلكتروني مستخدم بالفعل"}),D==="email"&&u&&g.jsx("p",{className:"text-red-500 text-sm",children:"اسم المستخدم مستخدم بالفعل"})]},U)),g.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المنطقة"}),g.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:T,children:[g.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),h.map((A,D)=>g.jsx("option",{value:A,children:A},D))]}),r.governorate&&g.jsx("p",{className:"text-red-500 text-sm",children:r.governorate})]}),g.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),g.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"تسجيل"})]})]})]})})};var oR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w2=W.createContext&&W.createContext(oR),O9=["attr","size","title"];function I9(n,e){if(n==null)return{};var t=j9(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function j9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function gm(){return gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gm.apply(this,arguments)}function E2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ym(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(t),!0).forEach(function(r){V9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function V9(n,e,t){return e=L9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L9(n){var e=U9(n,"string");return typeof e=="symbol"?e:e+""}function U9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lR(n){return n&&n.map((e,t)=>W.createElement(e.tag,ym({key:t},e.attr),lR(e.child)))}function gn(n){return e=>W.createElement(B9,gm({attr:ym({},n.attr)},e),lR(n.child))}function B9(n){var e=t=>{var{attr:r,size:a,title:o}=n,l=I9(n,O9),u=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),W.createElement("svg",gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:ym(ym({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&W.createElement("title",null,o),n.children)};return w2!==void 0?W.createElement(w2.Consumer,null,t=>e(t)):e(oR)}function F9(n){return gn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function z9(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function H9(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function Y9(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function q9(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function cR(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function $9(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function G9(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Q9(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function K9(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(n)}function W9(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function X9(n){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function Z9(n){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function J9(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function W0(n){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function e8(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function t8(n){return gn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function n8(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function $b(n){return gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function uR(n){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const dR=({isLoggedIn:n,onLogout:e,userData:t})=>{const r=Nn(),[a,o]=W.useState(!1);return g.jsxs(ve.header,{className:"bg-white shadow-md px-4 md:px-8 py-3 md:py-4 flex justify-between items-center relative",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},dir:"rtl",children:[g.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto",children:[g.jsx("img",{src:"/nafany/IMG-20250322-WA0070.jpg",alt:"Logo",className:"h-12 w-12 sm:h-16 sm:w-16 md:h-20 md:w-20 object-contain ml-2 md:ml-4"}),g.jsxs("nav",{className:"hidden md:flex items-center mr-4 space-x-reverse space-x-4 lg:space-x-6 font-bold text-base lg:text-xl",children:[g.jsx("button",{onClick:()=>r("/nafany/complaints"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الشكاوى والاقتراحات"}),g.jsx("button",{onClick:()=>r("/nafany/contact"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"تواصل معنا"}),g.jsx("button",{onClick:()=>r("/nafany/settings"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الإعدادات"})]}),g.jsx("button",{className:"md:hidden text-gray-700 mr-2 z-50",onClick:()=>o(!a),"aria-label":"القائمة",children:a?g.jsx(t8,{size:24}):g.jsx($9,{size:24})})]}),g.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[n&&g.jsxs("span",{className:"text-gray-700 font-medium text-base mb-2",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]}),g.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})]}),g.jsx(Uk,{children:a&&g.jsx(ve.div,{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),children:g.jsxs(ve.div,{className:"absolute top-16 right-0 w-3/4 max-w-sm h-full bg-white shadow-lg z-50 overflow-y-auto overflow-x-hidden",initial:{x:300},animate:{x:0},exit:{x:300},transition:{type:"spring",damping:25,stiffness:300},onClick:l=>l.stopPropagation(),children:[n&&g.jsx("div",{className:"px-6 pt-6 pb-2 border-b border-gray-200",children:g.jsxs("span",{className:"text-gray-700 font-medium text-base block text-right",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]})}),g.jsxs("nav",{className:"flex flex-col items-end p-6 space-y-6 font-bold text-lg",children:[g.jsx("button",{onClick:()=>{r("/nafany/settings"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"الإعدادات"}),g.jsx("button",{onClick:()=>{r("/nafany/contact"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"تواصل معنا"}),g.jsx("button",{onClick:()=>{r("/nafany/complaints"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"الشكاوى والاقتراحات"}),g.jsx("div",{className:"w-full pt-4 border-t border-gray-200",children:g.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login"),o(!1)},className:"bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 text-base w-full text-center",whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})})]})]})})})]})},r8=({title:n,description:e,image:t,bgColor:r})=>{const a=Nn();return g.jsx(ve.div,{className:`relative overflow-hidden rounded-xl shadow-lg p-6 ${r} transform transition-all duration-300 cursor-pointer`,whileHover:{scale:1.05,transition:{duration:.3}},onClick:()=>a(`/nafany/service_categories/${n}`),children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("img",{src:t,alt:n,className:"w-32 h-32 object-cover mb-4 rounded-full shadow-md"}),g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n}),g.jsx("p",{className:"text-center text-white opacity-80",children:e})]})})},a8=({title:n,description:e,discount:t,isLoggedIn:r})=>{const a=Nn(),o=()=>{r?a("/nafany"):(alert("يجب تسجيل الدخول أولاً للاستفادة من العروض"),a("/nafany/login"))};return g.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 overflow-hidden border-2 border-cyan-100 w-full",whileHover:{scale:1.03,transition:{duration:.3}},dir:"rtl",children:g.jsxs("div",{className:"flex flex-col items-start",children:[g.jsx("h3",{className:"text-lg sm:text-xl font-bold text-cyan-800 mb-2 sm:mb-3",children:n}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 flex-grow line-clamp-3",children:e}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between w-full gap-3 sm:gap-0",children:[g.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:["خصم ",t,"%"]}),g.jsx("button",{className:"bg-cyan-600 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-sm hover:bg-cyan-700 w-full sm:w-auto text-center",onClick:o,children:r?"استكشف العرض":"سجل للاستفادة"})]})]})})},i8=()=>{const[n,e]=k.useState(!1),[t,r]=k.useState(null),[a,o]=k.useState(!0),[l,u]=k.useState([]),f=Nn();k.useEffect(()=>{const A=async()=>{try{const O=localStorage.getItem("currentUser");if(O&&O!=='""'){const U=JSON.parse(O);if(U)if(r(U),e(!0),U.role==="provider")f("/nafany/servicer_page");else{const F=await h(U.id||U.uid);u(F),console.log("User chats:",F)}}}catch(O){console.error("Error parsing user data:",O),localStorage.removeItem("currentUser")}o(!1)};A();const D=O=>{O.key==="currentUser"&&A()};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[f]);const h=async A=>{try{const D=Xn(Yt(Je,"chats"),Fn("participants","array-contains",A),_c("lastMessageTime","desc"));return(await Zn(D)).docs.map(U=>{var F,Y;return{id:U.id,...U.data(),lastMessageTime:((Y=(F=U.data().lastMessageTime)==null?void 0:F.toDate)==null?void 0:Y.call(F))||new Date}})}catch(D){return console.error("Error fetching chats:",D),[]}},y=(A,D,O)=>{const U=t.id||t.uid;f(`/nafany/chat/${A}`,{state:{provider:{id:A,name:D,email:O||"provider@example.com"},user:{id:U,name:t.name,email:t.email,profileImage:t.profileImage}}})},v=()=>{localStorage.removeItem("currentUser"),e(!1),r(null),f("/nafany")},x=[{title:"خدمات فنية",description:"سباك، نجار، كهربائي، ميكانيكي، حداد، فني تكييفات، نقاش، ترزي",image:"/nafany/electric.jpg",bgColor:"bg-[#2f4156]"},{title:"خدمات صحية",description:"مستشفيات، عيادات، صيدليات، مراكز طبية",image:"/nafany/medicin.jpg",bgColor:"bg-[#567c8d]"},{title:"خدمات عامة",description:"سوبر ماركت، مطاعم، كافيهات، مولات، خدمات تجارية",image:"/nafany/download.png",bgColor:"bg-[#808080]"},{title:"خدمات أخرى",description:"عطار، جزار، فكهاني، خضري، محل ألبان، خدمات متفرقة",image:"/nafany/download (1).png",bgColor:"bg-[#62a2d3]"}],w=[{title:"عرض الصيانة",description:"خصم خاص على خدمات الصيانة المنزلية الشاملة",discount:20},{title:"عرض التركيبات",description:"أسعار مخفضة للتركيبات الفنية المتكاملة",discount:25}],T=()=>n?g.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},children:[g.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"محادثاتك مع مقدمي الخدمة"}),l.length>0?g.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 direction-rtl",children:g.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map(A=>{var F;const D=A.participants[0]===t.id?A.participants[0]:A.participants[1],O=A.participantsNames[0]===t.name?A.participantsNames[1]:A.participantsNames[0],U=(F=A.participantsEmails)==null?void 0:F.find(Y=>Y!==t.email);return g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>y(D,O,U),children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx($b,{className:"text-gray-400 text-2xl ml-3"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-cyan-800",children:O}),g.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:A.lastMessage})]})]}),g.jsx(cR,{className:"text-cyan-600"})]},A.id)})})}):g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 text-center",children:[g.jsx("p",{className:"text-gray-500",children:"لا توجد محادثات حتى الآن"}),g.jsx("p",{className:"text-cyan-600 mt-2",children:"ابحث عن مقدم خدمة للتواصل معه"})]})]}):null;return a?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):g.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[g.jsx(dR,{isLoggedIn:n,onLogout:v,userData:t}),g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"مرحبًا بك في نفعني"}),g.jsx(ve.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:x.map((A,D)=>g.jsx(r8,{...A},D))}),T(),g.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.6},children:[g.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"العروض والتخفيضات الحالية"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map((A,D)=>g.jsx(a8,{...A,isLoggedIn:n},D))})]})]})]})},s8=()=>{const{serviceType:n,professionType:e}=jm(),t=Nn(),[r,a]=k.useState([]),[o,l]=k.useState([]),[u,f]=k.useState(!0),[h,y]=k.useState("الكل"),[v,x]=k.useState("الكل"),[w,T]=k.useState([]),[A,D]=k.useState([]),O=["وسط البلد","الزمالك","المعادي","مدينة نصر","مصر الجديدة","التجمع الخامس","الرحاب","مدينتي","الشروق","العبور","6 أكتوبر","الشيخ زايد","حدائق الأهرام","المقطم","عين شمس","المرج","حلوان","دار السلام","السيدة زينب","باب الشعرية","شبرا","الزاوية الحمراء","حدائق القبة","المطرية","مدينة بدر","البساتين","التبين","الواحة","النزهة","الهرم"];k.useEffect(()=>{(async()=>{try{f(!0);const N=Xn(Yt(Je,"serviceProviders"),Fn("category","==",n),Fn("profession","==",e)),$=await Zn(N),I=[],C=new Set(["الكل"]),R=new Set(["الكل"]);$.forEach(M=>{const L=M.data(),H=L.profession||"بدون تخصص",B=L.governorate||"غير محدد";I.push({id:M.id,title:H,description:L.bio||"لا يوجد وصف",imageUrl:L.profileImage||L.idFrontImage||"../../public/IMG-20250322-WA0070.jpg",governorate:B,providerData:{...L,id:M.id}}),C.add(H),R.add(B)}),a(I),l(I),T(Array.from(C)),D(["الكل",...O]),f(!1)}catch(N){console.error("Error fetching jobs:",N),f(!1)}})()},[n,e]),k.useEffect(()=>{let Y=[...r];h!=="الكل"&&(Y=Y.filter(N=>N.title===h)),v!=="الكل"&&(Y=Y.filter(N=>N.governorate===v)),l(Y)},[h,v,r]);const U=Y=>{t(`/nafany/book_page/${Y.id}`,{state:{provider:Y}})},F=()=>{let Y=`${e} - ${n}`;return v!=="الكل"?Y+=` في ${v}`:Y+=" في جميع المناطق السكنية",Y};return g.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[g.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:F()}),g.jsxs(ve.div,{className:"bg-white p-4 rounded-lg shadow-md mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"تصفية حسب المنطقة ابسكنية:"}),g.jsx("select",{value:v,onChange:Y=>x(Y.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-cyan-500",children:A.map((Y,N)=>g.jsx("option",{value:Y,children:Y},`gov-${N}`))})]})}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("button",{onClick:()=>{y("الكل"),x("الكل")},className:"text-cyan-600 hover:text-cyan-800 text-sm",children:"إعادة تعيين الفلتر"}),g.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," نتيجة متاحة"]})]})]}),u?g.jsx("div",{className:"text-center text-gray-600 text-xl",children:"جاري تحميل البيانات..."}):o.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((Y,N)=>g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("img",{src:Y.imageUrl,alt:Y.title,className:"w-20 h-20 object-cover rounded-full mr-4 border-2 border-cyan-100",onError:$=>{$.target.onerror=null,$.target.src="../../public/IMG-20250322-WA0070.jpg"}}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:Y.title}),g.jsx("p",{className:"text-gray-600 text-sm mt-1",children:Y.description})]})]}),g.jsxs("div",{className:"flex justify-between items-center mt-4",children:[g.jsx("span",{className:"text-sm text-gray-500",children:Y.governorate}),g.jsx("button",{onClick:()=>U(Y.providerData),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"عرض الملف الشخصي"})]})]},N))}):g.jsx("div",{className:"text-center text-gray-600 text-xl",children:"لا توجد نتائج مطابقة للبحث"})]})]})},o8=()=>{const n=Nn(),e=ka(),[t,r]=k.useState(null),[a,o]=k.useState([]),[l,u]=k.useState([]),[f,h]=k.useState([]),[y,v]=k.useState(!0),[x,w]=k.useState(!1),[T,A]=k.useState([]),[D,O]=k.useState({title:"",description:"",images:[],previewImages:[]}),[U,F]=k.useState(null),[Y,N]=k.useState({title:"",description:"",images:[],previewImages:[]}),[$,I]=k.useState({allProviders:[],currentProvider:null,totalProviders:0});k.useEffect(()=>{(async()=>{const se=localStorage.getItem("currentUser");if(se&&se!=='""'){const Ne=JSON.parse(se);r(Ne),w(!0);const[Ce,Te,ze,dt]=await Promise.all([R(Ne.email),C(Ne.email),be(Ne.id||Ne.uid),M(Ne.email)]);Te&&I(Te),ze&&h(ze),dt&&A(dt)}else n("/nafany/login");v(!1)})()},[n,e]);const C=async de=>{try{const se=Xn(Yt(Je,"serviceProviders")),Ne=await Zn(se),Ce=Xn(Yt(Je,"reviews")),ze=(await Zn(Ce)).docs.map(Xe=>Xe.data()),dt=Ne.docs.map(Xe=>{const _e=Xe.data(),Ge=ze.filter(Tr=>Tr.providerEmail===_e.email),ot=Ge.length,Bt=Ge.reduce((Tr,hr)=>Tr+hr.rating,0),fr=ot>0?(Bt/ot).toFixed(1):0;return{id:Xe.id,..._e,ratingsCount:ot,ratingsTotal:Bt,averageRating:fr}});dt.sort((Xe,_e)=>_e.averageRating-Xe.averageRating),dt.forEach((Xe,_e)=>{Xe.rank=_e+1});const nt=dt.find(Xe=>Xe.email===de);return{allProviders:dt,currentProvider:nt,totalProviders:dt.length}}catch(se){return console.error("Error fetching providers:",se),null}},R=async de=>{try{const se=Xn(Yt(Je,"providerWorks"),Fn("providerEmail","==",de)),Ce=(await Zn(se)).docs.map(nt=>({id:nt.id,...nt.data()}));o(Ce);const Te=Xn(Yt(Je,"reviews"),Fn("providerEmail","==",de)),dt=(await Zn(Te)).docs.map(nt=>({id:nt.id,...nt.data()}));return u(dt),Ce}catch(se){return console.error("Error fetching works:",se),[]}},M=async de=>{try{const se=Xn(Yt(Je,"bookings"),Fn("providerEmail","==",de),_c("createdAt","desc"));return(await Zn(se)).docs.map(Ce=>{const Te=Ce.data();return{id:Ce.id,...Te,createdAt:L(Te.createdAt),bookingDate:Te.bookingDate||"غير محدد",bookingTime:Te.bookingTime||"غير محدد"}})}catch(se){return console.error("Error fetching bookings:",se),[]}},L=de=>de?de.seconds?new Date(de.seconds*1e3).toLocaleString("ar-EG"):de.toDate?de.toDate().toLocaleString("ar-EG"):de:"غير محدد",H=async(de,se)=>{try{await Yo(En(Je,"bookings",de),{status:se,updatedAt:Xo()}),A(Ne=>Ne.map(Ce=>Ce.id===de?{...Ce,status:se}:Ce))}catch(Ne){console.error("Error updating booking status:",Ne)}},B=(de,se=!1)=>{const Ne=Array.from(de),Ce=[],Te=[];Ne.forEach(ze=>{const dt=new FileReader;dt.onload=nt=>{Ce.push(nt.target.result),Te.push(nt.target.result),Ce.length===Ne.length&&(se?N(Xe=>({...Xe,images:[...Xe.images,...Ce],previewImages:[...Xe.previewImages,...Te]})):O(Xe=>({...Xe,images:Ce,previewImages:Te})))},dt.readAsDataURL(ze)})},Se=async de=>{if(de.preventDefault(),!!t)try{const se={...D,providerEmail:t.email,providerName:t.name,createdAt:Xo(),comments:[],ratings:[]};await Ad(Yt(Je,"providerWorks"),se),await R(t.email),O({title:"",description:"",images:[],previewImages:[]})}catch(se){console.error("Error adding work:",se)}},we=de=>{F(de.id),N({title:de.title,description:de.description,images:de.images,previewImages:de.images})},ae=async de=>{de.preventDefault();try{const se=En(Je,"providerWorks",U);await Yo(se,{title:Y.title,description:Y.description,images:Y.images}),await R(t.email),F(null),N({title:"",description:"",images:[],previewImages:[]})}catch(se){console.error("Error updating work:",se)}},J=async de=>{if(window.confirm("هل أنت متأكد من حذف هذا العمل؟"))try{await tR(En(Je,"providerWorks",de)),await R(t.email)}catch(se){console.error("Error deleting work:",se)}},ne=(de,se,Ne)=>{const Ce=t.id||t.uid;n(`/nafany/chat/${de}`,{state:{provider:{id:Ce,name:t.name,email:t.email,profileImage:t.profileImage},user:{id:de,name:se,email:Ne||"client@example.com"}}})},be=async de=>{try{const se=Xn(Yt(Je,"chats"),Fn("participants","array-contains",de),_c("lastMessageTime","desc"));return(await Zn(se)).docs.map(Ce=>{var Te,ze;return{id:Ce.id,...Ce.data(),lastMessageTime:((ze=(Te=Ce.data().lastMessageTime)==null?void 0:Te.toDate)==null?void 0:ze.call(Te))||new Date}})}catch(se){return console.error("Error fetching chats:",se),[]}},P=de=>[...Array(5)].map((se,Ne)=>g.jsx("span",{className:Ne<de?"text-yellow-500":"text-gray-300",children:Ne<de?g.jsx(W0,{}):g.jsx(uR,{})},Ne)),Z=()=>{var dt;if(!$.currentProvider)return null;const{currentProvider:de,allProviders:se,totalProviders:Ne}=$,Ce=de.averageRating||0,Te=de.ratingsCount||0,ze=((dt=se.find(nt=>nt.email===de.email))==null?void 0:dt.rank)||Ne;return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"تصنيفك وتقييمك"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:Ce}),g.jsx("div",{className:"flex justify-center mb-2",children:P(Math.floor(Ce))}),g.jsx("p",{className:"text-gray-600",children:"متوسط التقييم"})]}),g.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:Te}),g.jsx("p",{className:"text-gray-600",children:"عدد التقييمات"})]}),g.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:ze}),g.jsxs("p",{className:"text-gray-600",children:["من أصل ",Ne," مقدم خدمة"]})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"أحدث التعليقات"}),l.length>0?g.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map((nt,Xe)=>{var _e,Ge;return g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"font-medium text-cyan-800",children:nt.clientName}),g.jsx("div",{className:"flex",children:P(nt.rating)})]}),g.jsx("p",{className:"text-gray-700",children:nt.review}),g.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((Ge=(_e=nt.createdAt)==null?void 0:_e.toDate)==null?void 0:Ge.call(_e).toLocaleDateString())||"تاريخ غير معروف"})]},Xe)})}):g.jsx("p",{className:"text-center text-gray-500",children:"لا توجد تعليقات بعد"})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"المحادثات الحديثة"}),f.length>0?g.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:f.map(nt=>{const Xe=nt.participants[0]===t.id?nt.participants[1]:nt.participants[0],_e=nt.participantsNames[0]===t.name?nt.participantsNames[1]:nt.participantsNames[0];return console.log(Xe),g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>{var Ge;return ne(Xe,_e,(Ge=nt.participantsEmails)==null?void 0:Ge.find(ot=>ot!==t.email))},children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx($b,{className:"text-gray-400 text-2xl mr-3"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-cyan-800",children:_e}),g.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:nt.lastMessage})]})]}),g.jsx(cR,{className:"text-cyan-600"})]},nt.id)})}):g.jsx("p",{className:"text-center text-gray-500",children:"لا توجد محادثات بعد"})]})]})},ue=()=>a.map(de=>g.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:U===de.id?g.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[g.jsx("input",{type:"text",placeholder:"عنوان العمل",value:Y.title,onChange:se=>N(Ne=>({...Ne,title:se.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),g.jsx("textarea",{placeholder:"وصف العمل",value:Y.description,onChange:se=>N(Ne=>({...Ne,description:se.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),g.jsx("input",{type:"file",multiple:!0,onChange:se=>B(se.target.files,!0),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),Y.previewImages.length>0&&g.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:Y.previewImages.map((se,Ne)=>g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:se,alt:`Preview ${Ne+1}`,className:"w-full h-20 object-cover rounded-lg"}),g.jsx("button",{type:"button",onClick:()=>{const Ce=[...Y.images],Te=[...Y.previewImages];Ce.splice(Ne,1),Te.splice(Ne,1),N(ze=>({...ze,images:Ce,previewImages:Te}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},Ne))}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg flex-1",children:"حفظ التعديلات"}),g.jsx("button",{type:"button",onClick:()=>{F(null),N({title:"",description:"",images:[],previewImages:[]})},className:"bg-gray-500 text-white px-4 py-2 rounded-lg flex-1",children:"إلغاء"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:de.title}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>we(de),className:"text-blue-600 hover:text-blue-800 p-2",title:"تعديل",children:g.jsx(Z9,{})}),g.jsx("button",{onClick:()=>J(de.id),className:"text-red-600 hover:text-red-800 p-2",title:"حذف",children:g.jsx(n8,{})})]})]}),g.jsx("p",{className:"text-gray-600",children:de.description}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:de.images.map((se,Ne)=>g.jsx("img",{src:se,alt:`Work ${Ne+1}`,className:"w-full h-40 object-cover rounded-lg"},Ne))})]})},de.id)),xe=()=>{localStorage.removeItem("currentUser"),w(!1),r(null),n("/nafany")},ge=()=>{const de=se=>se?se.seconds?new Date(se.seconds*1e3).toLocaleDateString("ar-EG"):se.toDate?se.toDate().toLocaleDateString("ar-EG"):se:"غير محدد";return g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"حجوزات العملاء"}),T.length>0?g.jsx("div",{className:"space-y-4",children:T.map((se,Ne)=>{const Ce=de(se.createdAt),Te=de(se.bookingDate);return g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ne*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-800",children:se.clientName||"عميل غير معروف"}),g.jsx("p",{className:"text-gray-600 text-sm",children:se.clientEmail||"لا يوجد بريد إلكتروني"})]}),g.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${se.status==="confirmed"?"bg-green-100 text-green-800":se.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:se.status==="confirmed"?"مؤكد":se.status==="pending"?"قيد الانتظار":"ملغى"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الإنشاء:"}),g.jsx("p",{className:"text-gray-700",children:Ce})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الحجز:"}),g.jsx("p",{className:"text-gray-700",children:Te})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"الوقت:"}),g.jsx("p",{className:"text-gray-700",children:se.bookingTime||"غير محدد"})]})]}),se.note&&g.jsxs("div",{className:"mt-3",children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"ملاحظات العميل:"}),g.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:se.note})]}),g.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[se.status==="pending"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>H(se.id,"confirmed"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"تأكيد"}),g.jsx("button",{onClick:()=>H(se.id,"cancelled"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"إلغاء"})]}),g.jsx("button",{onClick:()=>ne(se.clientId||"unknown",se.clientName,se.clientEmail),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"محادثة"})]})]},se.id)})}):g.jsx("div",{className:"text-center text-gray-500 py-8",children:"لا توجد حجوزات حتى الآن"})]})};return y?g.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:g.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):g.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[g.jsx(dR,{isLoggedIn:x,onLogout:xe,userData:t}),g.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[g.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:"لوحة تحكم مقدم الخدمة"}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},children:[g.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:U?"تعديل العمل":"إضافة عمل جديد"}),g.jsxs("form",{onSubmit:U?ae:Se,className:"space-y-4",children:[g.jsx("input",{type:"text",placeholder:"عنوان العمل",value:U?Y.title:D.title,onChange:de=>U?N(se=>({...se,title:de.target.value})):O(se=>({...se,title:de.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),g.jsx("textarea",{placeholder:"وصف العمل",value:U?Y.description:D.description,onChange:de=>U?N(se=>({...se,description:de.target.value})):O(se=>({...se,description:de.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),g.jsx("input",{type:"file",multiple:!0,onChange:de=>B(de.target.files,U),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),(U?Y.previewImages:D.previewImages).length>0&&g.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:(U?Y.previewImages:D.previewImages).map((de,se)=>g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:de,alt:`Preview ${se+1}`,className:"w-full h-20 object-cover rounded-lg"}),U&&g.jsx("button",{type:"button",onClick:()=>{const Ne=[...Y.images],Ce=[...Y.previewImages];Ne.splice(se,1),Ce.splice(se,1),N(Te=>({...Te,images:Ne,previewImages:Ce}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},se))}),g.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700",children:U?"حفظ التعديلات":"إضافة العمل"}),U&&g.jsx("button",{type:"button",onClick:()=>{F(null),N({title:"",description:"",images:[],previewImages:[]})},className:"w-full bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 mt-2",children:"إلغاء التعديل"})]})]}),g.jsxs(ve.div,{className:"space-y-6",initial:{x:50,opacity:0},animate:{x:0,opacity:1},children:[Z(),ge(),g.jsx("h2",{className:"text-2xl font-bold text-cyan-800",children:"أعمالك السابقة"}),a.length>0?g.jsx("div",{className:"space-y-6",children:ue()}):g.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لم تقم بإضافة أي أعمال بعد"})]})]})]})]})};function fR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=fR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function er(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=fR(n))&&(r&&(r+=" "),r+=e);return r}const hR=6048e5,l8=864e5,dp=6e4,fp=36e5,c8=1e3,T2=Symbol.for("constructDateFrom");function It(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&T2 in n?n[T2](e):n instanceof Date?new n.constructor(e):new Date(e)}function Le(n,e){return It(e||n,n)}function Ca(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(e)?It((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ma(n,e,t){const r=Le(n,t==null?void 0:t.in);if(isNaN(e))return It(n,NaN);if(!e)return r;const a=r.getDate(),o=It(n,r.getTime());o.setMonth(r.getMonth()+e+1,0);const l=o.getDate();return a>=l?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function mR(n,e,t){return It(n,+Le(n)+e)}function u8(n,e,t){return mR(n,e*fp)}let d8={};function sl(){return d8}function Zi(n,e){var u,f,h,y;const t=sl(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(h=t.locale)==null?void 0:h.options)==null?void 0:y.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?7:0)+o-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function wc(n,e){return Zi(n,{...e,weekStartsOn:1})}function pR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=It(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=wc(a),l=It(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=wc(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function vm(n){const e=Le(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ji(n,...e){const t=It.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Zo(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Ec(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=Zo(r),l=Zo(a),u=+o-vm(o),f=+l-vm(l);return Math.round((u-f)/l8)}function f8(n,e){const t=pR(n,e),r=It(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wc(r)}function X0(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*dp),r}function Gb(n,e,t){return Ma(n,e*3,t)}function h8(n,e,t){return mR(n,e*1e3)}function bm(n,e,t){return Ca(n,e*7,t)}function zi(n,e,t){return Ma(n,e*12,t)}function S2(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=It.bind(null,a));const o=Le(a,r);(!t||t<o||isNaN(+o))&&(t=o)}),It(r,t||NaN)}function D2(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=It.bind(null,a));const o=Le(a,r);(!t||t>o||isNaN(+o))&&(t=o)}),It(r,t||NaN)}function m8(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return+Zo(r)==+Zo(a)}function Hi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function xm(n){return!(!Hi(n)&&typeof n!="number"||isNaN(+Le(n)))}function _m(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function qo(n,e){const t=Le(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function wm(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=qo(r)-qo(a);return o*4+l}function Em(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()-a.getFullYear()}function p8(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=A2(r,a),l=Math.abs(Ec(r,a));r.setDate(r.getDate()-o*l);const u=+(A2(r,a)===-o),f=o*(l-u);return f===0?0:f}function A2(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function gR(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function yR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Z0(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function vR(n,e){const t=Le(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function bR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function hp(n,e){const t=Le(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function g8(n,e){var u,f;const t=sl(),r=t.weekStartsOn??((f=(u=t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const y8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v8=(n,e,t)=>{let r;const a=y8[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Qy(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const b8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w8={date:Qy({formats:b8,defaultWidth:"full"}),time:Qy({formats:x8,defaultWidth:"full"}),dateTime:Qy({formats:_8,defaultWidth:"full"})},E8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T8=(n,e,t,r)=>E8[n];function Bu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return a[o]}}const S8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M8=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},k8={ordinalNumber:M8,era:Bu({values:S8,defaultWidth:"wide"}),quarter:Bu({values:D8,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bu({values:A8,defaultWidth:"wide"}),day:Bu({values:C8,defaultWidth:"wide"}),dayPeriod:Bu({values:R8,defaultWidth:"wide",formattingValues:N8,defaultFormattingWidth:"wide"})};function Fu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(a);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?O8(u,v=>v.test(l)):P8(u,v=>v.test(l));let h;h=n.valueCallback?n.valueCallback(f):f,h=t.valueCallback?t.valueCallback(h):h;const y=e.slice(l.length);return{value:h,rest:y}}}function P8(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function O8(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function I8(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const j8=/^(\d+)(th|st|nd|rd)?/i,V8=/\d+/i,L8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U8={any:[/^b/i,/^(a|c)/i]},B8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F8={any:[/1/i,/2/i,/3/i,/4/i]},z8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q8={ordinalNumber:I8({matchPattern:j8,parsePattern:V8,valueCallback:n=>parseInt(n,10)}),era:Fu({matchPatterns:L8,defaultMatchWidth:"wide",parsePatterns:U8,defaultParseWidth:"any"}),quarter:Fu({matchPatterns:B8,defaultMatchWidth:"wide",parsePatterns:F8,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Fu({matchPatterns:z8,defaultMatchWidth:"wide",parsePatterns:H8,defaultParseWidth:"any"}),day:Fu({matchPatterns:Y8,defaultMatchWidth:"wide",parsePatterns:q8,defaultParseWidth:"any"}),dayPeriod:Fu({matchPatterns:$8,defaultMatchWidth:"any",parsePatterns:G8,defaultParseWidth:"any"})},xR={code:"en-US",formatDistance:v8,formatLong:w8,formatRelative:T8,localize:k8,match:Q8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K8(n,e){const t=Le(n,e==null?void 0:e.in);return Ec(t,hp(t))+1}function Qb(n,e){const t=Le(n,e==null?void 0:e.in),r=+wc(t)-+f8(t);return Math.round(r/hR)+1}function Kb(n,e){var y,v,x,w;const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=sl(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(x=a.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=It((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Zi(l,e),f=It((e==null?void 0:e.in)||n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const h=Zi(f,e);return+t>=+u?r+1:+t>=+h?r:r-1}function W8(n,e){var u,f,h,y;const t=sl(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(h=t.locale)==null?void 0:h.options)==null?void 0:y.firstWeekContainsDate)??1,a=Kb(n,e),o=It((e==null?void 0:e.in)||n,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),Zi(o,e)}function _R(n,e){const t=Le(n,e==null?void 0:e.in),r=+Zi(t,e)-+W8(t,e);return Math.round(r/hR)+1}function Ot(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ds={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ot(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ot(t+1,2)},d(n,e){return Ot(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ot(n.getHours()%12||12,e.length)},H(n,e){return Ot(n.getHours(),e.length)},m(n,e){return Ot(n.getMinutes(),e.length)},s(n,e){return Ot(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return Ot(a,e.length)}},Ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C2={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ds.y(n,e)},Y:function(n,e,t,r){const a=Kb(n,r),o=a>0?a:1-a;if(e==="YY"){const l=o%100;return Ot(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Ot(o,e.length)},R:function(n,e){const t=pR(n);return Ot(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ot(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ds.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=_R(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Ot(a,e.length)},I:function(n,e,t){const r=Qb(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ot(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ds.d(n,e)},D:function(n,e,t){const r=K8(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ot(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ot(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Ot(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=Ql.noon:r===0?a=Ql.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=Ql.evening:r>=12?a=Ql.afternoon:r>=4?a=Ql.morning:a=Ql.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ds.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ds.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ds.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ds.s(n,e)},S:function(n,e){return Ds.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return N2(r);case"XXXX":case"XX":return jo(r);case"XXXXX":case"XXX":default:return jo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return N2(r);case"xxxx":case"xx":return jo(r);case"xxxxx":case"xxx":default:return jo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+R2(r,":");case"OOOO":default:return"GMT"+jo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+R2(r,":");case"zzzz":default:return"GMT"+jo(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ot(r,e.length)},T:function(n,e,t){return Ot(+n,e.length)}};function R2(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),o=r%60;return o===0?t+String(a):t+String(a)+e+Ot(o,2)}function N2(n,e){return n%60===0?(n>0?"-":"+")+Ot(Math.abs(n)/60,2):jo(n,e)}function jo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Ot(Math.trunc(r/60),2),o=Ot(r%60,2);return t+a+e+o}const M2=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},X8=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return M2(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",M2(r,e)).replace("{{time}}",wR(a,e))},J0={p:wR,P:X8},Z8=/^D+$/,J8=/^Y+$/,e7=["D","DD","YY","YYYY"];function t7(n){return Z8.test(n)}function n7(n){return J8.test(n)}function r7(n,e,t){const r=a7(n,e,t);if(console.warn(r),e7.includes(n))throw new RangeError(r)}function a7(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const i7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o7=/^'([^]*?)'?$/,l7=/''/g,c7=/[a-zA-Z]/;function k2(n,e,t){var y,v,x,w,T,A,D,O;const r=sl(),a=(t==null?void 0:t.locale)??r.locale??xR,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((A=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((O=(D=r.locale)==null?void 0:D.options)==null?void 0:O.weekStartsOn)??0,u=Le(n,t==null?void 0:t.in);if(!xm(u))throw new RangeError("Invalid time value");let f=e.match(s7).map(U=>{const F=U[0];if(F==="p"||F==="P"){const Y=J0[F];return Y(U,a.formatLong)}return U}).join("").match(i7).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const F=U[0];if(F==="'")return{isToken:!1,value:u7(U)};if(C2[F])return{isToken:!0,value:U};if(F.match(c7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:U}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return f.map(U=>{if(!U.isToken)return U.value;const F=U.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&n7(F)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&t7(F))&&r7(F,e,String(n));const Y=C2[F[0]];return Y(u,F,a.localize,h)}).join("")}function u7(n){const e=n.match(o7);return e?e[1].replace(l7,"'"):n}function P2(n,e){return Le(n,e==null?void 0:e.in).getDate()}function d7(n,e){return Le(n,e==null?void 0:e.in).getDay()}function f7(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=t.getMonth(),o=It(t,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function h7(){return Object.assign({},sl())}function Yi(n,e){return Le(n,e==null?void 0:e.in).getHours()}function m7(n,e){const t=Le(n,e==null?void 0:e.in).getDay();return t===0?7:t}function qi(n,e){return Le(n,e==null?void 0:e.in).getMinutes()}function wr(n,e){return Le(n,e==null?void 0:e.in).getMonth()}function Ls(n){return Le(n).getSeconds()}function ev(n){return+Le(n)}function ct(n,e){return Le(n,e==null?void 0:e.in).getFullYear()}function Ks(n,e){return+Le(n)>+Le(e)}function Jo(n,e){return+Le(n)<+Le(e)}function p7(n,e){return+Le(n)==+Le(e)}function g7(n,e){const t=y7(e)?new e(0):It(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function y7(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const v7=10;class ER{constructor(){Me(this,"subPriority",0)}validate(e,t){return!0}}class b7 extends ER{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class x7 extends ER{constructor(t,r){super();Me(this,"priority",v7);Me(this,"subPriority",-1);this.context=t||(a=>It(r,a))}set(t,r){return r.timestampIsSet?t:It(t,g7(t,this.context))}}class Rt{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new b7(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class _7 extends Rt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,r,a){return r.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const mn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Za={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pn(n,e){return n&&{value:e(n.value),rest:n.rest}}function en(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ja(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*fp+o*dp+l*c8),rest:e.slice(t[0].length)}}function TR(n){return en(mn.anyDigitsSigned,n)}function ln(n,e){switch(n){case 1:return en(mn.singleDigit,e);case 2:return en(mn.twoDigits,e);case 3:return en(mn.threeDigits,e);case 4:return en(mn.fourDigits,e);default:return en(new RegExp("^\\d{1,"+n+"}"),e)}}function Tm(n,e){switch(n){case 1:return en(mn.singleDigitSigned,e);case 2:return en(mn.twoDigitsSigned,e);case 3:return en(mn.threeDigitsSigned,e);case 4:return en(mn.fourDigitsSigned,e);default:return en(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Wb(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SR(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const o=r+50,l=Math.trunc(o/100)*100,u=n>=o%100;a=n+l-(u?100:0)}return t?a:1-a}function DR(n){return n%400===0||n%4===0&&n%100!==0}class w7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return pn(ln(4,t),o);case"yo":return pn(a.ordinalNumber(t,{unit:"year"}),o);default:return pn(ln(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a){const o=t.getFullYear();if(a.isTwoDigitYear){const u=SR(a.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class E7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return pn(ln(4,t),o);case"Yo":return pn(a.ordinalNumber(t,{unit:"year"}),o);default:return pn(ln(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a,o){const l=Kb(t,o);if(a.isTwoDigitYear){const f=SR(a.year,l);return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,o)}const u=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,o)}}class T7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Tm(r==="R"?4:r.length,t)}set(t,r,a){const o=It(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),wc(o)}}class S7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Tm(r==="u"?4:r.length,t)}set(t,r,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class D7 extends Rt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"Q":case"QQ":return ln(r.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class A7 extends Rt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"q":case"qq":return ln(r.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class C7 extends Rt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(t,r,a){const o=l=>l-1;switch(r){case"M":return pn(en(mn.month,t),o);case"MM":return pn(ln(2,t),o);case"Mo":return pn(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class R7 extends Rt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,a){const o=l=>l-1;switch(r){case"L":return pn(en(mn.month,t),o);case"LL":return pn(ln(2,t),o);case"Lo":return pn(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function N7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=_R(r,t)-e;return r.setDate(r.getDate()-a*7),Le(r,t==null?void 0:t.in)}class M7 extends Rt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,a){switch(r){case"w":return en(mn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a,o){return Zi(N7(t,a,o),o)}}function k7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Qb(r,t)-e;return r.setDate(r.getDate()-a*7),r}class P7 extends Rt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,a){switch(r){case"I":return en(mn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a){return wc(k7(t,a))}}const O7=[31,28,31,30,31,30,31,31,30,31,30,31],I7=[31,29,31,30,31,30,31,31,30,31,30,31];class j7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"d":return en(mn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return ln(r.length,t)}}validate(t,r){const a=t.getFullYear(),o=DR(a),l=t.getMonth();return o?r>=1&&r<=I7[l]:r>=1&&r<=O7[l]}set(t,r,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class V7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,a){switch(r){case"D":case"DD":return en(mn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return ln(r.length,t)}}validate(t,r){const a=t.getFullYear();return DR(a)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Xb(n,e,t){var v,x,w,T;const r=sl(),a=(t==null?void 0:t.weekStartsOn)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((T=(w=r.locale)==null?void 0:w.options)==null?void 0:T.weekStartsOn)??0,o=Le(n,t==null?void 0:t.in),l=o.getDay(),f=(e%7+7)%7,h=7-a,y=e<0||e>6?e-(l+h)%7:(f+h)%7-(l+h)%7;return Ca(o,y,t)}class L7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Xb(t,a,o),t.setHours(0,0,0,0),t}}class U7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,a,o){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"e":case"ee":return pn(ln(r.length,t),l);case"eo":return pn(a.ordinalNumber(t,{unit:"day"}),l);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Xb(t,a,o),t.setHours(0,0,0,0),t}}class B7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,a,o){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"c":case"cc":return pn(ln(r.length,t),l);case"co":return pn(a.ordinalNumber(t,{unit:"day"}),l);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Xb(t,a,o),t.setHours(0,0,0,0),t}}function F7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=m7(r,t),o=e-a;return Ca(r,o,t)}class z7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,a){const o=l=>l===0?7:l;switch(r){case"i":case"ii":return ln(r.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return pn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return pn(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return pn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return pn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,a){return t=F7(t,a),t.setHours(0,0,0,0),t}}class H7 extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(Wb(a),0,0,0),t}}class Y7 extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(Wb(a),0,0,0),t}}class q7 extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(Wb(a),0,0,0),t}}class $7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,a){switch(r){case"h":return en(mn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class G7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,a){switch(r){case"H":return en(mn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,a){return t.setHours(a,0,0,0),t}}class Q7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,a){switch(r){case"K":return en(mn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class K7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,a){switch(r){case"k":return en(mn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class W7 extends Rt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"m":return en(mn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setMinutes(a,0,0),t}}class X7 extends Rt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"s":return en(mn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setSeconds(a,0),t}}class Z7 extends Rt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(t,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return pn(ln(r.length,t),a)}set(t,r,a){return t.setMilliseconds(a),t}}class J7 extends Rt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Ja(Za.basicOptionalMinutes,t);case"XX":return Ja(Za.basic,t);case"XXXX":return Ja(Za.basicOptionalSeconds,t);case"XXXXX":return Ja(Za.extendedOptionalSeconds,t);case"XXX":default:return Ja(Za.extended,t)}}set(t,r,a){return r.timestampIsSet?t:It(t,t.getTime()-vm(t)-a)}}class eU extends Rt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Ja(Za.basicOptionalMinutes,t);case"xx":return Ja(Za.basic,t);case"xxxx":return Ja(Za.basicOptionalSeconds,t);case"xxxxx":return Ja(Za.extendedOptionalSeconds,t);case"xxx":default:return Ja(Za.extended,t)}}set(t,r,a){return r.timestampIsSet?t:It(t,t.getTime()-vm(t)-a)}}class tU extends Rt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(t){return TR(t)}set(t,r,a){return[It(t,a*1e3),{timestampIsSet:!0}]}}class nU extends Rt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(t){return TR(t)}set(t,r,a){return[It(t,a),{timestampIsSet:!0}]}}const rU={G:new _7,y:new w7,Y:new E7,R:new T7,u:new S7,Q:new D7,q:new A7,M:new C7,L:new R7,w:new M7,I:new P7,d:new j7,D:new V7,E:new L7,e:new U7,c:new B7,i:new z7,a:new H7,b:new Y7,B:new q7,h:new $7,H:new G7,K:new Q7,k:new K7,m:new W7,s:new X7,S:new Z7,X:new J7,x:new eU,t:new tU,T:new nU},aU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sU=/^'([^]*?)'?$/,oU=/''/g,lU=/\S/,cU=/[a-zA-Z]/;function uU(n,e,t,r){var D,O,U,F,Y,N,$,I;const a=()=>It((r==null?void 0:r.in)||t,NaN),o=h7(),l=(r==null?void 0:r.locale)??o.locale??xR,u=(r==null?void 0:r.firstWeekContainsDate)??((O=(D=r==null?void 0:r.locale)==null?void 0:D.options)==null?void 0:O.firstWeekContainsDate)??o.firstWeekContainsDate??((F=(U=o.locale)==null?void 0:U.options)==null?void 0:F.firstWeekContainsDate)??1,f=(r==null?void 0:r.weekStartsOn)??((N=(Y=r==null?void 0:r.locale)==null?void 0:Y.options)==null?void 0:N.weekStartsOn)??o.weekStartsOn??((I=($=o.locale)==null?void 0:$.options)==null?void 0:I.weekStartsOn)??0;if(!e)return n?a():Le(t,r==null?void 0:r.in);const h={firstWeekContainsDate:u,weekStartsOn:f,locale:l},y=[new x7(r==null?void 0:r.in,t)],v=e.match(iU).map(C=>{const R=C[0];if(R in J0){const M=J0[R];return M(C,l.formatLong)}return C}).join("").match(aU),x=[];for(let C of v){const R=C[0],M=rU[R];if(M){const{incompatibleTokens:L}=M;if(Array.isArray(L)){const B=x.find(Se=>L.includes(Se.token)||Se.token===R);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${C}\` at the same time`)}else if(M.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);x.push({token:R,fullToken:C});const H=M.run(n,C,l.match,h);if(!H)return a();y.push(H.setter),n=H.rest}else{if(R.match(cU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(C==="''"?C="'":R==="'"&&(C=dU(C)),n.indexOf(C)===0)n=n.slice(C.length);else return a()}}if(n.length>0&&lU.test(n))return a();const w=y.map(C=>C.priority).sort((C,R)=>R-C).filter((C,R,M)=>M.indexOf(C)===R).map(C=>y.filter(R=>R.priority===C).sort((R,M)=>M.subPriority-R.subPriority)).map(C=>C[0]);let T=Le(t,r==null?void 0:r.in);if(isNaN(+T))return a();const A={};for(const C of w){if(!C.validate(T,h))return a();const R=C.set(T,A,h);Array.isArray(R)?(T=R[0],Object.assign(A,R[1])):T=R}return T}function dU(n){return n.match(sU)[1].replace(oU,"'")}function fU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function hU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return+Z0(r)==+Z0(a)}function mU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()}function Cd(n,e,t){const r=+Le(n,t==null?void 0:t.in),[a,o]=[+Le(e.start,t==null?void 0:t.in),+Le(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return r>=a&&r<=o}function pU(n,e,t){return Ca(n,-1,t)}function gU(n,e){const t=()=>It(e==null?void 0:e.in,NaN),a=xU(n);let o;if(a.date){const h=_U(a.date,2);o=wU(h.restDateString,h.year)}if(!o||isNaN(+o))return t();const l=+o;let u=0,f;if(a.time&&(u=EU(a.time),isNaN(u)))return t();if(a.timezone){if(f=TU(a.timezone),isNaN(f))return t()}else{const h=new Date(l+u),y=Le(0,e==null?void 0:e.in);return y.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),y.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),y}return Le(l+u+f,e==null?void 0:e.in)}const bh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xU(n){const e={},t=n.split(bh.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],bh.timeZoneDelimiter.test(e.date)&&(e.date=n.split(bh.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=bh.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function _U(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function wU(n,e){if(e===null)return new Date(NaN);const t=n.match(yU);if(!t)return new Date(NaN);const r=!!t[4],a=zu(t[1]),o=zu(t[2])-1,l=zu(t[3]),u=zu(t[4]),f=zu(t[5])-1;if(r)return RU(e,u,f)?SU(e,u,f):new Date(NaN);{const h=new Date(0);return!AU(e,o,l)||!CU(e,a)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(a,l)),h)}}function zu(n){return n?parseInt(n):1}function EU(n){const e=n.match(vU);if(!e)return NaN;const t=Ky(e[1]),r=Ky(e[2]),a=Ky(e[3]);return NU(t,r,a)?t*fp+r*dp+a*1e3:NaN}function Ky(n){return n&&parseFloat(n.replace(",","."))||0}function TU(n){if(n==="Z")return 0;const e=n.match(bU);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return MU(r,a)?t*(r*fp+a*dp):NaN}function SU(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const DU=[31,null,31,30,31,30,31,31,30,31,30,31];function AR(n){return n%400===0||n%4===0&&n%100!==0}function AU(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(DU[e]||(AR(n)?29:28))}function CU(n,e){return e>=1&&e<=(AR(n)?366:365)}function RU(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function NU(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function MU(n,e){return e>=0&&e<=59}function ha(n,e,t){const r=Le(n,t==null?void 0:t.in),a=r.getFullYear(),o=r.getDate(),l=It(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=f7(l);return r.setMonth(e,Math.min(o,u)),r}function Lh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setHours(e),r}function Uh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Jl(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Math.trunc(r.getMonth()/3)+1,o=e-a;return ha(r,r.getMonth()+o*3)}function Bh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Wa(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(+r)?It(n,NaN):(r.setFullYear(e),r)}function $o(n,e,t){return Ma(n,-e,t)}function CR(n,e,t){return Gb(n,-1,t)}function O2(n,e,t){return bm(n,-1,t)}function Tc(n,e,t){return zi(n,-e,t)}function mp(){return typeof window<"u"}function Vc(n){return RR(n)?(n.nodeName||"").toLowerCase():"#document"}function Yr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hi(n){var e;return(e=(RR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function RR(n){return mp()?n instanceof Node||n instanceof Yr(n).Node:!1}function Er(n){return mp()?n instanceof Element||n instanceof Yr(n).Element:!1}function ci(n){return mp()?n instanceof HTMLElement||n instanceof Yr(n).HTMLElement:!1}function I2(n){return!mp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Yr(n).ShadowRoot}function Hd(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=ya(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function kU(n){return["table","td","th"].includes(Vc(n))}function pp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Zb(n){const e=Jb(),t=Er(n)?ya(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function PU(n){let e=Ws(n);for(;ci(e)&&!Sc(e);){if(Zb(e))return e;if(pp(e))return null;e=Ws(e)}return null}function Jb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sc(n){return["html","body","#document"].includes(Vc(n))}function ya(n){return Yr(n).getComputedStyle(n)}function gp(n){return Er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ws(n){if(Vc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||I2(n)&&n.host||hi(n);return I2(e)?e.host:e}function NR(n){const e=Ws(n);return Sc(e)?n.ownerDocument?n.ownerDocument.body:n.body:ci(e)&&Hd(e)?e:NR(e)}function Rd(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=NR(n),o=a===((r=n.ownerDocument)==null?void 0:r.body),l=Yr(a);if(o){const u=tv(l);return e.concat(l,l.visualViewport||[],Hd(a)?a:[],u&&t?Rd(u):[])}return e.concat(a,Rd(a,[],t))}function tv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Dc=Math.min,Go=Math.max,Sm=Math.round,xh=Math.floor,si=n=>({x:n,y:n}),OU={left:"right",right:"left",bottom:"top",top:"bottom"},IU={start:"end",end:"start"};function jU(n,e,t){return Go(n,Dc(e,t))}function yp(n,e){return typeof n=="function"?n(e):n}function Ac(n){return n.split("-")[0]}function Yd(n){return n.split("-")[1]}function VU(n){return n==="x"?"y":"x"}function ex(n){return n==="y"?"height":"width"}function Nd(n){return["top","bottom"].includes(Ac(n))?"y":"x"}function tx(n){return VU(Nd(n))}function LU(n,e,t){t===void 0&&(t=!1);const r=Yd(n),a=tx(n),o=ex(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Dm(l)),[l,Dm(l)]}function UU(n){const e=Dm(n);return[nv(n),e,nv(e)]}function nv(n){return n.replace(/start|end/g,e=>IU[e])}function BU(n,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:l;default:return[]}}function FU(n,e,t,r){const a=Yd(n);let o=BU(Ac(n),t==="start",r);return a&&(o=o.map(l=>l+"-"+a),e&&(o=o.concat(o.map(nv)))),o}function Dm(n){return n.replace(/left|right|bottom|top/g,e=>OU[e])}function zU(n){return{top:0,right:0,bottom:0,left:0,...n}}function MR(n){return typeof n!="number"?zU(n):{top:n,right:n,bottom:n,left:n}}function Am(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function j2(n,e,t){let{reference:r,floating:a}=n;const o=Nd(e),l=tx(e),u=ex(l),f=Ac(e),h=o==="y",y=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:y,y:r.y-a.height};break;case"bottom":w={x:y,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-a.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Yd(e)){case"start":w[l]-=x*(t&&h?-1:1);break;case"end":w[l]+=x*(t&&h?-1:1);break}return w}const HU=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:y,y:v}=j2(h,r,f),x=r,w={},T=0;for(let A=0;A<u.length;A++){const{name:D,fn:O}=u[A],{x:U,y:F,data:Y,reset:N}=await O({x:y,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:w,rects:h,platform:l,elements:{reference:n,floating:e}});y=U??y,v=F??v,w={...w,[D]:{...w[D],...Y}},N&&T<=50&&(T++,typeof N=="object"&&(N.placement&&(x=N.placement),N.rects&&(h=N.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):N.rects),{x:y,y:v}=j2(h,x,f)),A=-1)}return{x:y,y:v,placement:x,strategy:a,middlewareData:w}};async function YU(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:l,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:x=!1,padding:w=0}=yp(e,n),T=MR(w),D=u[x?v==="floating"?"reference":"floating":v],O=Am(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(D)))==null||t?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:y,strategy:f})),U=v==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),Y=await(o.isElement==null?void 0:o.isElement(F))?await(o.getScale==null?void 0:o.getScale(F))||{x:1,y:1}:{x:1,y:1},N=Am(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:F,strategy:f}):U);return{top:(O.top-N.top+T.top)/Y.y,bottom:(N.bottom-O.bottom+T.bottom)/Y.y,left:(O.left-N.left+T.left)/Y.x,right:(N.right-O.right+T.right)/Y.x}}const qU=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:o,platform:l,elements:u,middlewareData:f}=e,{element:h,padding:y=0}=yp(n,e)||{};if(h==null)return{};const v=MR(y),x={x:t,y:r},w=tx(a),T=ex(w),A=await l.getDimensions(h),D=w==="y",O=D?"top":"left",U=D?"bottom":"right",F=D?"clientHeight":"clientWidth",Y=o.reference[T]+o.reference[w]-x[w]-o.floating[T],N=x[w]-o.reference[w],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let I=$?$[F]:0;(!I||!await(l.isElement==null?void 0:l.isElement($)))&&(I=u.floating[F]||o.floating[T]);const C=Y/2-N/2,R=I/2-A[T]/2-1,M=Dc(v[O],R),L=Dc(v[U],R),H=M,B=I-A[T]-L,Se=I/2-A[T]/2+C,we=jU(H,Se,B),ae=!f.arrow&&Yd(a)!=null&&Se!==we&&o.reference[T]/2-(Se<H?M:L)-A[T]/2<0,J=ae?Se<H?Se-H:Se-B:0;return{[w]:x[w]+J,data:{[w]:we,centerOffset:Se-we-J,...ae&&{alignmentOffset:J}},reset:ae}}}),$U=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...D}=yp(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const O=Ac(a),U=Nd(u),F=Ac(u)===u,Y=await(f.isRTL==null?void 0:f.isRTL(h.floating)),N=x||(F||!A?[Dm(u)]:UU(u)),$=T!=="none";!x&&$&&N.push(...FU(u,A,T,Y));const I=[u,...N],C=await YU(e,D),R=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&R.push(C[O]),v){const Se=LU(a,l,Y);R.push(C[Se[0]],C[Se[1]])}if(M=[...M,{placement:a,overflows:R}],!R.every(Se=>Se<=0)){var L,H;const Se=(((L=o.flip)==null?void 0:L.index)||0)+1,we=I[Se];if(we)return{data:{index:Se,overflows:M},reset:{placement:we}};let ae=(H=M.filter(J=>J.overflows[0]<=0).sort((J,ne)=>J.overflows[1]-ne.overflows[1])[0])==null?void 0:H.placement;if(!ae)switch(w){case"bestFit":{var B;const J=(B=M.filter(ne=>{if($){const be=Nd(ne.placement);return be===U||be==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(be=>be>0).reduce((be,P)=>be+P,0)]).sort((ne,be)=>ne[1]-be[1])[0])==null?void 0:B[0];J&&(ae=J);break}case"initialPlacement":ae=u;break}if(a!==ae)return{reset:{placement:ae}}}return{}}}};async function GU(n,e){const{placement:t,platform:r,elements:a}=n,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Ac(t),u=Yd(t),f=Nd(t)==="y",h=["left","top"].includes(l)?-1:1,y=o&&f?-1:1,v=yp(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof T=="number"&&(w=u==="end"?T*-1:T),f?{x:w*y,y:x*h}:{x:x*h,y:w*y}}const QU=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:o,placement:l,middlewareData:u}=e,f=await GU(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:l}}}}};function kR(n){const e=ya(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ci(n),o=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=Sm(t)!==o||Sm(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function nx(n){return Er(n)?n:n.contextElement}function sc(n){const e=nx(n);if(!ci(e))return si(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=kR(e);let l=(o?Sm(t.width):t.width)/r,u=(o?Sm(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const KU=si(0);function PR(n){const e=Yr(n);return!Jb()||!e.visualViewport?KU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WU(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Yr(n)?!1:e}function el(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=nx(n);let l=si(1);e&&(r?Er(r)&&(l=sc(r)):l=sc(n));const u=WU(o,t,r)?PR(o):si(0);let f=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,y=a.width/l.x,v=a.height/l.y;if(o){const x=Yr(o),w=r&&Er(r)?Yr(r):r;let T=x,A=tv(T);for(;A&&r&&w!==T;){const D=sc(A),O=A.getBoundingClientRect(),U=ya(A),F=O.left+(A.clientLeft+parseFloat(U.paddingLeft))*D.x,Y=O.top+(A.clientTop+parseFloat(U.paddingTop))*D.y;f*=D.x,h*=D.y,y*=D.x,v*=D.y,f+=F,h+=Y,T=Yr(A),A=tv(T)}}return Am({width:y,height:v,x:f,y:h})}function rx(n,e){const t=gp(n).scrollLeft;return e?e.left+t:el(hi(n)).left+t}function OR(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),a=r.left+e.scrollLeft-(t?0:rx(n,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function XU(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const o=a==="fixed",l=hi(r),u=e?pp(e.floating):!1;if(r===l||u&&o)return t;let f={scrollLeft:0,scrollTop:0},h=si(1);const y=si(0),v=ci(r);if((v||!v&&!o)&&((Vc(r)!=="body"||Hd(l))&&(f=gp(r)),ci(r))){const w=el(r);h=sc(r),y.x=w.x+r.clientLeft,y.y=w.y+r.clientTop}const x=l&&!v&&!o?OR(l,f,!0):si(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+y.x+x.x,y:t.y*h.y-f.scrollTop*h.y+y.y+x.y}}function ZU(n){return Array.from(n.getClientRects())}function JU(n){const e=hi(n),t=gp(n),r=n.ownerDocument.body,a=Go(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Go(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+rx(n);const u=-t.scrollTop;return ya(r).direction==="rtl"&&(l+=Go(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:u}}function eB(n,e){const t=Yr(n),r=hi(n),a=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(a){o=a.width,l=a.height;const h=Jb();(!h||h&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:u,y:f}}function tB(n,e){const t=el(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,o=ci(n)?sc(n):si(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,f=a*o.x,h=r*o.y;return{width:l,height:u,x:f,y:h}}function V2(n,e,t){let r;if(e==="viewport")r=eB(n,t);else if(e==="document")r=JU(hi(n));else if(Er(e))r=tB(e,t);else{const a=PR(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Am(r)}function IR(n,e){const t=Ws(n);return t===e||!Er(t)||Sc(t)?!1:ya(t).position==="fixed"||IR(t,e)}function nB(n,e){const t=e.get(n);if(t)return t;let r=Rd(n,[],!1).filter(u=>Er(u)&&Vc(u)!=="body"),a=null;const o=ya(n).position==="fixed";let l=o?Ws(n):n;for(;Er(l)&&!Sc(l);){const u=ya(l),f=Zb(l);!f&&u.position==="fixed"&&(a=null),(o?!f&&!a:!f&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Hd(l)&&!f&&IR(n,l))?r=r.filter(y=>y!==l):a=u,l=Ws(l)}return e.set(n,r),r}function rB(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?pp(e)?[]:nB(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((h,y)=>{const v=V2(e,y,a);return h.top=Go(v.top,h.top),h.right=Dc(v.right,h.right),h.bottom=Dc(v.bottom,h.bottom),h.left=Go(v.left,h.left),h},V2(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function aB(n){const{width:e,height:t}=kR(n);return{width:e,height:t}}function iB(n,e,t){const r=ci(e),a=hi(e),o=t==="fixed",l=el(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=si(0);if(r||!r&&!o)if((Vc(e)!=="body"||Hd(a))&&(u=gp(e)),r){const x=el(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else a&&(f.x=rx(a));const h=a&&!r&&!o?OR(a,u):si(0),y=l.left+u.scrollLeft-f.x-h.x,v=l.top+u.scrollTop-f.y-h.y;return{x:y,y:v,width:l.width,height:l.height}}function Wy(n){return ya(n).position==="static"}function L2(n,e){if(!ci(n)||ya(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hi(n)===t&&(t=t.ownerDocument.body),t}function jR(n,e){const t=Yr(n);if(pp(n))return t;if(!ci(n)){let a=Ws(n);for(;a&&!Sc(a);){if(Er(a)&&!Wy(a))return a;a=Ws(a)}return t}let r=L2(n,e);for(;r&&kU(r)&&Wy(r);)r=L2(r,e);return r&&Sc(r)&&Wy(r)&&!Zb(r)?t:r||PU(n)||t}const sB=async function(n){const e=this.getOffsetParent||jR,t=this.getDimensions,r=await t(n.floating);return{reference:iB(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oB(n){return ya(n).direction==="rtl"}const lB={convertOffsetParentRelativeRectToViewportRelativeRect:XU,getDocumentElement:hi,getClippingRect:rB,getOffsetParent:jR,getElementRects:sB,getClientRects:ZU,getDimensions:aB,getScale:sc,isElement:Er,isRTL:oB};function VR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function cB(n,e){let t=null,r;const a=hi(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:y,top:v,width:x,height:w}=h;if(u||e(),!x||!w)return;const T=xh(v),A=xh(a.clientWidth-(y+x)),D=xh(a.clientHeight-(v+w)),O=xh(y),F={rootMargin:-T+"px "+-A+"px "+-D+"px "+-O+"px",threshold:Go(0,Dc(1,f))||1};let Y=!0;function N($){const I=$[0].intersectionRatio;if(I!==f){if(!Y)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!VR(h,n.getBoundingClientRect())&&l(),Y=!1}try{t=new IntersectionObserver(N,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(N,F)}t.observe(n)}return l(!0),o}function uB(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=nx(n),y=a||o?[...h?Rd(h):[],...Rd(e)]:[];y.forEach(O=>{a&&O.addEventListener("scroll",t,{passive:!0}),o&&O.addEventListener("resize",t)});const v=h&&u?cB(h,t):null;let x=-1,w=null;l&&(w=new ResizeObserver(O=>{let[U]=O;U&&U.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var F;(F=w)==null||F.observe(e)})),t()}),h&&!f&&w.observe(h),w.observe(e));let T,A=f?el(n):null;f&&D();function D(){const O=el(n);A&&!VR(A,O)&&t(),A=O,T=requestAnimationFrame(D)}return t(),()=>{var O;y.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),v==null||v(),(O=w)==null||O.disconnect(),w=null,f&&cancelAnimationFrame(T)}}const dB=QU,fB=$U,U2=qU,hB=(n,e,t)=>{const r=new Map,a={platform:lB,...t},o={...a.platform,_c:r};return HU(n,e,{...a,platform:o})};var Fh=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Cm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Cm(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&n.$$typeof)&&!Cm(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function LR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function B2(n,e){const t=LR(n);return Math.round(e*t)/t}function Xy(n){const e=k.useRef(n);return Fh(()=>{e.current=n}),e}function mB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[y,v]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=k.useState(r);Cm(x,r)||w(r);const[T,A]=k.useState(null),[D,O]=k.useState(null),U=k.useCallback(ne=>{ne!==$.current&&($.current=ne,A(ne))},[]),F=k.useCallback(ne=>{ne!==I.current&&(I.current=ne,O(ne))},[]),Y=o||T,N=l||D,$=k.useRef(null),I=k.useRef(null),C=k.useRef(y),R=f!=null,M=Xy(f),L=Xy(a),H=Xy(h),B=k.useCallback(()=>{if(!$.current||!I.current)return;const ne={placement:e,strategy:t,middleware:x};L.current&&(ne.platform=L.current),hB($.current,I.current,ne).then(be=>{const P={...be,isPositioned:H.current!==!1};Se.current&&!Cm(C.current,P)&&(C.current=P,Tv.flushSync(()=>{v(P)}))})},[x,e,t,L,H]);Fh(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[h]);const Se=k.useRef(!1);Fh(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Fh(()=>{if(Y&&($.current=Y),N&&(I.current=N),Y&&N){if(M.current)return M.current(Y,N,B);B()}},[Y,N,B,M,R]);const we=k.useMemo(()=>({reference:$,floating:I,setReference:U,setFloating:F}),[U,F]),ae=k.useMemo(()=>({reference:Y,floating:N}),[Y,N]),J=k.useMemo(()=>{const ne={position:t,left:0,top:0};if(!ae.floating)return ne;const be=B2(ae.floating,y.x),P=B2(ae.floating,y.y);return u?{...ne,transform:"translate("+be+"px, "+P+"px)",...LR(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:P}},[t,u,ae.floating,y.x,y.y]);return k.useMemo(()=>({...y,update:B,refs:we,elements:ae,floatingStyles:J}),[y,B,we,ae,J])}const pB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?U2({element:r.current,padding:a}).fn(t):{}:r?U2({element:r,padding:a}).fn(t):{}}}},gB=(n,e)=>({...dB(n),options:[n,e]}),yB=(n,e)=>({...fB(n),options:[n,e]}),vB=(n,e)=>({...pB(n),options:[n,e]}),UR={...SM},bB=UR.useInsertionEffect,xB=bB||(n=>n());function _B(n){const e=k.useRef(()=>{});return xB(()=>{e.current=n}),k.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var Rm=typeof document<"u"?k.useLayoutEffect:k.useEffect;let F2=!1,wB=0;const z2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+wB++;function EB(){const[n,e]=k.useState(()=>F2?z2():void 0);return Rm(()=>{n==null&&e(z2())},[]),k.useEffect(()=>{F2=!0},[]),n}const TB=UR.useId,BR=TB||EB,SB=k.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:o,shift:l}},width:u=14,height:f=7,tipRadius:h=0,strokeWidth:y=0,staticOffset:v,stroke:x,d:w,style:{transform:T,...A}={},...D}=e,O=BR(),[U,F]=k.useState(!1);if(Rm(()=>{if(!a)return;ya(a).direction==="rtl"&&F(!0)},[a]),!a)return null;const[Y,N]=r.split("-"),$=Y==="top"||Y==="bottom";let I=v;($&&l!=null&&l.x||!$&&l!=null&&l.y)&&(I=null);const C=y*2,R=C/2,M=u/2*(h/-8+1),L=f/2*h/4,H=!!w,B=I&&N==="end"?"bottom":"top";let Se=I&&N==="end"?"right":"left";I&&U&&(Se=N==="end"?"left":"right");const we=(o==null?void 0:o.x)!=null?I||o.x:"",ae=(o==null?void 0:o.y)!=null?I||o.y:"",J=w||"M0,0"+(" H"+u)+(" L"+(u-M)+","+(f-L))+(" Q"+u/2+","+f+" "+M+","+(f-L))+" Z",ne={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[Y];return g.jsxs("svg",{...D,"aria-hidden":!0,ref:t,width:H?u:u+C,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Se]:we,[B]:ae,[Y]:$||H?"100%":"calc(100% - "+C/2+"px)",transform:[ne,T].filter(be=>!!be).join(" "),...A},children:[C>0&&g.jsx("path",{clipPath:"url(#"+O+")",fill:"none",stroke:x,strokeWidth:C+(w?0:1),d:J}),g.jsx("path",{stroke:C&&!w?D.fill:"none",d:J}),g.jsx("clipPath",{id:O,children:g.jsx("rect",{x:-R,y:R*(H?-1:1),width:u+C,height:u})})]})});function DB(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(a=>a!==t))||[])}}}const AB=k.createContext(null),CB=k.createContext(null),RB=()=>{var n;return((n=k.useContext(AB))==null?void 0:n.id)||null},NB=()=>k.useContext(CB);function MB(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=BR(),o=k.useRef({}),[l]=k.useState(()=>DB()),u=RB()!=null,[f,h]=k.useState(r.reference),y=_B((w,T,A)=>{o.current.openEvent=w?T:void 0,l.emit("openchange",{open:w,event:T,reason:A,nested:u}),t==null||t(w,T,A)}),v=k.useMemo(()=>({setPositionReference:h}),[]),x=k.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:x,events:l,floatingId:a,refs:v}),[e,y,x,l,a,v])}function kB(n){n===void 0&&(n={});const{nodeId:e}=n,t=MB({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[o,l]=k.useState(null),[u,f]=k.useState(null),y=(a==null?void 0:a.domReference)||o,v=k.useRef(null),x=NB();Rm(()=>{y&&(v.current=y)},[y]);const w=mB({...n,elements:{...a,...u&&{reference:u}}}),T=k.useCallback(F=>{const Y=Er(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),contextElement:F}:F;f(Y),w.refs.setReference(Y)},[w.refs]),A=k.useCallback(F=>{(Er(F)||F===null)&&(v.current=F,l(F)),(Er(w.refs.reference.current)||w.refs.reference.current===null||F!==null&&!Er(F))&&w.refs.setReference(F)},[w.refs]),D=k.useMemo(()=>({...w.refs,setReference:A,setPositionReference:T,domReference:v}),[w.refs,A,T]),O=k.useMemo(()=>({...w.elements,domReference:y}),[w.elements,y]),U=k.useMemo(()=>({...w,...r,refs:D,elements:O,nodeId:e}),[w,D,O,e,r]);return Rm(()=>{r.dataRef.current.floatingContext=U;const F=x==null?void 0:x.nodesRef.current.find(Y=>Y.id===e);F&&(F.context=U)}),k.useMemo(()=>({...w,context:U,refs:D,elements:O}),[w,D,O,U])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},rv(e,t)};function zn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wt=function(){return wt=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},wt.apply(this,arguments)};function ei(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var PB=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,o=n.className,l=n.children,u=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return W.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},OB=function(n,e){var t=k.useRef(null),r=k.useRef(n);r.current=n;var a=k.useCallback(function(o){var l,u=o.composed&&o.composedPath&&o.composedPath().find(function(f){return f instanceof Node})||o.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,o))},[e]);return k.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},vp=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,o=n.style,l=n.ignoreClass,u=OB(t,l);return W.createElement("div",{className:r,style:o,ref:function(f){u.current=f,a&&(a.current=f)}},e)},Re;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Re||(Re={}));function FR(){var n=typeof window<"u"?window:globalThis;return n}var qd=12;function Mt(n){if(n==null)return new Date;var e=typeof n=="string"?gU(n):Le(n);return bp(e)?e:new Date}function Zy(n,e,t,r,a){a===void 0&&(a=Mt());for(var o=Cc(t)||Cc(ax()),l=Array.isArray(e)?e:[e],u=0,f=l;u<f.length;u++){var h=f[u],y=uU(n,h,a,{locale:o});if(bp(y)&&(!r||n===Wt(y,h,t)))return y}return null}function bp(n,e){return xm(n)&&!Jo(n,new Date("1/1/1800"))}function Wt(n,e,t){if(t==="en")return k2(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Cc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Cc(ax()),k2(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function fa(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Wt(n,a,r)||""}function IB(n,e,t){if(!n)return"";var r=fa(n,t),a=e?fa(e,t):"";return"".concat(r," - ").concat(a)}function jB(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?fa(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=fa(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function Jy(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return Lh(Uh(Bh(n,u),o),r)}function VB(n){return Qb(n)}function LB(n,e){return Wt(n,"ddd",e)}function zh(n){return Zo(n)}function Us(n,e,t){var r=Cc(e||ax());return Zi(n,{locale:r,weekStartsOn:t})}function $i(n){return vR(n)}function Zu(n){return hp(n)}function H2(n){return Z0(n)}function Y2(){return Zo(Mt())}function q2(n){return gR(n)}function UB(n){return g8(n)}function BB(n){return yR(n)}function Xa(n,e){return n&&e?mU(n,e):!n&&!e}function xr(n,e){return n&&e?fU(n,e):!n&&!e}function Nm(n,e){return n&&e?hU(n,e):!n&&!e}function _t(n,e){return n&&e?m8(n,e):!n&&!e}function zo(n,e){return n&&e?p7(n,e):!n&&!e}function Ju(n,e,t){var r,a=Zo(e),o=gR(t);try{r=Cd(n,{start:a,end:o})}catch{r=!1}return r}function ax(){var n=FR();return n.__localeId__}function Cc(n){if(typeof n=="string"){var e=FR();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function FB(n,e,t){return e(Wt(n,"EEEE",t))}function zB(n,e){return Wt(n,"EEEEEE",e)}function HB(n,e){return Wt(n,"EEE",e)}function ix(n,e){return Wt(ha(Mt(),n),"LLLL",e)}function zR(n,e){return Wt(ha(Mt(),n),"LLL",e)}function YB(n,e){return Wt(Jl(Mt(),n),"QQQ",e)}function ma(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,f=t.includeDateIntervals,h=t.filterDate;return $d(n,{minDate:r,maxDate:a})||o&&o.some(function(y){return y instanceof Date?_t(n,y):_t(n,y.date)})||l&&l.some(function(y){var v=y.start,x=y.end;return Cd(n,{start:v,end:x})})||u&&!u.some(function(y){return _t(n,y)})||f&&!f.some(function(y){var v=y.start,x=y.end;return Cd(n,{start:v,end:x})})||h&&!h(Mt(n))||!1}function sx(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var l=o.start,u=o.end;return Cd(n,{start:l,end:u})}):r&&r.some(function(o){var l;return o instanceof Date?_t(n,o):_t(n,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function HR(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return $d(n,{minDate:r?vR(r):void 0,maxDate:a?yR(a):void 0})||(o==null?void 0:o.some(function(f){return xr(n,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return xr(n,f)})||u&&!u(Mt(n))||!1}function _h(n,e,t,r){var a=ct(n),o=wr(n),l=ct(e),u=wr(e),f=ct(r);return a===l&&a===f?o<=t&&t<=u:a<l?f===a&&o<=t||f===l&&u>=t||f<l&&f>a:!1}function qB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates;return $d(n,{minDate:r,maxDate:a})||o&&o.some(function(u){return xr(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return xr(u,n)})||!1}function wh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return $d(n,{minDate:r,maxDate:a})||(o==null?void 0:o.some(function(f){return Nm(n,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Nm(n,f)})||u&&!u(Mt(n))||!1}function Eh(n,e,t){if(!e||!t||!xm(e)||!xm(t))return!1;var r=ct(e),a=ct(t);return r<=n&&a>=n}function Hh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,f=new Date(n,0,1);return $d(f,{minDate:r?hp(r):void 0,maxDate:a?bR(a):void 0})||(o==null?void 0:o.some(function(h){return Xa(f,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return Xa(f,h)})||u&&!u(Mt(f))||!1}function Th(n,e,t,r){var a=ct(n),o=qo(n),l=ct(e),u=qo(e),f=ct(r);return a===l&&a===f?o<=t&&t<=u:a<l?f===a&&o<=t||f===l&&u>=t||f<l&&f>a:!1}function $d(n,e){var t,r=e===void 0?{}:e,a=r.minDate,o=r.maxDate;return(t=a&&Ec(n,a)<0||o&&Ec(n,o)>0)!==null&&t!==void 0?t:!1}function $2(n,e){return e.some(function(t){return Yi(t)===Yi(n)&&qi(t)===qi(n)&&Ls(t)===Ls(n)})}function G2(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return r&&$2(n,r)||a&&!$2(n,a)||o&&!o(n)||!1}function Q2(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=Mt();a=Lh(a,Yi(n)),a=Uh(a,qi(n)),a=Bh(a,Ls(n));var o=Mt();o=Lh(o,Yi(t)),o=Uh(o,qi(t)),o=Bh(o,Ls(t));var l=Mt();l=Lh(l,Yi(r)),l=Uh(l,qi(r)),l=Bh(l,Ls(r));var u;try{u=!Cd(a,{start:o,end:l})}catch{u=!1}return u}function K2(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=$o(n,1);return r&&_m(r,o)>0||a&&a.every(function(l){return _m(l,o)>0})||!1}function W2(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=Ma(n,1);return r&&_m(o,r)>0||a&&a.every(function(l){return _m(o,l)>0})||!1}function $B(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=hp(n),l=CR(o);return r&&wm(r,l)>0||a&&a.every(function(u){return wm(u,l)>0})||!1}function GB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=bR(n),l=Gb(o,1);return r&&wm(l,r)>0||a&&a.every(function(u){return wm(l,u)>0})||!1}function X2(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Tc(n,1);return r&&Em(r,o)>0||a&&a.every(function(l){return Em(l,o)>0})||!1}function QB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,o=a===void 0?qd:a,l=Zu(Tc(n,o)),u=ks(l,o).endPeriod,f=r&&ct(r);return f&&f>u||!1}function Z2(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=zi(n,1);return r&&Em(o,r)>0||a&&a.every(function(l){return Em(o,l)>0})||!1}function KB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,o=a===void 0?qd:a,l=zi(n,o),u=ks(l,o).startPeriod,f=r&&ct(r);return f&&f<u||!1}function YR(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Ec(a,e)>=0});return D2(r)}else return t?D2(t):e}function qR(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Ec(a,e)<=0});return S2(r)}else return t?S2(t):e}function J2(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,o=n.length;a<o;a++){var l=n[a];if(Hi(l)){var u=Wt(l,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof l=="object"){var h=Object.keys(l),y=(t=h[0])!==null&&t!==void 0?t:"",v=l[y];if(typeof y=="string"&&Array.isArray(v))for(var x=0,w=v.length;x<w;x++){var T=v[x];if(T){var u=Wt(T,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(y)||(f.push(y),r.set(u,f))}}}}return r}function WB(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function XB(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,o=r.holidayName;if(Hi(a)){var l=Wt(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&WB(u.holidayNames,[o]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?ei(ei([],f,!0),[o],!1):[o],t.set(l,u)}}}),t}function ZB(n,e,t,r,a){for(var o=a.length,l=[],u=0;u<o;u++){var f=n,h=a[u];h&&(f=u8(f,Yi(h)),f=X0(f,qi(h)),f=h8(f,Ls(h)));var y=X0(n,(t+1)*r);Ks(f,e)&&Jo(f,y)&&h!=null&&l.push(h)}return l}function eS(n){return n<10?"0".concat(n):"".concat(n)}function ks(n,e){e===void 0&&(e=qd);var t=Math.ceil(ct(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function JB(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function tS(n){var e=n.getSeconds(),t=n.getMilliseconds();return Le(n.getTime()-e*1e3-t)}function eF(n,e){return tS(n).getTime()===tS(e).getTime()}function nS(n){if(!Hi(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function rS(n,e){if(!Hi(n)||!Hi(e))throw new Error("Invalid date received");var t=nS(n),r=nS(e);return Jo(t,r)}function $R(n){return n.key===Re.Space}var tF=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=W.createRef(),r.onTimeChange=function(a){var o,l;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),h=f?u:new Date;if(a!=null&&a.includes(":")){var y=a.split(":"),v=y[0],x=y[1];h.setHours(Number(v)),h.setMinutes(Number(x))}(l=(o=r.props).onChange)===null||l===void 0||l.call(o,h)},r.renderTimeInput=function(){var a=r.state.time,o=r.props,l=o.date,u=o.timeString,f=o.customTimeInput;return f?k.cloneElement(f,{date:l,value:a,onChange:r.onTimeChange}):W.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:a,onChange:function(h){r.onTimeChange(h.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return W.createElement("div",{className:"react-datepicker__input-time-container"},W.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),W.createElement("div",{className:"react-datepicker-time__input-container"},W.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(k.Component),nF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=k.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isSameDay=function(r){return _t(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return sx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return _t(t.props.day,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&_t(r,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,o=r.highlightDates;if(!o)return!1;var l=Wt(a,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var r,a=t.props,o=a.day,l=a.holidays;if(!l)return[void 0];var u=Wt(o,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:Ju(a,o,l)},t.isInSelectingRange=function(){var r,a=t.props,o=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,h=a.selectsDisabledDaysInRange,y=a.startDate,v=a.endDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||u||f)||!x||!h&&t.isDisabled()?!1:l&&v&&(Jo(x,v)||zo(x,v))?Ju(o,x,v):u&&y&&(Ks(x,y)||zo(x,y))||f&&y&&!v&&(Ks(x,y)||zo(x,y))?Ju(o,y,x):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.startDate,u=a.selectsStart,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?_t(o,f):_t(o,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.endDate,u=a.selectsEnd,f=a.selectsRange,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||f?_t(o,h):_t(o,l)},t.isRangeStart=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:_t(o,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:_t(l,a)},t.isWeekend=function(){var r=d7(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===wr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(wr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Mt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return er("react-datepicker__day",a,"react-datepicker__day--"+LB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,o=r.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,h=t.isDisabled()||t.isExcluded()?f:l;return"".concat(h," ").concat(Wt(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,o=r.holidays,l=o===void 0?new Map:o,u=r.excludeDates,f=Wt(a,"MM.dd.yyyy"),h=[];return l.has(f)&&h.push.apply(h,l.get(f).holidayNames),t.isExcluded()&&h.push(u==null?void 0:u.filter(function(y){return y instanceof Date?_t(y,a):_t(y==null?void 0:y.date,a)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),h.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&_t(a,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(P2(t.props.day),t.props.day):P2(t.props.day)},t.render=function(){return W.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&W.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(k.Component),rF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=k.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.props.date,t.props.selected)&&_t(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||_t(t.props.date,t.props.selected)&&_t(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&_t(this.props.date,this.props.selected)};return W.createElement("div",{ref:this.weekNumberEl,className:er(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(k.Component),aF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,o){for(var l,u,f,h=new Date(r),y=0;y<7;y++){var v=new Date(r);v.setDate(v.getDate()+y);var x=!t.isDisabled(v);if(x){h=v;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,a,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((f=(u=t.props).setOpen)===null||f===void 0||f.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):VB(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=Ca(r,6),o=new Date(r);o<=a;){if(!t.isDisabled(o))return!1;o=Ca(o,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;a.push(W.createElement(rF,wt({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=Ca(r,u);return W.createElement(nF,wt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return Us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.startOfWeek(),t.props.selected)&&_t(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{className:er(t)},this.renderDays())},e}(k.Component),Hu,iF=6,oc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},e0=(Hu={},Hu[oc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Hu[oc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Hu[oc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Hu),Sh=1;function aS(n,e){return n?oc.FOUR_COLUMNS:e?oc.TWO_COLUMNS:oc.THREE_COLUMNS}var sF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ei([],Array(12),!0).map(function(){return k.createRef()}),t.QUARTER_REFS=ei([],Array(4),!0).map(function(){return k.createRef()}),t.isDisabled=function(r){return ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return sx(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:xr(ha(o,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Nm(Jl(o,r),l)},t.isRangeEndMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:xr(ha(o,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Nm(Jl(o,r),u)},t.isInSelectingRangeMonth=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,y=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?_h(x,v,r,l):f&&y||h&&y&&!v?_h(y,x,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.startDate,f=o.selectsStart,h=ha(l,r),y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f?xr(h,y):xr(h,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.endDate,f=o.selectsEnd,h=o.selectsRange,y=ha(l,r),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f||h?xr(y,v):xr(y,u)},t.isInSelectingRangeQuarter=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,y=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?Th(x,v,r,l):f&&y||h&&y&&!v?Th(y,x,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,o=Ca(r,6);return xr(r,a)||xr(o,a)},t.isCurrentMonth=function(r,a){return ct(r)===ct(Mt())&&a===wr(Mt())},t.isCurrentQuarter=function(r,a){return ct(r)===ct(Mt())&&a===qo(Mt())},t.isSelectedMonth=function(r,a,o){return wr(o)===a&&ct(r)===ct(o)},t.isSelectMonthInList=function(r,a,o){return o.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,o){return qo(r)===a&&ct(r)===ct(o)},t.renderWeeks=function(){for(var r=[],a=t.props.fixedHeight,o=0,l=!1,u=Us($i(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(T){return t.props.showWeekPicker?Us(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(T){return t.props.showWeekPicker?Us(T,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?h(t.props.selected):void 0,v=t.props.preSelection?f(t.props.preSelection):void 0;r.push(W.createElement(aF,wt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:wr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:v,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=bm(u,1);var x=a&&o>=iF,w=!a&&!t.isWeekInMonth(u);if(x||w)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var o=t.isMonthDisabledForLabelDate(a),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick($i(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),o=a.isDisabled,l=a.labelDate;o||t.handleDayMouseEnter($i(l))},t.handleMonthNavigation=function(r,a){var o,l,u,f;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(f=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(r,a,o){var l,u=t.props,f=u.selected,h=u.preSelection,y=u.setPreSelection,v=u.minDate,x=u.maxDate,w=u.showFourColumnMonthYearPicker,T=u.showTwoColumnMonthYearPicker;if(h){var A=aS(w,T),D=t.getVerticalOffset(A),O=(l=e0[A])===null||l===void 0?void 0:l.grid,U=function(I,C,R){var M,L,H=C,B=R;switch(I){case Re.ArrowRight:H=Ma(C,Sh),B=R===11?0:R+Sh;break;case Re.ArrowLeft:H=$o(C,Sh),B=R===0?11:R-Sh;break;case Re.ArrowUp:H=$o(C,D),B=!((M=O==null?void 0:O[0])===null||M===void 0)&&M.includes(R)?R+12-D:R-D;break;case Re.ArrowDown:H=Ma(C,D),B=!((L=O==null?void 0:O[O.length-1])===null||L===void 0)&&L.includes(R)?R-12+D:R+D;break}return{newCalculatedDate:H,newCalculatedMonth:B}},F=function(I,C,R){for(var M=40,L=I,H=!1,B=0,Se=U(L,C,R),we=Se.newCalculatedDate,ae=Se.newCalculatedMonth;!H;){if(B>=M){we=C,ae=R;break}if(v&&we<v){L=Re.ArrowRight;var J=U(L,we,ae);we=J.newCalculatedDate,ae=J.newCalculatedMonth}if(x&&we>x){L=Re.ArrowLeft;var J=U(L,we,ae);we=J.newCalculatedDate,ae=J.newCalculatedMonth}if(qB(we,t.props)){var J=U(L,we,ae);we=J.newCalculatedDate,ae=J.newCalculatedMonth}else H=!0;B++}return{newCalculatedDate:we,newCalculatedMonth:ae}};if(a===Re.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),y==null||y(f));return}var Y=F(a,h,o),N=Y.newCalculatedDate,$=Y.newCalculatedMonth;switch(a){case Re.ArrowRight:case Re.ArrowLeft:case Re.ArrowUp:case Re.ArrowDown:t.handleMonthNavigation($,N);break}}},t.getVerticalOffset=function(r){var a,o;return(o=(a=e0[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,a){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,f=r.key;f!==Re.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,f,a),u&&u(r)},t.onQuarterClick=function(r,a){var o=Jl(t.props.day,a);wh(o,t.props)||t.handleDayClick(H2(o),r)},t.onQuarterMouseEnter=function(r){var a=Jl(t.props.day,r);wh(a,t.props)||t.handleDayMouseEnter(H2(a))},t.handleQuarterNavigation=function(r,a){var o,l,u,f;t.isDisabled(a)||t.isExcluded(a)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(f=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(r,a){var o,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Re.Enter:t.onQuarterClick(r,a),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case Re.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Gb(t.props.preSelection,1));break;case Re.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,CR(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,o=t.props,l=o.day,u=o.minDate,f=o.maxDate,h=o.excludeDates,y=o.includeDates,v=ha(l,r);return{isDisabled:(a=(u||f||h||y)&&HR(v,t.props))!==null&&a!==void 0?a:!1,labelDate:v}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,f=a.preSelection,h=a.monthClassName,y=h?h(ha(o,r)):void 0,v=t.getSelection();return er("react-datepicker__month-text","react-datepicker__month-".concat(r),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":v?t.isSelectMonthInList(o,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(o,r,f)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?_h(l,u,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=wr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=qo(t.props.preSelection),o=wh(t.props.day,t.props),l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,o=a.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,h=a.day,y=a.locale,v=ha(h,r),x=t.isDisabled(v)||t.isExcluded(v)?f:l;return"".concat(x," ").concat(Wt(v,"MMMM yyyy",y))},t.getQuarterClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,f=a.selected,h=a.minDate,y=a.maxDate,v=a.excludeDates,x=a.includeDates,w=a.filterDate,T=a.preSelection,A=a.disabledKeyboardNavigation,D=(h||y||v||x||w)&&wh(Jl(o,r),t.props);return er("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":f?t.isSelectedQuarter(o,r,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&T&&t.isSelectedQuarter(o,r,T)&&!D,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?Th(l,u,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,r)})},t.getMonthContent=function(r){var a=t.props,o=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,f=a.day,h=zR(r,u),y=ix(r,u);return l?l(r,h,y,f):o?y:h},t.getQuarterContent=function(r){var a,o=t.props,l=o.renderQuarterContent,u=o.locale,f=YB(r,u);return(a=l==null?void 0:l(r,f))!==null&&a!==void 0?a:f},t.renderMonths=function(){var r,a=t.props,o=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,h=(r=e0[aS(l,o)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(y,v){return W.createElement("div",{className:"react-datepicker__month-wrapper",key:v},y.map(function(x,w){return W.createElement("div",{ref:t.MONTH_REFS[x],key:w,onClick:function(T){t.onMonthClick(T,x)},onKeyDown:function(T){$R(T)&&(T.preventDefault(),T.key=Re.Enter),t.onMonthKeyDown(T,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?t.isSelectedMonth(u,x,f):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,o=r.selected,l=[1,2,3,4];return W.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,f){return W.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(h){t.onQuarterClick(h,u)},onKeyDown:function(h){t.onQuarterKeyDown(h,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(a,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,o=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,h=r.showWeekPicker;return er("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,f=u?u.trim()+" ":"";return W.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(Wt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(k.Component),oF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,a){return W.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?W.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return W.createElement(vp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),lF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,o){return W.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(r){return W.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return W.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return W.createElement(oF,wt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,r)];return a&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return zR(o,t.props.locale)}:function(o){return ix(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return W.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(k.Component);function cF(n,e){for(var t=[],r=$i(n),a=$i(e);!Ks(r,a);)t.push(Mt(r)),r=Ma(r,1);return t}var uF=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var o=ev(a),l=Xa(r.props.date,a)&&xr(r.props.date,a);return W.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":l?"true":void 0},l?W.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Wt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:cF(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=er({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return W.createElement(vp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),dF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=$i(t.props.minDate),a=$i(t.props.maxDate),o=[];!Ks(r,a);){var l=ev(r);o.push(W.createElement("option",{key:l,value:l},Wt(r,t.props.dateFormat,t.props.locale))),r=Ma(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return W.createElement("select",{value:ev($i(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=Wt(t.props.date,t.props.dateFormat,t.props.locale);return W.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return W.createElement(uF,wt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=Mt(r);Xa(t.props.date,a)&&xr(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(k.Component),fF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var a,o;(t.props.minTime||t.props.maxTime)&&Q2(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&G2(r,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&eF(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&Q2(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&G2(r,t.props)},t.liClasses=function(r){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Yi(r)*3600+qi(r)*60+Ls(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,a){var o,l;r.key===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(r.key===Re.ArrowUp||r.key===Re.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Re.ArrowDown||r.key===Re.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Re.Enter&&t.handleClick(a),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,r)},t.renderTimes=function(){for(var r,a=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Mt(),f=zh(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(D,O){return D.getTime()-O.getTime()}),y=60*JB(u),v=y/l,x=0;x<v;x++){var w=X0(f,x*l);if(a.push(w),h){var T=ZB(f,w,x,l,h);a=a.concat(T)}}var A=a.reduce(function(D,O){return O.getTime()<=u.getTime()?O:D},a[0]);return a.map(function(D){return W.createElement("li",{key:D.valueOf(),onClick:t.handleClick.bind(t,D),className:t.liClasses(D),ref:function(O){D===A&&(t.centerLi=O)},onKeyDown:function(O){t.handleOnKeyDown(O,D)},tabIndex:D===A?0:-1,role:"option","aria-selected":t.isSelectedTime(D)?"true":void 0,"aria-disabled":t.isDisabledTime(D)?"true":void 0},Wt(D,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?W.createElement(W.Fragment,null):W.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},W.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return W.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),W.createElement("div",{className:"react-datepicker__time"},W.createElement("div",{className:"react-datepicker__time-box"},W.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(k.Component),iS=3,hF=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ei([],Array(r.props.yearItemNumber),!0).map(function(){return k.createRef()}),r.isDisabled=function(a){return ma(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return sx(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var o=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleYearNavigation=function(a,o){var l,u,f,h,y=r.props,v=y.date,x=y.yearItemNumber;if(!(v===void 0||x===void 0)){var w=ks(v,x).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,o),a-w<0?r.updateFocusOnPaginate(x-(w-a)):a-w>=x?r.updateFocusOnPaginate(Math.abs(x-(a-w))):(h=(f=r.YEAR_REFS[a-w])===null||f===void 0?void 0:f.current)===null||h===void 0||h.focus())}},r.isSameDay=function(a,o){return _t(a,o)},r.isCurrentYear=function(a){return a===ct(Mt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Xa(Wa(Mt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Xa(Wa(Mt(),a),r.props.endDate)},r.isInRange=function(a){return Eh(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var o=r.props,l=o.selectsStart,u=o.selectsEnd,f=o.selectsRange,h=o.startDate,y=o.endDate;return!(l||u||f)||!r.selectingDate()?!1:l&&y?Eh(a,r.selectingDate(),y):u&&h||f&&h&&!y?Eh(a,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,f=l.selectsStart,h=Wa(Mt(),a);return f?Xa(h,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xa(h,u??null)},r.isSelectingRangeEnd=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,f=l.selectsEnd,h=l.selectsRange,y=Wa(Mt(),a);return f||h?Xa(y,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xa(y,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,l=o.minDate,u=o.maxDate,f=o.excludeDates,h=o.includeDates,y=o.filterDate,v=Zu(Wa(r.props.date,a)),x=(l||u||f||h||y)&&Hh(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!_t(v,Zu(r.props.selected))&&_t(v,Zu(r.props.preSelection))&&!x}},r.onYearClick=function(a,o){var l=r.props.date;l!==void 0&&r.handleYearClick(Zu(Wa(l,o)),a)},r.onYearKeyDown=function(a,o){var l,u,f=a.key,h=r.props,y=h.date,v=h.yearItemNumber,x=h.handleOnKeyDown;if(f!==Re.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Re.Enter:if(r.props.selected==null)break;r.onYearClick(a,o),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case Re.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,zi(r.props.preSelection,1));break;case Re.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Tc(r.props.preSelection,1));break;case Re.ArrowUp:{if(y===void 0||v===void 0||r.props.preSelection==null)break;var w=ks(y,v).startPeriod,T=iS,A=o-T;if(A<w){var D=v%T;o>=w&&o<w+D?T=D:T+=D,A=o-T}r.handleYearNavigation(A,Tc(r.props.preSelection,T));break}case Re.ArrowDown:{if(y===void 0||v===void 0||r.props.preSelection==null)break;var O=ks(y,v).endPeriod,T=iS,A=o+T;if(A>O){var D=v%T;o<=O&&o>O-D?T=D:T+=D,A=o+T}r.handleYearNavigation(A,zi(r.props.preSelection,T));break}}x&&x(a)},r.getYearClassNames=function(a){var o=r.props,l=o.date,u=o.minDate,f=o.maxDate,h=o.selected,y=o.excludeDates,v=o.includeDates,x=o.filterDate,w=o.yearClassName;return er("react-datepicker__year-text","react-datepicker__year-".concat(a),l?w==null?void 0:w(Wa(l,a)):void 0,{"react-datepicker__year-text--selected":h?a===ct(h):void 0,"react-datepicker__year-text--disabled":(u||f||y||v||x)&&Hh(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=ct(r.props.preSelection),l=Hh(a,r.props);return a===o&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,o=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(o===void 0)return null;for(var h=ks(o,l),y=h.startPeriod,v=h.endPeriod,x=function(A){r.push(W.createElement("div",{ref:w.YEAR_REFS[A-y],onClick:function(D){t.onYearClick(D,A)},onKeyDown:function(D){$R(D)&&(D.preventDefault(),D.key=Re.Enter),t.onYearKeyDown(D,A)},tabIndex:Number(w.getYearTabIndex(A)),className:w.getYearClassNames(A),onMouseEnter:w.props.usePointerEvent?void 0:function(D){return u(D,A)},onPointerEnter:w.props.usePointerEvent?function(D){return u(D,A)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(D){return f(D,A)},onPointerLeave:w.props.usePointerEvent?function(D){return f(D,A)}:void 0,key:A,"aria-current":w.isCurrentYear(A)?"date":void 0},w.getYearContent(A)))},w=this,T=y;T<=v;T++)x(T);return W.createElement("div",{className:"react-datepicker__year"},W.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(k.Component);function mF(n,e,t,r){for(var a=[],o=0;o<2*e+1;o++){var l=n+e-o,u=!0;t&&(u=ct(t)<=l),r&&u&&(u=ct(r)>=l),u&&a.push(l)}return a}var pF=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,f=r.state.yearsList.map(function(v){return W.createElement("div",{className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?W.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),h=r.props.minDate?ct(r.props.minDate):null,y=r.props.maxDate?ct(r.props.maxDate):null;return(!y||!r.state.yearsList.find(function(v){return v===y}))&&f.unshift(W.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.push(W.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(h){return h+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=a||(o?10:5);return r.state={yearsList:mF(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=k.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=er({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return W.createElement(vp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),gF=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ct(t.props.minDate):1900,a=t.props.maxDate?ct(t.props.maxDate):2100,o=[],l=r;l<=a;l++)o.push(W.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return W.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return W.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},W.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return W.createElement(pF,wt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return W.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(k.Component),yF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],vF=function(n){var e=(n.className||"").split(/\s+/);return yF.some(function(t){return e.indexOf(t)>=0})},bF=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var o,l;vF(a.target)&&((l=(o=r.props).onDropdownFocus)===null||l===void 0||l.call(o,a))},r.getDateInView=function(){var a=r.props,o=a.preSelection,l=a.selected,u=a.openToDate,f=YR(r.props),h=qR(r.props),y=Mt(),v=u||l||o;return v||(f&&Jo(y,f)?f:h&&Ks(y,h)?h:y)},r.increaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Ma(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var o=a.date;return{date:$o(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,o,l){r.props.onSelect(a,o,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,o){r.setState({selectingDate:Wa(Mt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,o)},r.handleYearMouseLeave=function(a,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,o)},r.handleYearChange=function(a){var o,l,u,f;(l=(o=r.props).onYearChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!ma(a,r.props))return a;for(var o=$i(a),l=BB(a),u=p8(l,o),f=null,h=0;h<=u;h++){var y=Ca(o,h);if(!ma(y,r.props)){f=y;break}}return f},r.handleMonthChange=function(a){var o,l,u,f=(o=r.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var o,l;(l=(o=r.props).onMonthChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(o){var l=o.date;return{date:Wa(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(o){var l=o.date;return{date:ha(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(o){var l=o.date;return{date:Wa(ha(l,wr(a)),ct(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var o=Us(a,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(W.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var f=Ca(o,u),h=r.formatWeekday(f,r.props.locale),y=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return W.createElement("div",{key:u,"aria-label":Wt(f,"EEEE",r.props.locale),className:er("react-datepicker__day-name",y)},h)}))},r.formatWeekday=function(a,o){return r.props.formatWeekDay?FB(a,r.props.formatWeekDay,o):r.props.useWeekdaysShort?HB(a,o):zB(a,o)},r.decreaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:Tc(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,o,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,y=$o(r.state.date,h),v;switch(!0){case r.props.showMonthYearPicker:v=X2(r.state.date,r.props);break;case r.props.showYearPicker:v=QB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=$B(r.state.date,r.props);break;default:v=K2(y,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(T=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),T=void 0);var A=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,D=r.props,O=D.previousMonthButtonLabel,U=O===void 0?e.defaultProps.previousMonthButtonLabel:O,F=D.previousYearButtonLabel,Y=F===void 0?e.defaultProps.previousYearButtonLabel:F,N=r.props,$=N.previousMonthAriaLabel,I=$===void 0?typeof U=="string"?U:"Previous Month":$,C=N.previousYearAriaLabel,R=C===void 0?typeof Y=="string"?Y:"Previous Year":C;return W.createElement("button",{type:"button",className:w.join(" "),onClick:T,onKeyDown:r.props.handleOnKeyDown,"aria-label":A?R:I},W.createElement("span",{className:x.join(" ")},A?Y:U))}}},r.increaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:zi(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Z2(r.state.date,r.props);break;case r.props.showYearPicker:o=KB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=GB(r.state.date,r.props);break;default:o=W2(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,v=y.nextMonthButtonLabel,x=v===void 0?e.defaultProps.nextMonthButtonLabel:v,w=y.nextYearButtonLabel,T=w===void 0?e.defaultProps.nextYearButtonLabel:w,A=r.props,D=A.nextMonthAriaLabel,O=D===void 0?typeof x=="string"?x:"Next Month":D,U=A.nextYearAriaLabel,F=U===void 0?typeof T=="string"?T:"Next Year":U;return W.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?F:O},W.createElement("span",{className:u.join(" ")},h?T:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),W.createElement("h2",{className:o.join(" ")},Wt(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return W.createElement(gF,wt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ct(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return W.createElement(lF,wt({},e.defaultProps,r.props,{month:wr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return W.createElement(dF,wt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(Y2(),a),r.props.setPreSelection&&r.props.setPreSelection(Y2())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return W.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var o=a.monthDate,l=a.i;return W.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),W.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)),W.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(a){var o,l,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=K2(r.state.date,r.props),y=W2(r.state.date,r.props),v=X2(r.state.date,r.props),x=Z2(r.state.date,r.props),w=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return W.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(o=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,wt(wt({},r.state),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:y,prevYearButtonDisabled:v,nextYearButtonDisabled:x})),w&&W.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(a){var o=a.monthDate,l=r.props,u=l.showYearPicker,f=l.yearItemNumber,h=f===void 0?e.defaultProps.yearItemNumber:f,y=ks(o,h),v=y.startPeriod,x=y.endPeriod;return W.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):ct(o))},r.renderHeader=function(a){var o=a.monthDate,l=a.i,u=l===void 0?0:l,f={monthDate:o,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zi(r.state.date,f):$o(r.state.date,f),y=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,v=0;v<u;++v){var x=v-y+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zi(h,x):Ma(h,x),T="month-".concat(v),A=v<u-1,D=v>0;l.push(W.createElement("div",{key:T,ref:function(O){r.monthContainer=O??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:v}),W.createElement(sF,wt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:A,monthShowsDuplicateDaysStart:D}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return W.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),W.createElement(hF,wt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return W.createElement(fF,wt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,o=a&&bp(a)&&!!r.props.selected,l=o?"".concat(eS(a.getHours()),":").concat(eS(a.getMinutes())):"";if(r.props.showTimeInput)return W.createElement(tF,wt({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,o=ks(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,f;return r.props.showYearPicker?f="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=ct(r.state.date):f="".concat(ix(wr(r.state.date),r.props.locale)," ").concat(ct(r.state.date)),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return W.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=k.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:qd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!xr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||PB;return W.createElement(vp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},W.createElement("div",{style:{display:"contents"},ref:this.containerRef},W.createElement(t,{className:er("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(k.Component),xF=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return W.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(W.isValidElement(e)){var l=e;return W.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return W.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},W.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},GR=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Pk.createPortal(this.props.children,this.el)},e}(k.Component),_F="[tabindex], a, button, input, select, textarea",wF=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},QR=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(_F),1,-1).filter(wF)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=k.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?W.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},W.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,W.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(k.Component);function EF(n){var e=function(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=k.useRef(null),l=kB(wt({open:!a,whileElementsMounted:uB,placement:t.popperPlacement,middleware:ei([yB({padding:15}),gB(10),vB({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=wt(wt({},t),{hidePopper:a,popperProps:wt(wt({},l),{arrowRef:o})});return W.createElement(n,wt({},u))};return e}var TF=function(n){zn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,a=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,f=t.targetComponent,h=t.enableTabLoop,y=t.popperOnKeyDown,v=t.portalId,x=t.portalHost,w=t.popperProps,T=t.showArrow,A=void 0;if(!l){var D=er("react-datepicker-popper",r);A=W.createElement(QR,{enableTabLoop:h},W.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:D,"data-placement":w.placement,onKeyDown:y},u,T&&W.createElement(SB,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(A=k.createElement(this.props.popperContainer,{},A)),v&&!l&&(A=W.createElement(GR,{portalId:v,portalHost:x},A));var O=er("react-datepicker-wrapper",a);return W.createElement(W.Fragment,null,W.createElement("div",{ref:w.refs.setReference,className:O},f),A)},e}(k.Component),SF=EF(TF),sS="react-datepicker-ignore-onclickoutside";function DF(n,e){return n&&e?wr(n)!==wr(e)||ct(n)!==ct(e):n!==e}var t0="Date input not valid.",AF=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Mt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,l){var u=new Date(l.date);return bp(u)?ei(ei([],o,!0),[wt(wt({},l),{date:u})],!1):o},[])},r.calcInitialState=function(){var a,o=r.getPreSelection(),l=YR(r.props),u=qR(r.props),f=l&&Jo(o,zh(l))?l:u&&Ks(o,q2(u))?u:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:f,highlightDates:J2(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(wt(wt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(wt(wt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},r.setBlur=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,o){o===void 0&&(o=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:n0},function(){a||r.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Hi(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var o,l,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(o=r.props).onFocus)===null||l===void 0||l.call(o,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var o,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(o=r.props).onBlur)===null||l===void 0||l.call(o,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var o,l;r.props.inline||r.setOpen(!1),(l=(o=r.props).onClickOutside)===null||l===void 0||l.call(o,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,o,l,u,f,h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var v=h[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,h),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){r.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:CF});var x=r.props,w=x.selectsRange,T=x.startDate,A=x.endDate,D=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,O=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,U=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(w){var F=U.split("-",2).map(function(L){return L.trim()}),Y=F[0],N=F[1],$=Zy(Y??"",D,r.props.locale,O),I=Zy(N??"",D,r.props.locale,O),C=(T==null?void 0:T.getTime())!==($==null?void 0:$.getTime()),R=(A==null?void 0:A.getTime())!==(I==null?void 0:I.getTime());if(!C&&!R||$&&ma($,r.props)||I&&ma(I,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[$,I],v)}else{var M=Zy(U,D,r.props.locale,O,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(M||!U)&&r.setSelected(M,v,!0)}}},r.handleSelect=function(a,o,l){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(a,o,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,f=u.startDate,h=u.endDate;f&&!h&&(r.props.swapRange||!rS(a,f))&&r.setOpen(!1)}},r.setSelected=function(a,o,l,u){var f,h,y=a;if(r.props.showYearPicker){if(y!==null&&Hh(ct(y),r.props))return}else if(r.props.showMonthYearPicker){if(y!==null&&HR(y,r.props))return}else if(y!==null&&ma(y,r.props))return;var v=r.props,x=v.onChange,w=v.selectsRange,T=v.startDate,A=v.endDate,D=v.selectsMultiple,O=v.selectedDates,U=v.minTime,F=v.swapRange;if(!zo(r.props.selected,y)||r.props.allowSameDay||w||D)if(y!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(y=Jy(y,{hour:Yi(r.props.selected),minute:qi(r.props.selected),second:Ls(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&U&&(y=Jy(y,{hour:U.getHours(),minute:U.getMinutes(),second:U.getSeconds()})),r.props.inline||r.setState({preSelection:y}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var Y=!T&&!A,N=T&&!A,$=T&&A;Y?x==null||x([y,null],o):N&&(y===null?x==null||x([null,null],o):rS(y,T)?F?x==null||x([y,T],o):x==null||x([y,null],o):x==null||x([T,y],o)),$&&(x==null||x([y,null],o))}else if(D){if(y!==null)if(!(O!=null&&O.length))x==null||x([y],o);else{var I=O.some(function(R){return _t(R,y)});if(I){var C=O.filter(function(R){return!_t(R,y)});x==null||x(C,o)}else x==null||x(ei(ei([],O,!0),[y],!1),o)}}else x==null||x(y,o);l||((h=(f=r.props).onSelect)===null||h===void 0||h.call(f,y,o),r.setState({inputValue:null}))},r.setPreSelection=function(a){var o=Hi(r.props.minDate),l=Hi(r.props.maxDate),u=!0;if(a){var f=zh(a);if(o&&l)u=Ju(a,r.props.minDate,r.props.maxDate);else if(o){var h=zh(r.props.minDate);u=Ks(a,h)||zo(f,h)}else if(l){var y=q2(r.props.maxDate);u=Jo(a,y)||zo(f,y)}}u&&r.setState({preSelection:a})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var o,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?a:Jy(u,{hour:Yi(a),minute:qi(a)});r.setState({preSelection:f}),(l=(o=r.props).onChange)===null||l===void 0||l.call(o,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(a=r.props).onInputClick)===null||o===void 0||o.call(a)},r.onInputKeyDown=function(a){var o,l,u,f,h,y;(l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Re.ArrowDown||v===Re.ArrowUp||v===Re.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(v===Re.ArrowDown||v===Re.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var T=Mt(r.state.preSelection);v===Re.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===n0?(r.handleSelect(T,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(T)):r.setOpen(!1)):v===Re.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Re.Tab&&r.setOpen(!1),r.inputOk()||(y=(h=r.props).onInputError)===null||y===void 0||y.call(h,{code:1,msg:t0})}},r.onPortalKeyDown=function(a){var o=a.key;o===Re.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var o,l,u,f,h,y,v=r.props,x=v.minDate,w=v.maxDate,T=v.disabledKeyboardNavigation,A=v.showWeekPicker,D=v.shouldCloseOnSelect,O=v.locale,U=v.calendarStartDay,F=v.adjustDateOnChange,Y=v.inline;if((l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a),!T){var N=a.key,$=a.shiftKey,I=Mt(r.state.preSelection),C=function(we,ae){var J=ae;switch(we){case Re.ArrowRight:J=A?bm(ae,1):Ca(ae,1);break;case Re.ArrowLeft:J=A?O2(ae):pU(ae);break;case Re.ArrowUp:J=O2(ae);break;case Re.ArrowDown:J=bm(ae,1);break;case Re.PageUp:J=$?Tc(ae,1):$o(ae,1);break;case Re.PageDown:J=$?zi(ae,1):Ma(ae,1);break;case Re.Home:J=Us(ae,O,U);break;case Re.End:J=UB(ae);break}return J},R=function(we,ae){for(var J=40,ne=we,be=!1,P=0,Z=C(we,ae);!be;){if(P>=J){Z=ae;break}x&&Z<x&&(ne=Re.ArrowRight,Z=ma(x,r.props)?C(ne,Z):x),w&&Z>w&&(ne=Re.ArrowLeft,Z=ma(w,r.props)?C(ne,Z):w),ma(Z,r.props)?((ne===Re.PageUp||ne===Re.Home)&&(ne=Re.ArrowRight),(ne===Re.PageDown||ne===Re.End)&&(ne=Re.ArrowLeft),Z=C(ne,Z)):be=!0,P++}return Z};if(N===Re.Enter){a.preventDefault(),r.handleSelect(I,a),!D&&r.setPreSelection(I);return}else if(N===Re.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:t0});return}var M=null;switch(N){case Re.ArrowLeft:case Re.ArrowRight:case Re.ArrowUp:case Re.ArrowDown:case Re.PageUp:case Re.PageDown:case Re.Home:case Re.End:M=R(N,I);break}if(!M){(y=(h=r.props).onInputError)===null||y===void 0||y.call(h,{code:1,msg:t0});return}if(a.preventDefault(),r.setState({lastPreSelectChange:n0}),F&&r.setSelected(M),r.setPreSelection(M),Y){var L=wr(I),H=wr(M),B=ct(I),Se=ct(M);L!==H||B!==Se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var o=a.key;o===Re.Escape&&(a.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var o=r.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],a):u==null||u(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,o;return!r.props.inline&&!r.isCalendarOpen()?null:W.createElement(bF,wt({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:XB(r.modifyHolidays()),outsideClickIgnoreClass:sS,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,o=a.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=a.locale,f=r.props.showTimeInput||r.props.showTimeSelect,h=f?"PPPPp":"PPPP",y;return r.props.selectsRange?y="Selected start date: ".concat(fa(r.props.startDate,{dateFormat:h,locale:u}),". ").concat(r.props.endDate?"End date: "+fa(r.props.endDate,{dateFormat:h,locale:u}):""):r.props.showTimeSelectOnly?y="Selected time: ".concat(fa(r.props.selected,{dateFormat:l,locale:u})):r.props.showYearPicker?y="Selected year: ".concat(fa(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?y="Selected month: ".concat(fa(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?y="Selected quarter: ".concat(fa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):y="Selected date: ".concat(fa(r.props.selected,{dateFormat:h,locale:u})),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},r.renderDateInput=function(){var a,o,l,u=er(r.props.className,(a={},a[sS]=r.state.open,a)),f=r.props.customInput||W.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",y=r.props,v=y.dateFormat,x=v===void 0?e.defaultProps.dateFormat:v,w=y.locale,T=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?IB(r.props.startDate,r.props.endDate,{dateFormat:x,locale:w}):r.props.selectsMultiple?jB((l=r.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:x,locale:w}):fa(r.props.selected,{dateFormat:x,locale:w});return k.cloneElement(f,(o={},o[h]=function(A){r.input=A},o.value=T,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=er(f.props.className,u),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var a=r.props,o=a.isClearable,l=a.disabled,u=a.selected,f=a.startDate,h=a.endDate,y=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,w=a.ariaLabelClose,T=w===void 0?"Close":w,A=a.selectedDates;return o&&(u!=null||f!=null||h!=null||A!=null&&A.length)?W.createElement("button",{type:"button",className:er("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:r.onClearClick,title:y,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:qd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,o,l,u;t.inline&&DF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:J2(this.props.highlightDates)}),!r.focused&&!zo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,f=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),W.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&W.createElement(xF,wt({icon:a,className:er(l,!l&&o,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?W.createElement(QR,{enableTabLoop:this.props.enableTabLoop},W.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=W.createElement(GR,wt({portalId:this.props.portalId},this.props),r)),W.createElement("div",null,this.renderInputContainer(),r)}return W.createElement(SF,wt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(k.Component),CF="input",n0="navigate";function av(n){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(n)}function RF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function MF(n,e,t){return e&&NF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function kF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iv(n,e)}function iv(n,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iv(n,e)}function PF(n){var e=jF();return function(){var r=Mm(n),a;if(e){var o=Mm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return OF(this,a)}}function OF(n,e){if(e&&(av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IF(n)}function IF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mm(n){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mm(n)}function VF(n,e){if(!document.head.querySelector("#"+n)){var t=document.createElement("style");t.textContent=e,t.type="text/css",t.id=n,document.head.appendChild(t)}}var LF=function(n){kF(t,n);var e=PF(t);function t(){return RF(this,t),e.apply(this,arguments)}return MF(t,[{key:"componentDidMount",value:function(){VF(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var a=document.getElementById(this.props.name);a.parentNode.removeChild(a)}},{key:"render",value:function(){return null}}]),t}(k.Component),UF=function(e){var t=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(t,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(t,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},BF=function(){return W.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),W.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))},FF=function(){return W.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),W.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))},zF=function(){return W.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),W.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},HF=function(){return W.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),W.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},YF=function(){return W.createElement("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),W.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))},qF=function(){return W.createElement("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),W.createElement("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"}))};function $F(n){return document.location.hostname!==new URL(n,document.location).hostname}var GF=function(e){return function(t){$F(e)&&(t.preventDefault(),fetch(e).then(function(r){return r.ok||console.error("Failed to download image, HTTP status "+r.status+" from "+e),r.blob().then(function(a){var o=document.createElement("a");o.setAttribute("download",e.split("/").pop()),o.href=URL.createObjectURL(a),o.click()})}).catch(function(r){console.error(r),console.error("Failed to download image from "+e)}))}},QF=function(e){var t=e.image,r=e.alt,a=e.zoomed,o=e.toggleZoom,l=e.toggleRotate,u=e.onClose,f=e.enableDownload,h=e.enableZoom,y=e.enableRotate;return W.createElement("div",{className:"__react_modal_image__header"},W.createElement("span",{className:"__react_modal_image__icon_menu"},f&&W.createElement("a",{href:t,download:!0,onClick:GF(t)},W.createElement(zF,null)),h&&W.createElement("a",{onClick:o},a?W.createElement(FF,null):W.createElement(BF,null)),y&&W.createElement("a",{onClick:l},W.createElement(qF,null)),W.createElement("a",{onClick:u},W.createElement(HF,null))),r&&W.createElement("span",{className:"__react_modal_image__caption"},r))};function sv(n){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(n)}function KF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XF(n,e,t){return e&&WF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ZF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ov(n,e)}function ov(n,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ov(n,e)}function JF(n){var e=tz();return function(){var r=km(n),a;if(e){var o=km(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ez(this,a)}}function ez(n,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yh(n)}function Yh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function km(n){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},km(n)}function r0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var oS=function(n){ZF(t,n);var e=JF(t);function t(){var r;KF(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),r0(Yh(r),"state",{loading:!0}),r0(Yh(r),"handleOnLoad",function(){r.setState({loading:!1})}),r0(Yh(r),"handleOnContextMenu",function(u){!r.props.contextMenu&&u.preventDefault()}),r}return XF(t,[{key:"render",value:function(){var a=this.props,o=a.id,l=a.className,u=a.src,f=a.style,h=a.handleDoubleClick;return W.createElement("div",null,this.state.loading&&W.createElement(YF,null),W.createElement("img",{id:o,className:l,src:u,style:f,onLoad:this.handleOnLoad,onDoubleClick:h,onContextMenu:this.handleOnContextMenu}))}}]),t}(k.Component);function lv(n){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(n)}function nz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function az(n,e,t){return e&&rz(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function iz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cv(n,e)}function cv(n,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cv(n,e)}function sz(n){var e=lz();return function(){var r=Pm(n),a;if(e){var o=Pm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return oz(this,a)}}function oz(n,e){if(e&&(lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(n)}function Li(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pm(n){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pm(n)}function As(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var cz=function(n){iz(t,n);var e=sz(t);function t(){var r;nz(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),As(Li(r),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),As(Li(r),"handleKeyDown",function(u){(u.keyCode===27||u.keyCode===13)&&r.props.onClose()}),As(Li(r),"getCoordinatesIfOverImg",function(u){var f=u.changedTouches?u.changedTouches[0]:u;if(f.target.id==="react-modal-image-img"){var h=r.contentEl.getBoundingClientRect(),y=f.clientX-h.left,v=f.clientY-h.top;return{x:y,y:v}}}),As(Li(r),"handleMouseDownOrTouchStart",function(u){if(u.preventDefault(),!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f||r.props.onClose(),r.state.zoomed&&r.setState(function(h){return{moveStart:{x:f.x-h.move.x,y:f.y-h.move.y}}})}}),As(Li(r),"handleMouseMoveOrTouchMove",function(u){if(u.preventDefault(),!(!r.state.zoomed||!r.state.moveStart)&&!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f&&r.setState(function(h){return{move:{x:f.x-h.moveStart.x,y:f.y-h.moveStart.y}}})}}),As(Li(r),"handleMouseUpOrTouchEnd",function(u){r.setState({moveStart:void 0})}),As(Li(r),"toggleZoom",function(u){u.preventDefault(),r.setState(function(f){return{zoomed:!f.zoomed,move:f.zoomed?{x:0,y:0}:f.move}})}),As(Li(r),"toggleRotate",function(u){u.preventDefault();var f=r.state.rotationDeg;if(f===360){r.setState({rotationDeg:90});return}r.setState(function(h){return{rotationDeg:h.rotationDeg+=90}})}),r}return az(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var a=this,o=this.props,l=o.medium,u=o.large,f=o.alt,h=o.onClose,y=o.hideDownload,v=o.hideZoom,x=o.showRotate,w=o.imageBackgroundColor,T=w===void 0?"black":w,A=this.state,D=A.move,O=A.zoomed,U=A.rotationDeg;return W.createElement("div",null,W.createElement(LF,{name:"__react_modal_image__lightbox",css:UF({imageBackgroundColor:T})}),W.createElement("div",{className:"__react_modal_image__modal_container"},W.createElement("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(Y){a.contentEl=Y}},O&&W.createElement(oS,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:u||l,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) rotate(").concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) rotate(").concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) rotate(").concat(U,"deg)")},handleDoubleClick:this.toggleZoom}),!O&&W.createElement(oS,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:l||u,handleDoubleClick:this.toggleZoom,contextMenu:!l,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)")}})),W.createElement(QF,{image:u||l,alt:f,zoomed:O,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:h,enableDownload:!y,enableZoom:!v,enableRotate:!!x})))}}]),t}(k.Component);function uv(n){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(n)}function uz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fz(n,e,t){return e&&dz(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function hz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dv(n,e)}function dv(n,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dv(n,e)}function mz(n){var e=gz();return function(){var r=Om(n),a;if(e){var o=Om(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return pz(this,a)}}function pz(n,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fv(n)}function fv(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Om(n){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Om(n)}function lS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var yz=function(n){hz(t,n);var e=mz(t);function t(){var r;uz(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),lS(fv(r),"state",{modalOpen:!1}),lS(fv(r),"toggleModal",function(){r.setState(function(u){return{modalOpen:!u.modalOpen}})}),r}return fz(t,[{key:"render",value:function(){var a=this.props,o=a.className,l=a.small,u=a.smallSrcSet,f=a.medium,h=a.large,y=a.alt,v=a.hideDownload,x=a.hideZoom,w=a.showRotate,T=a.imageBackgroundColor,A=this.state.modalOpen;return W.createElement("div",null,W.createElement("img",{className:o,style:{cursor:"pointer",maxWidth:"100%",maxHeight:"100%"},onClick:this.toggleModal,src:l,srcSet:u,alt:y}),A&&W.createElement(cz,{medium:f,large:h,alt:y,onClose:this.toggleModal,hideDownload:v,hideZoom:x,showRotate:w,imageBackgroundColor:T}))}}]),t}(k.Component);const vz=()=>{const{providerId:n}=jm(),e=ka(),t=Nn(),[r,a]=k.useState(null),[o,l]=k.useState([]),[u,f]=k.useState([]),[h,y]=k.useState(null),[v,x]=k.useState(!0),[w,T]=k.useState(null),[A,D]=k.useState(""),[O,U]=k.useState(0),[F,Y]=k.useState(0),[N,$]=k.useState(""),[I,C]=k.useState(!1),[R,M]=k.useState([]),[L,H]=k.useState(""),[B,Se]=k.useState(""),[we,ae]=k.useState(""),[J,ne]=k.useState("works"),[be,P]=k.useState(!1),[Z,ue]=k.useState(null),[xe,ge]=k.useState(!1),[de,se]=k.useState(!1);k.useEffect(()=>{(async()=>{try{x(!0);let Ge;if(e.state&&e.state.provider)Ge=e.state.provider;else{const Qt=await Wo(En(Je,"serviceProviders",n));if(Qt.exists())Ge={id:Qt.id,...Qt.data()};else throw new Error("مقدم الخدمة غير موجود")}a(Ge);const ot=Xn(Yt(Je,"providerWorks"),Fn("providerEmail","==",Ge.email)),Bt=hm(ot,Qt=>{const kr=Qt.docs.map(Sr=>({id:Sr.id,...Sr.data()}));l(kr)}),fr=Xn(Yt(Je,"reviews"),Fn("providerEmail","==",Ge.email)),Tr=hm(fr,Qt=>{const kr=Qt.docs.map(Sr=>({id:Sr.id,...Sr.data()}));f(kr)}),hr=localStorage.getItem("currentUser");if(hr&&hr!=='""'){const Qt=JSON.parse(hr);y(Qt)}return x(!1),()=>{Bt(),Tr()}}catch(Ge){console.error("Error fetching provider data:",Ge),ae("حدث خطأ أثناء تحميل البيانات"),x(!1)}})()},[n,e]);const Ne=()=>!u||u.length===0?0:(u.reduce((Ge,ot)=>Ge+ot.rating,0)/u.length).toFixed(1),Ce=async(_e,Ge)=>{try{const ot=Xn(Yt(Je,"bookings"),Fn("providerEmail","==",r.email),Fn("bookingDate","==",_e),Fn("bookingTime","==",Ge),Fn("status","in",["pending","confirmed"]));return(await Zn(ot)).empty}catch(ot){return console.error("Error checking appointment availability:",ot),!1}},Te=async()=>{if(!h){ae("يرجى تسجيل الدخول أولاً للحجز");return}if(!w||!L){ae("يرجى اختيار التاريخ والوقت للحجز");return}try{const _e=w.toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),Ge=w.toISOString().split("T")[0];P(!0);const ot=await Ce(Ge,L);if(P(!1),!ot){ue({success:!1,message:"هذا الموعد محجوز بالفعل، يرجى اختيار وقت آخر"}),ge(!0);return}const Bt={providerEmail:r.email,providerName:r.name,clientEmail:h.email,clientName:h.name,bookingDate:Ge,bookingTime:L,note:N,status:"pending",createdAt:Xo()},fr=await Ad(Yt(Je,"bookings"),Bt);await Yo(En(Je,"serviceProviders",n),{bookings:$y(fr.id)}),await Yo(En(Je,"users",h.uid),{bookings:$y(fr.id)}),ue({success:!0,message:`تم الحجز بنجاح مع ${r.name} في ${_e} الساعة ${L}`}),ge(!0),C(!1),$(""),T(null),H("")}catch(_e){console.error("Error booking appointment:",_e),ue({success:!1,message:"حدث خطأ أثناء إجراء الحجز، يرجى المحاولة مرة أخرى"}),ge(!0),P(!1)}},ze=async()=>{if(!h){ae("يرجى تسجيل الدخول أولاً لإضافة تقييم");return}if(O===0){ae("يرجى تحديد التقييم النجمي");return}try{se(!0);const _e={providerEmail:r.email,providerName:r.name,providerCategory:r.category,clientEmail:h.email,clientName:h.name,rating:O,review:A,createdAt:Xo()},Ge=await Ad(Yt(Je,"reviews"),_e);await Yo(En(Je,"serviceProviders",n),{reviews:$y(Ge.id),ratingsCount:(r.ratingsCount||0)+1,ratingsTotal:(r.ratingsTotal||0)+O},{merge:!0}),f([...u,{id:Ge.id,..._e}]),U(0),D(""),Se("تم إضافة تقييمك بنجاح!"),setTimeout(()=>{Se("")},3e3)}catch(_e){console.error("Error submitting review:",_e),ae("حدث خطأ أثناء إرسال التقييم"),setTimeout(()=>{ae("")},3e3)}finally{se(!1)}},dt=()=>{if(!h){ae("يرجى تسجيل الدخول أولاً للحجز");return}M(["9:00 صباحاً","10:00 صباحاً","11:00 صباحاً","12:00 ظهراً","1:00 مساءً","2:00 مساءً","3:00 مساءً","4:00 مساءً","5:00 مساءً","6:00 مساءً","7:00 مساءً"]),C(!0)},nt=()=>{if(!h||!r)return;const _e=h.uid||h.id,Ge=r.id||r.uid;t(`/nafany/chat/${Ge}`,{state:{provider:{id:Ge,email:r.email,name:r.name,profileImage:r.profileImage||"/default-profile.png"},user:{id:_e,email:h.email,name:h.name,profileImage:h.profileImage||"/default-profile.png"}}})},Xe=(_e,Ge=null,ot=null)=>[1,2,3,4,5].map(Bt=>g.jsx("span",{onClick:Ge?()=>Ge(Bt):void 0,onMouseEnter:ot?()=>ot(Bt):void 0,onMouseLeave:ot?()=>ot(0):void 0,className:"cursor-pointer text-xl",style:{color:Bt<=_e?"#FFD700":"#C0C0C0"},children:Bt<=_e?g.jsx(W0,{}):g.jsx(uR,{})},Bt));return v?g.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:g.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):r?g.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[g.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),g.jsxs("div",{className:"container mx-auto px-4",children:[B&&g.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",children:B}),we&&g.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:we}),g.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start",children:[g.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden mb-4 md:mb-0 md:mr-6",children:g.jsx("img",{src:r.profileImage||"../../public/IMG-20250322-WA0070.jpg",alt:r.name,className:"w-full h-full object-cover",onError:_e=>{_e.target.onerror=null,_e.target.src="../../public/IMG-20250322-WA0070.jpg"}})}),g.jsxs("div",{className:"flex-1 text-center md:text-right",children:[g.jsx("h1",{className:"text-3xl font-bold text-cyan-800 mb-2",children:r.name}),g.jsxs("div",{className:"flex items-center justify-center md:justify-end mb-2",children:[g.jsx("div",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm mr-2",children:r.profession||r.category}),g.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:r.governorate||"غير محدد المنطقة"})]}),g.jsx("div",{className:"flex items-center justify-center md:justify-end mb-4",children:g.jsxs("div",{className:"flex items-center",children:[Xe(Math.round(Ne())),g.jsx("span",{className:"mx-2 text-yellow-500 font-bold",children:Ne()}),g.jsxs("span",{className:"text-gray-500",children:["(",u.length," تقييم)"]})]})}),g.jsx("p",{className:"text-gray-600 mb-4 max-w-2xl",children:r.bio||"لا يوجد وصف لمقدم الخدمة"}),g.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start space-x-4 mt-4",children:[g.jsxs("button",{onClick:dt,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg flex items-center",children:[g.jsx(G9,{className:"mr-2"}),"احجز موعد"]}),g.jsxs("button",{onClick:nt,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center",children:[g.jsx(X9,{className:"mr-2"}),"محادثة"]})]})]})]})}),g.jsxs("div",{className:"mb-6 flex border-b border-gray-200",children:[g.jsx("button",{className:`px-6 py-3 font-medium ${J==="works"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>ne("works"),children:"الأعمال السابقة"}),g.jsx("button",{className:`px-6 py-3 font-medium ${J==="reviews"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>ne("reviews"),children:"التقييمات"}),g.jsx("button",{className:`px-6 py-3 font-medium ${J==="about"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>ne("about"),children:"عن مقدم الخدمة"})]}),J==="works"&&g.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[g.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"الأعمال السابقة"}),o.length>0?g.jsx("div",{className:"space-y-8",children:o.map((_e,Ge)=>g.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ge*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:_e.title}),_e.images&&_e.images.length>0&&g.jsx("div",{className:"mb-6",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_e.images.map((ot,Bt)=>g.jsx(yz,{small:ot,large:ot,alt:`${_e.title} - صورة ${Bt+1}`,className:"rounded-lg object-cover h-48 w-full cursor-pointer",imageBackgroundColor:"#fff"},Bt))})}),g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"وصف العمل:"}),g.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:_e.description})]}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center pt-4 border-t border-gray-200",children:[g.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[g.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"تاريخ الإنجاز:"}),g.jsx("span",{className:"text-sm font-medium",children:_e.createdAt&&_e.createdAt.toDate?_e.createdAt.toDate().toLocaleDateString():"غير محدد"})]}),_e.ratings&&_e.ratings.length>0&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"التقييم:"}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(W0,{className:"text-yellow-500 mr-1"}),g.jsx("span",{className:"font-medium",children:(_e.ratings.reduce((ot,Bt)=>ot+Bt,0)/_e.ratings.length).toFixed(1)})]})]})]})]})},_e.id))}):g.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد أعمال سابقة لعرضها"})]}),J==="reviews"&&g.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"أضف تقييمك"}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"تقييمك:"}),g.jsx("div",{className:"flex space-x-2 mb-4",children:Xe(F||O,_e=>U(_e),_e=>Y(_e))})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"تعليقك:"}),g.jsx("textarea",{value:A,onChange:_e=>D(_e.target.value),placeholder:"أخبرنا عن تجربتك مع مقدم الخدمة...",className:"w-full border border-gray-300 rounded-lg p-3 h-32"})]}),g.jsx("button",{onClick:ze,disabled:!h||O===0||de,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:de?"جاري الإرسال...":"إرسال التقييم"}),!h&&g.jsx("p",{className:"text-red-500 mt-2",children:"يرجى تسجيل الدخول لإضافة تقييم"})]}),g.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["التقييمات (",u.length,")"]}),u.length>0?g.jsx("div",{className:"space-y-4",children:u.map((_e,Ge)=>g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ge*.1},className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h3",{className:"font-bold text-cyan-800",children:_e.clientName}),g.jsx("div",{className:"flex",children:Xe(_e.rating)})]}),g.jsx("p",{className:"text-gray-600 mb-2",children:_e.review}),g.jsx("div",{className:"text-sm text-gray-500",children:_e.createdAt&&_e.createdAt.toDate?_e.createdAt.toDate().toLocaleDateString():"تاريخ غير محدد"})]},_e.id))}):g.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد تقييمات لمقدم الخدمة"})]}),J==="about"&&g.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"معلومات مقدم الخدمة"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المهنة:"}),g.jsx("p",{children:r.profession||r.category||"غير محدد"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المنطقة:"}),g.jsx("p",{children:r.governorate||"غير محدد"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"عدد الأعمال المنجزة:"}),g.jsx("p",{children:r.worksCount||o.length||0})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"نبذة:"}),g.jsx("p",{children:r.bio||"لا توجد نبذة تعريفية"})]}),r.services&&r.services.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخدمات المقدمة:"}),g.jsx("ul",{className:"list-disc list-inside",children:r.services.map((_e,Ge)=>g.jsx("li",{children:_e},Ge))})]}),r.experience&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخبرة:"}),g.jsx("p",{children:r.experience})]})]})]})]}),I&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[g.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["حجز موعد مع ",r.name]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر التاريخ:"}),g.jsx(AF,{selected:w,onChange:_e=>T(_e),className:"w-full border border-gray-300 rounded-lg p-3",dateFormat:"dd/MM/yyyy",minDate:new Date,placeholderText:"اختر تاريخ الحجز"})]}),w&&g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر الوقت:"}),g.jsxs("select",{value:L,onChange:_e=>H(_e.target.value),className:"w-full border border-gray-300 rounded-lg p-3",children:[g.jsx("option",{value:"",children:"-- اختر الوقت --"}),R.map((_e,Ge)=>g.jsx("option",{value:_e,children:_e},Ge))]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات (اختياري):"}),g.jsx("textarea",{value:N,onChange:_e=>$(_e.target.value),placeholder:"أضف أي ملاحظات أو تفاصيل إضافية حول الحجز...",className:"w-full border border-gray-300 rounded-lg p-3 h-24"})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("button",{onClick:()=>C(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg",children:"إلغاء"}),g.jsx("button",{onClick:Te,disabled:!w||!L||be,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:be?"جاري التحقق...":"تأكيد الحجز"})]})]})}),xe&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsx(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:g.jsxs("div",{className:"text-center",children:[Z.success?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx(Q9,{className:"text-green-500 text-5xl"})}),g.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"تم الحجز بنجاح!"})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx(e8,{className:"text-red-500 text-5xl"})}),g.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"لم يتم الحجز"})]}),g.jsx("p",{className:"mb-6 text-gray-700",children:Z.message}),g.jsx("button",{onClick:()=>ge(!1),className:`px-6 py-2 rounded-lg ${Z.success?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"حسناً"})]})})})]}):g.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:g.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"لم يتم العثور على مقدم الخدمة، يرجى التحقق من الرابط والمحاولة مرة أخرى."})})};function bz(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"},child:[]}]})(n)}const xz=()=>{const{providerId:n}=jm(),e=ka(),t=Nn(),[r,a]=k.useState([]),[o,l]=k.useState(""),[u,f]=k.useState(!0),[h,y]=k.useState(null),[v,x]=k.useState(null),w=k.useRef(null),[T,A]=k.useState(!1),[D,O]=k.useState(""),U=($,I)=>[$,I].sort().join("_"),F=()=>{try{const $=localStorage.getItem("currentUser");if(!$)return null;const I=JSON.parse($);if(!I)return null;if(I.uid&&!I.id)I.id=I.uid;else if(I.id&&!I.uid)I.uid=I.id;else if(!I.uid&&!I.id)return null;return I}catch($){return console.error("Error parsing user data:",$),null}};k.useEffect(()=>{(async()=>{var I;try{f(!0);const C=F();if(!C){t("/nafany/login");return}y(C);let R,M;if((I=e.state)!=null&&I.provider)R=e.state.provider,e.state.user?M=e.state.user:M={id:C.uid||C.id,name:C.name,email:C.email};else{R={id:C.uid||C.id,name:C.name,email:C.email};try{const Se=await Wo(En(Je,"users",n));if(Se.exists())M={id:Se.id,...Se.data()};else{const we=await Wo(En(Je,"serviceProviders",n));if(!we.exists())throw new Error("User not found");M={id:we.id,...we.data()}}}catch(Se){throw console.error("Error fetching client data:",Se),Se}}R.id=R.id||R.uid,M.id=M.id||M.uid,x(R);const L=U(R.id,M.id);console.log("Chat participants:",{provider:R,client:M}),console.log("Generated chatId:",L),O(L);const H=Xn(Yt(Je,"chats",L,"messages"),_c("timestamp","asc")),B=hm(H,Se=>{const we=Se.docs.map(ae=>{var J;return{id:ae.id,...ae.data(),timestamp:((J=ae.data().timestamp)==null?void 0:J.toDate())||new Date}});console.log("Real-time messages update:",we),a(we)});return f(!1),B}catch(C){console.error("Chat init error:",C),f(!1)}})()},[n,e.state,t]);const Y=()=>{var $;($=w.current)==null||$.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{Y()},[r]);const N=async $=>{if($.preventDefault(),!(!o.trim()||!h||!v||!D))try{console.log("Sending message with chatId:",D),console.log("From:",h.id||h.uid,"To:",v.id||v.uid);const I=await Ad(Yt(Je,"chats",D,"messages"),{text:o,senderId:h.id||h.uid,senderName:h.name,receiverId:v.id||v.uid,timestamp:Xo(),isRead:!1});await qb(En(Je,"chats",D),{lastMessage:o,lastMessageTime:Xo(),providerData:{id:v.id||v.uid,name:v.name,email:v.email},userData:{id:h.id||h.uid,name:h.name,email:h.email},participants:[h.id||h.uid,v.id||v.uid],participantsNames:[h.name,v.name]},{merge:!0}),l(""),console.log("Message sent successfully:",I.id)}catch(I){console.error("Message send error:",I)}};return k.useEffect(()=>{if(r.length>0&&r[r.length-1].senderId===(h==null?void 0:h.uid)){const $=setTimeout(()=>{A(!0);const I=setTimeout(()=>{A(!1)},3e3);return()=>clearTimeout(I)},2e3);return()=>clearTimeout($)}},[r,h]),u?g.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:g.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل المحادثة..."})}):!v||!h?g.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:g.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"حدث خطأ في تحميل بيانات المحادثة"})}):g.jsxs(ve.div,{className:"flex flex-col min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[g.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center",children:[g.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100",children:g.jsx(q9,{className:"text-gray-600 text-xl"})}),g.jsxs("div",{className:"flex items-center mx-4",children:[v.profileImage?g.jsx("img",{src:v.profileImage,alt:v.name,className:"w-10 h-10 rounded-full object-cover"}):g.jsx($b,{className:"text-gray-400 text-3xl"}),g.jsxs("div",{className:"mr-3",children:[g.jsx("h2",{className:"font-semibold text-gray-800",children:v.name}),g.jsx("p",{className:"text-xs text-gray-500",children:v.profession||v.category})]})]})]}),g.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:g.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?g.jsxs("div",{className:"text-center text-gray-500 py-8",children:["لا توجد رسائل بعد. ابدأ المحادثة مع ",v.name]}):r.map($=>{var I,C;return g.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${$.senderId===h.uid?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-xs md:max-w-md rounded-lg p-3 ${$.senderId===h.uid?"bg-cyan-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow"}`,children:[g.jsx("p",{className:"text-sm",children:$.text}),g.jsx("p",{className:`text-xs mt-1 ${$.senderId===h.uid?"text-cyan-100":"text-gray-500"}`,children:((C=(I=$.timestamp)==null?void 0:I.toDate)==null?void 0:C.call(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"الآن"})]})},$.id)}),T&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"bg-white text-gray-800 rounded-lg rounded-bl-none shadow p-3",children:g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),g.jsx("div",{ref:w})]})}),g.jsx("div",{className:"bg-white p-4 border-t border-gray-200",children:g.jsxs("form",{onSubmit:N,className:"flex items-center max-w-3xl mx-auto",children:[g.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-1 border border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),g.jsx("button",{type:"submit",disabled:!o.trim(),className:"ml-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full p-2 disabled:bg-gray-400",children:g.jsx(bz,{className:"text-xl"})})]})})]})},_z=()=>{const n=Nn(),[e,t]=k.useState(null),[r,a]=k.useState([]),[o,l]=k.useState(!0),[u,f]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("currentUser");if(!x||x==='""'){n("/nafany/login");return}const w=JSON.parse(x);t(w);try{(await Wo(En(Je,"serviceProviders",w.uid))).exists()&&f(!0)}catch{console.log("User is not a service provider")}const T=Xn(Yt(Je,"chats"),Fn("participants","array-contains",w.email),_c("lastMessageTime","desc"));return hm(T,async D=>{var U,F;const O=[];for(const Y of D.docs){const N=Y.data(),$=Xn(Yt(Je,"messages"),Fn("chatId","==",Y.id),_c("timestamp","desc")),I=await Zn($);let C=null;I.empty||(C={id:I.docs[0].id,...I.docs[0].data()});const R=N.participants.find(M=>M!==w.email);O.push({id:Y.id,otherParticipantName:N.participantNames[R],otherParticipantEmail:R,otherParticipantImage:((U=N.participantImages)==null?void 0:U[R])||"/default-profile.png",otherParticipantId:(F=N.participantIds)==null?void 0:F[R],lastMessage:C,lastMessageTime:N.lastMessageTime,unreadCount:0})}a(O),l(!1)})}catch(x){console.error("Error fetching chats:",x),l(!1)}})()},[n]);const h=v=>{const x=v.otherParticipantId;u?n(`/nafany/chat/${x}`,{state:{user:{uid:x,email:v.otherParticipantEmail,name:v.otherParticipantName}}}):n(`/nafany/chat/${x}`,{state:{provider:{id:x,email:v.otherParticipantEmail,name:v.otherParticipantName,profileImage:v.otherParticipantImage}}})},y=v=>{if(!v)return"";const x=v.toDate?v.toDate():new Date(v),T=new Date-x,A=Math.floor(T/(1e3*60*60*24));return A===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):A===1?"الأمس":A<7?["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"][x.getDay()]:x.toLocaleDateString()};return o?g.jsx("div",{className:"flex items-center justify-center h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500"})}):g.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[g.jsx("div",{className:"bg-cyan-600 text-white p-4 shadow-md",children:g.jsx("h1",{className:"text-xl font-bold text-center",children:"المحادثات"})}),g.jsx("div",{className:"max-w-xl mx-auto p-4",children:r.length===0?g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[g.jsx("p",{className:"text-gray-500 mb-4",children:"ليس لديك محادثات حالية"}),u?g.jsx("p",{className:"text-gray-500",children:"سيظهر عملاؤك هنا عندما يبدأون محادثة معك"}):g.jsx("button",{onClick:()=>n("/nafany/providers"),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700",children:"ابحث عن مقدمي الخدمة"})]}):g.jsx("div",{className:"space-y-3",children:r.map(v=>{var x;return g.jsxs("div",{onClick:()=>h(v),className:"bg-white rounded-lg shadow-md p-4 flex items-center cursor-pointer hover:bg-gray-50",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden mr-3",children:g.jsx("img",{src:v.otherParticipantImage,alt:v.otherParticipantName,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-baseline",children:[g.jsx("h3",{className:"font-bold text-gray-800 truncate",children:v.otherParticipantName}),g.jsx("span",{className:"text-xs text-gray-500",children:y(v.lastMessageTime)})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("p",{className:"text-gray-600 text-sm truncate flex-1",children:((x=v.lastMessage)==null?void 0:x.text)||"بدء محادثة جديدة"}),v.lastMessage&&g.jsx("div",{className:"ml-2 text-gray-400",children:v.lastMessage.sender===e.email?v.lastMessage.isRead?g.jsx(K9,{size:12}):g.jsx(W9,{size:12}):v.unreadCount>0&&g.jsx("span",{className:"bg-cyan-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:v.unreadCount})})]})]})]},v.id)})})})]})},wz=()=>{var we,ae;const n=Nn(),t=((we=ka().state)==null?void 0:we.fromProvider)||!1,[r,a]=k.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",role:""}),[o,l]=k.useState({nationalId:"",category:"",profession:"",subscriptionFee:"",idFrontImage:"",idBackImage:"",profileImage:"",bio:"",allowContact:!1,address:"",workingAreas:[]}),[u,f]=k.useState(!0),[h,y]=k.useState(!1),[v,x]=k.useState({}),[w,T]=k.useState(!1),[A,D]=k.useState(""),[O,U]=k.useState(""),[F,Y]=k.useState(""),N=["وسط البلد","الزمالك","المعادي","مدينة نصر","مصر الجديدة","التجمع الخامس","الرحاب","مدينتي","الشروق","العبور","6 أكتوبر","الشيخ زايد","حدائق الأهرام","المقطم","عين شمس","المرج","حلوان","دار السلام","السيدة زينب","باب الشعرية","شبرا","الزاوية الحمراء","حدائق القبة","المطرية","مدينة بدر","البساتين","التبين","الواحة","النزهة","الهرم"],$={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد"],"خدمات صحية":["طبيب","ممرض","صيدلي","فني مختبر"],"خدمات عامة":["توصيل طلبات","نقل","تنظيف"]},I=["100 جنيه","200 جنيه","300 جنيه"];k.useEffect(()=>{(async()=>{try{const ne=localStorage.getItem("currentUser");if(!ne){n("/nafany/login");return}const be=JSON.parse(ne);let P;const Z=be.role==="provider"?"serviceProviders":"users";Z==="serviceProviders"?P=be.email:P=be.email.split("@")[0];const ue=En(Je,Z,P),xe=await Wo(ue);if(xe.exists()){const ge=xe.data();a({name:ge.name||"",email:ge.email||"",password:"",governorate:ge.governorate||"",phone:ge.phone||ge.phoneNumber||"",role:be.role}),be.role==="provider"&&(l({nationalId:ge.nationalId||"",category:ge.category||"",profession:ge.profession||"",subscriptionFee:ge.subscriptionFee||"",idFrontImage:ge.idFrontImage||"",idBackImage:ge.idBackImage||"",profileImage:ge.profileImage||"",bio:ge.bio||"",allowContact:ge.allowContact||!1,address:ge.address||"",workingAreas:ge.workingAreas||[]}),ge.idFrontImage&&D(ge.idFrontImage),ge.idBackImage&&U(ge.idBackImage),ge.profileImage&&Y(ge.profileImage))}else alert("لم يتم العثور على بيانات المستخدم"),n("/nafany")}catch(ne){console.error("Error fetching user data:",ne),alert("حدث خطأ أثناء تحميل البيانات")}finally{f(!1)}})()},[n]);const C=()=>{let J={};return r.name.trim()||(J.name="الاسم مطلوب"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(J.email="البريد الإلكتروني غير صالح"):J.email="البريد الإلكتروني مطلوب",r.password&&r.password.length<6&&(J.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"),r.governorate||(J.governorate="يجب اختيار المحافظة"),r.phone||(J.phone="رقم الهاتف مطلوب"),r.role==="provider"&&(o.nationalId||(J.nationalId="الرقم القومي مطلوب"),o.profession||(J.profession="المهنة مطلوبة"),o.address||(J.address="العنوان مطلوب")),x(J),Object.keys(J).length===0},R=J=>{const{name:ne,value:be,type:P,checked:Z}=J.target;a(ue=>({...ue,[ne]:P==="checkbox"?Z:be})),x({...v,[ne]:""})},M=J=>{const{name:ne,value:be,type:P,checked:Z}=J.target;l(ue=>({...ue,[ne]:P==="checkbox"?Z:be})),x({...v,[ne]:""})},L=J=>{const ne=J.target.value;l(be=>{var P;return{...be,category:ne,profession:((P=$[ne])==null?void 0:P[0])||""}})},H=(J,ne)=>{const be=J.target.files[0];if(!be)return;const P=new FileReader;P.onload=()=>{const Z=P.result;l(ue=>({...ue,[ne]:Z})),ne==="idFrontImage"?D(Z):ne==="idBackImage"?U(Z):ne==="profileImage"&&Y(Z)},P.readAsDataURL(be)},B=J=>{const{value:ne,checked:be}=J.target;l(P=>be?{...P,workingAreas:[...P.workingAreas,ne]}:{...P,workingAreas:P.workingAreas.filter(Z=>Z!==ne)})},Se=async J=>{if(J.preventDefault(),!!C())try{f(!0);const ne=r.email.split("@")[0],be=r.role==="provider"?"serviceProviders":"users",P=En(Je,be,ne),Z={...r,...r.role==="provider"?o:{}};Z.password||delete Z.password,await Yo(P,Z);const ue={...r,...r.role==="provider"?o:{}};localStorage.setItem("currentUser",JSON.stringify(ue)),T(!0),y(!1)}catch(ne){console.error("Error updating user data:",ne),alert("حدث خطأ أثناء تحديث البيانات")}finally{f(!1)}};return u?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-100 to-blue-200",children:g.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):g.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs(ve.button,{onClick:()=>n(t?"/nafany/servicer_page":"/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),g.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-cyan-800",children:r.role==="provider"?"إعدادات مقدم الخدمة":"إعدادات الحساب"}),!h&&g.jsx(ve.button,{onClick:()=>y(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-cyan-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تعديل البيانات"})]}),w&&g.jsx(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:"تم تحديث البيانات بنجاح"}),g.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الاسم"}),g.jsx("input",{type:"text",name:"name",placeholder:"أدخل الاسم",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.name,onChange:R,disabled:!h}),v.name&&g.jsx("p",{className:"text-red-500 text-sm",children:v.name})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"البريد الإلكتروني"}),g.jsx("input",{type:"email",name:"email",placeholder:"أدخل البريد الإلكتروني",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.email,onChange:R,disabled:!0}),v.email&&g.jsx("p",{className:"text-red-500 text-sm",children:v.email})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"كلمة المرور (اتركها فارغة إذا لم ترغب في تغييرها)"}),g.jsx("input",{type:"password",name:"password",placeholder:"أدخل كلمة المرور الجديدة",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.password,onChange:R,disabled:!h}),v.password&&g.jsx("p",{className:"text-red-500 text-sm",children:v.password})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رقم الهاتف"}),g.jsx("input",{type:"tel",name:"phone",placeholder:"أدخل رقم الهاتف",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.phone,onChange:R,disabled:!h}),v.phone&&g.jsx("p",{className:"text-red-500 text-sm",children:v.phone})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المحافظة"}),g.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.governorate,onChange:R,disabled:!h,children:[g.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),N.map((J,ne)=>g.jsx("option",{value:J,children:J},ne))]}),v.governorate&&g.jsx("p",{className:"text-red-500 text-sm",children:v.governorate})]}),r.role==="provider"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الرقم القومي"}),g.jsx("input",{type:"text",name:"nationalId",placeholder:"أدخل الرقم القومي",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.nationalId,onChange:M,disabled:!h}),v.nationalId&&g.jsx("p",{className:"text-red-500 text-sm",children:v.nationalId})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"التصنيف"}),g.jsxs("select",{name:"category",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.category,onChange:L,disabled:!h,children:[g.jsx("option",{value:"",disabled:!0,children:"اختر التصنيف"}),Object.keys($).map((J,ne)=>g.jsx("option",{value:J,children:J},ne))]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المهنة"}),g.jsxs("select",{name:"profession",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.profession,onChange:M,disabled:!h,children:[g.jsx("option",{value:"",disabled:!0,children:"اختر المهنة"}),o.category&&((ae=$[o.category])==null?void 0:ae.map((J,ne)=>g.jsx("option",{value:J,children:J},ne)))]}),v.profession&&g.jsx("p",{className:"text-red-500 text-sm",children:v.profession})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رسوم الاشتراك"}),g.jsx("select",{name:"subscriptionFee",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.subscriptionFee,onChange:M,disabled:!h,children:I.map((J,ne)=>g.jsx("option",{value:J,children:J},ne))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"العنوان"}),g.jsx("input",{type:"text",name:"address",placeholder:"أدخل العنوان بالتفصيل",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.address,onChange:M,disabled:!h}),v.address&&g.jsx("p",{className:"text-red-500 text-sm",children:v.address})]}),g.jsx("div",{className:"space-y-1",children:g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",name:"allowContact",checked:o.allowContact,onChange:M,disabled:!h,className:"rounded text-cyan-600 focus:ring-cyan-500"}),g.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر مع العملاء"})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block",children:"صورة البطاقة من الأمام"}),A?g.jsx("img",{src:A,alt:"Front ID",className:"h-40 w-full object-contain border rounded-lg"}):g.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:g.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&g.jsx("input",{type:"file",onChange:J=>H(J,"idFrontImage"),className:"w-full",accept:"image/*"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block",children:"صورة البطاقة من الخلف"}),O?g.jsx("img",{src:O,alt:"Back ID",className:"h-40 w-full object-contain border rounded-lg"}):g.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:g.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&g.jsx("input",{type:"file",onChange:J=>H(J,"idBackImage"),className:"w-full",accept:"image/*"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),F?g.jsx("img",{src:F,alt:"Profile",className:"h-40 w-40 object-cover rounded-full mx-auto border"}):g.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-full h-40 w-40 mx-auto flex items-center justify-center",children:g.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&g.jsx("input",{type:"file",onChange:J=>H(J,"profileImage"),className:"w-full",accept:"image/*"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"نبذة عنك"}),g.jsx("textarea",{name:"bio",placeholder:"أدخل نبذة عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:o.bio,onChange:M,disabled:!h})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"مناطق العمل"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:N.map((J,ne)=>{var be;return g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:`governorate-${ne}`,value:J,checked:((be=o.workingAreas)==null?void 0:be.includes(J))||!1,onChange:B,disabled:!h,className:"ml-2"}),g.jsx("label",{htmlFor:`governorate-${ne}`,children:J})]},ne)})})]})]}),h&&g.jsxs(ve.div,{className:"pt-4 grid grid-cols-2 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[g.jsx(ve.button,{type:"button",onClick:()=>y(!1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"إلغاء"}),g.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"حفظ التغييرات"})]})]})]})]})})},Ez=()=>{const n=Nn();return g.jsx(ve.div,{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:g.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[g.jsx("div",{className:"bg-cyan-700 py-6 px-8 text-center",children:g.jsx("h1",{className:"text-3xl font-bold text-white",children:"تواصل معنا"})}),g.jsxs("div",{className:"p-8 border-b",dir:"rtl",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"نبذة عن المشروع"}),g.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"موقعنا هو منصة متكاملة تتيح للمستخدمين العثور على مختلف الخدمات المتوفرة في منطقتهم بسهولة وسرعة. سواء كنت تبحث عن خدمات صيانة منزلية، أو خدمات طبية، أو أي نوع آخر من الخدمات، فإن منصتنا تساعدك في العثور على أفضل مقدمي الخدمات القريبين من موقعك."}),g.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"نهدف إلى ربط المستخدمين بمقدمي الخدمات المؤهلين والموثوقين، مما يوفر الوقت والجهد ويضمن الحصول على خدمة ذات جودة عالية. نحن نعمل باستمرار على توسيع قاعدة بياناتنا وتحسين تجربة المستخدم لجعل عملية البحث عن الخدمات أكثر سهولة ومتعة."})]}),g.jsxs("div",{className:"p-8",dir:"rtl",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"وسائل التواصل"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"تابعنا على مواقع التواصل الاجتماعي"}),g.jsxs("div",{className:"flex flex-wrap gap-4",children:[g.jsxs("a",{href:"https://facebook.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[g.jsx(F9,{})," فيسبوك"]}),g.jsxs("a",{href:"https://instagram.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",children:[g.jsx(z9,{})," انستجرام"]}),g.jsxs("a",{href:"https://wa.me/+201234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[g.jsx(Y9,{})," واتساب"]}),g.jsxs("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[g.jsx(H9,{})," لينكدين"]}),g.jsxs("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[g.jsx(J9,{})," البريد الإلكتروني"]})]})]}),g.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"معلومات الاتصال"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("p",{className:"text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"البريد الإلكتروني:"})," info@projectname.com"]}),g.jsxs("p",{className:"text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"رقم الهاتف:"})," +20 123 456 7890"]}),g.jsxs("p",{className:"text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"العنوان:"})," المنطقة الرئيسية، المدينة، البلد"]})]})]})]})]}),g.jsx("div",{className:"p-8 text-center",children:g.jsx(ve.button,{onClick:()=>n("/nafany"),className:"bg-cyan-700 text-white px-6 py-2 rounded-lg hover:bg-cyan-800 inline-flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"العودة للصفحة الرئيسية"})})]})})},Tz=()=>{const n=Nn(),[e,t]=k.useState({type:"complaint",title:"",description:""}),[r,a]=k.useState(!1),[o,l]=k.useState(!1),[u,f]=k.useState(""),[h,y]=k.useState({}),v=()=>{let T=!0,A={};return e.title.trim()||(A.title="عنوان الشكوى/الاقتراح مطلوب",T=!1),e.description.trim()?e.description.trim().length<10&&(A.description="يجب أن تحتوي التفاصيل على 10 أحرف على الأقل",T=!1):(A.description="تفاصيل الشكوى/الاقتراح مطلوبة",T=!1),y(A),T},x=T=>{const{name:A,value:D}=T.target;t(O=>({...O,[A]:D})),h[A]&&y(O=>({...O,[A]:""}))},w=async T=>{if(T.preventDefault(),!!v())try{a(!0),f("");const A=localStorage.getItem("currentUser"),D=A?JSON.parse(A):null;await Ad(Yt(Je,"feedbacks"),{type:e.type,title:e.title,description:e.description,status:"new",timestamp:Xo(),userId:(D==null?void 0:D.email)||"anonymous",userName:(D==null?void 0:D.name)||"زائر",userRole:(D==null?void 0:D.role)||"guest"}),l(!0),t({type:"complaint",title:"",description:""}),setTimeout(()=>{l(!1)},3e3)}catch(A){console.error("خطأ في إرسال الشكوى/الاقتراح:",A),f("حدث خطأ أثناء إرسال الشكوى/الاقتراح. يرجى المحاولة مرة أخرى.")}finally{a(!1)}};return g.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs(ve.button,{onClick:()=>n("/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),g.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-2xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[g.jsx("h1",{className:"text-2xl font-bold text-cyan-800 mb-8 text-center",children:"الشكاوى والاقتراحات"}),o&&g.jsxs(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:["تم إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"," بنجاح. شكراً لك!"]}),u&&g.jsx(ve.div,{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-gray-700 font-medium",children:"نوع الرسالة"}),g.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[g.jsxs("label",{className:"flex items-center cursor-pointer",children:[g.jsx("input",{type:"radio",name:"type",value:"complaint",checked:e.type==="complaint",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),g.jsx("span",{children:"شكوى"})]}),g.jsxs("label",{className:"flex items-center cursor-pointer",children:[g.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:e.type==="suggestion",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),g.jsx("span",{children:"اقتراح"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-gray-700 font-medium",children:["العنوان",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"text",name:"title",placeholder:"أدخل عنوان الشكوى/الاقتراح",className:`w-full border ${h.title?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,value:e.title,onChange:x}),h.title&&g.jsx("p",{className:"text-red-500 text-sm",children:h.title})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-gray-700 font-medium",children:["التفاصيل",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("textarea",{name:"description",placeholder:"أدخل تفاصيل الشكوى/الاقتراح",className:`w-full border ${h.description?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-40`,value:e.description,onChange:x}),h.description&&g.jsx("p",{className:"text-red-500 text-sm",children:h.description})]}),g.jsx(ve.button,{type:"submit",className:"w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:r,children:r?g.jsx("span",{children:"جاري الإرسال..."}):g.jsxs("span",{children:["إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"]})})]})]})]})})},Sz=()=>{const n=Nn(),[e,t]=k.useState("users"),[r,a]=k.useState([]),[o,l]=k.useState([]),[u,f]=k.useState([]),[h,y]=k.useState([]),[v,x]=k.useState(null),[w,T]=k.useState(!1),[A,D]=k.useState({}),[O,U]=k.useState(!0),[F,Y]=k.useState(!1),[N,$]=k.useState(null);k.useEffect(()=>{(async()=>{U(!0);try{const ue=(await Zn(Yt(Je,"users"))).docs.map(Te=>({id:Te.id,...Te.data()}));a(ue);const ge=(await Zn(Yt(Je,"serviceProviders"))).docs.map(Te=>({id:Te.id,...Te.data()}));l(ge);const se=(await Zn(Yt(Je,"feedbacks"))).docs.map(Te=>({id:Te.id,...Te.data()}));f(se);const Ce=(await Zn(Yt(Je,"reviews"))).docs.map(Te=>{var ze;return{id:Te.id,...Te.data(),createdAt:(ze=Te.data().createdAt)==null?void 0:ze.toDate()}});y(Ce)}catch(Z){console.error("خطأ في جلب البيانات:",Z),alert("حدث خطأ أثناء تحميل البيانات")}U(!1)})()},[]),console.log(h),console.log(r);const I=async(P,Z)=>{if(window.confirm("هل أنت متأكد من رغبتك في الحذف؟"))try{await tR(En(Je,Z,P)),Z==="users"?a(r.filter(ue=>ue.id!==P)):Z==="serviceProviders"?l(o.filter(ue=>ue.id!==P)):Z==="feedbacks"?f(u.filter(ue=>ue.id!==P)):Z==="reviews"&&y(h.filter(ue=>ue.id!==P)),alert("تم الحذف بنجاح")}catch(ue){console.error("خطأ في الحذف:",ue),alert("حدث خطأ أثناء الحذف")}},C=(P,Z)=>{x({item:P,collectionName:Z}),D(P),T(!0)},R=async()=>{try{const{item:P,collectionName:Z}=v;await Yo(En(Je,Z,P.id),A),Z==="users"?a(r.map(ue=>ue.id===P.id?{...ue,...A}:ue)):Z==="serviceProviders"?l(o.map(ue=>ue.id===P.id?{...ue,...A}:ue)):Z==="feedbacks"?f(u.map(ue=>ue.id===P.id?{...ue,...A}:ue)):Z==="reviews"&&y(h.map(ue=>ue.id===P.id?{...ue,...A}:ue)),T(!1),alert("تم التحديث بنجاح")}catch(P){console.error("خطأ في التحديث:",P),alert("حدث خطأ أثناء التحديث")}},M=async(P,Z)=>{try{const ue=En(Je,Z,P),xe=await Wo(ue);if(xe.exists()){const ge={id:xe.id,...xe.data()};if(Z==="serviceProviders"){const de=h.filter(se=>se.providerEmail===ge.email);ge.reviewsDetails=de}$(ge),Y(!0)}else alert("لم يتم العثور على البيانات")}catch(ue){console.error("خطأ في جلب التفاصيل:",ue),alert("حدث خطأ أثناء جلب التفاصيل")}},L=P=>P?P instanceof Date?P.toLocaleDateString("ar-EG"):P.toDate?P.toDate().toLocaleDateString("ar-EG"):"غير محدد":"غير محدد",H=()=>g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"مقدم الخدمة"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التقييم"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التعليق"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(P=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.clientName}),g.jsx("div",{className:"text-sm text-gray-500",children:P.clientEmail})]}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.providerName}),g.jsx("div",{className:"text-sm text-gray-500",children:P.providerCategory})]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((Z,ue)=>g.jsx("svg",{className:`h-5 w-5 ${ue<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ue)),g.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[P.rating,"/5"]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:P.review})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm text-gray-500",children:L(P.createdAt)})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[g.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>M(P.id,"reviews"),children:"عرض"}),g.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"reviews"),children:"تعديل"}),g.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"reviews"),children:"حذف"})]})]},P.id))})]})}),B=()=>g.jsx("div",{className:"flex flex-wrap border-b text-sm font-medium text-center text-gray-500 mb-4",children:[{id:"users",label:"المستخدمين"},{id:"providers",label:"مقدمي الخدمة"},{id:"complaints",label:"الشكاوى والاقتراحات"},{id:"reviews",label:"التقييمات"}].map(P=>g.jsx("button",{className:`inline-block p-4 rounded-t-lg ${e===P.id?"text-cyan-600 border-b-2 border-cyan-600":"hover:text-gray-600 hover:border-gray-300"}`,onClick:()=>t(P.id),children:P.label},P.id))}),Se=()=>g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"البريد الإلكتروني"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المحافظة"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(P=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm text-gray-500",children:P.email})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm text-gray-500",children:P.governorate})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[g.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>M(P.id,"users"),children:"عرض"}),g.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"users"),children:"تعديل"}),g.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"users"),children:"حذف"})]})]},P.id))})]})}),we=()=>g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المهنة"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التصنيف"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(P=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[P.profileImage&&g.jsx("div",{className:"flex-shrink-0 h-10 w-10 ml-2",children:g.jsx("img",{className:"h-10 w-10 rounded-full",src:P.profileImage,alt:""})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),g.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm text-gray-900",children:P.profession})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:P.category})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[g.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>M(P.id,"serviceProviders"),children:"عرض"}),g.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"serviceProviders"),children:"تعديل"}),g.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"serviceProviders"),children:"حذف"})]})]},P.id))})]})}),ae=()=>g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"النوع"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المستخدم"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العنوان"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(P=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:P.type==="complaint"?"شكوى":"اقتراح"})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.userName}),g.jsx("div",{className:"text-sm text-gray-500",children:P.userId})]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm text-gray-500",children:L(P.timestamp)})}),g.jsxs("td",{className:"px-6 py-4",children:[g.jsx("div",{className:"text-sm text-gray-900",children:P.title}),g.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="new"?"bg-gray-100 text-gray-800":P.status==="in_progress"?"bg-yellow-100 text-yellow-800":P.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="new"?"جديد":P.status==="in_progress"?"قيد المعالجة":P.status==="resolved"?"تم الحل":"مرفوض"})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[g.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>M(P.id,"feedbacks"),children:"عرض"}),g.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"feedbacks"),children:"تعديل"}),g.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"feedbacks"),children:"حذف"})]})]},P.id))})]})}),J=()=>w&&v&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[g.jsx("h2",{className:"text-xl font-bold mb-4",children:"تعديل البيانات"}),g.jsxs("div",{className:"space-y-4",children:[v.collectionName==="feedbacks"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"النوع"}),g.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:A.type||"complaint",onChange:P=>D({...A,type:P.target.value}),children:[g.jsx("option",{value:"complaint",children:"شكوى"}),g.jsx("option",{value:"suggestion",children:"اقتراح"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحالة"}),g.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:A.status||"new",onChange:P=>D({...A,status:P.target.value}),children:[g.jsx("option",{value:"new",children:"جديد"}),g.jsx("option",{value:"in_progress",children:"قيد المعالجة"}),g.jsx("option",{value:"resolved",children:"تم الحل"}),g.jsx("option",{value:"rejected",children:"مرفوض"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),g.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:A.title||"",onChange:P=>D({...A,title:P.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الرد"}),g.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:A.response||"",onChange:P=>D({...A,response:P.target.value}),placeholder:"أدخل ردك هنا..."})]})]}),v.collectionName!=="feedbacks"&&Object.keys(A).filter(P=>typeof A[P]!="object"&&typeof A[P]!="function"&&!P.includes("Image")&&P!=="id").map(P=>g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:P}),P==="bio"||P==="message"||P==="comment"?g.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:A[P]||"",onChange:Z=>D({...A,[P]:Z.target.value})}):g.jsx("input",{type:P==="email"?"email":"text",className:"w-full p-2 border border-gray-300 rounded-md",value:A[P]||"",onChange:Z=>D({...A,[P]:Z.target.value})})]},P))]}),g.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[g.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>T(!1),children:"إلغاء"}),g.jsx("button",{className:"px-4 py-2 bg-cyan-600 text-white rounded-md",onClick:R,children:"حفظ"})]})]})}),ne=()=>F&&N&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",dir:"rtl",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"التفاصيل"}),N.category&&g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[N.profileImage&&g.jsx("img",{src:N.profileImage,alt:"",className:"h-16 w-16 rounded-full object-cover ml-4"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-semibold",children:N.name}),g.jsxs("p",{className:"text-gray-600",children:[N.profession," - ",N.category]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",N.email]}),g.jsxs("p",{className:"text-gray-600",children:[" الباسورد: ",N.password]}),g.jsxs("p",{className:"text-gray-600",children:["رقم الهاتف: ",N.phone]}),g.jsxs("p",{className:"text-gray-600",children:["العنوان: ",N.address]}),g.jsxs("p",{className:"text-gray-600",children:["المحافظة: ",N.governorate]})]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-gray-600",children:["رسوم الاشتراك: ",N.subscriptionFee]}),g.jsxs("p",{className:"text-gray-600",children:["متوسط التقييم: ",N.averageRating?N.averageRating.toFixed(1):"لا يوجد"," (",N.totalRatings||0," تقييم)"]}),g.jsxs("p",{className:"text-gray-600",children:["عدد الأعمال: ",N.worksCount||0]})]})]}),N.bio&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"font-semibold mb-1",children:"نبذة:"}),g.jsx("p",{className:"text-gray-600",children:N.bio})]}),N.ratingsDetails&&N.ratingsDetails.length>0&&g.jsxs("div",{className:"mt-6",children:[g.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["التقييمات (",N.ratingsDetails.length,")"]}),g.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:N.ratingsDetails.map((P,Z)=>g.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3 last:border-0 last:mb-0 last:pb-0",children:[g.jsxs("div",{className:"flex justify-between mb-1",children:[g.jsx("div",{className:"font-medium",children:P.userName}),g.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((ue,xe)=>g.jsxs("svg",{className:`h-4 w-4 ${xe<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:["  ",g.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]},xe)),g.jsxs("span",{className:"text-xs text-gray-600 mr-1",children:[P.rating,"/5"]})]})]}),g.jsx("p",{className:"text-sm text-gray-600",children:P.comment}),g.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L(P.createdAt)})]},Z))})]})]}),!N.category&&!N.providerId&&!N.title&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(N).filter(([P])=>P!=="id"&&typeof N[P]!="object"&&typeof N[P]!="function").map(([P,Z])=>g.jsxs("div",{className:"mb-3",children:[g.jsxs("h4",{className:"font-semibold",children:[P,":"]}),g.jsx("p",{className:"text-gray-600",children:(Z==null?void 0:Z.toString())||"غير محدد"})]},P))}),N.title&&g.jsxs("div",{children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات المستخدم"}),g.jsxs("p",{className:"text-gray-600",children:["الاسم: ",N.userName]}),g.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",N.userId]}),g.jsxs("p",{className:"text-gray-600",children:["الدور: ",N.userRole]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["تفاصيل ",N.type==="complaint"?"الشكوى":"الاقتراح"]}),g.jsxs("p",{className:"text-gray-600",children:["النوع:",g.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${N.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:N.type==="complaint"?"شكوى":"اقتراح"})]}),g.jsxs("p",{className:"text-gray-600",children:["العنوان: ",N.title]}),g.jsxs("p",{className:"text-gray-600",children:["تاريخ الإنشاء: ",L(N.timestamp)]}),g.jsxs("p",{className:"text-gray-600",children:["الحالة:",g.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${N.status==="new"?"bg-gray-100 text-gray-800":N.status==="in_progress"?"bg-yellow-100 text-yellow-800":N.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.status==="new"?"جديد":N.status==="in_progress"?"قيد المعالجة":N.status==="resolved"?"تم الحل":"مرفوض"})]}),g.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[g.jsx("h4",{className:"font-semibold mb-1",children:"التفاصيل:"}),g.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:N.description})]})]}),N.response&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"الرد"}),g.jsx("div",{className:"p-3 bg-blue-50 rounded",children:g.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:N.response})}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["تاريخ الرد: ",L(N.respondedAt)]})]})]}),N.providerId&&!N.title&&g.jsx("div",{children:g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات التقييم"}),g.jsxs("p",{className:"text-gray-600",children:["المستخدم: ",N.userName]}),g.jsxs("p",{className:"text-gray-600",children:["مقدم الخدمة: ",N.providerName]}),g.jsxs("p",{className:"text-gray-600",children:["تاريخ التقييم: ",L(N.createdAt)]}),g.jsxs("div",{className:"flex items-center my-2",children:[g.jsx("span",{className:"ml-2",children:"التقييم:"}),[...Array(5)].map((P,Z)=>g.jsx("svg",{className:`h-5 w-5 ${Z<N.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Z)),g.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[N.rating,"/5"]})]}),g.jsxs("div",{className:"mt-2",children:[g.jsx("h4",{className:"font-semibold mb-1",children:"التعليق:"}),g.jsx("div",{className:"p-3 bg-gray-50 rounded",children:g.jsx("p",{className:"text-gray-800",children:N.comment})})]})]})}),g.jsx("div",{className:"flex justify-end mt-6",children:g.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>Y(!1),children:"إغلاق"})})]})}),be=()=>g.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-600"})});return g.jsxs(ve.div,{className:"container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 text-right",children:"لوحة تحكم المشرف"}),g.jsx(ve.button,{onClick:()=>{n("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تسجيل الخروج"}),B(),O?be():g.jsx(g.Fragment,{children:g.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[e==="users"&&Se(),e==="providers"&&we(),e==="complaints"&&ae(),e==="reviews"&&H()]})}),J(),ne()]})},Dz=()=>{const{serviceType:n}=jm(),e=Nn(),r={"خدمات فنية":[{name:"سباك",icon:"🔧",color:"bg-blue-500"},{name:"نجار",icon:"🪓",color:"bg-yellow-700"},{name:"كهربائي",icon:"⚡",color:"bg-yellow-500"},{name:"ميكانيكي",icon:"🔩",color:"bg-gray-700"},{name:"حداد",icon:"⚒️",color:"bg-red-700"},{name:"فني تكييفات",icon:"❄️",color:"bg-blue-300"},{name:"نقاش",icon:"🖌️",color:"bg-purple-500"},{name:"ترزي",icon:"🧵",color:"bg-pink-500"}],"خدمات صحية":[{name:"طبيب عام",icon:"👨‍⚕️",color:"bg-green-500"},{name:"صيدلي",icon:"💊",color:"bg-red-500"},{name:"ممرض",icon:"🩺",color:"bg-blue-400"},{name:"أخصائي تغذية",icon:"🥗",color:"bg-green-300"},{name:"أخصائي علاج طبيعي",icon:"🤸",color:"bg-indigo-500"},{name:"طبيب أسنان",icon:"🦷",color:"bg-cyan-500"}],"خدمات عامة":[{name:"سوبر ماركت",icon:"🛒",color:"bg-orange-500"},{name:"مطعم",icon:"🍽️",color:"bg-red-600"},{name:"كافيه",icon:"☕",color:"bg-yellow-900"},{name:"مولات",icon:"🏬",color:"bg-purple-700"}],"خدمات أخرى":[{name:"عطار",icon:"🌿",color:"bg-green-700"},{name:"جزار",icon:"🥩",color:"bg-red-800"},{name:"فكهاني",icon:"🍎",color:"bg-red-500"},{name:"خضري",icon:"🥬",color:"bg-green-500"},{name:"محل ألبان",icon:"🥛",color:"bg-white text-gray-800"}]}[n]||[],a={"خدمات فنية":"الخدمات الفنية والحرفية","خدمات صحية":"الخدمات الصحية والطبية","خدمات عامة":"الخدمات العامة والتجارية","خدمات أخرى":"خدمات متنوعة أخرى"},o=l=>{e(`/nafany/services_jobs/${n}/${l.name}`)};return g.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"flex items-center mb-6 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),g.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:a[n]||n}),g.jsx(ve.p,{className:"text-lg text-center text-gray-600 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"اختر الخدمة التي تحتاجها من القائمة أدناه"}),g.jsx(ve.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.1}}},children:r.map((l,u)=>g.jsx(ve.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},className:`${l.color} rounded-xl shadow-lg p-6 cursor-pointer text-center transition-all`,onClick:()=>o(l),children:g.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[g.jsx("span",{className:"text-4xl mb-3",children:l.icon}),g.jsx("h3",{className:"text-xl font-bold text-white",children:l.name})]})},u))}),r.length===0&&g.jsx("div",{className:"text-center text-gray-600 text-xl mt-10",children:"لا توجد خدمات متاحة في هذه الفئة حالياً"})]})})},Az=()=>{const n=_k(Z4(g.jsxs(g.Fragment,{children:[g.jsx(Qn,{path:"/nafany/check_sign",element:g.jsx(vj,{})}),g.jsx(Qn,{path:"/nafany/check_user",element:g.jsx(mj,{})}),g.jsx(Qn,{path:"/nafany/login",element:g.jsx(M9,{})}),g.jsx(Qn,{path:"/nafany/register",element:g.jsx(k9,{})}),g.jsx(Qn,{path:"/nafany/register_user",element:g.jsx(P9,{})}),g.jsx(Qn,{path:"/nafany/services_jobs/:serviceType/:professionType",element:g.jsx(s8,{})}),g.jsx(Qn,{path:"/nafany/servicer_page",element:g.jsx(o8,{})}),g.jsx(Qn,{path:"/nafany/book_page/:providerId",element:g.jsx(vz,{})}),g.jsx(Qn,{path:"/nafany/",element:g.jsx(i8,{})}),g.jsx(Qn,{path:"/nafany/chat/:providerId",element:g.jsx(xz,{})}),g.jsx(Qn,{path:"/nafany/chats",element:g.jsx(_z,{})}),g.jsx(Qn,{path:"/nafany/settings",element:g.jsx(wz,{})}),g.jsx(Qn,{path:"/nafany/contact",element:g.jsx(Ez,{})}),g.jsx(Qn,{path:"/nafany/complaints",element:g.jsx(Tz,{})}),g.jsx(Qn,{path:"/nafany/admin",element:g.jsx(Sz,{})}),g.jsx(Qn,{path:"/nafany/service_categories/:serviceType",element:g.jsx(Dz,{})})]})));return g.jsx(g.Fragment,{children:g.jsx(Ok,{router:n})})};MM.createRoot(document.getElementById("root")).render(g.jsx(k.StrictMode,{children:g.jsx(Az,{})}));
