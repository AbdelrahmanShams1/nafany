var Y4=Object.defineProperty;var q4=(n,e,t)=>e in n?Y4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ce=(n,e,t)=>q4(n,typeof e!="symbol"?e+"":e,t);function $4(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function CS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wy={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function G4(){if(E_)return Ou;E_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Ou.Fragment=e,Ou.jsx=t,Ou.jsxs=t,Ou}var T_;function Q4(){return T_||(T_=1,wy.exports=G4()),wy.exports}var p=Q4(),_y={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function K4(){if(S_)return st;S_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,D={};function A(P,W,ue){this.props=P,this.context=W,this.refs=D,this.updater=ue||_}A.prototype.isReactComponent={},A.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function j(){}j.prototype=A.prototype;function U(P,W,ue){this.props=P,this.context=W,this.refs=D,this.updater=ue||_}var F=U.prototype=new j;F.constructor=U,E(F,A.prototype),F.isPureReactComponent=!0;var q=Array.isArray,k={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function O(P,W,ue,de,we,Be){return ue=Be.ref,{$$typeof:n,type:P,key:W,ref:ue!==void 0?ue:null,props:Be}}function R(P,W){return O(P.type,W,void 0,void 0,void 0,P.props)}function N(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function C(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return W[ue]})}var L=/\/+/g;function z(P,W){return typeof P=="object"&&P!==null&&P.key!=null?C(""+P.key):W.toString(36)}function B(){}function Ee(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(B,B):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function be(P,W,ue,de,we){var Be=typeof P;(Be==="undefined"||Be==="boolean")&&(P=null);var Ye=!1;if(P===null)Ye=!0;else switch(Be){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(P.$$typeof){case n:case e:Ye=!0;break;case y:return Ye=P._init,be(Ye(P._payload),W,ue,de,we)}}if(Ye)return we=we(P),Ye=de===""?"."+z(P,0):de,q(we)?(ue="",Ye!=null&&(ue=Ye.replace(L,"$&/")+"/"),be(we,W,ue,"",function(qe){return qe})):we!=null&&(N(we)&&(we=R(we,ue+(we.key==null||P&&P.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+Ye)),W.push(we)),1;Ye=0;var Lt=de===""?".":de+":";if(q(P))for(var at=0;at<P.length;at++)de=P[at],Be=Lt+z(de,at),Ye+=be(de,W,ue,Be,we);else if(at=b(P),typeof at=="function")for(P=at.call(P),at=0;!(de=P.next()).done;)de=de.value,Be=Lt+z(de,at++),Ye+=be(de,W,ue,Be,we);else if(Be==="object"){if(typeof P.then=="function")return be(Ee(P),W,ue,de,we);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function G(P,W,ue){if(P==null)return P;var de=[],we=0;return be(P,de,"","",function(Be){return W.call(ue,Be,we++)}),de}function re(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var oe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ve(){}return st.Children={map:G,forEach:function(P,W,ue){G(P,function(){W.apply(this,arguments)},ue)},count:function(P){var W=0;return G(P,function(){W++}),W},toArray:function(P){return G(P,function(W){return W})||[]},only:function(P){if(!N(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},st.Component=A,st.Fragment=t,st.Profiler=a,st.PureComponent=U,st.StrictMode=r,st.Suspense=h,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,st.act=function(){throw Error("act(...) is not supported in production builds of React.")},st.cache=function(P){return function(){return P.apply(null,arguments)}},st.cloneElement=function(P,W,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=E({},P.props),we=P.key,Be=void 0;if(W!=null)for(Ye in W.ref!==void 0&&(Be=void 0),W.key!==void 0&&(we=""+W.key),W)!$.call(W,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&W.ref===void 0||(de[Ye]=W[Ye]);var Ye=arguments.length-2;if(Ye===1)de.children=ue;else if(1<Ye){for(var Lt=Array(Ye),at=0;at<Ye;at++)Lt[at]=arguments[at+2];de.children=Lt}return O(P.type,we,void 0,void 0,Be,de)},st.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},st.createElement=function(P,W,ue){var de,we={},Be=null;if(W!=null)for(de in W.key!==void 0&&(Be=""+W.key),W)$.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(we[de]=W[de]);var Ye=arguments.length-2;if(Ye===1)we.children=ue;else if(1<Ye){for(var Lt=Array(Ye),at=0;at<Ye;at++)Lt[at]=arguments[at+2];we.children=Lt}if(P&&P.defaultProps)for(de in Ye=P.defaultProps,Ye)we[de]===void 0&&(we[de]=Ye[de]);return O(P,Be,void 0,void 0,null,we)},st.createRef=function(){return{current:null}},st.forwardRef=function(P){return{$$typeof:u,render:P}},st.isValidElement=N,st.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:re}},st.memo=function(P,W){return{$$typeof:f,type:P,compare:W===void 0?null:W}},st.startTransition=function(P){var W=k.T,ue={};k.T=ue;try{var de=P(),we=k.S;we!==null&&we(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ve,oe)}catch(Be){oe(Be)}finally{k.T=W}},st.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},st.use=function(P){return k.H.use(P)},st.useActionState=function(P,W,ue){return k.H.useActionState(P,W,ue)},st.useCallback=function(P,W){return k.H.useCallback(P,W)},st.useContext=function(P){return k.H.useContext(P)},st.useDebugValue=function(){},st.useDeferredValue=function(P,W){return k.H.useDeferredValue(P,W)},st.useEffect=function(P,W){return k.H.useEffect(P,W)},st.useId=function(){return k.H.useId()},st.useImperativeHandle=function(P,W,ue){return k.H.useImperativeHandle(P,W,ue)},st.useInsertionEffect=function(P,W){return k.H.useInsertionEffect(P,W)},st.useLayoutEffect=function(P,W){return k.H.useLayoutEffect(P,W)},st.useMemo=function(P,W){return k.H.useMemo(P,W)},st.useOptimistic=function(P,W){return k.H.useOptimistic(P,W)},st.useReducer=function(P,W,ue){return k.H.useReducer(P,W,ue)},st.useRef=function(P){return k.H.useRef(P)},st.useState=function(P){return k.H.useState(P)},st.useSyncExternalStore=function(P,W,ue){return k.H.useSyncExternalStore(P,W,ue)},st.useTransition=function(){return k.H.useTransition()},st.version="19.0.0",st}var D_;function Tv(){return D_||(D_=1,_y.exports=K4()),_y.exports}var M=Tv();const Z=CS(M),W4=$4({__proto__:null,default:Z},[M]);var Ey={exports:{}},Iu={},Ty={exports:{}},Sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function X4(){return A_||(A_=1,function(n){function e(G,re){var oe=G.length;G.push(re);e:for(;0<oe;){var ve=oe-1>>>1,P=G[ve];if(0<a(P,re))G[ve]=re,G[oe]=P,oe=ve;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],oe=G.pop();if(oe!==re){G[0]=oe;e:for(var ve=0,P=G.length,W=P>>>1;ve<W;){var ue=2*(ve+1)-1,de=G[ue],we=ue+1,Be=G[we];if(0>a(de,oe))we<P&&0>a(Be,de)?(G[ve]=Be,G[we]=oe,ve=we):(G[ve]=de,G[ue]=oe,ve=ue);else if(we<P&&0>a(Be,oe))G[ve]=Be,G[we]=oe,ve=we;else break e}}return re}function a(G,re){var oe=G.sortIndex-re.sortIndex;return oe!==0?oe:G.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],y=1,v=null,b=3,_=!1,E=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function F(G){for(var re=t(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=G)r(f),re.sortIndex=re.expirationTime,e(h,re);else break;re=t(f)}}function q(G){if(D=!1,F(G),!E)if(t(h)!==null)E=!0,Ee();else{var re=t(f);re!==null&&be(q,re.startTime-G)}}var k=!1,$=-1,O=5,R=-1;function N(){return!(n.unstable_now()-R<O)}function C(){if(k){var G=n.unstable_now();R=G;var re=!0;try{e:{E=!1,D&&(D=!1,j($),$=-1),_=!0;var oe=b;try{t:{for(F(G),v=t(h);v!==null&&!(v.expirationTime>G&&N());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var P=ve(v.expirationTime<=G);if(G=n.unstable_now(),typeof P=="function"){v.callback=P,F(G),re=!0;break t}v===t(h)&&r(h),F(G)}else r(h);v=t(h)}if(v!==null)re=!0;else{var W=t(f);W!==null&&be(q,W.startTime-G),re=!1}}break e}finally{v=null,b=oe,_=!1}re=void 0}}finally{re?L():k=!1}}}var L;if(typeof U=="function")L=function(){U(C)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=C,L=function(){B.postMessage(null)}}else L=function(){A(C,0)};function Ee(){k||(k=!0,L())}function be(G,re){$=A(function(){G(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){E||_||(E=!0,Ee())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var oe=b;b=re;try{return G()}finally{b=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=b;b=G;try{return re()}finally{b=oe}},n.unstable_scheduleCallback=function(G,re,oe){var ve=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ve+oe:ve):oe=ve,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=oe+P,G={id:y++,callback:re,priorityLevel:G,startTime:oe,expirationTime:P,sortIndex:-1},oe>ve?(G.sortIndex=oe,e(f,G),t(h)===null&&G===t(f)&&(D?(j($),$=-1):D=!0,be(q,oe-ve))):(G.sortIndex=P,e(h,G),E||_||(E=!0,Ee())),G},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(G){var re=b;return function(){var oe=b;b=re;try{return G.apply(this,arguments)}finally{b=oe}}}}(Sy)),Sy}var R_;function Z4(){return R_||(R_=1,Ty.exports=X4()),Ty.exports}var Dy={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function J4(){if(C_)return lr;C_=1;var n=Tv();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:f,implementation:y}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(h,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,y)},lr.flushSync=function(h){var f=l.T,y=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=y,r.d.f()}},lr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},lr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},lr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var y=f.as,v=u(y,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):y==="script"&&r.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},lr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},lr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,v=u(y,f.crossOrigin);r.d.L(h,y,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},lr.preloadModule=function(h,f){if(typeof h=="string")if(f){var y=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},lr.requestFormReset=function(h){r.d.r(h)},lr.unstable_batchedUpdates=function(h,f){return h(f)},lr.useFormState=function(h,f,y){return l.H.useFormState(h,f,y)},lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},lr.version="19.0.0",lr}var N_;function NS(){if(N_)return Dy.exports;N_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dy.exports=J4(),Dy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function eM(){if(M_)return Iu;M_=1;var n=Z4(),e=Tv(),t=NS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),q=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case h:return"Fragment";case u:return"Portal";case y:return"Profiler";case f:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case _:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case E:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:R(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return R(i(s))}catch{}}return null}var N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,L,z;function B(i){if(L===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",z=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+z}var Ee=!1;function be(i,s){if(!i||Ee)return"";Ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(le){var ae=le}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(le){ae=le}i.call(ye.prototype)}}else{try{throw Error()}catch(le){ae=le}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),S=x[0],I=x[1];if(S&&I){var H=S.split(`
`),K=I.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===K.length)for(d=H.length-1,g=K.length-1;1<=d&&0<=g&&H[d]!==K[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==K[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==K[g]){var ce=`
`+H[d].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=d&&0<=g);break}}}finally{Ee=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?B(c):""}function G(i){switch(i.tag){case 26:case 27:case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function re(i){try{var s="";do s+=G(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function oe(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function ve(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function P(i){if(oe(i)!==i)throw Error(r(188))}function W(i){var s=i.alternate;if(!s){if(s=oe(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,d=s;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return P(g),i;if(x===d)return P(g),s;x=x.sibling}throw Error(r(188))}if(c.return!==d.return)c=g,d=x;else{for(var S=!1,I=g.child;I;){if(I===c){S=!0,c=g,d=x;break}if(I===d){S=!0,d=g,c=x;break}I=I.sibling}if(!S){for(I=x.child;I;){if(I===c){S=!0,c=x,d=g;break}if(I===d){S=!0,d=x,c=g;break}I=I.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function ue(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=ue(i),s!==null)return s;i=i.sibling}return null}var de=Array.isArray,we=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ye=[],Lt=-1;function at(i){return{current:i}}function qe(i){0>Lt||(i.current=Ye[Lt],Ye[Lt]=null,Lt--)}function it(i,s){Lt++,Ye[Lt]=i.current,i.current=s}var Bt=at(null),yr=at(null),Xt=at(null),hn=at(null);function Hn(i,s){switch(it(Xt,s),it(yr,i),it(Bt,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Z1(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Z1(i),s=J1(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}qe(Bt),it(Bt,s)}function rr(){qe(Bt),qe(yr),qe(Xt)}function ar(i){i.memoizedState!==null&&it(hn,i);var s=Bt.current,c=J1(s,i.type);s!==c&&(it(yr,i),it(Bt,c))}function $r(i){yr.current===i&&(qe(Bt),qe(yr)),hn.current===i&&(qe(hn),Nu._currentValue=Be)}var xe=Object.prototype.hasOwnProperty,Qe=n.unstable_scheduleCallback,ke=n.unstable_cancelCallback,Ke=n.unstable_shouldYield,et=n.unstable_requestPaint,ge=n.unstable_now,Re=n.unstable_getCurrentPriorityLevel,Se=n.unstable_ImmediatePriority,We=n.unstable_UserBlockingPriority,_t=n.unstable_NormalPriority,vr=n.unstable_LowPriority,ir=n.unstable_IdlePriority,ss=n.log,Gr=n.unstable_setDisableYieldValue,wa=null,Pn=null;function os(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(wa,i,void 0,(i.current.flags&128)===128)}catch{}}function xr(i){if(typeof ss=="function"&&Gr(i),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(wa,i)}catch{}}var jn=Math.clz32?Math.clz32:co,yi=Math.log,dl=Math.LN2;function co(i){return i>>>=0,i===0?32:31-(yi(i)/dl|0)|0}var Qr=128,_a=4194304;function sr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Yn(i,s){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,x=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var I=c&134217727;return I!==0?(c=I&~g,c!==0?d=sr(c):(x&=I,x!==0?d=sr(x):i||(S=I&~S,S!==0&&(d=sr(S))))):(I=c&~g,I!==0?d=sr(I):x!==0?d=sr(x):i||(S=c&~S,S!==0&&(d=sr(S)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,S=s&-s,g>=S||g===32&&(S&4194176)!==0)?s:d}function Ia(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ls(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var i=Qr;return Qr<<=1,(Qr&4194176)===0&&(Qr=128),i}function X(){var i=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),i}function ie(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function he(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Te(i,s,c,d,g,x){var S=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var I=i.entanglements,H=i.expirationTimes,K=i.hiddenUpdates;for(c=S&~c;0<c;){var ce=31-jn(c),ye=1<<ce;I[ce]=0,H[ce]=-1;var ae=K[ce];if(ae!==null)for(K[ce]=null,ce=0;ce<ae.length;ce++){var le=ae[ce];le!==null&&(le.lane&=-536870913)}c&=~ye}d!==0&&ze(i,d,0),x!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=x&~(S&~s))}function ze(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-jn(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194218}function Fe(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-jn(c),g=1<<d;g&s|i[d]&s&&(i[d]|=s),c&=~g}}function Ie(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Le(){var i=we.p;return i!==0?i:(i=window.event,i===void 0?32:y_(i.type))}function De(i,s){var c=we.p;try{return we.p=i,s()}finally{we.p=c}}var Pe=Math.random().toString(36).slice(2),je="__reactFiber$"+Pe,Ge="__reactProps$"+Pe,Dt="__reactContainer$"+Pe,Zt="__reactEvents$"+Pe,zt="__reactListeners$"+Pe,Et="__reactHandles$"+Pe,Kt="__reactResources$"+Pe,br="__reactMarker$"+Pe;function Ir(i){delete i[je],delete i[Ge],delete i[Zt],delete i[zt],delete i[Et]}function fn(i){var s=i[je];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Dt]||c[je]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=n_(i);i!==null;){if(c=i[je])return c;i=n_(i)}return s}i=c,c=i.parentNode}return null}function xn(i){if(i=i[je]||i[Dt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Kr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Cr(i){var s=i[Kt];return s||(s=i[Kt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(i){i[br]=!0}var Va=new Set,Ea={};function ot(i,s){Mt(i,s),Mt(i+"Capture",s)}function Mt(i,s){for(Ea[i]=s,i=0;i<s.length;i++)Va.add(s[i])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qt={},Wr={};function uo(i){return xe.call(Wr,i)?!0:xe.call(qt,i)?!1:vi.test(i)?Wr[i]=!0:(qt[i]=!0,!1)}function La(i,s,c){if(uo(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function cs(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Xr(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}function wr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dp(i){var s=Zd(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,x.call(this,S)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ho(i){i._valueTracker||(i._valueTracker=Dp(i))}function Fc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=Zd(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function hl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xi=/[\n"\\]/g;function sn(i){return i.replace(xi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function us(i,s,c,d,g,x,S,I){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+wr(s)):i.value!==""+wr(s)&&(i.value=""+wr(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?fl(i,S,wr(s)):c!=null?fl(i,S,wr(c)):d!=null&&i.removeAttribute("value"),g==null&&x!=null&&(i.defaultChecked=!!x),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+wr(I):i.removeAttribute("name")}function fo(i,s,c,d,g,x,S,I){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;c=c!=null?""+wr(c):"",s=s!=null?""+wr(s):c,I||s===i.value||(i.value=s),i.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=I?i.checked:!!d,i.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function fl(i,s,c){s==="number"&&hl(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function At(i,s,c,d){if(i=i.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=s.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&d&&(i[c].defaultSelected=!0)}else{for(c=""+wr(c),s=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function mo(i,s,c){if(s!=null&&(s=""+wr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+wr(c):""}function ds(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(de(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=wr(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function Zr(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Ap=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||Ap.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Jd(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&c[g]!==d&&Bc(i,g,d)}else for(var x in s)s.hasOwnProperty(x)&&Bc(i,x,s[x])}function zc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(i){return Cp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Jr=null;function ml(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bi=null,wi=null;function _i(i){var s=xn(i);if(s&&(i=s.stateNode)){var c=i[Ge]||null;e:switch(i=s.stateNode,s.type){case"input":if(us(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var g=d[Ge]||null;if(!g)throw Error(r(90));us(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&Fc(d)}break e;case"textarea":mo(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&At(i,!!c.multiple,s,!1)}}}var Hc=!1;function eh(i,s,c){if(Hc)return i(s,c);Hc=!0;try{var d=i(s);return d}finally{if(Hc=!1,(bi!==null||wi!==null)&&(qh(),bi&&(s=bi,i=wi,wi=bi=null,_i(s),i)))for(s=0;s<i.length;s++)_i(i[s])}}function po(i,s){var c=i.stateNode;if(c===null)return null;var d=c[Ge]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ea=!1;if(On)try{var go={};Object.defineProperty(go,"passive",{get:function(){ea=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{ea=!1}var Fa=null,hs=null,Ei=null;function Yc(){if(Ei)return Ei;var i,s=hs,c=s.length,d,g="value"in Fa?Fa.value:Fa.textContent,x=g.length;for(i=0;i<c&&s[i]===g[i];i++);var S=c-i;for(d=1;d<=S&&s[c-d]===g[x-d];d++);return Ei=g.slice(i,1<d?1-d:void 0)}function Ba(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function za(){return!0}function qc(){return!1}function In(i){function s(c,d,g,x,S){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(c=i[I],this[I]=c?c(x):x[I]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?za:qc,this.isPropagationStopped=qc,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),s}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=In(Pt),yo=C({},Pt,{view:0,detail:0}),th=In(yo),gl,yl,Ha,vo=C({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ha&&(Ha&&i.type==="mousemove"?(gl=i.screenX-Ha.screenX,yl=i.screenY-Ha.screenY):yl=gl=0,Ha=i),gl)},movementY:function(i){return"movementY"in i?i.movementY:yl}}),ta=In(vo),nh=C({},vo,{dataTransfer:0}),Np=In(nh),xo=C({},yo,{relatedTarget:0}),vl=In(xo),$c=C({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),xl=In($c),rh=C({},Pt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bl=In(rh),Mp=C({},Pt,{data:0}),Gc=In(Mp),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ih[i])?!!s[i]:!1}function wo(){return Qc}var sh=C({},yo,{key:function(i){if(i.key){var s=bo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ba(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ah[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(i){return i.type==="keypress"?Ba(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ba(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wl=In(sh),oh=C({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=In(oh),Ti=C({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),lh=In(Ti),ch=C({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),uh=In(ch),dh=C({},vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_l=In(dh),_r=C({},Pt,{newState:0,oldState:0}),hh=In(_r),fh=[9,13,27,32],Ya=On&&"CompositionEvent"in window,m=null;On&&"documentMode"in document&&(m=document.documentMode);var w=On&&"TextEvent"in window&&!m,T=On&&(!Ya||m&&8<m&&11>=m),V=" ",te=!1;function se(i,s){switch(i){case"keyup":return fh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yt=!1;function An(i,s){switch(i){case"compositionend":return _e(s);case"keypress":return s.which!==32?null:(te=!0,V);case"textInput":return i=s.data,i===V&&te?null:i;default:return null}}function vt(i,s){if(yt)return i==="compositionend"||!Ya&&se(i,s)?(i=Yc(),Ei=hs=Fa=null,yt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Vn[i.type]:s==="textarea"}function Si(i,s,c,d){bi?wi?wi.push(d):wi=[d]:bi=d,s=Wh(s,"onChange"),0<s.length&&(c=new pl("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var qn=null,qa=null;function Wc(i){G1(i,0)}function mh(i){var s=Kr(i);if(Fc(s))return i}function _b(i,s){if(i==="change")return s}var Eb=!1;if(On){var kp;if(On){var Pp="oninput"in document;if(!Pp){var Tb=document.createElement("div");Tb.setAttribute("oninput","return;"),Pp=typeof Tb.oninput=="function"}kp=Pp}else kp=!1;Eb=kp&&(!document.documentMode||9<document.documentMode)}function Sb(){qn&&(qn.detachEvent("onpropertychange",Db),qa=qn=null)}function Db(i){if(i.propertyName==="value"&&mh(qa)){var s=[];Si(s,qa,i,ml(i)),eh(Wc,s)}}function bN(i,s,c){i==="focusin"?(Sb(),qn=s,qa=c,qn.attachEvent("onpropertychange",Db)):i==="focusout"&&Sb()}function wN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mh(qa)}function _N(i,s){if(i==="click")return mh(s)}function EN(i,s){if(i==="input"||i==="change")return mh(s)}function TN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vr=typeof Object.is=="function"?Object.is:TN;function Xc(i,s){if(Vr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!xe.call(s,g)||!Vr(i[g],s[g]))return!1}return!0}function Ab(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rb(i,s){var c=Ab(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ab(c)}}function Cb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Nb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=hl(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=hl(i.document)}return s}function jp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function SN(i,s){var c=Nb(s);s=i.focusedElem;var d=i.selectionRange;if(c!==s&&s&&s.ownerDocument&&Cb(s.ownerDocument.documentElement,s)){if(d!==null&&jp(s)){if(i=d.start,c=d.end,c===void 0&&(c=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(c,s.value.length);else if(c=(i=s.ownerDocument||document)&&i.defaultView||window,c.getSelection){c=c.getSelection();var g=s.textContent.length,x=Math.min(d.start,g);d=d.end===void 0?x:Math.min(d.end,g),!c.extend&&x>d&&(g=d,d=x,x=g),g=Rb(s,x);var S=Rb(s,d);g&&S&&(c.rangeCount!==1||c.anchorNode!==g.node||c.anchorOffset!==g.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),c.removeAllRanges(),x>d?(c.addRange(i),c.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),c.addRange(i)))}}for(i=[],c=s;c=c.parentNode;)c.nodeType===1&&i.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)c=i[s],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var DN=On&&"documentMode"in document&&11>=document.documentMode,El=null,Op=null,Zc=null,Ip=!1;function Mb(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ip||El==null||El!==hl(d)||(d=El,"selectionStart"in d&&jp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Zc&&Xc(Zc,d)||(Zc=d,d=Wh(Op,"onSelect"),0<d.length&&(s=new pl("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=El)))}function _o(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Tl={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},Vp={},kb={};On&&(kb=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Eo(i){if(Vp[i])return Vp[i];if(!Tl[i])return i;var s=Tl[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in kb)return Vp[i]=s[c];return i}var Pb=Eo("animationend"),jb=Eo("animationiteration"),Ob=Eo("animationstart"),AN=Eo("transitionrun"),RN=Eo("transitionstart"),CN=Eo("transitioncancel"),Ib=Eo("transitionend"),Vb=new Map,Lb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ta(i,s){Vb.set(i,s),ot(s,[i])}var na=[],Sl=0,Lp=0;function ph(){for(var i=Sl,s=Lp=Sl=0;s<i;){var c=na[s];na[s++]=null;var d=na[s];na[s++]=null;var g=na[s];na[s++]=null;var x=na[s];if(na[s++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}x!==0&&Ub(c,g,x)}}function gh(i,s,c,d){na[Sl++]=i,na[Sl++]=s,na[Sl++]=c,na[Sl++]=d,Lp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Up(i,s,c,d){return gh(i,s,c,d),yh(i)}function fs(i,s){return gh(i,null,null,s),yh(i)}function Ub(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var g=!1,x=i.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(g=!0)),i=x,x=x.return;g&&s!==null&&i.tag===3&&(x=i.stateNode,g=31-jn(c),x=x.hiddenUpdates,i=x[g],i===null?x[g]=[s]:i.push(s),s.lane=c|536870912)}function yh(i){if(50<Eu)throw Eu=0,qg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Dl={},Fb=new WeakMap;function ra(i,s){if(typeof i=="object"&&i!==null){var c=Fb.get(i);return c!==void 0?c:(s={value:i,source:s,stack:re(s)},Fb.set(i,s),s)}return{value:i,source:s,stack:re(s)}}var Al=[],Rl=0,vh=null,xh=0,aa=[],ia=0,To=null,Di=1,Ai="";function So(i,s){Al[Rl++]=xh,Al[Rl++]=vh,vh=i,xh=s}function Bb(i,s,c){aa[ia++]=Di,aa[ia++]=Ai,aa[ia++]=To,To=i;var d=Di;i=Ai;var g=32-jn(d)-1;d&=~(1<<g),c+=1;var x=32-jn(s)+g;if(30<x){var S=g-g%5;x=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Di=1<<32-jn(s)+g|c<<g|d,Ai=x+i}else Di=1<<x|c<<g|d,Ai=i}function Fp(i){i.return!==null&&(So(i,1),Bb(i,1,0))}function Bp(i){for(;i===vh;)vh=Al[--Rl],Al[Rl]=null,xh=Al[--Rl],Al[Rl]=null;for(;i===To;)To=aa[--ia],aa[ia]=null,Ai=aa[--ia],aa[ia]=null,Di=aa[--ia],aa[ia]=null}var Er=null,$n=null,Rt=!1,Sa=null,$a=!1,zp=Error(r(519));function Do(i){var s=Error(r(418,""));throw tu(ra(s,i)),zp}function zb(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[je]=i,s[Ge]=d,c){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(c=0;c<Su.length;c++)gt(Su[c],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":gt("invalid",s),fo(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ho(s);break;case"select":gt("invalid",s);break;case"textarea":gt("invalid",s),ds(s,d.value,d.defaultValue,d.children),ho(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||X1(s.textContent,c)?(d.popover!=null&&(gt("beforetoggle",s),gt("toggle",s)),d.onScroll!=null&&gt("scroll",s),d.onScrollEnd!=null&&gt("scrollend",s),d.onClick!=null&&(s.onclick=Xh),s=!0):s=!1,s||Do(i)}function Hb(i){for(Er=i.return;Er;)switch(Er.tag){case 3:case 27:$a=!0;return;case 5:case 13:$a=!1;return;default:Er=Er.return}}function Jc(i){if(i!==Er)return!1;if(!Rt)return Hb(i),Rt=!0,!1;var s=!1,c;if((c=i.tag!==3&&i.tag!==27)&&((c=i.tag===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ly(i.type,i.memoizedProps)),c=!c),c&&(s=!0),s&&$n&&Do(i),Hb(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){$n=Aa(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}$n=null}}else $n=Er?Aa(i.stateNode.nextSibling):null;return!0}function eu(){$n=Er=null,Rt=!1}function tu(i){Sa===null?Sa=[i]:Sa.push(i)}var nu=Error(r(460)),Yb=Error(r(474)),Hp={then:function(){}};function qb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bh(){}function $b(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(bh,bh),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===nu?Error(r(483)):i;default:if(typeof s.status=="string")s.then(bh,bh);else{if(i=$t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===nu?Error(r(483)):i}throw ru=s,nu}}var ru=null;function Gb(){if(ru===null)throw Error(r(459));var i=ru;return ru=null,i}var Cl=null,au=0;function wh(i){var s=au;return au+=1,Cl===null&&(Cl=[]),$b(Cl,i,s)}function iu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function _h(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qb(i){var s=i._init;return s(i._payload)}function Kb(i){function s(J,Q){if(i){var ne=J.deletions;ne===null?(J.deletions=[Q],J.flags|=16):ne.push(Q)}}function c(J,Q){if(!i)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function d(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function g(J,Q){return J=Ss(J,Q),J.index=0,J.sibling=null,J}function x(J,Q,ne){return J.index=ne,i?(ne=J.alternate,ne!==null?(ne=ne.index,ne<Q?(J.flags|=33554434,Q):ne):(J.flags|=33554434,Q)):(J.flags|=1048576,Q)}function S(J){return i&&J.alternate===null&&(J.flags|=33554434),J}function I(J,Q,ne,fe){return Q===null||Q.tag!==6?(Q=Vg(ne,J.mode,fe),Q.return=J,Q):(Q=g(Q,ne),Q.return=J,Q)}function H(J,Q,ne,fe){var Oe=ne.type;return Oe===h?ce(J,Q,ne.props.children,fe,ne.key):Q!==null&&(Q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===U&&Qb(Oe)===Q.type)?(Q=g(Q,ne.props),iu(Q,ne),Q.return=J,Q):(Q=Fh(ne.type,ne.key,ne.props,null,J.mode,fe),iu(Q,ne),Q.return=J,Q)}function K(J,Q,ne,fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=Lg(ne,J.mode,fe),Q.return=J,Q):(Q=g(Q,ne.children||[]),Q.return=J,Q)}function ce(J,Q,ne,fe,Oe){return Q===null||Q.tag!==7?(Q=Io(ne,J.mode,fe,Oe),Q.return=J,Q):(Q=g(Q,ne),Q.return=J,Q)}function ye(J,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Vg(""+Q,J.mode,ne),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return ne=Fh(Q.type,Q.key,Q.props,null,J.mode,ne),iu(ne,Q),ne.return=J,ne;case u:return Q=Lg(Q,J.mode,ne),Q.return=J,Q;case U:var fe=Q._init;return Q=fe(Q._payload),ye(J,Q,ne)}if(de(Q)||$(Q))return Q=Io(Q,J.mode,ne,null),Q.return=J,Q;if(typeof Q.then=="function")return ye(J,wh(Q),ne);if(Q.$$typeof===_)return ye(J,Vh(J,Q),ne);_h(J,Q)}return null}function ae(J,Q,ne,fe){var Oe=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Oe!==null?null:I(J,Q,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return ne.key===Oe?H(J,Q,ne,fe):null;case u:return ne.key===Oe?K(J,Q,ne,fe):null;case U:return Oe=ne._init,ne=Oe(ne._payload),ae(J,Q,ne,fe)}if(de(ne)||$(ne))return Oe!==null?null:ce(J,Q,ne,fe,null);if(typeof ne.then=="function")return ae(J,Q,wh(ne),fe);if(ne.$$typeof===_)return ae(J,Q,Vh(J,ne),fe);_h(J,ne)}return null}function le(J,Q,ne,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return J=J.get(ne)||null,I(Q,J,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return J=J.get(fe.key===null?ne:fe.key)||null,H(Q,J,fe,Oe);case u:return J=J.get(fe.key===null?ne:fe.key)||null,K(Q,J,fe,Oe);case U:var dt=fe._init;return fe=dt(fe._payload),le(J,Q,ne,fe,Oe)}if(de(fe)||$(fe))return J=J.get(ne)||null,ce(Q,J,fe,Oe,null);if(typeof fe.then=="function")return le(J,Q,ne,wh(fe),Oe);if(fe.$$typeof===_)return le(J,Q,ne,Vh(Q,fe),Oe);_h(Q,fe)}return null}function Ue(J,Q,ne,fe){for(var Oe=null,dt=null,He=Q,Xe=Q=0,Fn=null;He!==null&&Xe<ne.length;Xe++){He.index>Xe?(Fn=He,He=null):Fn=He.sibling;var Ct=ae(J,He,ne[Xe],fe);if(Ct===null){He===null&&(He=Fn);break}i&&He&&Ct.alternate===null&&s(J,He),Q=x(Ct,Q,Xe),dt===null?Oe=Ct:dt.sibling=Ct,dt=Ct,He=Fn}if(Xe===ne.length)return c(J,He),Rt&&So(J,Xe),Oe;if(He===null){for(;Xe<ne.length;Xe++)He=ye(J,ne[Xe],fe),He!==null&&(Q=x(He,Q,Xe),dt===null?Oe=He:dt.sibling=He,dt=He);return Rt&&So(J,Xe),Oe}for(He=d(He);Xe<ne.length;Xe++)Fn=le(He,J,Xe,ne[Xe],fe),Fn!==null&&(i&&Fn.alternate!==null&&He.delete(Fn.key===null?Xe:Fn.key),Q=x(Fn,Q,Xe),dt===null?Oe=Fn:dt.sibling=Fn,dt=Fn);return i&&He.forEach(function(ks){return s(J,ks)}),Rt&&So(J,Xe),Oe}function nt(J,Q,ne,fe){if(ne==null)throw Error(r(151));for(var Oe=null,dt=null,He=Q,Xe=Q=0,Fn=null,Ct=ne.next();He!==null&&!Ct.done;Xe++,Ct=ne.next()){He.index>Xe?(Fn=He,He=null):Fn=He.sibling;var ks=ae(J,He,Ct.value,fe);if(ks===null){He===null&&(He=Fn);break}i&&He&&ks.alternate===null&&s(J,He),Q=x(ks,Q,Xe),dt===null?Oe=ks:dt.sibling=ks,dt=ks,He=Fn}if(Ct.done)return c(J,He),Rt&&So(J,Xe),Oe;if(He===null){for(;!Ct.done;Xe++,Ct=ne.next())Ct=ye(J,Ct.value,fe),Ct!==null&&(Q=x(Ct,Q,Xe),dt===null?Oe=Ct:dt.sibling=Ct,dt=Ct);return Rt&&So(J,Xe),Oe}for(He=d(He);!Ct.done;Xe++,Ct=ne.next())Ct=le(He,J,Xe,Ct.value,fe),Ct!==null&&(i&&Ct.alternate!==null&&He.delete(Ct.key===null?Xe:Ct.key),Q=x(Ct,Q,Xe),dt===null?Oe=Ct:dt.sibling=Ct,dt=Ct);return i&&He.forEach(function(H4){return s(J,H4)}),Rt&&So(J,Xe),Oe}function cn(J,Q,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===h&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:e:{for(var Oe=ne.key;Q!==null;){if(Q.key===Oe){if(Oe=ne.type,Oe===h){if(Q.tag===7){c(J,Q.sibling),fe=g(Q,ne.props.children),fe.return=J,J=fe;break e}}else if(Q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===U&&Qb(Oe)===Q.type){c(J,Q.sibling),fe=g(Q,ne.props),iu(fe,ne),fe.return=J,J=fe;break e}c(J,Q);break}else s(J,Q);Q=Q.sibling}ne.type===h?(fe=Io(ne.props.children,J.mode,fe,ne.key),fe.return=J,J=fe):(fe=Fh(ne.type,ne.key,ne.props,null,J.mode,fe),iu(fe,ne),fe.return=J,J=fe)}return S(J);case u:e:{for(Oe=ne.key;Q!==null;){if(Q.key===Oe)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){c(J,Q.sibling),fe=g(Q,ne.children||[]),fe.return=J,J=fe;break e}else{c(J,Q);break}else s(J,Q);Q=Q.sibling}fe=Lg(ne,J.mode,fe),fe.return=J,J=fe}return S(J);case U:return Oe=ne._init,ne=Oe(ne._payload),cn(J,Q,ne,fe)}if(de(ne))return Ue(J,Q,ne,fe);if($(ne)){if(Oe=$(ne),typeof Oe!="function")throw Error(r(150));return ne=Oe.call(ne),nt(J,Q,ne,fe)}if(typeof ne.then=="function")return cn(J,Q,wh(ne),fe);if(ne.$$typeof===_)return cn(J,Q,Vh(J,ne),fe);_h(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Q!==null&&Q.tag===6?(c(J,Q.sibling),fe=g(Q,ne),fe.return=J,J=fe):(c(J,Q),fe=Vg(ne,J.mode,fe),fe.return=J,J=fe),S(J)):c(J,Q)}return function(J,Q,ne,fe){try{au=0;var Oe=cn(J,Q,ne,fe);return Cl=null,Oe}catch(He){if(He===nu)throw He;var dt=ca(29,He,null,J.mode);return dt.lanes=fe,dt.return=J,dt}finally{}}}var Ao=Kb(!0),Wb=Kb(!1),Nl=at(null),Eh=at(0);function Xb(i,s){i=Li,it(Eh,i),it(Nl,s),Li=i|s.baseLanes}function Yp(){it(Eh,Li),it(Nl,Nl.current)}function qp(){Li=Eh.current,qe(Nl),qe(Eh)}var sa=at(null),Ga=null;function ms(i){var s=i.alternate;it(Cn,Cn.current&1),it(sa,i),Ga===null&&(s===null||Nl.current!==null||s.memoizedState!==null)&&(Ga=i)}function Zb(i){if(i.tag===22){if(it(Cn,Cn.current),it(sa,i),Ga===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ga=i)}}else ps()}function ps(){it(Cn,Cn.current),it(sa,sa.current)}function Ri(i){qe(sa),Ga===i&&(Ga=null),qe(Cn)}var Cn=at(0);function Th(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var NN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},MN=n.unstable_scheduleCallback,kN=n.unstable_NormalPriority,Nn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $p(){return{controller:new NN,data:new Map,refCount:0}}function su(i){i.refCount--,i.refCount===0&&MN(kN,function(){i.controller.abort()})}var ou=null,Gp=0,Ml=0,kl=null;function PN(i,s){if(ou===null){var c=ou=[];Gp=0,Ml=Jg(),kl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Gp++,s.then(Jb,Jb),s}function Jb(){if(--Gp===0&&ou!==null){kl!==null&&(kl.status="fulfilled");var i=ou;ou=null,Ml=0,kl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function jN(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<c.length;g++)(0,c[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var ew=N.S;N.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&PN(i,s),ew!==null&&ew(i,s)};var Ro=at(null);function Qp(){var i=Ro.current;return i!==null?i:$t.pooledCache}function Sh(i,s){s===null?it(Ro,Ro.current):it(Ro,s.pool)}function tw(){var i=Qp();return i===null?null:{parent:Nn._currentValue,pool:i}}var gs=0,lt=null,Ut=null,bn=null,Dh=!1,Pl=!1,Co=!1,Ah=0,lu=0,jl=null,ON=0;function mn(){throw Error(r(321))}function Kp(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Vr(i[c],s[c]))return!1;return!0}function Wp(i,s,c,d,g,x){return gs=x,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=i===null||i.memoizedState===null?No:ys,Co=!1,x=c(d,g),Co=!1,Pl&&(x=rw(s,c,d,g)),nw(i),x}function nw(i){N.H=Qa;var s=Ut!==null&&Ut.next!==null;if(gs=0,bn=Ut=lt=null,Dh=!1,lu=0,jl=null,s)throw Error(r(300));i===null||Ln||(i=i.dependencies,i!==null&&Ih(i)&&(Ln=!0))}function rw(i,s,c,d){lt=i;var g=0;do{if(Pl&&(jl=null),lu=0,Pl=!1,25<=g)throw Error(r(301));if(g+=1,bn=Ut=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}N.H=Mo,x=s(c,d)}while(Pl);return x}function IN(){var i=N.H,s=i.useState()[0];return s=typeof s.then=="function"?cu(s):s,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(lt.flags|=1024),s}function Xp(){var i=Ah!==0;return Ah=0,i}function Zp(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function Jp(i){if(Dh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Dh=!1}gs=0,bn=Ut=lt=null,Pl=!1,lu=Ah=0,jl=null}function Nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?lt.memoizedState=bn=i:bn=bn.next=i,bn}function wn(){if(Ut===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var s=bn===null?lt.memoizedState:bn.next;if(s!==null)bn=s,Ut=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},bn===null?lt.memoizedState=bn=i:bn=bn.next=i}return bn}var Rh;Rh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cu(i){var s=lu;return lu+=1,jl===null&&(jl=[]),i=$b(jl,i,s),s=lt,(bn===null?s.memoizedState:bn.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?No:ys),i}function Ch(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===_)return or(i)}throw Error(r(438,String(i)))}function eg(i){var s=null,c=lt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Rh(),lt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=q;return s.index++,c}function Ci(i,s){return typeof s=="function"?s(i):s}function Nh(i){var s=wn();return tg(s,Ut,i)}function tg(i,s,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var g=i.baseQueue,x=d.pending;if(x!==null){if(g!==null){var S=g.next;g.next=x.next,x.next=S}s.baseQueue=g=x,d.pending=null}if(x=i.baseState,g===null)i.memoizedState=x;else{s=g.next;var I=S=null,H=null,K=s,ce=!1;do{var ye=K.lane&-536870913;if(ye!==K.lane?(xt&ye)===ye:(gs&ye)===ye){var ae=K.revertLane;if(ae===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ye===Ml&&(ce=!0);else if((gs&ae)===ae){K=K.next,ae===Ml&&(ce=!0);continue}else ye={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(I=H=ye,S=x):H=H.next=ye,lt.lanes|=ae,Ds|=ae;ye=K.action,Co&&c(x,ye),x=K.hasEagerState?K.eagerState:c(x,ye)}else ae={lane:ye,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(I=H=ae,S=x):H=H.next=ae,lt.lanes|=ye,Ds|=ye;K=K.next}while(K!==null&&K!==s);if(H===null?S=x:H.next=I,!Vr(x,i.memoizedState)&&(Ln=!0,ce&&(c=kl,c!==null)))throw c;i.memoizedState=x,i.baseState=S,i.baseQueue=H,d.lastRenderedState=x}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function ng(i){var s=wn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,g=c.pending,x=s.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do x=i(x,S.action),S=S.next;while(S!==g);Vr(x,s.memoizedState)||(Ln=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,d]}function aw(i,s,c){var d=lt,g=wn(),x=Rt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=s();var S=!Vr((Ut||g).memoizedState,c);if(S&&(g.memoizedState=c,Ln=!0),g=g.queue,ig(ow.bind(null,d,g,i),[i]),g.getSnapshot!==s||S||bn!==null&&bn.memoizedState.tag&1){if(d.flags|=2048,Ol(9,sw.bind(null,d,g,c,s),{destroy:void 0},null),$t===null)throw Error(r(349));x||(gs&60)!==0||iw(d,s,c)}return c}function iw(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=lt.updateQueue,s===null?(s=Rh(),lt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function sw(i,s,c,d){s.value=c,s.getSnapshot=d,lw(s)&&cw(i)}function ow(i,s,c){return c(function(){lw(s)&&cw(i)})}function lw(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Vr(i,c)}catch{return!0}}function cw(i){var s=fs(i,2);s!==null&&Tr(s,i,2)}function rg(i){var s=Nr();if(typeof i=="function"){var c=i;if(i=c(),Co){xr(!0);try{c()}finally{xr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:i},s}function uw(i,s,c,d){return i.baseState=c,tg(i,Ut,typeof d=="function"?d:Ci)}function VN(i,s,c,d,g){if(Ph(i))throw Error(r(485));if(i=s.action,i!==null){var x={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};N.T!==null?c(!0):x.isTransition=!1,d(x),c=s.pending,c===null?(x.next=s.pending=x,dw(s,x)):(x.next=c.next,s.pending=c.next=x)}}function dw(i,s){var c=s.action,d=s.payload,g=i.state;if(s.isTransition){var x=N.T,S={};N.T=S;try{var I=c(g,d),H=N.S;H!==null&&H(S,I),hw(i,s,I)}catch(K){ag(i,s,K)}finally{N.T=x}}else try{x=c(g,d),hw(i,s,x)}catch(K){ag(i,s,K)}}function hw(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){fw(i,s,d)},function(d){return ag(i,s,d)}):fw(i,s,c)}function fw(i,s,c){s.status="fulfilled",s.value=c,mw(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,dw(i,c)))}function ag(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,mw(s),s=s.next;while(s!==d)}i.action=null}function mw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function pw(i,s){return s}function gw(i,s){if(Rt){var c=$t.formState;if(c!==null){e:{var d=lt;if(Rt){if($n){t:{for(var g=$n,x=$a;g.nodeType!==8;){if(!x){g=null;break t}if(g=Aa(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){$n=Aa(g.nextSibling),d=g.data==="F!";break e}}Do(d)}d=!1}d&&(s=c[0])}}return c=Nr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pw,lastRenderedState:s},c.queue=d,c=jw.bind(null,lt,d),d.dispatch=c,d=rg(!1),x=ug.bind(null,lt,!1,d.queue),d=Nr(),g={state:s,dispatch:null,action:i,pending:null},d.queue=g,c=VN.bind(null,lt,g,x,c),g.dispatch=c,d.memoizedState=i,[s,c,!1]}function yw(i){var s=wn();return vw(s,Ut,i)}function vw(i,s,c){s=tg(i,s,pw)[0],i=Nh(Ci)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?cu(s):s;var d=wn(),g=d.queue,x=g.dispatch;return c!==d.memoizedState&&(lt.flags|=2048,Ol(9,LN.bind(null,g,c),{destroy:void 0},null)),[s,x,i]}function LN(i,s){i.action=s}function xw(i){var s=wn(),c=Ut;if(c!==null)return vw(s,c,i);wn(),s=s.memoizedState,c=wn();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function Ol(i,s,c,d){return i={tag:i,create:s,inst:c,deps:d,next:null},s=lt.updateQueue,s===null&&(s=Rh(),lt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function bw(){return wn().memoizedState}function Mh(i,s,c,d){var g=Nr();lt.flags|=i,g.memoizedState=Ol(1|s,c,{destroy:void 0},d===void 0?null:d)}function kh(i,s,c,d){var g=wn();d=d===void 0?null:d;var x=g.memoizedState.inst;Ut!==null&&d!==null&&Kp(d,Ut.memoizedState.deps)?g.memoizedState=Ol(s,c,x,d):(lt.flags|=i,g.memoizedState=Ol(1|s,c,x,d))}function ww(i,s){Mh(8390656,8,i,s)}function ig(i,s){kh(2048,8,i,s)}function _w(i,s){return kh(4,2,i,s)}function Ew(i,s){return kh(4,4,i,s)}function Tw(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Sw(i,s,c){c=c!=null?c.concat([i]):null,kh(4,4,Tw.bind(null,s,i),c)}function sg(){}function Dw(i,s){var c=wn();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Kp(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function Aw(i,s){var c=wn();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Kp(s,d[1]))return d[0];if(d=i(),Co){xr(!0);try{i()}finally{xr(!1)}}return c.memoizedState=[d,s],d}function og(i,s,c){return c===void 0||(gs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=C1(),lt.lanes|=i,Ds|=i,c)}function Rw(i,s,c,d){return Vr(c,s)?c:Nl.current!==null?(i=og(i,c,d),Vr(i,s)||(Ln=!0),i):(gs&42)===0?(Ln=!0,i.memoizedState=c):(i=C1(),lt.lanes|=i,Ds|=i,s)}function Cw(i,s,c,d,g){var x=we.p;we.p=x!==0&&8>x?x:8;var S=N.T,I={};N.T=I,ug(i,!1,s,c);try{var H=g(),K=N.S;if(K!==null&&K(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=jN(H,d);uu(i,s,ce,Br(i))}else uu(i,s,d,Br(i))}catch(ye){uu(i,s,{then:function(){},status:"rejected",reason:ye},Br())}finally{we.p=x,N.T=S}}function UN(){}function lg(i,s,c,d){if(i.tag!==5)throw Error(r(476));var g=Nw(i).queue;Cw(i,g,s,Be,c===null?UN:function(){return Mw(i),c(d)})}function Nw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Be},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Mw(i){var s=Nw(i).next.queue;uu(i,s,{},Br())}function cg(){return or(Nu)}function kw(){return wn().memoizedState}function Pw(){return wn().memoizedState}function FN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=Br();i=bs(c);var d=ws(s,i,c);d!==null&&(Tr(d,s,c),fu(d,s,c)),s={cache:$p()},i.payload=s;return}s=s.return}}function BN(i,s,c){var d=Br();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ph(i)?Ow(s,c):(c=Up(i,s,c,d),c!==null&&(Tr(c,i,d),Iw(c,s,d)))}function jw(i,s,c){var d=Br();uu(i,s,c,d)}function uu(i,s,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ph(i))Ow(s,g);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var S=s.lastRenderedState,I=x(S,c);if(g.hasEagerState=!0,g.eagerState=I,Vr(I,S))return gh(i,s,g,0),$t===null&&ph(),!1}catch{}finally{}if(c=Up(i,s,g,d),c!==null)return Tr(c,i,d),Iw(c,s,d),!0}return!1}function ug(i,s,c,d){if(d={lane:2,revertLane:Jg(),action:d,hasEagerState:!1,eagerState:null,next:null},Ph(i)){if(s)throw Error(r(479))}else s=Up(i,c,d,2),s!==null&&Tr(s,i,2)}function Ph(i){var s=i.alternate;return i===lt||s!==null&&s===lt}function Ow(i,s){Pl=Dh=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function Iw(i,s,c){if((c&4194176)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}var Qa={readContext:or,use:Ch,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn};Qa.useCacheRefresh=mn,Qa.useMemoCache=mn,Qa.useHostTransitionStatus=mn,Qa.useFormState=mn,Qa.useActionState=mn,Qa.useOptimistic=mn;var No={readContext:or,use:Ch,useCallback:function(i,s){return Nr().memoizedState=[i,s===void 0?null:s],i},useContext:or,useEffect:ww,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Mh(4194308,4,Tw.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Mh(4194308,4,i,s)},useInsertionEffect:function(i,s){Mh(4,2,i,s)},useMemo:function(i,s){var c=Nr();s=s===void 0?null:s;var d=i();if(Co){xr(!0);try{i()}finally{xr(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=Nr();if(c!==void 0){var g=c(s);if(Co){xr(!0);try{c(s)}finally{xr(!1)}}}else g=s;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=BN.bind(null,lt,i),[d.memoizedState,i]},useRef:function(i){var s=Nr();return i={current:i},s.memoizedState=i},useState:function(i){i=rg(i);var s=i.queue,c=jw.bind(null,lt,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:sg,useDeferredValue:function(i,s){var c=Nr();return og(c,i,s)},useTransition:function(){var i=rg(!1);return i=Cw.bind(null,lt,i.queue,!0,!1),Nr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=lt,g=Nr();if(Rt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),$t===null)throw Error(r(349));(xt&60)!==0||iw(d,s,c)}g.memoizedState=c;var x={value:c,getSnapshot:s};return g.queue=x,ww(ow.bind(null,d,x,i),[i]),d.flags|=2048,Ol(9,sw.bind(null,d,x,c,s),{destroy:void 0},null),c},useId:function(){var i=Nr(),s=$t.identifierPrefix;if(Rt){var c=Ai,d=Di;c=(d&~(1<<32-jn(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Ah++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=ON++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Nr().memoizedState=FN.bind(null,lt)}};No.useMemoCache=eg,No.useHostTransitionStatus=cg,No.useFormState=gw,No.useActionState=gw,No.useOptimistic=function(i){var s=Nr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=ug.bind(null,lt,!0,c),c.dispatch=s,[i,s]};var ys={readContext:or,use:Ch,useCallback:Dw,useContext:or,useEffect:ig,useImperativeHandle:Sw,useInsertionEffect:_w,useLayoutEffect:Ew,useMemo:Aw,useReducer:Nh,useRef:bw,useState:function(){return Nh(Ci)},useDebugValue:sg,useDeferredValue:function(i,s){var c=wn();return Rw(c,Ut.memoizedState,i,s)},useTransition:function(){var i=Nh(Ci)[0],s=wn().memoizedState;return[typeof i=="boolean"?i:cu(i),s]},useSyncExternalStore:aw,useId:kw};ys.useCacheRefresh=Pw,ys.useMemoCache=eg,ys.useHostTransitionStatus=cg,ys.useFormState=yw,ys.useActionState=yw,ys.useOptimistic=function(i,s){var c=wn();return uw(c,Ut,i,s)};var Mo={readContext:or,use:Ch,useCallback:Dw,useContext:or,useEffect:ig,useImperativeHandle:Sw,useInsertionEffect:_w,useLayoutEffect:Ew,useMemo:Aw,useReducer:ng,useRef:bw,useState:function(){return ng(Ci)},useDebugValue:sg,useDeferredValue:function(i,s){var c=wn();return Ut===null?og(c,i,s):Rw(c,Ut.memoizedState,i,s)},useTransition:function(){var i=ng(Ci)[0],s=wn().memoizedState;return[typeof i=="boolean"?i:cu(i),s]},useSyncExternalStore:aw,useId:kw};Mo.useCacheRefresh=Pw,Mo.useMemoCache=eg,Mo.useHostTransitionStatus=cg,Mo.useFormState=xw,Mo.useActionState=xw,Mo.useOptimistic=function(i,s){var c=wn();return Ut!==null?uw(c,Ut,i,s):(c.baseState=i,[i,c.queue.dispatch])};function dg(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:C({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var hg={isMounted:function(i){return(i=i._reactInternals)?oe(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var d=Br(),g=bs(d);g.payload=s,c!=null&&(g.callback=c),s=ws(i,g,d),s!==null&&(Tr(s,i,d),fu(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=Br(),g=bs(d);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=ws(i,g,d),s!==null&&(Tr(s,i,d),fu(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Br(),d=bs(c);d.tag=2,s!=null&&(d.callback=s),s=ws(i,d,c),s!==null&&(Tr(s,i,c),fu(s,i,c))}};function Vw(i,s,c,d,g,x,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,x,S):s.prototype&&s.prototype.isPureReactComponent?!Xc(c,d)||!Xc(g,x):!0}function Lw(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&hg.enqueueReplaceState(s,s.state,null)}function ko(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=C({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}var jh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Uw(i){jh(i)}function Fw(i){console.error(i)}function Bw(i){jh(i)}function Oh(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function zw(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function fg(i,s,c){return c=bs(c),c.tag=3,c.payload={element:null},c.callback=function(){Oh(i,s)},c}function Hw(i){return i=bs(i),i.tag=3,i}function Yw(i,s,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var x=d.value;i.payload=function(){return g(x)},i.callback=function(){zw(s,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){zw(s,c,d),typeof g!="function"&&(As===null?As=new Set([this]):As.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function zN(i,s,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&hu(s,c,g,!0),c=sa.current,c!==null){switch(c.tag){case 13:return Ga===null?Qg():c.alternate===null&&ln===0&&(ln=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===Hp?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),Wg(i,d,g)),!1;case 22:return c.flags|=65536,d===Hp?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),Wg(i,d,g)),!1}throw Error(r(435,c.tag))}return Wg(i,d,g),Qg(),!1}if(Rt)return s=sa.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==zp&&(i=Error(r(422),{cause:d}),tu(ra(i,c)))):(d!==zp&&(s=Error(r(423),{cause:d}),tu(ra(s,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=ra(d,c),g=fg(i.stateNode,d,g),Rg(i,g),ln!==4&&(ln=2)),!1;var x=Error(r(520),{cause:d});if(x=ra(x,c),wu===null?wu=[x]:wu.push(x),ln!==4&&(ln=2),s===null)return!0;d=ra(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=fg(c.stateNode,d,i),Rg(c,i),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(As===null||!As.has(x))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Hw(g),Yw(g,i,c,d),Rg(c,g),!1}c=c.return}while(c!==null);return!1}var qw=Error(r(461)),Ln=!1;function Gn(i,s,c,d){s.child=i===null?Wb(s,null,c,d):Ao(s,i.child,c,d)}function $w(i,s,c,d,g){c=c.render;var x=s.ref;if("ref"in d){var S={};for(var I in d)I!=="ref"&&(S[I]=d[I])}else S=d;return jo(s),d=Wp(i,s,c,S,x,g),I=Xp(),i!==null&&!Ln?(Zp(i,s,g),Ni(i,s,g)):(Rt&&I&&Fp(s),s.flags|=1,Gn(i,s,d,g),s.child)}function Gw(i,s,c,d,g){if(i===null){var x=c.type;return typeof x=="function"&&!Ig(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,Qw(i,s,x,d,g)):(i=Fh(c.type,null,d,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!_g(i,g)){var S=x.memoizedProps;if(c=c.compare,c=c!==null?c:Xc,c(S,d)&&i.ref===s.ref)return Ni(i,s,g)}return s.flags|=1,i=Ss(x,d),i.ref=s.ref,i.return=s,s.child=i}function Qw(i,s,c,d,g){if(i!==null){var x=i.memoizedProps;if(Xc(x,d)&&i.ref===s.ref)if(Ln=!1,s.pendingProps=d=x,_g(i,g))(i.flags&131072)!==0&&(Ln=!0);else return s.lanes=i.lanes,Ni(i,s,g)}return mg(i,s,c,d,g)}function Kw(i,s,c){var d=s.pendingProps,g=d.children,x=(s.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(du(i,s),d.mode==="hidden"||x){if((s.flags&128)!==0){if(d=S!==null?S.baseLanes|c:c,i!==null){for(g=s.child=i.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;s.childLanes=x&~d}else s.childLanes=0,s.child=null;return Ww(i,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sh(s,S!==null?S.cachePool:null),S!==null?Xb(s,S):Yp(),Zb(s);else return s.lanes=s.childLanes=536870912,Ww(i,s,S!==null?S.baseLanes|c:c,c)}else S!==null?(Sh(s,S.cachePool),Xb(s,S),ps(),s.memoizedState=null):(i!==null&&Sh(s,null),Yp(),ps());return Gn(i,s,g,c),s.child}function Ww(i,s,c,d){var g=Qp();return g=g===null?null:{parent:Nn._currentValue,pool:g},s.memoizedState={baseLanes:c,cachePool:g},i!==null&&Sh(s,null),Yp(),Zb(s),i!==null&&hu(i,s,d,!0),null}function du(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=2097664)}}function mg(i,s,c,d,g){return jo(s),c=Wp(i,s,c,d,void 0,g),d=Xp(),i!==null&&!Ln?(Zp(i,s,g),Ni(i,s,g)):(Rt&&d&&Fp(s),s.flags|=1,Gn(i,s,c,g),s.child)}function Xw(i,s,c,d,g,x){return jo(s),s.updateQueue=null,c=rw(s,d,c,g),nw(i),d=Xp(),i!==null&&!Ln?(Zp(i,s,x),Ni(i,s,x)):(Rt&&d&&Fp(s),s.flags|=1,Gn(i,s,c,x),s.child)}function Zw(i,s,c,d,g){if(jo(s),s.stateNode===null){var x=Dl,S=c.contextType;typeof S=="object"&&S!==null&&(x=or(S)),x=new c(d,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=hg,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=d,x.state=s.memoizedState,x.refs={},Dg(s),S=c.contextType,x.context=typeof S=="object"&&S!==null?or(S):Dl,x.state=s.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(dg(s,c,S,d),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&hg.enqueueReplaceState(x,x.state,null),pu(s,d,x,g),mu(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){x=s.stateNode;var I=s.memoizedProps,H=ko(c,I);x.props=H;var K=x.context,ce=c.contextType;S=Dl,typeof ce=="object"&&ce!==null&&(S=or(ce));var ye=c.getDerivedStateFromProps;ce=typeof ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I||K!==S)&&Lw(s,x,d,S),xs=!1;var ae=s.memoizedState;x.state=ae,pu(s,d,x,g),mu(),K=s.memoizedState,I||ae!==K||xs?(typeof ye=="function"&&(dg(s,c,ye,d),K=s.memoizedState),(H=xs||Vw(s,c,H,d,ae,K,S))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=K),x.props=d,x.state=K,x.context=S,d=H):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{x=s.stateNode,Ag(i,s),S=s.memoizedProps,ce=ko(c,S),x.props=ce,ye=s.pendingProps,ae=x.context,K=c.contextType,H=Dl,typeof K=="object"&&K!==null&&(H=or(K)),I=c.getDerivedStateFromProps,(K=typeof I=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==ye||ae!==H)&&Lw(s,x,d,H),xs=!1,ae=s.memoizedState,x.state=ae,pu(s,d,x,g),mu();var le=s.memoizedState;S!==ye||ae!==le||xs||i!==null&&i.dependencies!==null&&Ih(i.dependencies)?(typeof I=="function"&&(dg(s,c,I,d),le=s.memoizedState),(ce=xs||Vw(s,c,ce,d,ae,le,H)||i!==null&&i.dependencies!==null&&Ih(i.dependencies))?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,le,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,le,H)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=le),x.props=d,x.state=le,x.context=H,d=ce):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(s.flags|=1024),d=!1)}return x=d,du(i,s),d=(s.flags&128)!==0,x||d?(x=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,i!==null&&d?(s.child=Ao(s,i.child,null,g),s.child=Ao(s,null,c,g)):Gn(i,s,c,g),s.memoizedState=x.state,i=s.child):i=Ni(i,s,g),i}function Jw(i,s,c,d){return eu(),s.flags|=256,Gn(i,s,c,d),s.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function gg(i){return{baseLanes:i,cachePool:tw()}}function yg(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=ua),i}function e1(i,s,c){var d=s.pendingProps,g=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=i!==null&&i.memoizedState===null?!1:(Cn.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(Rt){if(g?ms(s):ps(),Rt){var I=$n,H;if(H=I){e:{for(H=I,I=$a;H.nodeType!==8;){if(!I){I=null;break e}if(H=Aa(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(s.memoizedState={dehydrated:I,treeContext:To!==null?{id:Di,overflow:Ai}:null,retryLane:536870912},H=ca(18,null,null,0),H.stateNode=I,H.return=s,s.child=H,Er=s,$n=null,H=!0):H=!1}H||Do(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ri(s)}return I=d.children,d=d.fallback,g?(ps(),g=s.mode,I=xg({mode:"hidden",children:I},g),d=Io(d,g,c,null),I.return=s,d.return=s,I.sibling=d,s.child=I,g=s.child,g.memoizedState=gg(c),g.childLanes=yg(i,S,c),s.memoizedState=pg,d):(ms(s),vg(s,I))}if(H=i.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(x)s.flags&256?(ms(s),s.flags&=-257,s=bg(i,s,c)):s.memoizedState!==null?(ps(),s.child=i.child,s.flags|=128,s=null):(ps(),g=d.fallback,I=s.mode,d=xg({mode:"visible",children:d.children},I),g=Io(g,I,c,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,Ao(s,i.child,null,c),d=s.child,d.memoizedState=gg(c),d.childLanes=yg(i,S,c),s.memoizedState=pg,s=g);else if(ms(s),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var K=S.dgst;S=K,d=Error(r(419)),d.stack="",d.digest=S,tu({value:d,source:null,stack:null}),s=bg(i,s,c)}else if(Ln||hu(i,s,c,!1),S=(c&i.childLanes)!==0,Ln||S){if(S=$t,S!==null){if(d=c&-c,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(S.suspendedLanes|c))!==0?0:d,d!==0&&d!==H.retryLane)throw H.retryLane=d,fs(i,d),Tr(S,i,d),qw}I.data==="$?"||Qg(),s=bg(i,s,c)}else I.data==="$?"?(s.flags|=128,s.child=i.child,s=r4.bind(null,i),I._reactRetry=s,s=null):(i=H.treeContext,$n=Aa(I.nextSibling),Er=s,Rt=!0,Sa=null,$a=!1,i!==null&&(aa[ia++]=Di,aa[ia++]=Ai,aa[ia++]=To,Di=i.id,Ai=i.overflow,To=s),s=vg(s,d.children),s.flags|=4096);return s}return g?(ps(),g=d.fallback,I=s.mode,H=i.child,K=H.sibling,d=Ss(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&31457280,K!==null?g=Ss(K,g):(g=Io(g,I,c,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,I=i.child.memoizedState,I===null?I=gg(c):(H=I.cachePool,H!==null?(K=Nn._currentValue,H=H.parent!==K?{parent:K,pool:K}:H):H=tw(),I={baseLanes:I.baseLanes|c,cachePool:H}),g.memoizedState=I,g.childLanes=yg(i,S,c),s.memoizedState=pg,d):(ms(s),c=i.child,i=c.sibling,c=Ss(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=c,s.memoizedState=null,c)}function vg(i,s){return s=xg({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function xg(i,s){return D1(i,s,0,null)}function bg(i,s,c){return Ao(s,i.child,null,c),i=vg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function t1(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Tg(i.return,s,c)}function wg(i,s,c,d,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=c,x.tailMode=g)}function n1(i,s,c){var d=s.pendingProps,g=d.revealOrder,x=d.tail;if(Gn(i,s,d.children,c),d=Cn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t1(i,c,s);else if(i.tag===19)t1(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(it(Cn,d),g){case"forwards":for(c=s.child,g=null;c!==null;)i=c.alternate,i!==null&&Th(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),wg(s,!1,g,c,x);break;case"backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Th(i)===null){s.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}wg(s,!0,c,null,x);break;case"together":wg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ni(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Ds|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(hu(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=Ss(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Ss(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function _g(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ih(i)))}function HN(i,s,c){switch(s.tag){case 3:Hn(s,s.stateNode.containerInfo),vs(s,Nn,i.memoizedState.cache),eu();break;case 27:case 5:ar(s);break;case 4:Hn(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ms(s),s.flags|=128,null):(c&s.child.childLanes)!==0?e1(i,s,c):(ms(s),i=Ni(i,s,c),i!==null?i.sibling:null);ms(s);break;case 19:var g=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(hu(i,s,c,!1),d=(c&s.childLanes)!==0),g){if(d)return n1(i,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(Cn,Cn.current),d)break;return null;case 22:case 23:return s.lanes=0,Kw(i,s,c);case 24:vs(s,Nn,i.memoizedState.cache)}return Ni(i,s,c)}function r1(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ln=!0;else{if(!_g(i,c)&&(s.flags&128)===0)return Ln=!1,HN(i,s,c);Ln=(i.flags&131072)!==0}else Ln=!1,Rt&&(s.flags&1048576)!==0&&Bb(s,xh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,g=d._init;if(d=g(d._payload),s.type=d,typeof d=="function")Ig(d)?(i=ko(d,i),s.tag=1,s=Zw(null,s,d,i,c)):(s.tag=0,s=mg(null,s,d,i,c));else{if(d!=null){if(g=d.$$typeof,g===E){s.tag=11,s=$w(null,s,d,i,c);break e}else if(g===j){s.tag=14,s=Gw(null,s,d,i,c);break e}}throw s=R(d)||d,Error(r(306,s,""))}}return s;case 0:return mg(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,g=ko(d,s.pendingProps),Zw(i,s,d,g,c);case 3:e:{if(Hn(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var x=s.pendingProps;g=s.memoizedState,d=g.element,Ag(i,s),pu(s,x,null,c);var S=s.memoizedState;if(x=S.cache,vs(s,Nn,x),x!==g.cache&&Sg(s,[Nn],c,!0),mu(),x=S.element,g.isDehydrated)if(g={element:x,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Jw(i,s,x,c);break e}else if(x!==d){d=ra(Error(r(424)),s),tu(d),s=Jw(i,s,x,c);break e}else for($n=Aa(s.stateNode.containerInfo.firstChild),Er=s,Rt=!0,Sa=null,$a=!0,c=Wb(s,null,x,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(eu(),x===d){s=Ni(i,s,c);break e}Gn(i,s,x,c)}s=s.child}return s;case 26:return du(i,s),i===null?(c=s_(s.type,null,s.pendingProps,null))?s.memoizedState=c:Rt||(c=s.type,i=s.pendingProps,d=Zh(Xt.current).createElement(c),d[je]=s,d[Ge]=i,Qn(d,c,i),Nt(d),s.stateNode=d):s.memoizedState=s_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ar(s),i===null&&Rt&&(d=s.stateNode=r_(s.type,s.pendingProps,Xt.current),Er=s,$a=!0,$n=Aa(d.firstChild)),d=s.pendingProps.children,i!==null||Rt?Gn(i,s,d,c):s.child=Ao(s,null,d,c),du(i,s),s.child;case 5:return i===null&&Rt&&((g=d=$n)&&(d=x4(d,s.type,s.pendingProps,$a),d!==null?(s.stateNode=d,Er=s,$n=Aa(d.firstChild),$a=!1,g=!0):g=!1),g||Do(s)),ar(s),g=s.type,x=s.pendingProps,S=i!==null?i.memoizedProps:null,d=x.children,ly(g,x)?d=null:S!==null&&ly(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=Wp(i,s,IN,null,null,c),Nu._currentValue=g),du(i,s),Gn(i,s,d,c),s.child;case 6:return i===null&&Rt&&((i=c=$n)&&(c=b4(c,s.pendingProps,$a),c!==null?(s.stateNode=c,Er=s,$n=null,i=!0):i=!1),i||Do(s)),null;case 13:return e1(i,s,c);case 4:return Hn(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Ao(s,null,d,c):Gn(i,s,d,c),s.child;case 11:return $w(i,s,s.type,s.pendingProps,c);case 7:return Gn(i,s,s.pendingProps,c),s.child;case 8:return Gn(i,s,s.pendingProps.children,c),s.child;case 12:return Gn(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,vs(s,s.type,d.value),Gn(i,s,d.children,c),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,jo(s),g=or(g),d=d(g),s.flags|=1,Gn(i,s,d,c),s.child;case 14:return Gw(i,s,s.type,s.pendingProps,c);case 15:return Qw(i,s,s.type,s.pendingProps,c);case 19:return n1(i,s,c);case 22:return Kw(i,s,c);case 24:return jo(s),d=or(Nn),i===null?(g=Qp(),g===null&&(g=$t,x=$p(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=c),g=x),s.memoizedState={parent:d,cache:g},Dg(s),vs(s,Nn,g)):((i.lanes&c)!==0&&(Ag(i,s),pu(s,null,null,c),mu()),g=i.memoizedState,x=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),vs(s,Nn,d)):(d=x.cache,vs(s,Nn,d),d!==g.cache&&Sg(s,[Nn],c,!0))),Gn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Eg=at(null),Po=null,Mi=null;function vs(i,s,c){it(Eg,s._currentValue),s._currentValue=c}function ki(i){i._currentValue=Eg.current,qe(Eg)}function Tg(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function Sg(i,s,c,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var x=g.dependencies;if(x!==null){var S=g.child;x=x.firstContext;e:for(;x!==null;){var I=x;x=g;for(var H=0;H<s.length;H++)if(I.context===s[H]){x.lanes|=c,I=x.alternate,I!==null&&(I.lanes|=c),Tg(x.return,c,i),d||(S=null);break e}x=I.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=c,x=S.alternate,x!==null&&(x.lanes|=c),Tg(S,c,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function hu(i,s,c,d){i=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var I=g.type;Vr(g.pendingProps.value,S.value)||(i!==null?i.push(I):i=[I])}}else if(g===hn.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Nu):i=[Nu])}g=g.return}i!==null&&Sg(s,i,c,d),s.flags|=262144}function Ih(i){for(i=i.firstContext;i!==null;){if(!Vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function jo(i){Po=i,Mi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function or(i){return a1(Po,i)}function Vh(i,s){return Po===null&&jo(i),a1(i,s)}function a1(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Mi===null){if(i===null)throw Error(r(308));Mi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Mi=Mi.next=s;return c}var xs=!1;function Dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ag(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ws(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(tn&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=yh(i),Ub(i,null,c),s}return gh(i,d,s,c),yh(i)}function fu(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194176)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}function Rg(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?g=x=S:x=x.next=S,c=c.next}while(c!==null);x===null?g=x=s:x=x.next=s}else g=x=s;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Cg=!1;function mu(){if(Cg){var i=kl;if(i!==null)throw i}}function pu(i,s,c,d){Cg=!1;var g=i.updateQueue;xs=!1;var x=g.firstBaseUpdate,S=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var H=I,K=H.next;H.next=null,S===null?x=K:S.next=K,S=H;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,I=ce.lastBaseUpdate,I!==S&&(I===null?ce.firstBaseUpdate=K:I.next=K,ce.lastBaseUpdate=H))}if(x!==null){var ye=g.baseState;S=0,ce=K=H=null,I=x;do{var ae=I.lane&-536870913,le=ae!==I.lane;if(le?(xt&ae)===ae:(d&ae)===ae){ae!==0&&ae===Ml&&(Cg=!0),ce!==null&&(ce=ce.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ue=i,nt=I;ae=s;var cn=c;switch(nt.tag){case 1:if(Ue=nt.payload,typeof Ue=="function"){ye=Ue.call(cn,ye,ae);break e}ye=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=nt.payload,ae=typeof Ue=="function"?Ue.call(cn,ye,ae):Ue,ae==null)break e;ye=C({},ye,ae);break e;case 2:xs=!0}}ae=I.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ce===null?(K=ce=le,H=ye):ce=ce.next=le,S|=ae;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;le=I,I=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);ce===null&&(H=ye),g.baseState=H,g.firstBaseUpdate=K,g.lastBaseUpdate=ce,x===null&&(g.shared.lanes=0),Ds|=S,i.lanes=S,i.memoizedState=ye}}function i1(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function s1(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)i1(c[i],s)}function gu(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){d=void 0;var x=c.create,S=c.inst;d=x(),S.destroy=d}c=c.next}while(c!==g)}}catch(I){Ht(s,s.return,I)}}function _s(i,s,c){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&i)===i){var S=d.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,g=s;var H=c;try{I()}catch(K){Ht(g,H,K)}}}d=d.next}while(d!==x)}}catch(K){Ht(s,s.return,K)}}function o1(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{s1(s,c)}catch(d){Ht(i,i.return,d)}}}function l1(i,s,c){c.props=ko(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Ht(i,s,d)}}function Oo(i,s){try{var c=i.ref;if(c!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=d;break;default:g=d}typeof c=="function"?i.refCleanup=c(g):c.current=g}}catch(x){Ht(i,s,x)}}function Lr(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){Ht(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Ht(i,s,g)}else c.current=null}function c1(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){Ht(i,i.return,g)}}function u1(i,s,c){try{var d=i.stateNode;m4(d,i.type,c,s),d[Ge]=s}catch(g){Ht(i,i.return,g)}}function d1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Ng(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||d1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mg(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Xh));else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Mg(i,s,c),i=i.sibling;i!==null;)Mg(i,s,c),i=i.sibling}function Lh(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Lh(i,s,c),i=i.sibling;i!==null;)Lh(i,s,c),i=i.sibling}var Pi=!1,on=!1,kg=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Un=null,f1=!1;function YN(i,s){if(i=i.containerInfo,sy=af,i=Nb(i),jp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var S=0,I=-1,H=-1,K=0,ce=0,ye=i,ae=null;t:for(;;){for(var le;ye!==c||g!==0&&ye.nodeType!==3||(I=S+g),ye!==x||d!==0&&ye.nodeType!==3||(H=S+d),ye.nodeType===3&&(S+=ye.nodeValue.length),(le=ye.firstChild)!==null;)ae=ye,ye=le;for(;;){if(ye===i)break t;if(ae===c&&++K===g&&(I=S),ae===x&&++ce===d&&(H=S),(le=ye.nextSibling)!==null)break;ye=ae,ae=ye.parentNode}ye=le}c=I===-1||H===-1?null:{start:I,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(oy={focusedElem:i,selectionRange:c},af=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,x=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,c=s,g=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var Ue=ko(c.type,g,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Ue,x),d.__reactInternalSnapshotBeforeUpdate=i}catch(nt){Ht(c,c.return,nt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)dy(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}return Ue=f1,f1=!1,Ue}function m1(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Oi(i,c),d&4&&gu(5,c);break;case 1:if(Oi(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(I){Ht(c,c.return,I)}else{var g=ko(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Ht(c,c.return,I)}}d&64&&o1(c),d&512&&Oo(c,c.return);break;case 3:if(Oi(i,c),d&64&&(d=c.updateQueue,d!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{s1(d,i)}catch(I){Ht(c,c.return,I)}}break;case 26:Oi(i,c),d&512&&Oo(c,c.return);break;case 27:case 5:Oi(i,c),s===null&&d&4&&c1(c),d&512&&Oo(c,c.return);break;case 12:Oi(i,c);break;case 13:Oi(i,c),d&4&&y1(i,c);break;case 22:if(g=c.memoizedState!==null||Pi,!g){s=s!==null&&s.memoizedState!==null||on;var x=Pi,S=on;Pi=g,(on=s)&&!S?Es(i,c,(c.subtreeFlags&8772)!==0):Oi(i,c),Pi=x,on=S}d&512&&(c.memoizedProps.mode==="manual"?Oo(c,c.return):Lr(c,c.return));break;default:Oi(i,c)}}function p1(i){var s=i.alternate;s!==null&&(i.alternate=null,p1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _n=null,Ur=!1;function ji(i,s,c){for(c=c.child;c!==null;)g1(i,s,c),c=c.sibling}function g1(i,s,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(wa,c)}catch{}switch(c.tag){case 26:on||Lr(c,s),ji(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:on||Lr(c,s);var d=_n,g=Ur;for(_n=c.stateNode,ji(i,s,c),c=c.stateNode,s=c.attributes;s.length;)c.removeAttributeNode(s[0]);Ir(c),_n=d,Ur=g;break;case 5:on||Lr(c,s);case 6:g=_n;var x=Ur;if(_n=null,ji(i,s,c),_n=g,Ur=x,_n!==null)if(Ur)try{i=_n,d=c.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(S){Ht(c,s,S)}else try{_n.removeChild(c.stateNode)}catch(S){Ht(c,s,S)}break;case 18:_n!==null&&(Ur?(s=_n,c=c.stateNode,s.nodeType===8?uy(s.parentNode,c):s.nodeType===1&&uy(s,c),ju(s)):uy(_n,c.stateNode));break;case 4:d=_n,g=Ur,_n=c.stateNode.containerInfo,Ur=!0,ji(i,s,c),_n=d,Ur=g;break;case 0:case 11:case 14:case 15:on||_s(2,c,s),on||_s(4,c,s),ji(i,s,c);break;case 1:on||(Lr(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&l1(c,s,d)),ji(i,s,c);break;case 21:ji(i,s,c);break;case 22:on||Lr(c,s),on=(d=on)||c.memoizedState!==null,ji(i,s,c),on=d;break;default:ji(i,s,c)}}function y1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ju(i)}catch(c){Ht(s,s.return,c)}}function qN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new h1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new h1),s;default:throw Error(r(435,i.tag))}}function Pg(i,s){var c=qN(i);s.forEach(function(d){var g=a4.bind(null,i,d);c.has(d)||(c.add(d),d.then(g,g))})}function oa(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],x=i,S=s,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:_n=I.stateNode,Ur=!1;break e;case 3:_n=I.stateNode.containerInfo,Ur=!0;break e;case 4:_n=I.stateNode.containerInfo,Ur=!0;break e}I=I.return}if(_n===null)throw Error(r(160));g1(x,S,g),_n=null,Ur=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)v1(s,i),s=s.sibling}var Da=null;function v1(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:oa(s,i),la(i),d&4&&(_s(3,i,i.return),gu(3,i),_s(5,i,i.return));break;case 1:oa(s,i),la(i),d&512&&(on||c===null||Lr(c,c.return)),d&64&&Pi&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Da;if(oa(s,i),la(i),d&512&&(on||c===null||Lr(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":x=g.getElementsByTagName("title")[0],(!x||x[br]||x[je]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(d),g.head.insertBefore(x,g.querySelector("head > title"))),Qn(x,d,c),x[je]=i,Nt(x),d=x;break e;case"link":var S=c_("link","href",g).get(d+(c.href||""));if(S){for(var I=0;I<S.length;I++)if(x=S[I],x.getAttribute("href")===(c.href==null?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(I,1);break t}}x=g.createElement(d),Qn(x,d,c),g.head.appendChild(x);break;case"meta":if(S=c_("meta","content",g).get(d+(c.content||""))){for(I=0;I<S.length;I++)if(x=S[I],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(I,1);break t}}x=g.createElement(d),Qn(x,d,c),g.head.appendChild(x);break;default:throw Error(r(468,d))}x[je]=i,Nt(x),d=x}i.stateNode=d}else u_(g,i.type,i.stateNode);else i.stateNode=l_(g,d,i.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?u_(g,i.type,i.stateNode):l_(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&u1(i,i.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){g=i.stateNode,x=i.memoizedProps;try{for(var H=g.firstChild;H;){var K=H.nextSibling,ce=H.nodeName;H[br]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&H.rel.toLowerCase()==="stylesheet"||g.removeChild(H),H=K}for(var ye=i.type,ae=g.attributes;ae.length;)g.removeAttributeNode(ae[0]);Qn(g,ye,x),g[je]=i,g[Ge]=x}catch(Ue){Ht(i,i.return,Ue)}}case 5:if(oa(s,i),la(i),d&512&&(on||c===null||Lr(c,c.return)),i.flags&32){g=i.stateNode;try{Zr(g,"")}catch(Ue){Ht(i,i.return,Ue)}}d&4&&i.stateNode!=null&&(g=i.memoizedProps,u1(i,g,c!==null?c.memoizedProps:g)),d&1024&&(kg=!0);break;case 6:if(oa(s,i),la(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Ue){Ht(i,i.return,Ue)}}break;case 3:if(tf=null,g=Da,Da=Jh(s.containerInfo),oa(s,i),Da=g,la(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{ju(s.containerInfo)}catch(Ue){Ht(i,i.return,Ue)}kg&&(kg=!1,x1(i));break;case 4:d=Da,Da=Jh(i.stateNode.containerInfo),oa(s,i),la(i),Da=d;break;case 12:oa(s,i),la(i);break;case 13:oa(s,i),la(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zg=ge()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Pg(i,d)));break;case 22:if(d&512&&(on||c===null||Lr(c,c.return)),H=i.memoizedState!==null,K=c!==null&&c.memoizedState!==null,ce=Pi,ye=on,Pi=ce||H,on=ye||K,oa(s,i),on=ye,Pi=ce,la(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,d&8192&&(s._visibility=H?s._visibility&-2:s._visibility|1,H&&(s=Pi||on,c===null||K||s||Il(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(c=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(c===null){K=c=s;try{if(g=K.stateNode,H)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=K.stateNode,I=K.memoizedProps.style;var le=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ue){Ht(K,K.return,Ue)}}}else if(s.tag===6){if(c===null){K=s;try{K.stateNode.nodeValue=H?"":K.memoizedProps}catch(Ue){Ht(K,K.return,Ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Pg(i,c))));break;case 19:oa(s,i),la(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Pg(i,d)));break;case 21:break;default:oa(s,i),la(i)}}function la(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var c=i.return;c!==null;){if(d1(c)){var d=c;break e}c=c.return}throw Error(r(160))}switch(d.tag){case 27:var g=d.stateNode,x=Ng(i);Lh(i,x,g);break;case 5:var S=d.stateNode;d.flags&32&&(Zr(S,""),d.flags&=-33);var I=Ng(i);Lh(i,I,S);break;case 3:case 4:var H=d.stateNode.containerInfo,K=Ng(i);Mg(i,K,H);break;default:throw Error(r(161))}}}catch(ce){Ht(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function x1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;x1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Oi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m1(i,s.alternate,s),s=s.sibling}function Il(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:_s(4,s,s.return),Il(s);break;case 1:Lr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&l1(s,s.return,c),Il(s);break;case 26:case 27:case 5:Lr(s,s.return),Il(s);break;case 22:Lr(s,s.return),s.memoizedState===null&&Il(s);break;default:Il(s)}i=i.sibling}}function Es(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=i,x=s,S=x.flags;switch(x.tag){case 0:case 11:case 15:Es(g,x,c),gu(4,x);break;case 1:if(Es(g,x,c),d=x,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){Ht(d,d.return,K)}if(d=x,g=d.updateQueue,g!==null){var I=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)i1(H[g],I)}catch(K){Ht(d,d.return,K)}}c&&S&64&&o1(x),Oo(x,x.return);break;case 26:case 27:case 5:Es(g,x,c),c&&d===null&&S&4&&c1(x),Oo(x,x.return);break;case 12:Es(g,x,c);break;case 13:Es(g,x,c),c&&S&4&&y1(g,x);break;case 22:x.memoizedState===null&&Es(g,x,c),Oo(x,x.return);break;default:Es(g,x,c)}s=s.sibling}}function jg(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&su(c))}function Og(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&su(i))}function Ts(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b1(i,s,c,d),s=s.sibling}function b1(i,s,c,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ts(i,s,c,d),g&2048&&gu(9,s);break;case 3:Ts(i,s,c,d),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&su(i)));break;case 12:if(g&2048){Ts(i,s,c,d),i=s.stateNode;try{var x=s.memoizedProps,S=x.id,I=x.onPostCommit;typeof I=="function"&&I(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Ht(s,s.return,H)}}else Ts(i,s,c,d);break;case 23:break;case 22:x=s.stateNode,s.memoizedState!==null?x._visibility&4?Ts(i,s,c,d):yu(i,s):x._visibility&4?Ts(i,s,c,d):(x._visibility|=4,Vl(i,s,c,d,(s.subtreeFlags&10256)!==0)),g&2048&&jg(s.alternate,s);break;case 24:Ts(i,s,c,d),g&2048&&Og(s.alternate,s);break;default:Ts(i,s,c,d)}}function Vl(i,s,c,d,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=i,S=s,I=c,H=d,K=S.flags;switch(S.tag){case 0:case 11:case 15:Vl(x,S,I,H,g),gu(8,S);break;case 23:break;case 22:var ce=S.stateNode;S.memoizedState!==null?ce._visibility&4?Vl(x,S,I,H,g):yu(x,S):(ce._visibility|=4,Vl(x,S,I,H,g)),g&&K&2048&&jg(S.alternate,S);break;case 24:Vl(x,S,I,H,g),g&&K&2048&&Og(S.alternate,S);break;default:Vl(x,S,I,H,g)}s=s.sibling}}function yu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,g=d.flags;switch(d.tag){case 22:yu(c,d),g&2048&&jg(d.alternate,d);break;case 24:yu(c,d),g&2048&&Og(d.alternate,d);break;default:yu(c,d)}s=s.sibling}}var vu=8192;function Ll(i){if(i.subtreeFlags&vu)for(i=i.child;i!==null;)w1(i),i=i.sibling}function w1(i){switch(i.tag){case 26:Ll(i),i.flags&vu&&i.memoizedState!==null&&P4(Da,i.memoizedState,i.memoizedProps);break;case 5:Ll(i);break;case 3:case 4:var s=Da;Da=Jh(i.stateNode.containerInfo),Ll(i),Da=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=vu,vu=16777216,Ll(i),vu=s):Ll(i));break;default:Ll(i)}}function _1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function xu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Un=d,T1(d,i)}_1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E1(i),i=i.sibling}function E1(i){switch(i.tag){case 0:case 11:case 15:xu(i),i.flags&2048&&_s(9,i,i.return);break;case 3:xu(i);break;case 12:xu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Uh(i)):xu(i);break;default:xu(i)}}function Uh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Un=d,T1(d,i)}_1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:_s(8,s,s.return),Uh(s);break;case 22:c=s.stateNode,c._visibility&4&&(c._visibility&=-5,Uh(s));break;default:Uh(s)}i=i.sibling}}function T1(i,s){for(;Un!==null;){var c=Un;switch(c.tag){case 0:case 11:case 15:_s(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:su(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Un=d;else e:for(c=i;Un!==null;){d=Un;var g=d.sibling,x=d.return;if(p1(d),d===c){Un=null;break e}if(g!==null){g.return=x,Un=g;break e}Un=x}}}function $N(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(i,s,c,d){return new $N(i,s,c,d)}function Ig(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ss(i,s){var c=i.alternate;return c===null?(c=ca(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&31457280,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function S1(i,s){i.flags&=31457282;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Fh(i,s,c,d,g,x){var S=0;if(d=i,typeof i=="function")Ig(i)&&(S=1);else if(typeof i=="string")S=M4(i,c,Bt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case h:return Io(c.children,g,x,s);case f:S=8,g|=24;break;case y:return i=ca(12,c,s,g|2),i.elementType=y,i.lanes=x,i;case D:return i=ca(13,c,s,g),i.elementType=D,i.lanes=x,i;case A:return i=ca(19,c,s,g),i.elementType=A,i.lanes=x,i;case F:return D1(c,g,x,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case _:S=10;break e;case b:S=9;break e;case E:S=11;break e;case j:S=14;break e;case U:S=16,d=null;break e}S=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=ca(S,c,s,g),s.elementType=i,s.type=d,s.lanes=x,s}function Io(i,s,c,d){return i=ca(7,i,d,s),i.lanes=c,i}function D1(i,s,c,d){i=ca(22,i,d,s),i.elementType=F,i.lanes=c;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=g._current;if(x===null)throw Error(r(456));if((g._pendingVisibility&2)===0){var S=fs(x,2);S!==null&&(g._pendingVisibility|=2,Tr(S,x,2))}},attach:function(){var x=g._current;if(x===null)throw Error(r(456));if((g._pendingVisibility&2)!==0){var S=fs(x,2);S!==null&&(g._pendingVisibility&=-3,Tr(S,x,2))}}};return i.stateNode=g,i}function Vg(i,s,c){return i=ca(6,i,null,s),i.lanes=c,i}function Lg(i,s,c){return s=ca(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Ii(i){i.flags|=4}function A1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!d_(s)){if(s=sa.current,s!==null&&((xt&4194176)===xt?Ga!==null:(xt&62914560)!==xt&&(xt&536870912)===0||s!==Ga))throw ru=Hp,Yb;i.flags|=8192}}function Bh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?X():536870912,i.lanes|=s,Fl|=s)}function bu(i,s){if(!Rt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function en(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&31457280,d|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function GN(i,s,c){var d=s.pendingProps;switch(Bp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return en(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),ki(Nn),rr(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Jc(s)?Ii(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sa!==null&&($g(Sa),Sa=null))),en(s),null;case 26:return c=s.memoizedState,i===null?(Ii(s),c!==null?(en(s),A1(s,c)):(en(s),s.flags&=-16777217)):c?c!==i.memoizedState?(Ii(s),en(s),A1(s,c)):(en(s),s.flags&=-16777217):(i.memoizedProps!==d&&Ii(s),en(s),s.flags&=-16777217),null;case 27:$r(s),c=Xt.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Ii(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return en(s),null}i=Bt.current,Jc(s)?zb(s):(i=r_(g,d,c),s.stateNode=i,Ii(s))}return en(s),null;case 5:if($r(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Ii(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return en(s),null}if(i=Bt.current,Jc(s))zb(s);else{switch(g=Zh(Xt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}i[je]=s,i[Ge]=d;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(Qn(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ii(s)}}return en(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Ii(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xt.current,Jc(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,g=Er,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}i[je]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||X1(i.nodeValue,c)),i||Do(s)}else i=Zh(i).createTextNode(d),i[je]=s,s.stateNode=i}return en(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Jc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[je]=s}else eu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),g=!1}else Sa!==null&&($g(Sa),Sa=null),g=!0;if(!g)return s.flags&256?(Ri(s),s):(Ri(s),null)}if(Ri(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),Bh(s,s.updateQueue),en(s),null;case 4:return rr(),i===null&&ry(s.stateNode.containerInfo),en(s),null;case 10:return ki(s.type),en(s),null;case 19:if(qe(Cn),g=s.memoizedState,g===null)return en(s),null;if(d=(s.flags&128)!==0,x=g.rendering,x===null)if(d)bu(g,!1);else{if(ln!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(x=Th(i),x!==null){for(s.flags|=128,bu(g,!1),i=x.updateQueue,s.updateQueue=i,Bh(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)S1(c,i),c=c.sibling;return it(Cn,Cn.current&1|2),s.child}i=i.sibling}g.tail!==null&&ge()>zh&&(s.flags|=128,d=!0,bu(g,!1),s.lanes=4194304)}else{if(!d)if(i=Th(x),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Bh(s,i),bu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Rt)return en(s),null}else 2*ge()-g.renderingStartTime>zh&&c!==536870912&&(s.flags|=128,d=!0,bu(g,!1),s.lanes=4194304);g.isBackwards?(x.sibling=s.child,s.child=x):(i=g.last,i!==null?i.sibling=x:s.child=x,g.last=x)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ge(),s.sibling=null,i=Cn.current,it(Cn,d?i&1|2:i&1),s):(en(s),null);case 22:case 23:return Ri(s),qp(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),c=s.updateQueue,c!==null&&Bh(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&qe(Ro),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ki(Nn),en(s),null;case 25:return null}throw Error(r(156,s.tag))}function QN(i,s){switch(Bp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ki(Nn),rr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return $r(s),null;case 13:if(Ri(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));eu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return qe(Cn),null;case 4:return rr(),null;case 10:return ki(s.type),null;case 22:case 23:return Ri(s),qp(),i!==null&&qe(Ro),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ki(Nn),null;case 25:return null;default:return null}}function R1(i,s){switch(Bp(s),s.tag){case 3:ki(Nn),rr();break;case 26:case 27:case 5:$r(s);break;case 4:rr();break;case 13:Ri(s);break;case 19:qe(Cn);break;case 10:ki(s.type);break;case 22:case 23:Ri(s),qp(),i!==null&&qe(Ro);break;case 24:ki(Nn)}}var KN={getCacheForType:function(i){var s=or(Nn),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},WN=typeof WeakMap=="function"?WeakMap:Map,tn=0,$t=null,mt=null,xt=0,Gt=0,Fr=null,Vi=!1,Ul=!1,Ug=!1,Li=0,ln=0,Ds=0,Vo=0,Fg=0,ua=0,Fl=0,wu=null,Ka=null,Bg=!1,zg=0,zh=1/0,Hh=null,As=null,Yh=!1,Lo=null,_u=0,Hg=0,Yg=null,Eu=0,qg=null;function Br(){if((tn&2)!==0&&xt!==0)return xt&-xt;if(N.T!==null){var i=Ml;return i!==0?i:Jg()}return Le()}function C1(){ua===0&&(ua=(xt&536870912)===0||Rt?Y():536870912);var i=sa.current;return i!==null&&(i.flags|=32),ua}function Tr(i,s,c){(i===$t&&Gt===2||i.cancelPendingCommit!==null)&&(Bl(i,0),Ui(i,xt,ua,!1)),he(i,c),((tn&2)===0||i!==$t)&&(i===$t&&((tn&2)===0&&(Vo|=c),ln===4&&Ui(i,xt,ua,!1)),Wa(i))}function N1(i,s,c){if((tn&6)!==0)throw Error(r(327));var d=!c&&(s&60)===0&&(s&i.expiredLanes)===0||Ia(i,s),g=d?JN(i,s):Kg(i,s,!0),x=d;do{if(g===0){Ul&&!d&&Ui(i,s,0,!1);break}else if(g===6)Ui(i,s,0,!Vi);else{if(c=i.current.alternate,x&&!XN(c)){g=Kg(i,s,!1),x=!1;continue}if(g===2){if(x=s,i.errorRecoveryDisabledLanes&x)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var I=i;g=wu;var H=I.current.memoizedState.isDehydrated;if(H&&(Bl(I,S).flags|=256),S=Kg(I,S,!1),S!==2){if(Ug&&!H){I.errorRecoveryDisabledLanes|=x,Vo|=x,g=4;break e}x=Ka,Ka=g,x!==null&&$g(x)}g=S}if(x=!1,g!==2)continue}}if(g===1){Bl(i,0),Ui(i,s,0,!0);break}e:{switch(d=i,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Ui(d,s,ua,!Vi);break e}break;case 2:Ka=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=c,d.finishedLanes=s,(s&62914560)===s&&(x=zg+300-ge(),10<x)){if(Ui(d,s,ua,!Vi),Yn(d,0)!==0)break e;d.timeoutHandle=e_(M1.bind(null,d,c,Ka,Hh,Bg,s,ua,Vo,Fl,Vi,2,-0,0),x);break e}M1(d,c,Ka,Hh,Bg,s,ua,Vo,Fl,Vi,0,-0,0)}}break}while(!0);Wa(i)}function $g(i){Ka===null?Ka=i:Ka.push.apply(Ka,i)}function M1(i,s,c,d,g,x,S,I,H,K,ce,ye,ae){var le=s.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Cu={stylesheets:null,count:0,unsuspend:k4},w1(s),s=j4(),s!==null)){i.cancelPendingCommit=s(L1.bind(null,i,c,d,g,S,I,H,1,ye,ae)),Ui(i,x,S,!K);return}L1(i,c,d,g,S,I,H,ce,ye,ae)}function XN(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],x=g.getSnapshot;g=g.value;try{if(!Vr(x(),g))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(i,s,c,d){s&=~Fg,s&=~Vo,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var g=s;0<g;){var x=31-jn(g),S=1<<x;d[x]=-1,g&=~S}c!==0&&ze(i,c,s)}function qh(){return(tn&6)===0?(Tu(0),!1):!0}function Gg(){if(mt!==null){if(Gt===0)var i=mt.return;else i=mt,Mi=Po=null,Jp(i),Cl=null,au=0,i=mt;for(;i!==null;)R1(i.alternate,i),i=i.return;mt=null}}function Bl(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,g4(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Gg(),$t=i,mt=c=Ss(i.current,null),xt=s,Gt=0,Fr=null,Vi=!1,Ul=Ia(i,s),Ug=!1,Fl=ua=Fg=Vo=Ds=ln=0,Ka=wu=null,Bg=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var g=31-jn(d),x=1<<g;s|=i[g],d&=~x}return Li=s,ph(),c}function k1(i,s){lt=null,N.H=Qa,s===nu?(s=Gb(),Gt=3):s===Yb?(s=Gb(),Gt=4):Gt=s===qw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fr=s,mt===null&&(ln=1,Oh(i,ra(s,i.current)))}function P1(){var i=N.H;return N.H=Qa,i===null?Qa:i}function j1(){var i=N.A;return N.A=KN,i}function Qg(){ln=4,Vi||(xt&4194176)!==xt&&sa.current!==null||(Ul=!0),(Ds&134217727)===0&&(Vo&134217727)===0||$t===null||Ui($t,xt,ua,!1)}function Kg(i,s,c){var d=tn;tn|=2;var g=P1(),x=j1();($t!==i||xt!==s)&&(Hh=null,Bl(i,s)),s=!1;var S=ln;e:do try{if(Gt!==0&&mt!==null){var I=mt,H=Fr;switch(Gt){case 8:Gg(),S=6;break e;case 3:case 2:case 6:sa.current===null&&(s=!0);var K=Gt;if(Gt=0,Fr=null,zl(i,I,H,K),c&&Ul){S=0;break e}break;default:K=Gt,Gt=0,Fr=null,zl(i,I,H,K)}}ZN(),S=ln;break}catch(ce){k1(i,ce)}while(!0);return s&&i.shellSuspendCounter++,Mi=Po=null,tn=d,N.H=g,N.A=x,mt===null&&($t=null,xt=0,ph()),S}function ZN(){for(;mt!==null;)O1(mt)}function JN(i,s){var c=tn;tn|=2;var d=P1(),g=j1();$t!==i||xt!==s?(Hh=null,zh=ge()+500,Bl(i,s)):Ul=Ia(i,s);e:do try{if(Gt!==0&&mt!==null){s=mt;var x=Fr;t:switch(Gt){case 1:Gt=0,Fr=null,zl(i,s,x,1);break;case 2:if(qb(x)){Gt=0,Fr=null,I1(s);break}s=function(){Gt===2&&$t===i&&(Gt=7),Wa(i)},x.then(s,s);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:qb(x)?(Gt=0,Fr=null,I1(s)):(Gt=0,Fr=null,zl(i,s,x,7));break;case 5:var S=null;switch(mt.tag){case 26:S=mt.memoizedState;case 5:case 27:var I=mt;if(!S||d_(S)){Gt=0,Fr=null;var H=I.sibling;if(H!==null)mt=H;else{var K=I.return;K!==null?(mt=K,$h(K)):mt=null}break t}}Gt=0,Fr=null,zl(i,s,x,5);break;case 6:Gt=0,Fr=null,zl(i,s,x,6);break;case 8:Gg(),ln=6;break e;default:throw Error(r(462))}}e4();break}catch(ce){k1(i,ce)}while(!0);return Mi=Po=null,N.H=d,N.A=g,tn=c,mt!==null?0:($t=null,xt=0,ph(),ln)}function e4(){for(;mt!==null&&!Ke();)O1(mt)}function O1(i){var s=r1(i.alternate,i,Li);i.memoizedProps=i.pendingProps,s===null?$h(i):mt=s}function I1(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=Xw(c,s,s.pendingProps,s.type,void 0,xt);break;case 11:s=Xw(c,s,s.pendingProps,s.type.render,s.ref,xt);break;case 5:Jp(s);default:R1(c,s),s=mt=S1(s,Li),s=r1(c,s,Li)}i.memoizedProps=i.pendingProps,s===null?$h(i):mt=s}function zl(i,s,c,d){Mi=Po=null,Jp(s),Cl=null,au=0;var g=s.return;try{if(zN(i,g,s,c,xt)){ln=1,Oh(i,ra(c,i.current)),mt=null;return}}catch(x){if(g!==null)throw mt=g,x;ln=1,Oh(i,ra(c,i.current)),mt=null;return}s.flags&32768?(Rt||d===1?i=!0:Ul||(xt&536870912)!==0?i=!1:(Vi=i=!0,(d===2||d===3||d===6)&&(d=sa.current,d!==null&&d.tag===13&&(d.flags|=16384))),V1(s,i)):$h(s)}function $h(i){var s=i;do{if((s.flags&32768)!==0){V1(s,Vi);return}i=s.return;var c=GN(s.alternate,s,Li);if(c!==null){mt=c;return}if(s=s.sibling,s!==null){mt=s;return}mt=s=i}while(s!==null);ln===0&&(ln=5)}function V1(i,s){do{var c=QN(i.alternate,i);if(c!==null){c.flags&=32767,mt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){mt=i;return}mt=i=c}while(i!==null);ln=6,mt=null}function L1(i,s,c,d,g,x,S,I,H,K){var ce=N.T,ye=we.p;try{we.p=2,N.T=null,t4(i,s,c,d,ye,g,x,S,I,H,K)}finally{N.T=ce,we.p=ye}}function t4(i,s,c,d,g,x,S,I){do Hl();while(Lo!==null);if((tn&6)!==0)throw Error(r(327));var H=i.finishedWork;if(d=i.finishedLanes,H===null)return null;if(i.finishedWork=null,i.finishedLanes=0,H===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=H.lanes|H.childLanes;if(K|=Lp,Te(i,d,K,x,S,I),i===$t&&(mt=$t=null,xt=0),(H.subtreeFlags&10256)===0&&(H.flags&10256)===0||Yh||(Yh=!0,Hg=K,Yg=c,i4(_t,function(){return Hl(),null})),c=(H.flags&15990)!==0,(H.subtreeFlags&15990)!==0||c?(c=N.T,N.T=null,x=we.p,we.p=2,S=tn,tn|=4,YN(i,H),v1(H,i),SN(oy,i.containerInfo),af=!!sy,oy=sy=null,i.current=H,m1(i,H.alternate,H),et(),tn=S,we.p=x,N.T=c):i.current=H,Yh?(Yh=!1,Lo=i,_u=d):U1(i,K),K=i.pendingLanes,K===0&&(As=null),os(H.stateNode),Wa(i),s!==null)for(g=i.onRecoverableError,H=0;H<s.length;H++)K=s[H],g(K.value,{componentStack:K.stack});return(_u&3)!==0&&Hl(),K=i.pendingLanes,(d&4194218)!==0&&(K&42)!==0?i===qg?Eu++:(Eu=0,qg=i):Eu=0,Tu(0),null}function U1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,su(s)))}function Hl(){if(Lo!==null){var i=Lo,s=Hg;Hg=0;var c=Ie(_u),d=N.T,g=we.p;try{if(we.p=32>c?32:c,N.T=null,Lo===null)var x=!1;else{c=Yg,Yg=null;var S=Lo,I=_u;if(Lo=null,_u=0,(tn&6)!==0)throw Error(r(331));var H=tn;if(tn|=4,E1(S.current),b1(S,S.current,I,c),tn=H,Tu(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(wa,S)}catch{}x=!0}return x}finally{we.p=g,N.T=d,U1(i,s)}}return!1}function F1(i,s,c){s=ra(c,s),s=fg(i.stateNode,s,2),i=ws(i,s,2),i!==null&&(he(i,2),Wa(i))}function Ht(i,s,c){if(i.tag===3)F1(i,i,c);else for(;s!==null;){if(s.tag===3){F1(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))){i=ra(c,i),c=Hw(2),d=ws(s,c,2),d!==null&&(Yw(c,d,s,i),he(d,2),Wa(d));break}}s=s.return}}function Wg(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new WN;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(c)||(Ug=!0,g.add(c),i=n4.bind(null,i,s,c),s.then(i,i))}function n4(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,$t===i&&(xt&c)===c&&(ln===4||ln===3&&(xt&62914560)===xt&&300>ge()-zg?(tn&2)===0&&Bl(i,0):Fg|=c,Fl===xt&&(Fl=0)),Wa(i)}function B1(i,s){s===0&&(s=X()),i=fs(i,s),i!==null&&(he(i,s),Wa(i))}function r4(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),B1(i,c)}function a4(i,s){var c=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),B1(i,c)}function i4(i,s){return Qe(i,s)}var Gh=null,Yl=null,Xg=!1,Qh=!1,Zg=!1,Uo=0;function Wa(i){i!==Yl&&i.next===null&&(Yl===null?Gh=Yl=i:Yl=Yl.next=i),Qh=!0,Xg||(Xg=!0,o4(s4))}function Tu(i,s){if(!Zg&&Qh){Zg=!0;do for(var c=!1,d=Gh;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var x=0;else{var S=d.suspendedLanes,I=d.pingedLanes;x=(1<<31-jn(42|i)+1)-1,x&=g&~(S&~I),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(c=!0,Y1(d,x))}else x=xt,x=Yn(d,d===$t?x:0),(x&3)===0||Ia(d,x)||(c=!0,Y1(d,x));d=d.next}while(c);Zg=!1}}function s4(){Qh=Xg=!1;var i=0;Uo!==0&&(p4()&&(i=Uo),Uo=0);for(var s=ge(),c=null,d=Gh;d!==null;){var g=d.next,x=z1(d,s);x===0?(d.next=null,c===null?Gh=g:c.next=g,g===null&&(Yl=c)):(c=d,(i!==0||(x&3)!==0)&&(Qh=!0)),d=g}Tu(i)}function z1(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var S=31-jn(x),I=1<<S,H=g[S];H===-1?((I&c)===0||(I&d)!==0)&&(g[S]=ls(I,s)):H<=s&&(i.expiredLanes|=I),x&=~I}if(s=$t,c=xt,c=Yn(i,i===s?c:0),d=i.callbackNode,c===0||i===s&&Gt===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&ke(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Ia(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&ke(d),Ie(c)){case 2:case 8:c=We;break;case 32:c=_t;break;case 268435456:c=ir;break;default:c=_t}return d=H1.bind(null,i),c=Qe(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&ke(d),i.callbackPriority=2,i.callbackNode=null,2}function H1(i,s){var c=i.callbackNode;if(Hl()&&i.callbackNode!==c)return null;var d=xt;return d=Yn(i,i===$t?d:0),d===0?null:(N1(i,d,s),z1(i,ge()),i.callbackNode!=null&&i.callbackNode===c?H1.bind(null,i):null)}function Y1(i,s){if(Hl())return null;N1(i,s,!0)}function o4(i){y4(function(){(tn&6)!==0?Qe(Se,i):i()})}function Jg(){return Uo===0&&(Uo=Y()),Uo}function q1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ua(""+i)}function $1(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function l4(i,s,c,d,g){if(s==="submit"&&c&&c.stateNode===g){var x=q1((g[Ge]||null).action),S=d.submitter;S&&(s=(s=S[Ge]||null)?q1(s.formAction):S.getAttribute("formAction"),s!==null&&(x=s,S=null));var I=new pl("action","action",null,d,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Uo!==0){var H=S?$1(g,S):new FormData(g);lg(c,{pending:!0,data:H,method:g.method,action:x},null,H)}}else typeof x=="function"&&(I.preventDefault(),H=S?$1(g,S):new FormData(g),lg(c,{pending:!0,data:H,method:g.method,action:x},x,H))},currentTarget:g}]})}}for(var ey=0;ey<Lb.length;ey++){var ty=Lb[ey],c4=ty.toLowerCase(),u4=ty[0].toUpperCase()+ty.slice(1);Ta(c4,"on"+u4)}Ta(Pb,"onAnimationEnd"),Ta(jb,"onAnimationIteration"),Ta(Ob,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(AN,"onTransitionRun"),Ta(RN,"onTransitionStart"),Ta(CN,"onTransitionCancel"),Ta(Ib,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function G1(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],g=d.event;d=d.listeners;e:{var x=void 0;if(s)for(var S=d.length-1;0<=S;S--){var I=d[S],H=I.instance,K=I.currentTarget;if(I=I.listener,H!==x&&g.isPropagationStopped())break e;x=I,g.currentTarget=K;try{x(g)}catch(ce){jh(ce)}g.currentTarget=null,x=H}else for(S=0;S<d.length;S++){if(I=d[S],H=I.instance,K=I.currentTarget,I=I.listener,H!==x&&g.isPropagationStopped())break e;x=I,g.currentTarget=K;try{x(g)}catch(ce){jh(ce)}g.currentTarget=null,x=H}}}}function gt(i,s){var c=s[Zt];c===void 0&&(c=s[Zt]=new Set);var d=i+"__bubble";c.has(d)||(Q1(s,i,2,!1),c.add(d))}function ny(i,s,c){var d=0;s&&(d|=4),Q1(c,i,d,s)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function ry(i){if(!i[Kh]){i[Kh]=!0,Va.forEach(function(c){c!=="selectionchange"&&(d4.has(c)||ny(c,!1,i),ny(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Kh]||(s[Kh]=!0,ny("selectionchange",!1,s))}}function Q1(i,s,c,d){switch(y_(s)){case 2:var g=V4;break;case 8:g=L4;break;default:g=gy}c=g.bind(null,s,c,i),g=void 0,!ea||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(s,c,{capture:!0,passive:g}):i.addEventListener(s,c,!0):g!==void 0?i.addEventListener(s,c,{passive:g}):i.addEventListener(s,c,!1)}function ay(i,s,c,d,g){var x=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var I=d.stateNode.containerInfo;if(I===g||I.nodeType===8&&I.parentNode===g)break;if(S===4)for(S=d.return;S!==null;){var H=S.tag;if((H===3||H===4)&&(H=S.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;S=S.return}for(;I!==null;){if(S=fn(I),S===null)return;if(H=S.tag,H===5||H===6||H===26||H===27){d=x=S;continue e}I=I.parentNode}}d=d.return}eh(function(){var K=x,ce=ml(c),ye=[];e:{var ae=Vb.get(i);if(ae!==void 0){var le=pl,Ue=i;switch(i){case"keypress":if(Ba(c)===0)break e;case"keydown":case"keyup":le=wl;break;case"focusin":Ue="focus",le=vl;break;case"focusout":Ue="blur",le=vl;break;case"beforeblur":case"afterblur":le=vl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=lh;break;case Pb:case jb:case Ob:le=xl;break;case Ib:le=uh;break;case"scroll":case"scrollend":le=th;break;case"wheel":le=_l;break;case"copy":case"cut":case"paste":le=bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Kc;break;case"toggle":case"beforetoggle":le=hh}var nt=(s&4)!==0,cn=!nt&&(i==="scroll"||i==="scrollend"),J=nt?ae!==null?ae+"Capture":null:ae;nt=[];for(var Q=K,ne;Q!==null;){var fe=Q;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||J===null||(fe=po(Q,J),fe!=null&&nt.push(Du(Q,fe,ne))),cn)break;Q=Q.return}0<nt.length&&(ae=new le(ae,Ue,null,c,ce),ye.push({event:ae,listeners:nt}))}}if((s&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&c!==Jr&&(Ue=c.relatedTarget||c.fromElement)&&(fn(Ue)||Ue[Dt]))break e;if((le||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Ue=c.relatedTarget||c.toElement,le=K,Ue=Ue?fn(Ue):null,Ue!==null&&(cn=oe(Ue),nt=Ue.tag,Ue!==cn||nt!==5&&nt!==27&&nt!==6)&&(Ue=null)):(le=null,Ue=K),le!==Ue)){if(nt=ta,fe="onMouseLeave",J="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(nt=Kc,fe="onPointerLeave",J="onPointerEnter",Q="pointer"),cn=le==null?ae:Kr(le),ne=Ue==null?ae:Kr(Ue),ae=new nt(fe,Q+"leave",le,c,ce),ae.target=cn,ae.relatedTarget=ne,fe=null,fn(ce)===K&&(nt=new nt(J,Q+"enter",Ue,c,ce),nt.target=ne,nt.relatedTarget=cn,fe=nt),cn=fe,le&&Ue)t:{for(nt=le,J=Ue,Q=0,ne=nt;ne;ne=ql(ne))Q++;for(ne=0,fe=J;fe;fe=ql(fe))ne++;for(;0<Q-ne;)nt=ql(nt),Q--;for(;0<ne-Q;)J=ql(J),ne--;for(;Q--;){if(nt===J||J!==null&&nt===J.alternate)break t;nt=ql(nt),J=ql(J)}nt=null}else nt=null;le!==null&&K1(ye,ae,le,nt,!1),Ue!==null&&cn!==null&&K1(ye,cn,Ue,nt,!0)}}e:{if(ae=K?Kr(K):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var Oe=_b;else if(Rn(ae))if(Eb)Oe=EN;else{Oe=wN;var dt=bN}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?K&&zc(K.elementType)&&(Oe=_b):Oe=_N;if(Oe&&(Oe=Oe(i,K))){Si(ye,Oe,c,ce);break e}dt&&dt(i,ae,K),i==="focusout"&&K&&ae.type==="number"&&K.memoizedProps.value!=null&&fl(ae,"number",ae.value)}switch(dt=K?Kr(K):window,i){case"focusin":(Rn(dt)||dt.contentEditable==="true")&&(El=dt,Op=K,Zc=null);break;case"focusout":Zc=Op=El=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,Mb(ye,c,ce);break;case"selectionchange":if(DN)break;case"keydown":case"keyup":Mb(ye,c,ce)}var He;if(Ya)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else yt?se(i,c)&&(Xe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Xe="onCompositionStart");Xe&&(T&&c.locale!=="ko"&&(yt||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&yt&&(He=Yc()):(Fa=ce,hs="value"in Fa?Fa.value:Fa.textContent,yt=!0)),dt=Wh(K,Xe),0<dt.length&&(Xe=new Gc(Xe,i,null,c,ce),ye.push({event:Xe,listeners:dt}),He?Xe.data=He:(He=_e(c),He!==null&&(Xe.data=He)))),(He=w?An(i,c):vt(i,c))&&(Xe=Wh(K,"onBeforeInput"),0<Xe.length&&(dt=new Gc("onBeforeInput","beforeinput",null,c,ce),ye.push({event:dt,listeners:Xe}),dt.data=He)),l4(ye,i,K,c,ce)}G1(ye,s)})}function Du(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Wh(i,s){for(var c=s+"Capture",d=[];i!==null;){var g=i,x=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=po(i,c),g!=null&&d.unshift(Du(i,g,x)),g=po(i,s),g!=null&&d.push(Du(i,g,x))),i=i.return}return d}function ql(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function K1(i,s,c,d,g){for(var x=s._reactName,S=[];c!==null&&c!==d;){var I=c,H=I.alternate,K=I.stateNode;if(I=I.tag,H!==null&&H===d)break;I!==5&&I!==26&&I!==27||K===null||(H=K,g?(K=po(c,x),K!=null&&S.unshift(Du(c,K,H))):g||(K=po(c,x),K!=null&&S.push(Du(c,K,H)))),c=c.return}S.length!==0&&i.push({event:s,listeners:S})}var h4=/\r\n?/g,f4=/\u0000|\uFFFD/g;function W1(i){return(typeof i=="string"?i:""+i).replace(h4,`
`).replace(f4,"")}function X1(i,s){return s=W1(s),W1(i)===s}function Xh(){}function Ft(i,s,c,d,g,x){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Zr(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Zr(i,""+d);break;case"className":cs(i,"class",d);break;case"tabIndex":cs(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(i,c,d);break;case"style":Jd(i,d,x);break;case"data":if(s!=="object"){cs(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Ua(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&Ft(i,s,"name",g.name,g,null),Ft(i,s,"formEncType",g.formEncType,g,null),Ft(i,s,"formMethod",g.formMethod,g,null),Ft(i,s,"formTarget",g.formTarget,g,null)):(Ft(i,s,"encType",g.encType,g,null),Ft(i,s,"method",g.method,g,null),Ft(i,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Ua(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=Xh);break;case"onScroll":d!=null&&gt("scroll",i);break;case"onScrollEnd":d!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Ua(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":gt("beforetoggle",i),gt("toggle",i),La(i,"popover",d);break;case"xlinkActuate":Xr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Xr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Xr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Xr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Xr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Xr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Xr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Xr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Xr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":La(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Rp.get(c)||c,La(i,c,d))}}function iy(i,s,c,d,g,x){switch(c){case"style":Jd(i,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Zr(i,d):(typeof d=="number"||typeof d=="bigint")&&Zr(i,""+d);break;case"onScroll":d!=null&&gt("scroll",i);break;case"onScrollEnd":d!=null&&gt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),s=c.slice(2,g?c.length-7:void 0),x=i[Ge]||null,x=x!=null?x[c]:null,typeof x=="function"&&i.removeEventListener(s,x,g),typeof d=="function")){typeof x!="function"&&x!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,g);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):La(i,c,d)}}}function Qn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var d=!1,g=!1,x;for(x in c)if(c.hasOwnProperty(x)){var S=c[x];if(S!=null)switch(x){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,x,S,c,null)}}g&&Ft(i,s,"srcSet",c.srcSet,c,null),d&&Ft(i,s,"src",c.src,c,null);return;case"input":gt("invalid",i);var I=x=S=g=null,H=null,K=null;for(d in c)if(c.hasOwnProperty(d)){var ce=c[d];if(ce!=null)switch(d){case"name":g=ce;break;case"type":S=ce;break;case"checked":H=ce;break;case"defaultChecked":K=ce;break;case"value":x=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Ft(i,s,d,ce,c,null)}}fo(i,x,I,H,K,S,g,!1),ho(i);return;case"select":gt("invalid",i),d=S=x=null;for(g in c)if(c.hasOwnProperty(g)&&(I=c[g],I!=null))switch(g){case"value":x=I;break;case"defaultValue":S=I;break;case"multiple":d=I;default:Ft(i,s,g,I,c,null)}s=x,c=S,i.multiple=!!d,s!=null?At(i,!!d,s,!1):c!=null&&At(i,!!d,c,!0);return;case"textarea":gt("invalid",i),x=g=d=null;for(S in c)if(c.hasOwnProperty(S)&&(I=c[S],I!=null))switch(S){case"value":d=I;break;case"defaultValue":g=I;break;case"children":x=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ft(i,s,S,I,c,null)}ds(i,d,g,x),ho(i);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(d=c[H],d!=null))switch(H){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ft(i,s,H,d,c,null)}return;case"dialog":gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(d=0;d<Su.length;d++)gt(Su[d],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(d=c[K],d!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,K,d,c,null)}return;default:if(zc(s)){for(ce in c)c.hasOwnProperty(ce)&&(d=c[ce],d!==void 0&&iy(i,s,ce,d,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(d=c[I],d!=null&&Ft(i,s,I,d,c,null))}function m4(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,S=null,I=null,H=null,K=null,ce=null;for(le in c){var ye=c[le];if(c.hasOwnProperty(le)&&ye!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=ye;default:d.hasOwnProperty(le)||Ft(i,s,le,null,d,ye)}}for(var ae in d){var le=d[ae];if(ye=c[ae],d.hasOwnProperty(ae)&&(le!=null||ye!=null))switch(ae){case"type":x=le;break;case"name":g=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":S=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:le!==ye&&Ft(i,s,ae,le,d,ye)}}us(i,S,I,H,K,ce,x,g);return;case"select":le=S=I=ae=null;for(x in c)if(H=c[x],c.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":le=H;default:d.hasOwnProperty(x)||Ft(i,s,x,null,d,H)}for(g in d)if(x=d[g],H=c[g],d.hasOwnProperty(g)&&(x!=null||H!=null))switch(g){case"value":ae=x;break;case"defaultValue":I=x;break;case"multiple":S=x;default:x!==H&&Ft(i,s,g,x,d,H)}s=I,c=S,d=le,ae!=null?At(i,!!c,ae,!1):!!d!=!!c&&(s!=null?At(i,!!c,s,!0):At(i,!!c,c?[]:"",!1));return;case"textarea":le=ae=null;for(I in c)if(g=c[I],c.hasOwnProperty(I)&&g!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ft(i,s,I,null,d,g)}for(S in d)if(g=d[S],x=c[S],d.hasOwnProperty(S)&&(g!=null||x!=null))switch(S){case"value":ae=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&Ft(i,s,S,g,d,x)}mo(i,ae,le);return;case"option":for(var Ue in c)if(ae=c[Ue],c.hasOwnProperty(Ue)&&ae!=null&&!d.hasOwnProperty(Ue))switch(Ue){case"selected":i.selected=!1;break;default:Ft(i,s,Ue,null,d,ae)}for(H in d)if(ae=d[H],le=c[H],d.hasOwnProperty(H)&&ae!==le&&(ae!=null||le!=null))switch(H){case"selected":i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Ft(i,s,H,ae,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in c)ae=c[nt],c.hasOwnProperty(nt)&&ae!=null&&!d.hasOwnProperty(nt)&&Ft(i,s,nt,null,d,ae);for(K in d)if(ae=d[K],le=c[K],d.hasOwnProperty(K)&&ae!==le&&(ae!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:Ft(i,s,K,ae,d,le)}return;default:if(zc(s)){for(var cn in c)ae=c[cn],c.hasOwnProperty(cn)&&ae!==void 0&&!d.hasOwnProperty(cn)&&iy(i,s,cn,void 0,d,ae);for(ce in d)ae=d[ce],le=c[ce],!d.hasOwnProperty(ce)||ae===le||ae===void 0&&le===void 0||iy(i,s,ce,ae,d,le);return}}for(var J in c)ae=c[J],c.hasOwnProperty(J)&&ae!=null&&!d.hasOwnProperty(J)&&Ft(i,s,J,null,d,ae);for(ye in d)ae=d[ye],le=c[ye],!d.hasOwnProperty(ye)||ae===le||ae==null&&le==null||Ft(i,s,ye,ae,d,le)}var sy=null,oy=null;function Zh(i){return i.nodeType===9?i:i.ownerDocument}function Z1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ly(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cy=null;function p4(){var i=window.event;return i&&i.type==="popstate"?i===cy?!1:(cy=i,!0):(cy=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,g4=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,y4=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(i){return t_.resolve(null).then(i).catch(v4)}:e_;function v4(i){setTimeout(function(){throw i})}function uy(i,s){var c=s,d=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(d===0){i.removeChild(g),ju(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=g}while(c);ju(s)}function dy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":dy(c),Ir(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function x4(i,s,c,d){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[br])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Aa(i.nextSibling),i===null)break}return null}function b4(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Aa(i.nextSibling),i===null))return null;return i}function Aa(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function n_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function r_(i,s,c){switch(s=Zh(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var da=new Map,a_=new Set;function Jh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Fi=we.d;we.d={f:w4,r:_4,D:E4,C:T4,L:S4,m:D4,X:R4,S:A4,M:C4};function w4(){var i=Fi.f(),s=qh();return i||s}function _4(i){var s=xn(i);s!==null&&s.tag===5&&s.type==="form"?Mw(s):Fi.r(i)}var $l=typeof document>"u"?null:document;function i_(i,s,c){var d=$l;if(d&&typeof s=="string"&&s){var g=sn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),a_.has(g)||(a_.add(g),i={rel:i,crossOrigin:c,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),Qn(s,"link",i),Nt(s),d.head.appendChild(s)))}}function E4(i){Fi.D(i),i_("dns-prefetch",i,null)}function T4(i,s){Fi.C(i,s),i_("preconnect",i,s)}function S4(i,s,c){Fi.L(i,s,c);var d=$l;if(d&&i&&s){var g='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+sn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+sn(c.imageSizes)+'"]')):g+='[href="'+sn(i)+'"]';var x=g;switch(s){case"style":x=Gl(i);break;case"script":x=Ql(i)}da.has(x)||(i=C({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),da.set(x,i),d.querySelector(g)!==null||s==="style"&&d.querySelector(Au(x))||s==="script"&&d.querySelector(Ru(x))||(s=d.createElement("link"),Qn(s,"link",i),Nt(s),d.head.appendChild(s)))}}function D4(i,s){Fi.m(i,s);var c=$l;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+sn(d)+'"][href="'+sn(i)+'"]',x=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ql(i)}if(!da.has(x)&&(i=C({rel:"modulepreload",href:i},s),da.set(x,i),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Ru(x)))return}d=c.createElement("link"),Qn(d,"link",i),Nt(d),c.head.appendChild(d)}}}function A4(i,s,c){Fi.S(i,s,c);var d=$l;if(d&&i){var g=Cr(d).hoistableStyles,x=Gl(i);s=s||"default";var S=g.get(x);if(!S){var I={loading:0,preload:null};if(S=d.querySelector(Au(x)))I.loading=5;else{i=C({rel:"stylesheet",href:i,"data-precedence":s},c),(c=da.get(x))&&hy(i,c);var H=S=d.createElement("link");Nt(H),Qn(H,"link",i),H._p=new Promise(function(K,ce){H.onload=K,H.onerror=ce}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ef(S,s,d)}S={type:"stylesheet",instance:S,count:1,state:I},g.set(x,S)}}}function R4(i,s){Fi.X(i,s);var c=$l;if(c&&i){var d=Cr(c).hoistableScripts,g=Ql(i),x=d.get(g);x||(x=c.querySelector(Ru(g)),x||(i=C({src:i,async:!0},s),(s=da.get(g))&&fy(i,s),x=c.createElement("script"),Nt(x),Qn(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function C4(i,s){Fi.M(i,s);var c=$l;if(c&&i){var d=Cr(c).hoistableScripts,g=Ql(i),x=d.get(g);x||(x=c.querySelector(Ru(g)),x||(i=C({src:i,async:!0,type:"module"},s),(s=da.get(g))&&fy(i,s),x=c.createElement("script"),Nt(x),Qn(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function s_(i,s,c,d){var g=(g=Xt.current)?Jh(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Gl(c.href),c=Cr(g).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Gl(c.href);var x=Cr(g).hoistableStyles,S=x.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,S),(x=g.querySelector(Au(i)))&&!x._p&&(S.instance=x,S.state.loading=5),da.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},da.set(i,c),x||N4(g,i,c,S.state))),s&&d===null)throw Error(r(528,""));return S}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ql(c),c=Cr(g).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Gl(i){return'href="'+sn(i)+'"'}function Au(i){return'link[rel="stylesheet"]['+i+"]"}function o_(i){return C({},i,{"data-precedence":i.precedence,precedence:null})}function N4(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Qn(s,"link",c),Nt(s),i.head.appendChild(s))}function Ql(i){return'[src="'+sn(i)+'"]'}function Ru(i){return"script[async]"+i}function l_(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+sn(c.href)+'"]');if(d)return s.instance=d,Nt(d),d;var g=C({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Nt(d),Qn(d,"style",g),ef(d,c.precedence,i),s.instance=d;case"stylesheet":g=Gl(c.href);var x=i.querySelector(Au(g));if(x)return s.state.loading|=4,s.instance=x,Nt(x),x;d=o_(c),(g=da.get(g))&&hy(d,g),x=(i.ownerDocument||i).createElement("link"),Nt(x);var S=x;return S._p=new Promise(function(I,H){S.onload=I,S.onerror=H}),Qn(x,"link",d),s.state.loading|=4,ef(x,c.precedence,i),s.instance=x;case"script":return x=Ql(c.src),(g=i.querySelector(Ru(x)))?(s.instance=g,Nt(g),g):(d=c,(g=da.get(x))&&(d=C({},c),fy(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Nt(g),Qn(g,"link",d),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,ef(d,c.precedence,i));return s.instance}function ef(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,x=g,S=0;S<d.length;S++){var I=d[S];if(I.dataset.precedence===s)x=I;else if(x!==g)break}x?x.parentNode.insertBefore(i,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function hy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function fy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var tf=null;function c_(i,s,c){if(tf===null){var d=new Map,g=tf=new Map;g.set(c,d)}else g=tf,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var x=c[g];if(!(x[br]||x[je]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(s)||"";S=i+S;var I=d.get(S);I?I.push(x):d.set(S,[x])}}return d}function u_(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function M4(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Cu=null;function k4(){}function P4(i,s,c){if(Cu===null)throw Error(r(475));var d=Cu;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Gl(c.href),x=i.querySelector(Au(g));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=nf.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=x,Nt(x);return}x=i.ownerDocument||i,c=o_(c),(g=da.get(g))&&hy(c,g),x=x.createElement("link"),Nt(x);var S=x;S._p=new Promise(function(I,H){S.onload=I,S.onerror=H}),Qn(x,"link",c),s.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=nf.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function j4(){if(Cu===null)throw Error(r(475));var i=Cu;return i.stylesheets&&i.count===0&&my(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&my(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)my(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function my(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,s.forEach(O4,i),rf=null,nf.call(i))}function O4(i,s){if(!(s.state.loading&4)){var c=rf.get(i);if(c)var d=c.get(null);else{c=new Map,rf.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var S=g[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}g=s.instance,S=g.getAttribute("data-precedence"),x=c.get(S)||d,x===d&&c.set(null,g),c.set(S,g),this.count++,d=nf.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),x?x.parentNode.insertBefore(g,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Nu={$$typeof:_,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function I4(i,s,c,d,g,x,S,I){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function h_(i,s,c,d,g,x,S,I,H,K,ce,ye){return i=new I4(i,s,c,S,I,H,K,ye),s=1,x===!0&&(s|=24),x=ca(3,null,null,s),i.current=x,x.stateNode=i,s=$p(),s.refCount++,i.pooledCache=s,s.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:s},Dg(x),i}function f_(i){return i?(i=Dl,i):Dl}function m_(i,s,c,d,g,x){g=f_(g),d.context===null?d.context=g:d.pendingContext=g,d=bs(s),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=ws(i,d,s),c!==null&&(Tr(c,i,s),fu(c,i,s))}function p_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function py(i,s){p_(i,s),(i=i.alternate)&&p_(i,s)}function g_(i){if(i.tag===13){var s=fs(i,67108864);s!==null&&Tr(s,i,67108864),py(i,67108864)}}var af=!0;function V4(i,s,c,d){var g=N.T;N.T=null;var x=we.p;try{we.p=2,gy(i,s,c,d)}finally{we.p=x,N.T=g}}function L4(i,s,c,d){var g=N.T;N.T=null;var x=we.p;try{we.p=8,gy(i,s,c,d)}finally{we.p=x,N.T=g}}function gy(i,s,c,d){if(af){var g=yy(d);if(g===null)ay(i,s,d,sf,c),v_(i,d);else if(F4(g,i,s,c,d))d.stopPropagation();else if(v_(i,d),s&4&&-1<U4.indexOf(i)){for(;g!==null;){var x=xn(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=sr(x.pendingLanes);if(S!==0){var I=x;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var H=1<<31-jn(S);I.entanglements[1]|=H,S&=~H}Wa(x),(tn&6)===0&&(zh=ge()+500,Tu(0))}}break;case 13:I=fs(x,2),I!==null&&Tr(I,x,2),qh(),py(x,2)}if(x=yy(d),x===null&&ay(i,s,d,sf,c),x===g)break;g=x}g!==null&&d.stopPropagation()}else ay(i,s,d,null,c)}}function yy(i){return i=ml(i),vy(i)}var sf=null;function vy(i){if(sf=null,i=fn(i),i!==null){var s=oe(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=ve(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sf=i,null}function y_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Se:return 2;case We:return 8;case _t:case vr:return 32;case ir:return 268435456;default:return 32}default:return 32}}var xy=!1,Rs=null,Cs=null,Ns=null,Mu=new Map,ku=new Map,Ms=[],U4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(i,s){switch(i){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(s.pointerId)}}function Pu(i,s,c,d,g,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},s!==null&&(s=xn(s),s!==null&&g_(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function F4(i,s,c,d,g){switch(s){case"focusin":return Rs=Pu(Rs,i,s,c,d,g),!0;case"dragenter":return Cs=Pu(Cs,i,s,c,d,g),!0;case"mouseover":return Ns=Pu(Ns,i,s,c,d,g),!0;case"pointerover":var x=g.pointerId;return Mu.set(x,Pu(Mu.get(x)||null,i,s,c,d,g)),!0;case"gotpointercapture":return x=g.pointerId,ku.set(x,Pu(ku.get(x)||null,i,s,c,d,g)),!0}return!1}function x_(i){var s=fn(i.target);if(s!==null){var c=oe(s);if(c!==null){if(s=c.tag,s===13){if(s=ve(c),s!==null){i.blockedOn=s,De(i.priority,function(){if(c.tag===13){var d=Br(),g=fs(c,d);g!==null&&Tr(g,c,d),py(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function of(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=yy(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);Jr=d,c.target.dispatchEvent(d),Jr=null}else return s=xn(c),s!==null&&g_(s),i.blockedOn=c,!1;s.shift()}return!0}function b_(i,s,c){of(i)&&c.delete(s)}function B4(){xy=!1,Rs!==null&&of(Rs)&&(Rs=null),Cs!==null&&of(Cs)&&(Cs=null),Ns!==null&&of(Ns)&&(Ns=null),Mu.forEach(b_),ku.forEach(b_)}function lf(i,s){i.blockedOn===s&&(i.blockedOn=null,xy||(xy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,B4)))}var cf=null;function w_(i){cf!==i&&(cf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cf===i&&(cf=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],g=i[s+2];if(typeof d!="function"){if(vy(d||c)===null)continue;break}var x=xn(c);x!==null&&(i.splice(s,3),s-=3,lg(x,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function ju(i){function s(H){return lf(H,i)}Rs!==null&&lf(Rs,i),Cs!==null&&lf(Cs,i),Ns!==null&&lf(Ns,i),Mu.forEach(s),ku.forEach(s);for(var c=0;c<Ms.length;c++){var d=Ms[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ms.length&&(c=Ms[0],c.blockedOn===null);)x_(c),c.blockedOn===null&&Ms.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],x=c[d+1],S=g[Ge]||null;if(typeof x=="function")S||w_(c);else if(S){var I=null;if(x&&x.hasAttribute("formAction")){if(g=x,S=x[Ge]||null)I=S.formAction;else if(vy(g)!==null)continue}else I=S.action;typeof I=="function"?c[d+1]=I:(c.splice(d,3),d-=3),w_(c)}}}function by(i){this._internalRoot=i}uf.prototype.render=by.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=Br();m_(c,d,i,s,null,null)},uf.prototype.unmount=by.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Hl(),m_(i.current,2,null,i,null,null),qh(),s[Dt]=null}};function uf(i){this._internalRoot=i}uf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Le();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ms.length&&s!==0&&s<Ms[c].priority;c++);Ms.splice(c,0,i),c===0&&x_(i)}};var __=e.version;if(__!=="19.0.0")throw Error(r(527,__,"19.0.0"));we.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=W(s),i=i!==null?ue(i):null,i=i===null?null:i.stateNode,i};var z4={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{wa=df.inject(z4),Pn=df}catch{}}return Iu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,d="",g=Uw,x=Fw,S=Bw,I=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=h_(i,1,!1,null,null,c,d,g,x,S,I,null),i[Dt]=s.current,ry(i.nodeType===8?i.parentNode:i),new by(s)},Iu.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var d=!1,g="",x=Uw,S=Fw,I=Bw,H=null,K=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks),c.formState!==void 0&&(K=c.formState)),s=h_(i,1,!0,s,c??null,d,g,x,S,I,H,K),s.context=f_(null),c=s.current,d=Br(),g=bs(d),g.callback=null,ws(c,g,d),s.current.lanes=d,he(s,d),Wa(s),i[Dt]=s.current,ry(i),new uf(s)},Iu.version="19.0.0",Iu}var k_;function tM(){if(k_)return Ey.exports;k_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ey.exports=eM(),Ey.exports}var nM=tM(),Vu={},P_;function rM(){if(P_)return Vu;P_=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.parse=l,Vu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,_){const E=new o,D=b.length;if(D<2)return E;const A=(_==null?void 0:_.decode)||y;let j=0;do{const U=b.indexOf("=",j);if(U===-1)break;const F=b.indexOf(";",j),q=F===-1?D:F;if(U>q){j=b.lastIndexOf(";",U-1)+1;continue}const k=u(b,j,U),$=h(b,U,k),O=b.slice(k,$);if(E[O]===void 0){let R=u(b,U+1,q),N=h(b,q,R);const C=A(b.slice(R,N));E[O]=C}j=q+1}while(j<D);return E}function u(b,_,E){do{const D=b.charCodeAt(_);if(D!==32&&D!==9)return _}while(++_<E);return E}function h(b,_,E){for(;_>E;){const D=b.charCodeAt(--_);if(D!==32&&D!==9)return _+1}return E}function f(b,_,E){const D=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=D(_);if(!e.test(A))throw new TypeError(`argument val is invalid: ${_}`);let j=b+"="+A;if(!E)return j;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);j+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);j+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);j+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);j+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(j+="; HttpOnly"),E.secure&&(j+="; Secure"),E.partitioned&&(j+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return j}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return a.call(b)==="[object Date]"}return Vu}rM();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MS=n=>{throw TypeError(n)},aM=(n,e,t)=>e.has(n)||MS("Cannot "+t),Ay=(n,e,t)=>(aM(n,e,"read from private field"),t?t.call(n):e.get(n)),iM=(n,e,t)=>e.has(n)?MS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),j_="popstate";function sM(n={}){function e(r,a){let{pathname:o,search:l,hash:u}=r.location;return md("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Gs(a)}return lM(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oM(){return Math.random().toString(36).substring(2,10)}function O_(n,e){return{usr:n.state,key:n.key,idx:e}}function md(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:t,key:e&&e.key||r||oM()}}function Gs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ao(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function lM(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,u="POP",h=null,f=y();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function y(){return(l.state||{idx:null}).idx}function v(){u="POP";let A=y(),j=A==null?null:A-f;f=A,h&&h({action:u,location:D.location,delta:j})}function b(A,j){u="PUSH";let U=md(D.location,A,j);f=y()+1;let F=O_(U,f),q=D.createHref(U);try{l.pushState(F,"",q)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(q)}o&&h&&h({action:u,location:D.location,delta:1})}function _(A,j){u="REPLACE";let U=md(D.location,A,j);f=y();let F=O_(U,f),q=D.createHref(U);l.replaceState(F,"",q),o&&h&&h({action:u,location:D.location,delta:0})}function E(A){let j=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof A=="string"?A:Gs(A);return U=U.replace(/ $/,"%20"),ft(j,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,j)}let D={get action(){return u},get location(){return n(a,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(j_,v),h=A,()=>{a.removeEventListener(j_,v),h=null}},createHref(A){return e(a,A)},createURL:E,encodeLocation(A){let j=E(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:_,go(A){return l.go(A)}};return D}var Gu,I_=class{constructor(n){if(iM(this,Gu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Ay(this,Gu).has(n))return Ay(this,Gu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Ay(this,Gu).set(n,e)}};Gu=new WeakMap;var cM=new Set(["lazy","caseSensitive","path","id","index","children"]);function uM(n){return n.index===!0}function Zf(n,e,t=[],r={}){return n.map((a,o)=>{let l=[...t,String(o)],u=typeof a.id=="string"?a.id:l.join("-");if(ft(a.index!==!0||!a.children,"Cannot specify children on an index route"),ft(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),uM(a)){let h={...a,...e(a),id:u};return r[u]=h,h}else{let h={...a,...e(a),id:u,children:void 0};return r[u]=h,a.children&&(h.children=Zf(a.children,e,l,r)),h}})}function Vs(n,e,t="/"){return Mf(n,e,t,!1)}function Mf(n,e,t,r){let a=typeof e=="string"?ao(e):e,o=xa(a.pathname||"/",t);if(o==null)return null;let l=kS(n);hM(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=EM(o);u=wM(l[h],f,r)}return u}function dM(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function kS(n,e=[],t=[],r=""){let a=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=ai([r,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kS(o.children,e,y,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:xM(f,o.index),routesMeta:y})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let h of PS(o.path))a(o,l,h)}),e}function PS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=PS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function hM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var fM=/^:[\w-]+$/,mM=3,pM=2,gM=1,yM=10,vM=-2,V_=n=>n==="*";function xM(n,e){let t=n.split("/"),r=t.length;return t.some(V_)&&(r+=vM),e&&(r+=pM),t.filter(a=>!V_(a)).reduce((a,o)=>a+(fM.test(o)?mM:o===""?gM:yM),r)}function bM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function wM(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Jf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},y),b=h.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=Jf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:ai([o,v.pathname]),pathnameBase:DM(ai([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ai([o,v.pathnameBase]))}return l}function Jf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_M(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,{paramName:y,isOptional:v},b)=>{if(y==="*"){let E=u[b]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[b];return v&&!_?f[y]=void 0:f[y]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function _M(n,e=!1,t=!0){er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function EM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function TM(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?ao(n):n;return{pathname:t?t.startsWith("/")?t:SM(t,e):e,search:AM(r),hash:RM(a)}}function SM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ry(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sv(n){let e=jS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Dv(n,e,t,r=!1){let a;typeof n=="string"?a=ao(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),Ry("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Ry("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Ry("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}u=v>=0?e[v]:"/"}let h=TM(a,u),f=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||y)&&(h.pathname+="/"),h}var ai=n=>n.join("/").replace(/\/\/+/g,"/"),DM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,em=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var OS=["POST","PUT","PATCH","DELETE"],CM=new Set(OS),NM=["GET",...OS],MM=new Set(NM),kM=new Set([301,302,303,307,308]),PM=new Set([307,308]),Cy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),IS="remix-router-transitions",VS=Symbol("ResetLoaderData");function IM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||OM,a={},o=Zf(n.routes,r,void 0,a),l,u=n.basename||"/",h=n.dataStrategy||BM,f={unstable_middleware:!1,...n.future},y=null,v=new Set,b=null,_=null,E=null,D=n.hydrationData!=null,A=Vs(o,n.history.location,u),j=!1,U=null;if(A==null&&!n.patchRoutesOnNavigation){let Y=ma(404,{pathname:n.history.location.pathname}),{matches:X,route:ie}=K_(o);A=X,U={[ie.id]:Y}}A&&!n.hydrationData&&sr(A,o,n.history.location.pathname).active&&(A=null);let F;if(A)if(A.some(Y=>Y.route.lazy))F=!1;else if(!A.some(Y=>Y.route.loader))F=!0;else{let Y=n.hydrationData?n.hydrationData.loaderData:null,X=n.hydrationData?n.hydrationData.errors:null;if(X){let ie=A.findIndex(he=>X[he.route.id]!==void 0);F=A.slice(0,ie+1).every(he=>!g0(he.route,Y,X))}else F=A.every(ie=>!g0(ie.route,Y,X))}else{F=!1,A=[];let Y=sr(null,o,n.history.location.pathname);Y.active&&Y.matches&&(j=!0,A=Y.matches)}let q,k={historyAction:n.history.action,location:n.history.location,matches:A,initialized:F,navigation:Cy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},$="POP",O=!1,R,N=!1,C=new Map,L=null,z=!1,B=!1,Ee=new Set,be=new Map,G=0,re=-1,oe=new Map,ve=new Set,P=new Map,W=new Map,ue=new Set,de=new Map,we,Be=null;function Ye(){if(y=n.history.listen(({action:Y,location:X,delta:ie})=>{if(we){we(),we=void 0;return}er(de.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=jn({currentLocation:k.location,nextLocation:X,historyAction:Y});if(he&&ie!=null){let Te=new Promise(ze=>{we=ze});n.history.go(ie*-1),xr(he,{state:"blocked",location:X,proceed(){xr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),Te.then(()=>n.history.go(ie))},reset(){let ze=new Map(k.blockers);ze.set(he,Lu),qe({blockers:ze})}});return}return Xt(Y,X)}),t){JM(e,C);let Y=()=>e3(e,C);e.addEventListener("pagehide",Y),L=()=>e.removeEventListener("pagehide",Y)}return k.initialized||Xt("POP",k.location,{initialHydration:!0}),q}function Lt(){y&&y(),L&&L(),v.clear(),R&&R.abort(),k.fetchers.forEach((Y,X)=>_t(X)),k.blockers.forEach((Y,X)=>os(X))}function at(Y){return v.add(Y),()=>v.delete(Y)}function qe(Y,X={}){k={...k,...Y};let ie=[],he=[];k.fetchers.forEach((Te,ze)=>{Te.state==="idle"&&(ue.has(ze)?ie.push(ze):he.push(ze))}),ue.forEach(Te=>{!k.fetchers.has(Te)&&!be.has(Te)&&ie.push(Te)}),[...v].forEach(Te=>Te(k,{deletedFetchers:ie,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ie.forEach(Te=>_t(Te)),he.forEach(Te=>k.fetchers.delete(Te))}function it(Y,X,{flushSync:ie}={}){var De,Pe;let he=k.actionData!=null&&k.navigation.formMethod!=null&&Ca(k.navigation.formMethod)&&k.navigation.state==="loading"&&((De=Y.state)==null?void 0:De._isRedirect)!==!0,Te;X.actionData?Object.keys(X.actionData).length>0?Te=X.actionData:Te=null:he?Te=k.actionData:Te=null;let ze=X.loaderData?G_(k.loaderData,X.loaderData,X.matches||[],X.errors):k.loaderData,Fe=k.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((je,Ge)=>Fe.set(Ge,Lu)));let Ie=O===!0||k.navigation.formMethod!=null&&Ca(k.navigation.formMethod)&&((Pe=Y.state)==null?void 0:Pe._isRedirect)!==!0;l&&(o=l,l=void 0),z||$==="POP"||($==="PUSH"?n.history.push(Y,Y.state):$==="REPLACE"&&n.history.replace(Y,Y.state));let Le;if($==="POP"){let je=C.get(k.location.pathname);je&&je.has(Y.pathname)?Le={currentLocation:k.location,nextLocation:Y}:C.has(Y.pathname)&&(Le={currentLocation:Y,nextLocation:k.location})}else if(N){let je=C.get(k.location.pathname);je?je.add(Y.pathname):(je=new Set([Y.pathname]),C.set(k.location.pathname,je)),Le={currentLocation:k.location,nextLocation:Y}}qe({...X,actionData:Te,loaderData:ze,historyAction:$,location:Y,initialized:!0,navigation:Cy,revalidation:"idle",restoreScrollPosition:_a(Y,X.matches||k.matches),preventScrollReset:Ie,blockers:Fe},{viewTransitionOpts:Le,flushSync:ie===!0}),$="POP",O=!1,N=!1,z=!1,B=!1,Be==null||Be.resolve(),Be=null}async function Bt(Y,X){if(typeof Y=="number"){n.history.go(Y);return}let ie=p0(k.location,k.matches,u,Y,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:he,submission:Te,error:ze}=L_(!1,ie,X),Fe=k.location,Ie=md(k.location,he,X&&X.state);Ie={...Ie,...n.history.encodeLocation(Ie)};let Le=X&&X.replace!=null?X.replace:void 0,De="PUSH";Le===!0?De="REPLACE":Le===!1||Te!=null&&Ca(Te.formMethod)&&Te.formAction===k.location.pathname+k.location.search&&(De="REPLACE");let Pe=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,je=(X&&X.flushSync)===!0,Ge=jn({currentLocation:Fe,nextLocation:Ie,historyAction:De});if(Ge){xr(Ge,{state:"blocked",location:Ie,proceed(){xr(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),Bt(Y,X)},reset(){let Dt=new Map(k.blockers);Dt.set(Ge,Lu),qe({blockers:Dt})}});return}await Xt(De,Ie,{submission:Te,pendingError:ze,preventScrollReset:Pe,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:je})}function yr(){Be||(Be=t3()),ge(),qe({revalidation:"loading"});let Y=Be.promise;return k.navigation.state==="submitting"?Y:k.navigation.state==="idle"?(Xt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),Y):(Xt($||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:N===!0}),Y)}async function Xt(Y,X,ie){R&&R.abort(),R=null,$=Y,z=(ie&&ie.startUninterruptedRevalidation)===!0,Qr(k.location,k.matches),O=(ie&&ie.preventScrollReset)===!0,N=(ie&&ie.enableViewTransition)===!0;let he=l||o,Te=ie&&ie.overrideNavigation,ze=ie!=null&&ie.initialHydration&&k.matches&&k.matches.length>0&&!j?k.matches:Vs(he,X,u),Fe=(ie&&ie.flushSync)===!0;if(ze&&k.initialized&&!B&&QM(k.location,X)&&!(ie&&ie.submission&&Ca(ie.submission.formMethod))){it(X,{matches:ze},{flushSync:Fe});return}let Ie=sr(ze,he,X.pathname);if(Ie.active&&Ie.matches&&(ze=Ie.matches),!ze){let{error:zt,notFoundMatches:Et,route:Kt}=yi(X.pathname);it(X,{matches:Et,loaderData:{},errors:{[Kt.id]:zt}},{flushSync:Fe});return}R=new AbortController;let Le=Kl(n.history,X,R.signal,ie&&ie.submission),De=new I_(n.unstable_getContext?await n.unstable_getContext():void 0),Pe;if(ie&&ie.pendingError)Pe=[Yo(ze).route.id,{type:"error",error:ie.pendingError}];else if(ie&&ie.submission&&Ca(ie.submission.formMethod)){let zt=await hn(Le,X,ie.submission,ze,De,Ie.active,{replace:ie.replace,flushSync:Fe});if(zt.shortCircuited)return;if(zt.pendingActionResult){let[Et,Kt]=zt.pendingActionResult;if(zr(Kt)&&pd(Kt.error)&&Kt.error.status===404){R=null,it(X,{matches:zt.matches,loaderData:{},errors:{[Et]:Kt.error}});return}}ze=zt.matches||ze,Pe=zt.pendingActionResult,Te=Ny(X,ie.submission),Fe=!1,Ie.active=!1,Le=Kl(n.history,Le.url,Le.signal)}let{shortCircuited:je,matches:Ge,loaderData:Dt,errors:Zt}=await Hn(Le,X,ze,De,Ie.active,Te,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,Fe,Pe);je||(R=null,it(X,{matches:Ge||ze,...Q_(Pe),loaderData:Dt,errors:Zt}))}async function hn(Y,X,ie,he,Te,ze,Fe={}){ge();let Ie=XM(X,ie);if(qe({navigation:Ie},{flushSync:Fe.flushSync===!0}),ze){let Pe=await Yn(he,X.pathname,Y.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){let je=Yo(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,pendingActionResult:[je,{type:"error",error:Pe.error}]}}else if(Pe.matches)he=Pe.matches;else{let{notFoundMatches:je,error:Ge,route:Dt}=yi(X.pathname);return{matches:je,pendingActionResult:[Dt.id,{type:"error",error:Ge}]}}}let Le,De=Qu(he,X);if(!De.route.action&&!De.route.lazy)Le={type:"error",error:ma(405,{method:Y.method,pathname:X.pathname,routeId:De.route.id})};else{let Pe=await Ke("action",Y,[De],he,Te,null);if(Le=Pe[De.route.id],!Le){for(let je of he)if(Pe[je.route.id]){Le=Pe[je.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(qo(Le)){let Pe;return Fe&&Fe.replace!=null?Pe=Fe.replace:Pe=Y_(Le.response.headers.get("Location"),new URL(Y.url),u)===k.location.pathname+k.location.search,await ke(Y,Le,!0,{submission:ie,replace:Pe}),{shortCircuited:!0}}if(zr(Le)){let Pe=Yo(he,De.route.id);return(Fe&&Fe.replace)!==!0&&($="PUSH"),{matches:he,pendingActionResult:[Pe.route.id,Le]}}return{matches:he,pendingActionResult:[De.route.id,Le]}}async function Hn(Y,X,ie,he,Te,ze,Fe,Ie,Le,De,Pe,je){let Ge=ze||Ny(X,Fe),Dt=Fe||Ie||X_(Ge),Zt=!z&&!De;if(Te){if(Zt){let Mt=rr(je);qe({navigation:Ge,...Mt!==void 0?{actionData:Mt}:{}},{flushSync:Pe})}let ot=await Yn(ie,X.pathname,Y.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let Mt=Yo(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[Mt]:ot.error}}}else if(ot.matches)ie=ot.matches;else{let{error:Mt,notFoundMatches:On,route:vi}=yi(X.pathname);return{matches:On,loaderData:{},errors:{[vi.id]:Mt}}}}let zt=l||o,[Et,Kt]=F_(n.history,k,ie,Dt,X,De===!0,B,Ee,ue,P,ve,zt,u,je);if(re=++G,Et.length===0&&Kt.length===0){let ot=Gr();return it(X,{matches:ie,loaderData:{},errors:je&&zr(je[1])?{[je[0]]:je[1].error}:null,...Q_(je),...ot?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(Zt){let ot={};if(!Te){ot.navigation=Ge;let Mt=rr(je);Mt!==void 0&&(ot.actionData=Mt)}Kt.length>0&&(ot.fetchers=ar(Kt)),qe(ot,{flushSync:Pe})}Kt.forEach(ot=>{ir(ot.key),ot.controller&&be.set(ot.key,ot.controller)});let br=()=>Kt.forEach(ot=>ir(ot.key));R&&R.signal.addEventListener("abort",br);let{loaderResults:Ir,fetcherResults:fn}=await et(ie,Et,Kt,Y,he);if(Y.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",br),Kt.forEach(ot=>be.delete(ot.key));let xn=hf(Ir);if(xn)return await ke(Y,xn.result,!0,{replace:Le}),{shortCircuited:!0};if(xn=hf(fn),xn)return ve.add(xn.key),await ke(Y,xn.result,!0,{replace:Le}),{shortCircuited:!0};let{loaderData:Kr,errors:Cr}=$_(k,ie,Ir,je,Kt,fn);De&&k.errors&&(Cr={...k.errors,...Cr});let Nt=Gr(),Va=wa(re),Ea=Nt||Va||Kt.length>0;return{matches:ie,loaderData:Kr,errors:Cr,...Ea?{fetchers:new Map(k.fetchers)}:{}}}function rr(Y){if(Y&&!zr(Y[1]))return{[Y[0]]:Y[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function ar(Y){return Y.forEach(X=>{let ie=k.fetchers.get(X.key),he=Uu(void 0,ie?ie.data:void 0);k.fetchers.set(X.key,he)}),new Map(k.fetchers)}async function $r(Y,X,ie,he){ir(Y);let Te=(he&&he.flushSync)===!0,ze=l||o,Fe=p0(k.location,k.matches,u,ie,X,he==null?void 0:he.relative),Ie=Vs(ze,Fe,u),Le=sr(Ie,ze,Fe);if(Le.active&&Le.matches&&(Ie=Le.matches),!Ie){Se(Y,X,ma(404,{pathname:Fe}),{flushSync:Te});return}let{path:De,submission:Pe,error:je}=L_(!0,Fe,he);if(je){Se(Y,X,je,{flushSync:Te});return}let Ge=Qu(Ie,De),Dt=new I_(n.unstable_getContext?await n.unstable_getContext():void 0),Zt=(he&&he.preventScrollReset)===!0;if(Pe&&Ca(Pe.formMethod)){await xe(Y,X,De,Ge,Ie,Dt,Le.active,Te,Zt,Pe);return}P.set(Y,{routeId:X,path:De}),await Qe(Y,X,De,Ge,Ie,Dt,Le.active,Te,Zt,Pe)}async function xe(Y,X,ie,he,Te,ze,Fe,Ie,Le,De){ge(),P.delete(Y);function Pe(qt){if(!qt.route.action&&!qt.route.lazy){let Wr=ma(405,{method:De.formMethod,pathname:ie,routeId:X});return Se(Y,X,Wr,{flushSync:Ie}),!0}return!1}if(!Fe&&Pe(he))return;let je=k.fetchers.get(Y);Re(Y,ZM(De,je),{flushSync:Ie});let Ge=new AbortController,Dt=Kl(n.history,ie,Ge.signal,De);if(Fe){let qt=await Yn(Te,ie,Dt.signal,Y);if(qt.type==="aborted")return;if(qt.type==="error"){Se(Y,X,qt.error,{flushSync:Ie});return}else if(qt.matches){if(Te=qt.matches,he=Qu(Te,ie),Pe(he))return}else{Se(Y,X,ma(404,{pathname:ie}),{flushSync:Ie});return}}be.set(Y,Ge);let Zt=G,Et=(await Ke("action",Dt,[he],Te,ze,Y))[he.route.id];if(Dt.signal.aborted){be.get(Y)===Ge&&be.delete(Y);return}if(ue.has(Y)){if(qo(Et)||zr(Et)){Re(Y,Os(void 0));return}}else{if(qo(Et))if(be.delete(Y),re>Zt){Re(Y,Os(void 0));return}else return ve.add(Y),Re(Y,Uu(De)),ke(Dt,Et,!1,{fetcherSubmission:De,preventScrollReset:Le});if(zr(Et)){Se(Y,X,Et.error);return}}let Kt=k.navigation.location||k.location,br=Kl(n.history,Kt,Ge.signal),Ir=l||o,fn=k.navigation.state!=="idle"?Vs(Ir,k.navigation.location,u):k.matches;ft(fn,"Didn't find any matches after fetcher action");let xn=++G;oe.set(Y,xn);let Kr=Uu(De,Et.data);k.fetchers.set(Y,Kr);let[Cr,Nt]=F_(n.history,k,fn,De,Kt,!1,B,Ee,ue,P,ve,Ir,u,[he.route.id,Et]);Nt.filter(qt=>qt.key!==Y).forEach(qt=>{let Wr=qt.key,uo=k.fetchers.get(Wr),La=Uu(void 0,uo?uo.data:void 0);k.fetchers.set(Wr,La),ir(Wr),qt.controller&&be.set(Wr,qt.controller)}),qe({fetchers:new Map(k.fetchers)});let Va=()=>Nt.forEach(qt=>ir(qt.key));Ge.signal.addEventListener("abort",Va);let{loaderResults:Ea,fetcherResults:ot}=await et(fn,Cr,Nt,br,ze);if(Ge.signal.aborted)return;Ge.signal.removeEventListener("abort",Va),oe.delete(Y),be.delete(Y),Nt.forEach(qt=>be.delete(qt.key));let Mt=hf(Ea);if(Mt)return ke(br,Mt.result,!1,{preventScrollReset:Le});if(Mt=hf(ot),Mt)return ve.add(Mt.key),ke(br,Mt.result,!1,{preventScrollReset:Le});let{loaderData:On,errors:vi}=$_(k,fn,Ea,void 0,Nt,ot);if(k.fetchers.has(Y)){let qt=Os(Et.data);k.fetchers.set(Y,qt)}wa(xn),k.navigation.state==="loading"&&xn>re?(ft($,"Expected pending action"),R&&R.abort(),it(k.navigation.location,{matches:fn,loaderData:On,errors:vi,fetchers:new Map(k.fetchers)})):(qe({errors:vi,loaderData:G_(k.loaderData,On,fn,vi),fetchers:new Map(k.fetchers)}),B=!1)}async function Qe(Y,X,ie,he,Te,ze,Fe,Ie,Le,De){let Pe=k.fetchers.get(Y);Re(Y,Uu(De,Pe?Pe.data:void 0),{flushSync:Ie});let je=new AbortController,Ge=Kl(n.history,ie,je.signal);if(Fe){let Et=await Yn(Te,ie,Ge.signal,Y);if(Et.type==="aborted")return;if(Et.type==="error"){Se(Y,X,Et.error,{flushSync:Ie});return}else if(Et.matches)Te=Et.matches,he=Qu(Te,ie);else{Se(Y,X,ma(404,{pathname:ie}),{flushSync:Ie});return}}be.set(Y,je);let Dt=G,zt=(await Ke("loader",Ge,[he],Te,ze,Y))[he.route.id];if(be.get(Y)===je&&be.delete(Y),!Ge.signal.aborted){if(ue.has(Y)){Re(Y,Os(void 0));return}if(qo(zt))if(re>Dt){Re(Y,Os(void 0));return}else{ve.add(Y),await ke(Ge,zt,!1,{preventScrollReset:Le});return}if(zr(zt)){Se(Y,X,zt.error);return}Re(Y,Os(zt.data))}}async function ke(Y,X,ie,{submission:he,fetcherSubmission:Te,preventScrollReset:ze,replace:Fe}={}){X.response.headers.has("X-Remix-Revalidate")&&(B=!0);let Ie=X.response.headers.get("Location");ft(Ie,"Expected a Location header on the redirect Response"),Ie=Y_(Ie,new URL(Y.url),u);let Le=md(k.location,Ie,{_isRedirect:!0});if(t){let Zt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Zt=!0;else if(Av.test(Ie)){const zt=n.history.createURL(Ie);Zt=zt.origin!==e.location.origin||xa(zt.pathname,u)==null}if(Zt){Fe?e.location.replace(Ie):e.location.assign(Ie);return}}R=null;let De=Fe===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:je,formEncType:Ge}=k.navigation;!he&&!Te&&Pe&&je&&Ge&&(he=X_(k.navigation));let Dt=he||Te;if(PM.has(X.response.status)&&Dt&&Ca(Dt.formMethod))await Xt(De,Le,{submission:{...Dt,formAction:Ie},preventScrollReset:ze||O,enableViewTransition:ie?N:void 0});else{let Zt=Ny(Le,he);await Xt(De,Le,{overrideNavigation:Zt,fetcherSubmission:Te,preventScrollReset:ze||O,enableViewTransition:ie?N:void 0})}}async function Ke(Y,X,ie,he,Te,ze){let Fe,Ie={};try{Fe=await HM(h,Y,X,ie,he,ze,a,r,Te,f.unstable_middleware)}catch(Le){return ie.forEach(De=>{Ie[De.route.id]={type:"error",error:Le}}),Ie}for(let[Le,De]of Object.entries(Fe))if(KM(De)){let Pe=De.result;Ie[Le]={type:"redirect",response:$M(Pe,X,Le,he,u)}}else Ie[Le]=await qM(De);return Ie}async function et(Y,X,ie,he,Te){let ze=Ke("loader",he,X,Y,Te,null),Fe=Promise.all(ie.map(async De=>{if(De.matches&&De.match&&De.controller){let je=(await Ke("loader",Kl(n.history,De.path,De.controller.signal),[De.match],De.matches,Te,De.key))[De.match.route.id];return{[De.key]:je}}else return Promise.resolve({[De.key]:{type:"error",error:ma(404,{pathname:De.path})}})})),Ie=await ze,Le=(await Fe).reduce((De,Pe)=>Object.assign(De,Pe),{});return{loaderResults:Ie,fetcherResults:Le}}function ge(){B=!0,P.forEach((Y,X)=>{be.has(X)&&Ee.add(X),ir(X)})}function Re(Y,X,ie={}){k.fetchers.set(Y,X),qe({fetchers:new Map(k.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Se(Y,X,ie,he={}){let Te=Yo(k.matches,X);_t(Y),qe({errors:{[Te.route.id]:ie},fetchers:new Map(k.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function We(Y){return W.set(Y,(W.get(Y)||0)+1),ue.has(Y)&&ue.delete(Y),k.fetchers.get(Y)||jM}function _t(Y){let X=k.fetchers.get(Y);be.has(Y)&&!(X&&X.state==="loading"&&oe.has(Y))&&ir(Y),P.delete(Y),oe.delete(Y),ve.delete(Y),ue.delete(Y),Ee.delete(Y),k.fetchers.delete(Y)}function vr(Y){let X=(W.get(Y)||0)-1;X<=0?(W.delete(Y),ue.add(Y)):W.set(Y,X),qe({fetchers:new Map(k.fetchers)})}function ir(Y){let X=be.get(Y);X&&(X.abort(),be.delete(Y))}function ss(Y){for(let X of Y){let ie=We(X),he=Os(ie.data);k.fetchers.set(X,he)}}function Gr(){let Y=[],X=!1;for(let ie of ve){let he=k.fetchers.get(ie);ft(he,`Expected fetcher: ${ie}`),he.state==="loading"&&(ve.delete(ie),Y.push(ie),X=!0)}return ss(Y),X}function wa(Y){let X=[];for(let[ie,he]of oe)if(he<Y){let Te=k.fetchers.get(ie);ft(Te,`Expected fetcher: ${ie}`),Te.state==="loading"&&(ir(ie),oe.delete(ie),X.push(ie))}return ss(X),X.length>0}function Pn(Y,X){let ie=k.blockers.get(Y)||Lu;return de.get(Y)!==X&&de.set(Y,X),ie}function os(Y){k.blockers.delete(Y),de.delete(Y)}function xr(Y,X){let ie=k.blockers.get(Y)||Lu;ft(ie.state==="unblocked"&&X.state==="blocked"||ie.state==="blocked"&&X.state==="blocked"||ie.state==="blocked"&&X.state==="proceeding"||ie.state==="blocked"&&X.state==="unblocked"||ie.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ie.state} -> ${X.state}`);let he=new Map(k.blockers);he.set(Y,X),qe({blockers:he})}function jn({currentLocation:Y,nextLocation:X,historyAction:ie}){if(de.size===0)return;de.size>1&&er(!1,"A router only supports one blocker at a time");let he=Array.from(de.entries()),[Te,ze]=he[he.length-1],Fe=k.blockers.get(Te);if(!(Fe&&Fe.state==="proceeding")&&ze({currentLocation:Y,nextLocation:X,historyAction:ie}))return Te}function yi(Y){let X=ma(404,{pathname:Y}),ie=l||o,{matches:he,route:Te}=K_(ie);return{notFoundMatches:he,route:Te,error:X}}function dl(Y,X,ie){if(b=Y,E=X,_=ie||null,!D&&k.navigation===Cy){D=!0;let he=_a(k.location,k.matches);he!=null&&qe({restoreScrollPosition:he})}return()=>{b=null,E=null,_=null}}function co(Y,X){return _&&_(Y,X.map(he=>dM(he,k.loaderData)))||Y.key}function Qr(Y,X){if(b&&E){let ie=co(Y,X);b[ie]=E()}}function _a(Y,X){if(b){let ie=co(Y,X),he=b[ie];if(typeof he=="number")return he}return null}function sr(Y,X,ie){if(n.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:Mf(X,ie,u,!0)}}else return{active:!0,matches:Mf(X,ie,u,!0)||[]};return{active:!1,matches:null}}async function Yn(Y,X,ie,he){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Y};let Te=Y;for(;;){let ze=l==null,Fe=l||o,Ie=a;try{await n.patchRoutesOnNavigation({signal:ie,path:X,matches:Te,fetcherKey:he,patch:(Pe,je)=>{ie.aborted||z_(Pe,je,Fe,Ie,r)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:Te}}finally{ze&&!ie.aborted&&(o=[...o])}if(ie.aborted)return{type:"aborted"};let Le=Vs(Fe,X,u);if(Le)return{type:"success",matches:Le};let De=Mf(Fe,X,u,!0);if(!De||Te.length===De.length&&Te.every((Pe,je)=>Pe.route.id===De[je].route.id))return{type:"success",matches:null};Te=De}}function Ia(Y){a={},l=Zf(Y,r,void 0,a)}function ls(Y,X){let ie=l==null;z_(Y,X,l||o,a,r),ie&&(o=[...o],qe({}))}return q={get basename(){return u},get future(){return f},get state(){return k},get routes(){return o},get window(){return e},initialize:Ye,subscribe:at,enableScrollRestoration:dl,navigate:Bt,fetch:$r,revalidate:yr,createHref:Y=>n.history.createHref(Y),encodeLocation:Y=>n.history.encodeLocation(Y),getFetcher:We,deleteFetcher:vr,dispose:Lt,getBlocker:Pn,deleteBlocker:os,patchRoutes:ls,_internalFetchControllers:be,_internalSetRoutes:Ia},q}function VM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function p0(n,e,t,r,a,o){let l,u;if(a){l=[];for(let f of e)if(l.push(f),f.route.id===a){u=f;break}}else l=e,u=e[e.length-1];let h=Dv(r||".",Sv(l),xa(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&u){let f=Rv(h.search);if(u.route.index&&!f)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let y=new URLSearchParams(h.search),v=y.getAll("index");y.delete("index"),v.filter(_=>_).forEach(_=>y.append("index",_));let b=y.toString();h.search=b?`?${b}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:ai([t,h.pathname])),Gs(h)}function L_(n,e,t){if(!t||!VM(t))return{path:e};if(t.formMethod&&!WM(t.formMethod))return{path:e,error:ma(405,{method:t.formMethod})};let r=()=>({path:e,error:ma(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=FS(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ca(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[_,E])=>`${b}${_}=${E}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Ca(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}ft(typeof FormData=="function","FormData is not available in this environment");let u,h;if(t.formData)u=y0(t.formData),h=t.formData;else if(t.body instanceof FormData)u=y0(t.body),h=t.body;else if(t.body instanceof URLSearchParams)u=t.body,h=q_(u);else if(t.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(t.body),h=q_(u)}catch{return r()}let f={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Ca(f.formMethod))return{path:e,submission:f};let y=ao(e);return n&&y.search&&Rv(y.search)&&u.append("index",""),y.search=`?${u}`,{path:Gs(y),submission:f}}function U_(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function F_(n,e,t,r,a,o,l,u,h,f,y,v,b,_){let E=_?zr(_[1])?_[1].error:_[1].data:void 0,D=n.createURL(e.location),A=n.createURL(a),j=t;o&&e.errors?j=U_(t,Object.keys(e.errors)[0],!0):_&&zr(_[1])&&(j=U_(t,_[0]));let U=_?_[1].statusCode:void 0,F=U&&U>=400,q=j.filter(($,O)=>{let{route:R}=$;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return g0(R,e.loaderData,e.errors);if(LM(e.loaderData,e.matches[O],$))return!0;let N=e.matches[O],C=$;return B_($,{currentUrl:D,currentParams:N.params,nextUrl:A,nextParams:C.params,...r,actionResult:E,actionStatus:U,defaultShouldRevalidate:F?!1:l||D.pathname+D.search===A.pathname+A.search||D.search!==A.search||UM(N,C)})}),k=[];return f.forEach(($,O)=>{if(o||!t.some(z=>z.route.id===$.routeId)||h.has(O))return;let R=Vs(v,$.path,b);if(!R){k.push({key:O,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(O),C=Qu(R,$.path),L=!1;y.has(O)?L=!1:u.has(O)?(u.delete(O),L=!0):N&&N.state!=="idle"&&N.data===void 0?L=l:L=B_(C,{currentUrl:D,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:t[t.length-1].params,...r,actionResult:E,actionStatus:U,defaultShouldRevalidate:F?!1:l}),L&&k.push({key:O,routeId:$.routeId,path:$.path,matches:R,match:C,controller:new AbortController})}),[q,k]}function g0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function LM(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function UM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function B_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function z_(n,e,t,r,a){let o;if(n){let h=r[n];ft(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let l=e.filter(h=>!o.some(f=>LS(h,f))),u=Zf(l,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function LS(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>LS(t,o))}):!1}async function FM(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];ft(a,"No route found in manifest");let o={};for(let l in r){let h=a[l]!==void 0&&l!=="hasErrorBoundary";er(!h,`Route "${a.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!h&&!cM.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function H_(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function BM(n){return n.matches.some(e=>e.route.unstable_middleware)?zM(n,!1,()=>H_(n),(e,t)=>({[t]:{type:"error",result:e}})):H_(n)}async function zM(n,e,t,r){let{matches:a,request:o,params:l,context:u}=n,h={handlerResult:void 0};try{let f=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(b=>[v.route.id,b]):[]),y=await US({request:o,params:l,context:u},f,e,h,t);return e?y:h.handlerResult}catch(f){if(!h.middlewareError)throw f;let y=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,y):y}}async function US(n,e,t,r,a,o=0){let{request:l}=n;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return r.handlerResult=await a(),r.handlerResult;let[h,f]=u,y=!1,v,b=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await US(n,e,t,r,a,o+1)};try{let _=await f({request:n.request,params:n.params,context:n.context},b);return y?_===void 0?v:_:b()}catch(_){throw r.middlewareError?r.middlewareError.error!==_&&(r.middlewareError={routeId:h,error:_}):r.middlewareError={routeId:h,error:_},_}}async function HM(n,e,t,r,a,o,l,u,h,f){let y=a.map(_=>_.route.lazy?FM(_.route,u,l):void 0);f&&await Promise.all(y);let v=a.map((_,E)=>{let D=y[E],A=r.some(U=>U.route.id===_.route.id);return{..._,shouldLoad:A,resolve:async U=>(U&&t.method==="GET"&&(_.route.lazy||_.route.loader)&&(A=!0),A?YM(e,t,_,D,U,h):Promise.resolve({type:"data",result:void 0}))}}),b=await n({matches:v,request:t,params:a[0].params,fetcherKey:o,context:h});try{await Promise.all(y)}catch{}return b}async function YM(n,e,t,r,a,o){let l,u,h=f=>{let y,v=new Promise((E,D)=>y=D);u=()=>y(),e.signal.addEventListener("abort",u);let b=E=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:o},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(a?a(D=>b(D)):b())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,v])};try{let f=t.route[n];if(r)if(f){let y,[v]=await Promise.all([h(f).catch(b=>{y=b}),r]);if(y!==void 0)throw y;l=v}else if(await r,f=t.route[n],f)l=await h(f);else if(n==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw ma(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(f)l=await h(f);else{let y=new URL(e.url),v=y.pathname+y.search;throw ma(404,{pathname:v})}}catch(f){return{type:"error",result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function qM(n){var r,a,o,l,u,h;let{result:e,type:t}=n;if(BS(e)){let f;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new em(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}return t==="error"?W_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new em(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:pd(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pd(e)?e.status:void 0}:W_(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function $M(n,e,t,r,a){let o=n.headers.get("Location");if(ft(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Av.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===t)+1);o=p0(new URL(e.url),l,a,o),n.headers.set("Location",o)}return n}function Y_(n,e,t){if(Av.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=xa(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Kl(n,e,t,r){let a=n.createURL(FS(e)).toString(),o={signal:t};if(r&&Ca(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=y0(r.formData):o.body=r.formData}return new Request(a,o)}function y0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function q_(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function GM(n,e,t,r=!1,a=!1){let o={},l=null,u,h=!1,f={},y=t&&zr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,_=e[b];if(ft(!qo(_),"Cannot handle redirect results in processLoaderData"),zr(_)){let E=_.error;if(y!==void 0&&(E=y,y=void 0),l=l||{},a)l[b]=E;else{let D=Yo(n,b);l[D.route.id]==null&&(l[D.route.id]=E)}r||(o[b]=VS),h||(h=!0,u=pd(_.error)?_.error.status:500),_.headers&&(f[b]=_.headers)}else o[b]=_.data,_.statusCode&&_.statusCode!==200&&!h&&(u=_.statusCode),_.headers&&(f[b]=_.headers)}),y!==void 0&&t&&(l={[t[0]]:y},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:f}}function $_(n,e,t,r,a,o){let{loaderData:l,errors:u}=GM(e,t,r);return a.forEach(h=>{let{key:f,match:y,controller:v}=h,b=o[f];if(ft(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(zr(b)){let _=Yo(n.matches,y==null?void 0:y.route.id);u&&u[_.route.id]||(u={...u,[_.route.id]:b.error}),n.fetchers.delete(f)}else if(qo(b))ft(!1,"Unhandled fetcher revalidation redirect");else{let _=Os(b.data);n.fetchers.set(f,_)}}),{loaderData:l,errors:u}}function G_(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==VS).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(a[l]=n[l]),r&&r.hasOwnProperty(l))break}return a}function Q_(n){return n?zr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Yo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function K_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ma(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",u=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new em(n||500,l,new Error(u),!0)}function hf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(qo(a))return{key:r,result:a}}}function FS(n){let e=typeof n=="string"?ao(n):n;return Gs({...e,hash:""})}function QM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function KM(n){return BS(n.result)&&kM.has(n.result.status)}function zr(n){return n.type==="error"}function qo(n){return(n&&n.type)==="redirect"}function W_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function BS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function WM(n){return MM.has(n.toUpperCase())}function Ca(n){return CM.has(n.toUpperCase())}function Rv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Qu(n,e){let t=typeof e=="string"?ao(e).search:e.search;if(n[n.length-1].route.index&&Rv(t||""))return n[n.length-1];let r=jS(n);return r[r.length-1]}function X_(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:l}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ny(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Uu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZM(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Os(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function JM(n,e){try{let t=n.sessionStorage.getItem(IS);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function e3(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(IS,JSON.stringify(t))}catch(r){er(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function t3(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var il=M.createContext(null);il.displayName="DataRouter";var Vd=M.createContext(null);Vd.displayName="DataRouterState";var Cv=M.createContext({isTransitioning:!1});Cv.displayName="ViewTransition";var zS=M.createContext(new Map);zS.displayName="Fetchers";var n3=M.createContext(null);n3.displayName="Await";var fi=M.createContext(null);fi.displayName="Navigation";var Bm=M.createContext(null);Bm.displayName="Location";var mi=M.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Nv=M.createContext(null);Nv.displayName="RouteError";function r3(n,{relative:e}={}){ft(Ld(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(fi),{hash:a,pathname:o,search:l}=Ud(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ai([t,o])),r.createHref({pathname:u,search:l,hash:a})}function Ld(){return M.useContext(Bm)!=null}function Oa(){return ft(Ld(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Bm).location}var HS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YS(n){M.useContext(fi).static||M.useLayoutEffect(n)}function nr(){let{isDataRoute:n}=M.useContext(mi);return n?g3():a3()}function a3(){ft(Ld(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(il),{basename:e,navigator:t}=M.useContext(fi),{matches:r}=M.useContext(mi),{pathname:a}=Oa(),o=JSON.stringify(Sv(r)),l=M.useRef(!1);return YS(()=>{l.current=!0}),M.useCallback((h,f={})=>{if(er(l.current,HS),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=Dv(h,JSON.parse(o),a,f.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ai([e,y.pathname])),(f.replace?t.replace:t.push)(y,f.state,f)},[e,t,o,a,n])}M.createContext(null);function zm(){let{matches:n}=M.useContext(mi),e=n[n.length-1];return e?e.params:{}}function Ud(n,{relative:e}={}){let{matches:t}=M.useContext(mi),{pathname:r}=Oa(),a=JSON.stringify(Sv(t));return M.useMemo(()=>Dv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function i3(n,e,t,r){ft(Ld(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=M.useContext(fi),{matches:l}=M.useContext(mi),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",y=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";qS(f,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Oa(),_;_=b;let E=_.pathname||"/",D=E;if(y!=="/"){let U=y.replace(/^\//,"").split("/");D="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=!o&&t&&t.matches&&t.matches.length>0?t.matches:Vs(n,{pathname:D});return er(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),er(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),u3(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:ai([y,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:ai([y,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,r)}function s3(){let n=p3(),e=pd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,l)}var o3=M.createElement(s3,null),l3=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(mi.Provider,{value:this.props.routeContext},M.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c3({routeContext:n,match:e,children:t}){let r=M.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(mi.Provider,{value:n},t)}function u3(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:y,errors:v}=t,b=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,y)=>{let v,b=!1,_=null,E=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||o3,l&&(u<0&&y===0?(qS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===y&&(b=!0,E=f.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),A=()=>{let j;return v?j=_:b?j=E:f.route.Component?j=M.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=h,M.createElement(c3,{match:f,routeContext:{outlet:h,matches:D,isDataRoute:t!=null},children:j})};return t&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?M.createElement(l3,{location:t.location,revalidation:t.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):A()},null)}function Mv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d3(n){let e=M.useContext(il);return ft(e,Mv(n)),e}function h3(n){let e=M.useContext(Vd);return ft(e,Mv(n)),e}function f3(n){let e=M.useContext(mi);return ft(e,Mv(n)),e}function kv(n){let e=f3(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m3(){return kv("useRouteId")}function p3(){var r;let n=M.useContext(Nv),e=h3("useRouteError"),t=kv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function g3(){let{router:n}=d3("useNavigate"),e=kv("useNavigate"),t=M.useRef(!1);return YS(()=>{t.current=!0}),M.useCallback(async(a,o={})=>{er(t.current,HS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Z_={};function qS(n,e,t){!e&&!Z_[n]&&(Z_[n]=!0,er(!1,t))}var J_={};function e2(n,e){!n&&!J_[e]&&(J_[e]=!0,console.warn(e))}function y3(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&er(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&er(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&er(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var v3=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function x3({router:n,flushSync:e}){let[t,r]=M.useState(n.state),[a,o]=M.useState(),[l,u]=M.useState({isTransitioning:!1}),[h,f]=M.useState(),[y,v]=M.useState(),[b,_]=M.useState(),E=M.useRef(new Map),D=M.useCallback((F,{deletedFetchers:q,flushSync:k,viewTransitionOpts:$})=>{F.fetchers.forEach((R,N)=>{R.data!==void 0&&E.current.set(N,R.data)}),q.forEach(R=>E.current.delete(R)),e2(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(e2($==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!O){e&&k?e(()=>r(F)):M.startTransition(()=>r(F));return}if(e&&k){e(()=>{y&&(h&&h.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(F))});R.finished.finally(()=>{e(()=>{f(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(R));return}y?(h&&h.resolve(),y.skipTransition(),_({state:F,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(o(F),u({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,e,y,h]);M.useLayoutEffect(()=>n.subscribe(D),[n,D]),M.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new v3)},[l]),M.useEffect(()=>{if(h&&a&&n.window){let F=a,q=h.promise,k=n.window.document.startViewTransition(async()=>{M.startTransition(()=>r(F)),await q});k.finished.finally(()=>{f(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(k)}},[a,h,n.window]),M.useEffect(()=>{h&&a&&t.location.key===a.location.key&&h.resolve()},[h,y,t.location,a]),M.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[l.isTransitioning,b]);let A=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:F=>n.navigate(F),push:(F,q,k)=>n.navigate(F,{state:q,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(F,q,k)=>n.navigate(F,{replace:!0,state:q,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),j=n.basename||"/",U=M.useMemo(()=>({router:n,navigator:A,static:!1,basename:j}),[n,A,j]);return M.createElement(M.Fragment,null,M.createElement(il.Provider,{value:U},M.createElement(Vd.Provider,{value:t},M.createElement(zS.Provider,{value:E.current},M.createElement(Cv.Provider,{value:l},M.createElement(_3,{basename:j,location:t.location,navigationType:t.historyAction,navigator:A},M.createElement(b3,{routes:n.routes,future:n.future,state:t})))))),null)}var b3=M.memo(w3);function w3({routes:n,future:e,state:t}){return i3(n,void 0,t,e)}function Mr(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _3({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ft(!Ld(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=ao(t));let{pathname:h="/",search:f="",hash:y="",state:v=null,key:b="default"}=t,_=M.useMemo(()=>{let E=xa(h,l);return E==null?null:{location:{pathname:E,search:f,hash:y,state:v,key:b},navigationType:r}},[l,h,f,y,v,b,r]);return er(_!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:M.createElement(fi.Provider,{value:u},M.createElement(Bm.Provider,{children:e,value:_}))}function v0(n,e=[]){let t=[];return M.Children.forEach(n,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){t.push.apply(t,v0(r.props.children,o));return}ft(r.type===Mr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=v0(r.props.children,o)),t.push(l)}),t}var E3=v0,kf="get",Pf="application/x-www-form-urlencoded";function Hm(n){return n!=null&&typeof n.tagName=="string"}function T3(n){return Hm(n)&&n.tagName.toLowerCase()==="button"}function S3(n){return Hm(n)&&n.tagName.toLowerCase()==="form"}function D3(n){return Hm(n)&&n.tagName.toLowerCase()==="input"}function A3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R3(n,e){return n.button===0&&(!e||e==="_self")&&!A3(n)}var ff=null;function C3(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var N3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(n){return n!=null&&!N3.has(n)?(er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):n}function M3(n,e){let t,r,a,o,l;if(S3(n)){let u=n.getAttribute("action");r=u?xa(u,e):null,t=n.getAttribute("method")||kf,a=My(n.getAttribute("enctype"))||Pf,o=new FormData(n)}else if(T3(n)||D3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?xa(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||kf,a=My(n.getAttribute("formenctype"))||My(u.getAttribute("enctype"))||Pf,o=new FormData(u,n),!C3()){let{name:f,type:y,value:v}=n;if(y==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,v)}}else{if(Hm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kf,r=null,a=Pf,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function Pv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function k3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function j3(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await k3(o,t);return l.links?l.links():[]}return[]}));return L3(r.flat(1).filter(P3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function t2(n,e,t,r,a,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var y;return t[f].pathname!==h.pathname||((y=t[f].route.path)==null?void 0:y.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{var v;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function O3(n,e,{includeHydrateFallback:t}={}){return I3(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function I3(n){return[...new Set(n)]}function V3(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function L3(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(V3(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function U3(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&xa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $S(){let n=M.useContext(il);return Pv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function F3(){let n=M.useContext(Vd);return Pv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jv=M.createContext(void 0);jv.displayName="FrameworkContext";function GS(){let n=M.useContext(jv);return Pv(n,"You must render this element inside a <HydratedRouter> element"),n}function B3(n,e){let t=M.useContext(jv),[r,a]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:y,onTouchStart:v}=e,b=M.useRef(null);M.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let D=j=>{j.forEach(U=>{l(U.isIntersecting)})},A=new IntersectionObserver(D,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),M.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let _=()=>{a(!0)},E=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Fu(u,_),onBlur:Fu(h,E),onMouseEnter:Fu(f,_),onMouseLeave:Fu(y,E),onTouchStart:Fu(v,_)}]:[!1,b,{}]}function Fu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function z3({page:n,...e}){let{router:t}=$S(),r=M.useMemo(()=>Vs(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(Y3,{page:n,matches:r,...e}):null}function H3(n){let{manifest:e,routeModules:t}=GS(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return j3(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function Y3({page:n,matches:e,...t}){let r=Oa(),{manifest:a,routeModules:o}=GS(),{basename:l}=$S(),{loaderData:u,matches:h}=F3(),f=M.useMemo(()=>t2(n,e,h,a,r,"data"),[n,e,h,a,r]),y=M.useMemo(()=>t2(n,e,h,a,r,"assets"),[n,e,h,a,r]),v=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,D=!1;if(e.forEach(j=>{var F;let U=a.routes[j.route.id];!U||!U.hasLoader||(!f.some(q=>q.route.id===j.route.id)&&j.route.id in u&&((F=o[j.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?D=!0:E.add(j.route.id))}),E.size===0)return[];let A=U3(n,l);return D&&E.size>0&&A.searchParams.set("_routes",e.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[l,u,r,a,f,e,n,o]),b=M.useMemo(()=>O3(y,a),[y,a]),_=H3(y);return M.createElement(M.Fragment,null,v.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),b.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:D})=>M.createElement("link",{key:E,...D})))}function q3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QS&&(window.__reactRouterVersion="7.4.0")}catch{}function $3(n,e){return IM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:sM({window:e==null?void 0:e.window}),hydrationData:G3(),routes:n,mapRouteProperties:y3,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function G3(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Q3(n.errors)}),n}function Q3(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new em(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var KS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tm=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:y,viewTransition:v,...b},_){let{basename:E}=M.useContext(fi),D=typeof f=="string"&&KS.test(f),A,j=!1;if(typeof f=="string"&&D&&(A=f,QS))try{let N=new URL(window.location.href),C=f.startsWith("//")?new URL(N.protocol+f):new URL(f),L=xa(C.pathname,E);C.origin===N.origin&&L!=null?f=L+C.search+C.hash:j=!0}catch{er(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=r3(f,{relative:a}),[F,q,k]=B3(r,b),$=Z3(f,{replace:l,state:u,target:h,preventScrollReset:y,relative:a,viewTransition:v});function O(N){e&&e(N),N.defaultPrevented||$(N)}let R=M.createElement("a",{...b,...k,href:A||U,onClick:j||o?e:O,ref:q3(_,q),target:h,"data-discover":!D&&t==="render"?"true":void 0});return F&&!D?M.createElement(M.Fragment,null,R,M.createElement(z3,{page:U})):R});tm.displayName="Link";var K3=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:u,children:h,...f},y){let v=Ud(l,{relative:f.relative}),b=Oa(),_=M.useContext(Vd),{navigator:E,basename:D}=M.useContext(fi),A=_!=null&&r6(v)&&u===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,U=b.pathname,F=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(U=U.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&D&&(F=xa(F,D)||F);const q=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let k=U===j||!a&&U.startsWith(j)&&U.charAt(q)==="/",$=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),O={isActive:k,isPending:$,isTransitioning:A},R=k?e:void 0,N;typeof r=="function"?N=r(O):N=[r,k?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(O):o;return M.createElement(tm,{...f,"aria-current":R,className:N,ref:y,style:C,to:l,viewTransition:u},typeof h=="function"?h(O):h)});K3.displayName="NavLink";var W3=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=kf,action:u,onSubmit:h,relative:f,preventScrollReset:y,viewTransition:v,...b},_)=>{let E=t6(),D=n6(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&KS.test(u),U=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let q=F.nativeEvent.submitter,k=(q==null?void 0:q.getAttribute("formmethod"))||l;E(q||F.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:a,state:o,relative:f,preventScrollReset:y,viewTransition:v})};return M.createElement("form",{ref:_,method:A,action:D,onSubmit:r?h:U,...b,"data-discover":!j&&n==="render"?"true":void 0})});W3.displayName="Form";function X3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(n){let e=M.useContext(il);return ft(e,X3(n)),e}function Z3(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=nr(),h=Oa(),f=Ud(n,{relative:o});return M.useCallback(y=>{if(R3(y,e)){y.preventDefault();let v=t!==void 0?t:Gs(h)===Gs(f);u(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[h,u,f,t,r,e,n,a,o,l])}var J3=0,e6=()=>`__${String(++J3)}__`;function t6(){let{router:n}=WS("useSubmit"),{basename:e}=M.useContext(fi),t=m3();return M.useCallback(async(r,a={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=M3(r,e);if(a.navigate===!1){let y=a.fetcherKey||e6();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function n6(n,{relative:e}={}){let{basename:t}=M.useContext(fi),r=M.useContext(mi);ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ud(n||".",{relative:e})},l=Oa();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let y=u.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ai([t,o.pathname])),Gs(o)}function r6(n,e={}){let t=M.useContext(Cv);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WS("useViewTransitionState"),a=Ud(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=xa(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=xa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Jf(a.pathname,l)!=null||Jf(a.pathname,o)!=null}new TextEncoder;var Ov=NS();const a6=CS(Ov);/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i6(n){return M.createElement(x3,{flushSync:Ov.flushSync,...n})}const Iv=M.createContext({});function Vv(n){const e=M.useRef(null);return e.current===null&&(e.current=n()),e.current}const Lv=typeof window<"u",XS=Lv?M.useLayoutEffect:M.useEffect,Ym=M.createContext(null),Uv=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class s6 extends M.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function o6({children:n,isPresent:e,anchorX:t}){const r=M.useId(),a=M.useRef(null),o=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=M.useContext(Uv);return M.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:y,right:v}=o.current;if(e||!a.current||!u||!h)return;const b=t==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=r;const _=document.createElement("style");return l&&(_.nonce=l),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[e]),p.jsx(s6,{isPresent:e,childRef:a,sizeRef:o,children:M.cloneElement(n,{ref:a})})}const l6=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const h=Vv(c6),f=M.useId(),y=M.useCallback(b=>{h.set(b,!0);for(const _ of h.values())if(!_)return;r&&r()},[h,r]),v=M.useMemo(()=>({id:f,initial:e,isPresent:t,custom:a,onExitComplete:y,register:b=>(h.set(b,!1),()=>h.delete(b))}),o?[Math.random(),y]:[t,y]);return M.useMemo(()=>{h.forEach((b,_)=>h.set(_,!1))},[t]),M.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),l==="popLayout"&&(n=p.jsx(o6,{isPresent:t,anchorX:u,children:n})),p.jsx(Ym.Provider,{value:v,children:n})};function c6(){return new Map}function ZS(n=!0){const e=M.useContext(Ym);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,o=M.useId();M.useEffect(()=>{if(n)return a(o)},[n]);const l=M.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const mf=n=>n.key||"";function n2(n){const e=[];return M.Children.forEach(n,t=>{M.isValidElement(t)&&e.push(t)}),e}const zi=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[h,f]=ZS(l),y=M.useMemo(()=>n2(n),[n]),v=l&&!h?[]:y.map(mf),b=M.useRef(!0),_=M.useRef(y),E=Vv(()=>new Map),[D,A]=M.useState(y),[j,U]=M.useState(y);XS(()=>{b.current=!1,_.current=y;for(let k=0;k<j.length;k++){const $=mf(j[k]);v.includes($)?E.delete($):E.get($)!==!0&&E.set($,!1)}},[j,v.length,v.join("-")]);const F=[];if(y!==D){let k=[...y];for(let $=0;$<j.length;$++){const O=j[$],R=mf(O);v.includes(R)||(k.splice($,0,O),F.push(O))}return o==="wait"&&F.length&&(k=F),U(n2(k)),A(y),null}const{forceRender:q}=M.useContext(Iv);return p.jsx(p.Fragment,{children:j.map(k=>{const $=mf(k),O=l&&!h?!1:y===j||v.includes($),R=()=>{if(E.has($))E.set($,!0);else return;let N=!0;E.forEach(C=>{C||(N=!1)}),N&&(q==null||q(),U(_.current),l&&(f==null||f()),r&&r())};return p.jsx(l6,{isPresent:O,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,onExitComplete:O?void 0:R,anchorX:u,children:k},$)})})};function Fv(n,e){n.indexOf(e)===-1&&n.push(e)}function Bv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Yr=n=>n;let JS=Yr;const u6={useManualTiming:!1};function zv(n){let e;return()=>(e===void 0&&(e=n()),e)}const uc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Hv{constructor(){this.subscriptions=[]}add(e){return Fv(this.subscriptions,e),()=>Bv(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yi=n=>n*1e3,qi=n=>n/1e3;function eD(n,e){return e?n*(1e3/e):0}const d6=zv(()=>window.ScrollTimeline!==void 0);class h6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(d6()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class f6 extends h6{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Yv(n,e){return n?n[e]||n.default||n:void 0}const x0=2e4;function tD(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<x0;)e+=t,r=n.next(e);return e>=x0?1/0:e}function qv(n){return typeof n=="function"}function r2(n,e){n.timeline=e,n.onfinish=null}const $v=n=>Array.isArray(n)&&typeof n[0]=="number",m6={linearEasing:void 0};function p6(n,e){const t=zv(n);return()=>{var r;return(r=m6[e])!==null&&r!==void 0?r:t()}}const nm=p6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nD=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)r+=n(uc(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function rD(n){return!!(typeof n=="function"&&nm()||!n||typeof n=="string"&&(n in b0||nm())||$v(n)||Array.isArray(n)&&n.every(rD))}const Ku=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,b0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ku([0,.65,.55,1]),circOut:Ku([.55,0,1,.45]),backIn:Ku([.31,.01,.66,-.59]),backOut:Ku([.33,1.53,.69,.99])};function aD(n,e){if(n)return typeof n=="function"&&nm()?nD(n,e):$v(n)?Ku(n):Array.isArray(n)?n.map(t=>aD(t,e)||b0.easeOut):b0[n]}const pf=["read","resolveKeyframes","update","preRender","render","postRender"],a2={value:null};function g6(n,e){let t=new Set,r=new Set,a=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(v){l.has(v)&&(y.schedule(v),n()),h++,v(u)}const y={schedule:(v,b=!1,_=!1)=>{const D=_&&a?t:r;return b&&l.add(v),D.has(v)||D.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,a){o=!0;return}a=!0,[t,r]=[r,t],t.forEach(f),e&&a2.value&&a2.value.frameloop[e].push(h),h=0,t.clear(),a=!1,o&&(o=!1,y.process(v))}};return y}const y6=40;function iD(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=pf.reduce((j,U)=>(j[U]=g6(o,e?U:void 0),j),{}),{read:u,resolveKeyframes:h,update:f,preRender:y,render:v,postRender:b}=l,_=()=>{const j=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min(j-a.timestamp,y6),1),a.timestamp=j,a.isProcessing=!0,u.process(a),h.process(a),f.process(a),y.process(a),v.process(a),b.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(_))},E=()=>{t=!0,r=!0,a.isProcessing||n(_)};return{schedule:pf.reduce((j,U)=>{const F=l[U];return j[U]=(q,k=!1,$=!1)=>(t||E(),F.schedule(q,k,$)),j},{}),cancel:j=>{for(let U=0;U<pf.length;U++)l[pf[U]].cancel(j)},state:a,steps:l}}const{schedule:Qt,cancel:Qs,state:Kn,steps:ky}=iD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yr,!0),{schedule:Gv}=iD(queueMicrotask,!1);let jf;function v6(){jf=void 0}const ii={now:()=>(jf===void 0&&ii.set(Kn.isProcessing||u6.useManualTiming?Kn.timestamp:performance.now()),jf),set:n=>{jf=n,queueMicrotask(v6)}},Ra={x:!1,y:!1};function sD(){return Ra.x||Ra.y}function x6(n){return n==="x"||n==="y"?Ra[n]?null:(Ra[n]=!0,()=>{Ra[n]=!1}):Ra.x||Ra.y?null:(Ra.x=Ra.y=!0,()=>{Ra.x=Ra.y=!1})}function b6(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function oD(n,e){const t=b6(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function i2(n){return!(n.pointerType==="touch"||sD())}function w6(n,e,t={}){const[r,a,o]=oD(n,t),l=u=>{if(!i2(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const y=v=>{i2(v)&&(f(v),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,a)};return r.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}function s2(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const lD=(n,e)=>e?n===e?!0:lD(n,e.parentElement):!1,Qv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,_6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E6(n){return _6.has(n.tagName)||n.tabIndex!==-1}const Wu=new WeakSet;function o2(n){return e=>{e.key==="Enter"&&n(e)}}function Py(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T6=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=o2(()=>{if(Wu.has(t))return;Py(t,"down");const a=o2(()=>{Py(t,"up")}),o=()=>Py(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function l2(n){return Qv(n)&&!sD()}function S6(n,e,t={}){const[r,a,o]=oD(n,t),l=u=>{const h=u.currentTarget;if(!h||!l2(u)||Wu.has(h))return;Wu.add(h),s2(u,"set");const f=e(h,u),y=(_,E)=>{h.removeEventListener("pointerup",v),h.removeEventListener("pointercancel",b),s2(_,"release"),!(!l2(_)||!Wu.has(h))&&(Wu.delete(h),typeof f=="function"&&f(_,{success:E}))},v=_=>{(_.isTrusted?D6(_,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(_,!1):y(_,!(h instanceof Element)||lD(h,_.target))},b=_=>{y(_,!1)};h.addEventListener("pointerup",v,a),h.addEventListener("pointercancel",b,a),h.addEventListener("lostpointercapture",b,a)};return r.forEach(u=>{u=t.useGlobalTarget?window:u;let h=!1;u instanceof HTMLElement&&(h=!0,!E6(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0)),u.addEventListener("pointerdown",l,a),h&&u.addEventListener("focus",f=>T6(f,a),a)}),o}function D6(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const c2=30,A6=n=>!isNaN(parseFloat(n));class R6{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=ii.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ii.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Hv);const r=this.events[e].add(t);return e==="change"?()=>{r(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,c2);return eD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gd(n,e){return new R6(n,e)}const cD=M.createContext({strict:!1}),u2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dc={};for(const n in u2)dc[n]={isEnabled:e=>u2[n].some(t=>!!e[t])};function C6(n){for(const e in n)dc[e]={...dc[e],...n[e]}}const N6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||N6.has(n)}let uD=n=>!rm(n);function M6(n){n&&(uD=e=>e.startsWith("on")?!rm(e):n(e))}try{M6(require("@emotion/is-prop-valid").default)}catch{}function k6(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(uD(a)||t===!0&&rm(a)||!e&&!rm(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function P6(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const qm=M.createContext({});function $m(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function yd(n){return typeof n=="string"||Array.isArray(n)}const Kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wv=["initial",...Kv];function Gm(n){return $m(n.animate)||Wv.some(e=>yd(n[e]))}function dD(n){return!!(Gm(n)||n.variants)}function j6(n,e){if(Gm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||yd(t)?t:void 0,animate:yd(r)?r:void 0}}return n.inherit!==!1?e:{}}function O6(n){const{initial:e,animate:t}=j6(n,M.useContext(qm));return M.useMemo(()=>({initial:e,animate:t}),[d2(e),d2(t)])}function d2(n){return Array.isArray(n)?n.join(" "):n}const I6=Symbol.for("motionComponentSymbol");function nc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function V6(n,e,t){return M.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):nc(t)&&(t.current=r))},[e])}const Xv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L6="framerAppearId",hD="data-"+Xv(L6),fD=M.createContext({});function U6(n,e,t,r,a){var o,l;const{visualElement:u}=M.useContext(qm),h=M.useContext(cD),f=M.useContext(Ym),y=M.useContext(Uv).reducedMotion,v=M.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:u,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:y}));const b=v.current,_=M.useContext(fD);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&F6(v.current,t,a,_);const E=M.useRef(!1);M.useInsertionEffect(()=>{b&&E.current&&b.update(t,f)});const D=t[hD],A=M.useRef(!!D&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,D))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,D)));return XS(()=>{b&&(E.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Gv.render(b.render),A.current&&b.animationState&&b.animationState.animateChanges())}),M.useEffect(()=>{b&&(!A.current&&b.animationState&&b.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,D)}),A.current=!1))}),b}function F6(n,e,t,r){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:mD(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&nc(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function mD(n){if(n)return n.options.allowProjection!==!1?n.projection:mD(n.parent)}function B6({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var o,l;n&&C6(n);function u(f,y){let v;const b={...M.useContext(Uv),...f,layoutId:z6(f)},{isStatic:_}=b,E=O6(f),D=r(f,_);if(!_&&Lv){H6();const A=Y6(b);v=A.MeasureLayout,E.visualElement=U6(a,D,b,e,A.ProjectionNode)}return p.jsxs(qm.Provider,{value:E,children:[v&&E.visualElement?p.jsx(v,{visualElement:E.visualElement,...b}):null,t(a,f,V6(D,E.visualElement,y),D,_,E.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(l=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&l!==void 0?l:""})`}`;const h=M.forwardRef(u);return h[I6]=a,h}function z6({layoutId:n}){const e=M.useContext(Iv).id;return e&&n!==void 0?e+"-"+n:n}function H6(n,e){M.useContext(cD).strict}function Y6(n){const{drag:e,layout:t}=dc;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pD=n=>e=>typeof e=="string"&&e.startsWith(n),Zv=pD("--"),q6=pD("var(--"),Jv=n=>q6(n)?$6.test(n.split("/*")[0].trim()):!1,$6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vd={};function G6(n){for(const e in n)vd[e]=n[e],Zv(e)&&(vd[e].isCSSVariable=!0)}const Nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(Nc);function gD(n,{layout:e,layoutId:t}){return sl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!vd[n]||n==="opacity")}const pr=n=>!!(n&&n.getVelocity),yD=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ji=(n,e,t)=>t>e?e:t<n?n:t,Mc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xd={...Mc,transform:n=>Ji(0,1,n)},gf={...Mc,default:1},Fd=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Is=Fd("deg"),si=Fd("%"),Ze=Fd("px"),Q6=Fd("vh"),K6=Fd("vw"),h2={...si,parse:n=>si.parse(n)/100,transform:n=>si.transform(n*100)},W6={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze},X6={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:Is,skewX:Is,skewY:Is,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:xd,originX:h2,originY:h2,originZ:Ze},f2={...Mc,transform:Math.round},ex={...W6,...X6,zIndex:f2,size:Ze,fillOpacity:xd,strokeOpacity:xd,numOctaves:f2},Z6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J6=Nc.length;function ek(n,e,t){let r="",a=!0;for(let o=0;o<J6;o++){const l=Nc[o],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const f=yD(u,ex[l]);if(!h){a=!1;const y=Z6[l]||l;r+=`${y}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function tx(n,e,t){const{style:r,vars:a,transformOrigin:o}=n;let l=!1,u=!1;for(const h in e){const f=e[h];if(sl.has(h)){l=!0;continue}else if(Zv(h)){a[h]=f;continue}else{const y=yD(f,ex[h]);h.startsWith("origin")?(u=!0,o[h]=y):r[h]=y}}if(e.transform||(l||t?r.transform=ek(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:y=0}=o;r.transformOrigin=`${h} ${f} ${y}`}}const nx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vD(n,e,t){for(const r in e)!pr(e[r])&&!gD(r,t)&&(n[r]=e[r])}function tk({transformTemplate:n},e){return M.useMemo(()=>{const t=nx();return tx(t,e,n),Object.assign({},t.vars,t.style)},[e])}function nk(n,e){const t=n.style||{},r={};return vD(r,t,n),Object.assign(r,tk(n,e)),r}function rk(n,e){const t={},r=nk(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const ak=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rx(n){return typeof n!="string"||n.includes("-")?!1:!!(ak.indexOf(n)>-1||/[A-Z]/u.test(n))}const ik={offset:"stroke-dashoffset",array:"stroke-dasharray"},sk={offset:"strokeDashoffset",array:"strokeDasharray"};function ok(n,e,t=1,r=0,a=!0){n.pathLength=1;const o=a?ik:sk;n[o.offset]=Ze.transform(-r);const l=Ze.transform(e),u=Ze.transform(t);n[o.array]=`${l} ${u}`}function m2(n,e,t){return typeof n=="string"?n:Ze.transform(e+t*n)}function lk(n,e,t){const r=m2(e,n.x,n.width),a=m2(t,n.y,n.height);return`${r} ${a}`}function ax(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},y,v){if(tx(n,f,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:_,dimensions:E}=n;b.transform&&(E&&(_.transform=b.transform),delete b.transform),E&&(a!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=lk(E,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(b.x=e),t!==void 0&&(b.y=t),r!==void 0&&(b.scale=r),l!==void 0&&ok(b,l,u,h,!1)}const xD=()=>({...nx(),attrs:{}}),ix=n=>typeof n=="string"&&n.toLowerCase()==="svg";function ck(n,e,t,r){const a=M.useMemo(()=>{const o=xD();return ax(o,e,ix(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};vD(o,n.style,n),a.style={...o,...a.style}}return a}function uk(n=!1){return(t,r,a,{latestValues:o},l)=>{const h=(rx(t)?ck:rk)(r,o,l,t),f=k6(r,typeof t=="string",n),y=t!==M.Fragment?{...f,...h,ref:a}:{},{children:v}=r,b=M.useMemo(()=>pr(v)?v.get():v,[v]);return M.createElement(t,{...y,children:b})}}function p2(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function sx(n,e,t,r){if(typeof e=="function"){const[a,o]=p2(r);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=p2(r);e=e(t!==void 0?t:n.custom,a,o)}return e}const w0=n=>Array.isArray(n),dk=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),hk=n=>w0(n)?n[n.length-1]||0:n;function Of(n){const e=pr(n)?n.get():n;return dk(e)?e.toValue():e}function fk({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,o){const l={latestValues:mk(r,a,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const bD=n=>(e,t)=>{const r=M.useContext(qm),a=M.useContext(Ym),o=()=>fk(n,e,r,a);return t?o():Vv(o)};function mk(n,e,t,r){const a={},o=r(n,{});for(const b in o)a[b]=Of(o[b]);let{initial:l,animate:u}=n;const h=Gm(n),f=dD(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let y=t?t.initial===!1:!1;y=y||l===!1;const v=y?u:l;if(v&&typeof v!="boolean"&&!$m(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const E=sx(n,b[_]);if(E){const{transitionEnd:D,transition:A,...j}=E;for(const U in j){let F=j[U];if(Array.isArray(F)){const q=y?F.length-1:0;F=F[q]}F!==null&&(a[U]=F)}for(const U in D)a[U]=D[U]}}}return a}function ox(n,e,t){var r;const{style:a}=n,o={};for(const l in a)(pr(a[l])||e.style&&pr(e.style[l])||gD(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=a[l]);return o}const pk={useVisualState:bD({scrapeMotionValuesFromProps:ox,createRenderState:nx})};function wD(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function _D(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const ED=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TD(n,e,t,r){_D(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(ED.has(a)?a:Xv(a),e.attrs[a])}function SD(n,e,t){const r=ox(n,e,t);for(const a in n)if(pr(n[a])||pr(e[a])){const o=Nc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=n[a]}return r}const g2=["x","y","width","height","cx","cy","r"],gk={useVisualState:bD({scrapeMotionValuesFromProps:SD,createRenderState:xD,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in a)if(sl.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<g2.length;u++){const h=g2[u];n[h]!==e[h]&&(l=!0)}l&&Qt.read(()=>{wD(t,r),Qt.render(()=>{ax(r,a,ix(t.tagName),n.transformTemplate),TD(t,r)})})}})};function yk(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...rx(r)?gk:pk,preloadedFeatures:n,useRender:uk(a),createVisualElement:e,Component:r};return B6(l)}}function bd(n,e,t){const r=n.getProps();return sx(r,e,t!==void 0?t:r.custom,n)}const DD=new Set(["width","height","top","left","right","bottom",...Nc]);function vk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,gd(t))}function xk(n,e){const t=bd(n,e);let{transitionEnd:r={},transition:a={},...o}=t||{};o={...o,...r};for(const l in o){const u=hk(o[l]);vk(n,l,u)}}function bk(n){return!!(pr(n)&&n.add)}function _0(n,e){const t=n.getValue("willChange");if(bk(t))return t.add(e)}function AD(n){return n.props[hD]}const RD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wk=1e-7,_k=12;function Ek(n,e,t,r,a){let o,l,u=0;do l=e+(t-e)/2,o=RD(l,r,a)-n,o>0?t=l:e=l;while(Math.abs(o)>wk&&++u<_k);return l}function Bd(n,e,t,r){if(n===e&&t===r)return Yr;const a=o=>Ek(o,0,1,n,t);return o=>o===0||o===1?o:RD(a(o),e,r)}const CD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ND=n=>e=>1-n(1-e),MD=Bd(.33,1.53,.69,.99),lx=ND(MD),kD=CD(lx),PD=n=>(n*=2)<1?.5*lx(n):.5*(2-Math.pow(2,-10*(n-1))),cx=n=>1-Math.sin(Math.acos(n)),jD=ND(cx),OD=CD(cx),ID=n=>/^0[^.\s]+$/u.test(n);function Tk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ID(n):!0}const id=n=>Math.round(n*1e5)/1e5,ux=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sk(n){return n==null}const Dk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dx=(n,e)=>t=>!!(typeof t=="string"&&Dk.test(t)&&t.startsWith(n)||e&&!Sk(t)&&Object.prototype.hasOwnProperty.call(t,e)),VD=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,o,l,u]=r.match(ux);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Ak=n=>Ji(0,255,n),jy={...Mc,transform:n=>Math.round(Ak(n))},$o={test:dx("rgb","red"),parse:VD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+jy.transform(n)+", "+jy.transform(e)+", "+jy.transform(t)+", "+id(xd.transform(r))+")"};function Rk(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const E0={test:dx("#"),parse:Rk,transform:$o.transform},rc={test:dx("hsl","hue"),parse:VD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+si.transform(id(e))+", "+si.transform(id(t))+", "+id(xd.transform(r))+")"},dr={test:n=>$o.test(n)||E0.test(n)||rc.test(n),parse:n=>$o.test(n)?$o.parse(n):rc.test(n)?rc.parse(n):E0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$o.transform(n):rc.transform(n)},Ck=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Nk(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(ux))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Ck))===null||t===void 0?void 0:t.length)||0)>0}const LD="number",UD="color",Mk="var",kk="var(",y2="${}",Pk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wd(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(Pk,h=>(dr.test(h)?(r.color.push(o),a.push(UD),t.push(dr.parse(h))):h.startsWith(kk)?(r.var.push(o),a.push(Mk),t.push(h)):(r.number.push(o),a.push(LD),t.push(parseFloat(h))),++o,y2)).split(y2);return{values:t,split:u,indexes:r,types:a}}function FD(n){return wd(n).values}function BD(n){const{split:e,types:t}=wd(n),r=e.length;return a=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],a[l]!==void 0){const u=t[l];u===LD?o+=id(a[l]):u===UD?o+=dr.transform(a[l]):o+=a[l]}return o}}const jk=n=>typeof n=="number"?0:n;function Ok(n){const e=FD(n);return BD(n)(e.map(jk))}const Ks={test:Nk,parse:FD,createTransformer:BD,getAnimatableNone:Ok},Ik=new Set(["brightness","contrast","saturate","opacity"]);function Vk(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ux)||[];if(!r)return n;const a=t.replace(r,"");let o=Ik.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+a+")"}const Lk=/\b([a-z-]*)\(.*?\)/gu,T0={...Ks,getAnimatableNone:n=>{const e=n.match(Lk);return e?e.map(Vk).join(" "):n}},Uk={...ex,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:T0,WebkitFilter:T0},zD=n=>Uk[n];function HD(n,e){let t=zD(n);return t!==T0&&(t=Ks),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Fk=new Set(["auto","none","0"]);function Bk(n,e,t){let r=0,a;for(;r<n.length&&!a;){const o=n[r];typeof o=="string"&&!Fk.has(o)&&wd(o).values.length&&(a=n[r]),r++}if(a&&t)for(const o of e)n[o]=HD(t,a)}const Go=n=>n*180/Math.PI,S0=n=>{const e=Go(Math.atan2(n[1],n[0]));return D0(e)},zk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:S0,rotateZ:S0,skewX:n=>Go(Math.atan(n[1])),skewY:n=>Go(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},D0=n=>(n=n%360,n<0&&(n+=360),n),v2=S0,x2=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),b2=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Hk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:x2,scaleY:b2,scale:n=>(x2(n)+b2(n))/2,rotateX:n=>D0(Go(Math.atan2(n[6],n[5]))),rotateY:n=>D0(Go(Math.atan2(-n[2],n[0]))),rotateZ:v2,rotate:v2,skewX:n=>Go(Math.atan(n[4])),skewY:n=>Go(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function w2(n){return n.includes("scale")?1:0}function A0(n,e){if(!n||n==="none")return w2(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=Hk,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zk,a=u}if(!a)return w2(e);const o=r[e],l=a[1].split(",").map(qk);return typeof o=="function"?o(l):l[o]}const Yk=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return A0(t,e)};function qk(n){return parseFloat(n.trim())}const _2=n=>n===Mc||n===Ze,$k=new Set(["x","y","z"]),Gk=Nc.filter(n=>!$k.has(n));function Qk(n){const e=[];return Gk.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const hc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>A0(e,"x"),y:(n,{transform:e})=>A0(e,"y")};hc.translateX=hc.x;hc.translateY=hc.y;const Wo=new Set;let R0=!1,C0=!1;function YD(){if(C0){const n=Array.from(Wo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=Qk(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}C0=!1,R0=!1,Wo.forEach(n=>n.complete()),Wo.clear()}function qD(){Wo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(C0=!0)})}function Kk(){qD(),YD()}class hx{constructor(e,t,r,a,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wo.add(this),R0||(R0=!0,Qt.read(qD),Qt.resolveKeyframes(YD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $D=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Wk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xk(n){const e=Wk.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function GD(n,e,t=1){const[r,a]=Xk(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return $D(l)?parseFloat(l):l}return Jv(a)?GD(a,e,t+1):a}const QD=n=>e=>e.test(n),Zk={test:n=>n==="auto",parse:n=>n},KD=[Mc,Ze,si,Is,K6,Q6,Zk],E2=n=>KD.find(QD(n));class WD extends hx{constructor(e,t,r,a,o){super(e,t,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Jv(f))){const y=GD(f,t.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!DD.has(r)||e.length!==2)return;const[a,o]=e,l=E2(a),u=E2(o);if(l!==u)if(_2(l)&&_2(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)Tk(e[a])&&r.push(a);r.length&&Bk(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=hc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const T2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ks.test(n)||n==="0")&&!n.startsWith("url("));function Jk(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function eP(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=T2(a,e),u=T2(o,e);return!l||!u?!1:Jk(n)||(t==="spring"||qv(t))&&r}const tP=n=>n!==null;function Qm(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(tP),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const nP=40;class XD{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ii.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>nP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Kk(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ii.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!eP(e,r,a,o))if(l)this.options.duration=0;else{h&&h(Qm(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nn=(n,e,t)=>n+(e-n)*t;function Oy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function rP({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,o=0,l=0;if(!e)a=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;a=Oy(h,u,n+1/3),o=Oy(h,u,n),l=Oy(h,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function am(n,e){return t=>t>0?e:n}const Iy=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},aP=[E0,$o,rc],iP=n=>aP.find(e=>e.test(n));function S2(n){const e=iP(n);if(!e)return!1;let t=e.parse(n);return e===rc&&(t=rP(t)),t}const D2=(n,e)=>{const t=S2(n),r=S2(e);if(!t||!r)return am(n,e);const a={...t};return o=>(a.red=Iy(t.red,r.red,o),a.green=Iy(t.green,r.green,o),a.blue=Iy(t.blue,r.blue,o),a.alpha=nn(t.alpha,r.alpha,o),$o.transform(a))},sP=(n,e)=>t=>e(n(t)),zd=(...n)=>n.reduce(sP),N0=new Set(["none","hidden"]);function oP(n,e){return N0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function lP(n,e){return t=>nn(n,e,t)}function fx(n){return typeof n=="number"?lP:typeof n=="string"?Jv(n)?am:dr.test(n)?D2:dP:Array.isArray(n)?ZD:typeof n=="object"?dr.test(n)?D2:cP:am}function ZD(n,e){const t=[...n],r=t.length,a=n.map((o,l)=>fx(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=a[l](o);return t}}function cP(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=fx(n[a])(n[a],e[a]));return a=>{for(const o in r)t[o]=r[o](a);return t}}function uP(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=n.indexes[l][a[l]],h=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=h,a[l]++}return r}const dP=(n,e)=>{const t=Ks.createTransformer(e),r=wd(n),a=wd(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?N0.has(n)&&!a.values.length||N0.has(e)&&!r.values.length?oP(n,e):zd(ZD(uP(r,a),a.values),t):am(n,e)};function JD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?nn(n,e,t):fx(n)(n,e)}const hP=5;function eA(n,e,t){const r=Math.max(e-hP,0);return eD(t-n(r),e-r)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},A2=.001;function fP({duration:n=un.duration,bounce:e=un.bounce,velocity:t=un.velocity,mass:r=un.mass}){let a,o,l=1-e;l=Ji(un.minDamping,un.maxDamping,l),n=Ji(un.minDuration,un.maxDuration,qi(n)),l<1?(a=f=>{const y=f*l,v=y*n,b=y-t,_=M0(f,l),E=Math.exp(-v);return A2-b/_*E},o=f=>{const v=f*l*n,b=v*t+t,_=Math.pow(l,2)*Math.pow(f,2)*n,E=Math.exp(-v),D=M0(Math.pow(f,2),l);return(-a(f)+A2>0?-1:1)*((b-_)*E)/D}):(a=f=>{const y=Math.exp(-f*n),v=(f-t)*n+1;return-.001+y*v},o=f=>{const y=Math.exp(-f*n),v=(t-f)*(n*n);return y*v});const u=5/n,h=pP(a,o,u);if(n=Yi(n),isNaN(h))return{stiffness:un.stiffness,damping:un.damping,duration:n};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const mP=12;function pP(n,e,t){let r=t;for(let a=1;a<mP;a++)r=r-n(r)/e(r);return r}function M0(n,e){return n*Math.sqrt(1-e*e)}const gP=["duration","bounce"],yP=["stiffness","damping","mass"];function R2(n,e){return e.some(t=>n[t]!==void 0)}function vP(n){let e={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...n};if(!R2(n,yP)&&R2(n,gP))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,o=2*Ji(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:un.mass,stiffness:a,damping:o}}else{const t=fP(n);e={...e,...t,mass:un.mass},e.isResolvedFromDuration=!0}return e}function tA(n=un.visualDuration,e=un.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:y,duration:v,velocity:b,isResolvedFromDuration:_}=vP({...t,velocity:-qi(t.velocity||0)}),E=b||0,D=f/(2*Math.sqrt(h*y)),A=l-o,j=qi(Math.sqrt(h/y)),U=Math.abs(A)<5;r||(r=U?un.restSpeed.granular:un.restSpeed.default),a||(a=U?un.restDelta.granular:un.restDelta.default);let F;if(D<1){const k=M0(j,D);F=$=>{const O=Math.exp(-D*j*$);return l-O*((E+D*j*A)/k*Math.sin(k*$)+A*Math.cos(k*$))}}else if(D===1)F=k=>l-Math.exp(-j*k)*(A+(E+j*A)*k);else{const k=j*Math.sqrt(D*D-1);F=$=>{const O=Math.exp(-D*j*$),R=Math.min(k*$,300);return l-O*((E+D*j*A)*Math.sinh(R)+k*A*Math.cosh(R))/k}}const q={calculatedDuration:_&&v||null,next:k=>{const $=F(k);if(_)u.done=k>=v;else{let O=0;D<1&&(O=k===0?Yi(E):eA(F,k,$));const R=Math.abs(O)<=r,N=Math.abs(l-$)<=a;u.done=R&&N}return u.value=u.done?l:$,u},toString:()=>{const k=Math.min(tD(q),x0),$=nD(O=>q.next(k*O).value,k,30);return k+"ms "+$}};return q}function C2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:y}){const v=n[0],b={done:!1,value:v},_=R=>u!==void 0&&R<u||h!==void 0&&R>h,E=R=>u===void 0?h:h===void 0||Math.abs(u-R)<Math.abs(h-R)?u:h;let D=t*e;const A=v+D,j=l===void 0?A:l(A);j!==A&&(D=j-v);const U=R=>-D*Math.exp(-R/r),F=R=>j+U(R),q=R=>{const N=U(R),C=F(R);b.done=Math.abs(N)<=f,b.value=b.done?j:C};let k,$;const O=R=>{_(b.value)&&(k=R,$=tA({keyframes:[b.value,E(b.value)],velocity:eA(F,R,b.value),damping:a,stiffness:o,restDelta:f,restSpeed:y}))};return O(0),{calculatedDuration:null,next:R=>{let N=!1;return!$&&k===void 0&&(N=!0,q(R),O(R)),k!==void 0&&R>=k?$.next(R-k):(!N&&q(R),b)}}}const xP=Bd(.42,0,1,1),bP=Bd(0,0,.58,1),nA=Bd(.42,0,.58,1),wP=n=>Array.isArray(n)&&typeof n[0]!="number",_P={linear:Yr,easeIn:xP,easeInOut:nA,easeOut:bP,circIn:cx,circInOut:OD,circOut:jD,backIn:lx,backInOut:kD,backOut:MD,anticipate:PD},N2=n=>{if($v(n)){JS(n.length===4);const[e,t,r,a]=n;return Bd(e,t,r,a)}else if(typeof n=="string")return _P[n];return n};function EP(n,e,t){const r=[],a=t||JD,o=n.length-1;for(let l=0;l<o;l++){let u=a(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Yr:e;u=zd(h,u)}r.push(u)}return r}function TP(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const o=n.length;if(JS(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=EP(e,r,a),h=u.length,f=y=>{if(l&&y<n[0])return e[0];let v=0;if(h>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const b=uc(n[v],n[v+1],y);return u[v](b)};return t?y=>f(Ji(n[0],n[o-1],y)):f}function SP(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=uc(0,e,r);n.push(nn(t,1,a))}}function DP(n){const e=[0];return SP(e,n.length-1),e}function AP(n,e){return n.map(t=>t*e)}function RP(n,e){return n.map(()=>e||nA).splice(0,n.length-1)}function im({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=wP(r)?r.map(N2):N2(r),o={done:!1,value:e[0]},l=AP(t&&t.length===e.length?t:DP(e),n),u=TP(l,e,{ease:Array.isArray(a)?a:RP(e,a)});return{calculatedDuration:n,next:h=>(o.value=u(h),o.done=h>=n,o)}}const CP=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qt.update(e,!0),stop:()=>Qs(e),now:()=>Kn.isProcessing?Kn.timestamp:ii.now()}},NP={decay:C2,inertia:C2,tween:im,keyframes:im,spring:tA},MP=n=>n/100;class mx extends XD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:r,element:a,keyframes:o}=this.options,l=(a==null?void 0:a.KeyframeResolver)||hx,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=this.options,u=qv(t)?t:NP[t]||im;let h,f;u!==im&&typeof e[0]!="number"&&(h=zd(MP,JD(e[0],e[1])),e=[0,100]);const y=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),y.calculatedDuration===null&&(y.calculatedDuration=tD(y));const{calculatedDuration:v}=y,b=v+a,_=b*(r+1)-a;return{generator:y,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:b,totalDuration:_}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:y,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:b,repeat:_,repeatType:E,repeatDelay:D,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-b*(this.speed>=0?1:-1),U=this.speed>=0?j<0:j>y;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let F=this.currentTime,q=o;if(_){const R=Math.min(this.currentTime,y)/v;let N=Math.floor(R),C=R%1;!C&&R>=1&&(C=1),C===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(E==="reverse"?(C=1-C,D&&(C-=D/v)):E==="mirror"&&(q=l)),F=Ji(0,1,C)*v}const k=U?{done:!1,value:h[0]}:q.next(F);u&&(k.value=u(k.value));let{done:$}=k;!U&&f!==null&&($=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return O&&a!==void 0&&(k.value=Qm(h,this.options,a)),A&&A(k.value),O&&this.finish(),k}get duration(){const{resolved:e}=this;return e?qi(e.calculatedDuration):0}get time(){return qi(this.currentTime)}set time(e){e=Yi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=CP,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kP=new Set(["opacity","clipPath","filter","transform"]);function PP(n,e,t,{delay:r=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const f={[e]:t};h&&(f.offset=h);const y=aD(u,a);return Array.isArray(y)&&(f.easing=y),n.animate(f,{delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const jP=zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sm=10,OP=2e4;function IP(n){return qv(n.type)||n.type==="spring"||!rD(n.ease)}function VP(n,e){const t=new mx({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let o=0;for(;!r.done&&o<OP;)r=t.sample(o),a.push(r.value),o+=sm;return{times:void 0,keyframes:a,duration:o-sm,ease:"linear"}}const rA={anticipate:PD,backInOut:kD,circInOut:OD};function LP(n){return n in rA}class M2 extends XD{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new WD(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:o,type:l,motionValue:u,name:h,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&nm()&&LP(o)&&(o=rA[o]),IP(this.options)){const{onComplete:v,onUpdate:b,motionValue:_,element:E,...D}=this.options,A=VP(e,D);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,a=A.times,o=A.ease,l="keyframes"}const y=PP(u.owner.current,h,e,{...this.options,duration:r,times:a,ease:o});return y.startTime=f??this.calcStartTime(),this.pendingTimeline?(r2(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:v}=this.options;u.set(Qm(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return qi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return qi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Yi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Yr;const{animation:r}=t;r2(r,e)}return Yr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:y,onComplete:v,element:b,..._}=this.options,E=new mx({..._,keyframes:r,duration:a,type:o,ease:l,times:u,isGenerator:!0}),D=Yi(this.time);f.setWithVelocity(E.sample(D-sm).value,E.sample(D).value,sm)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return jP()&&r&&kP.has(r)&&!h&&!f&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}}const UP={type:"spring",stiffness:500,damping:25,restSpeed:10},FP=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),BP={type:"keyframes",duration:.8},zP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HP=(n,{keyframes:e})=>e.length>2?BP:sl.has(n)?n.startsWith("scale")?FP(e[1]):UP:zP;function YP({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...y}){return!!Object.keys(y).length}const px=(n,e,t,r={},a,o)=>l=>{const u=Yv(r,n)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Yi(h);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:a};YP(u)||(y={...y,...HP(n,y)}),y.duration&&(y.duration=Yi(y.duration)),y.repeatDelay&&(y.repeatDelay=Yi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),y.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const b=Qm(y.keyframes,u);if(b!==void 0)return Qt.update(()=>{y.onUpdate(b),y.onComplete()}),new f6([])}return!o&&M2.supports(y)?new M2(y):new mx(y)};function qP({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function aA(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const f=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const v in h){const b=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),_=h[v];if(_===void 0||y&&qP(y,v))continue;const E={delay:t,...Yv(l||{},v)};let D=!1;if(window.MotionHandoffAnimation){const j=AD(n);if(j){const U=window.MotionHandoffAnimation(j,v,Qt);U!==null&&(E.startTime=U,D=!0)}}_0(n,v),b.start(px(v,b,_,n.shouldReduceMotion&&DD.has(v)?{type:!1}:E,n,D));const A=b.animation;A&&f.push(A)}return u&&Promise.all(f).then(()=>{Qt.update(()=>{u&&xk(n,u)})}),f}function k0(n,e,t={}){var r;const a=bd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(o=t.transitionOverride);const l=a?()=>Promise.all(aA(n,a,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=o;return $P(n,e,y+f,v,b,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,y]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>y())}else return Promise.all([l(),u(t.delay)])}function $P(n,e,t=0,r=0,a=1,o){const l=[],u=(n.variantChildren.size-1)*r,h=a===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(n.variantChildren).sort(GP).forEach((f,y)=>{f.notify("AnimationStart",e),l.push(k0(f,e,{...o,delay:t+h(y)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function GP(n,e){return n.sortNodePosition(e)}function QP(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>k0(n,o,t));r=Promise.all(a)}else if(typeof e=="string")r=k0(n,e,t);else{const a=typeof e=="function"?bd(n,e,t.custom):e;r=Promise.all(aA(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function iA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const KP=Wv.length;function sA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?sA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<KP;t++){const r=Wv[t],a=n.props[r];(yd(a)||a===!1)&&(e[r]=a)}return e}const WP=[...Kv].reverse(),XP=Kv.length;function ZP(n){return e=>Promise.all(e.map(({animation:t,options:r})=>QP(n,t,r)))}function JP(n){let e=ZP(n),t=k2(),r=!0;const a=h=>(f,y)=>{var v;const b=bd(n,y,h==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:_,transitionEnd:E,...D}=b;f={...f,...D,...E}}return f};function o(h){e=h(n)}function l(h){const{props:f}=n,y=sA(n.parent)||{},v=[],b=new Set;let _={},E=1/0;for(let A=0;A<XP;A++){const j=WP[A],U=t[j],F=f[j]!==void 0?f[j]:y[j],q=yd(F),k=j===h?U.isActive:null;k===!1&&(E=A);let $=F===y[j]&&F!==f[j]&&q;if($&&r&&n.manuallyAnimateOnMount&&($=!1),U.protectedKeys={..._},!U.isActive&&k===null||!F&&!U.prevProp||$m(F)||typeof F=="boolean")continue;const O=ej(U.prevProp,F);let R=O||j===h&&U.isActive&&!$&&q||A>E&&q,N=!1;const C=Array.isArray(F)?F:[F];let L=C.reduce(a(j),{});k===!1&&(L={});const{prevResolvedValues:z={}}=U,B={...z,...L},Ee=re=>{R=!0,b.has(re)&&(N=!0,b.delete(re)),U.needsAnimating[re]=!0;const oe=n.getValue(re);oe&&(oe.liveStyle=!1)};for(const re in B){const oe=L[re],ve=z[re];if(_.hasOwnProperty(re))continue;let P=!1;w0(oe)&&w0(ve)?P=!iA(oe,ve):P=oe!==ve,P?oe!=null?Ee(re):b.add(re):oe!==void 0&&b.has(re)?Ee(re):U.protectedKeys[re]=!0}U.prevProp=F,U.prevResolvedValues=L,U.isActive&&(_={..._,...L}),r&&n.blockInitialAnimation&&(R=!1),R&&(!($&&O)||N)&&v.push(...C.map(re=>({animation:re,options:{type:j}})))}if(b.size){const A={};if(typeof f.initial!="boolean"){const j=bd(n,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(A.transition=j.transition)}b.forEach(j=>{const U=n.getBaseTarget(j),F=n.getValue(j);F&&(F.liveStyle=!0),A[j]=U??null}),v.push({animation:A})}let D=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(v):Promise.resolve()}function u(h,f){var y;if(t[h].isActive===f)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(b=>{var _;return(_=b.animationState)===null||_===void 0?void 0:_.setActive(h,f)}),t[h].isActive=f;const v=l(h);for(const b in t)t[b].protectedKeys={};return v}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=k2(),r=!0}}}function ej(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!iA(e,n):!1}function Fo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k2(){return{animate:Fo(!0),whileInView:Fo(),whileHover:Fo(),whileTap:Fo(),whileDrag:Fo(),whileFocus:Fo(),exit:Fo()}}class io{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tj extends io{constructor(e){super(e),e.animationState||(e.animationState=JP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$m(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let nj=0;class rj extends io{constructor(){super(...arguments),this.id=nj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aj={animation:{Feature:tj},exit:{Feature:rj}};function _d(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Hd(n){return{point:{x:n.pageX,y:n.pageY}}}const ij=n=>e=>Qv(e)&&n(e,Hd(e));function sd(n,e,t,r){return _d(n,e,ij(t),r)}function oA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function sj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function oj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const lA=1e-4,lj=1-lA,cj=1+lA,cA=.01,uj=0-cA,dj=0+cA;function Dr(n){return n.max-n.min}function hj(n,e,t){return Math.abs(n-e)<=t}function P2(n,e,t,r=.5){n.origin=r,n.originPoint=nn(e.min,e.max,n.origin),n.scale=Dr(t)/Dr(e),n.translate=nn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=lj&&n.scale<=cj||isNaN(n.scale))&&(n.scale=1),(n.translate>=uj&&n.translate<=dj||isNaN(n.translate))&&(n.translate=0)}function od(n,e,t,r){P2(n.x,e.x,t.x,r?r.originX:void 0),P2(n.y,e.y,t.y,r?r.originY:void 0)}function j2(n,e,t){n.min=t.min+e.min,n.max=n.min+Dr(e)}function fj(n,e,t){j2(n.x,e.x,t.x),j2(n.y,e.y,t.y)}function O2(n,e,t){n.min=e.min-t.min,n.max=n.min+Dr(e)}function ld(n,e,t){O2(n.x,e.x,t.x),O2(n.y,e.y,t.y)}const I2=()=>({translate:0,scale:1,origin:0,originPoint:0}),ac=()=>({x:I2(),y:I2()}),V2=()=>({min:0,max:0}),pn=()=>({x:V2(),y:V2()});function fa(n){return[n("x"),n("y")]}function Vy(n){return n===void 0||n===1}function P0({scale:n,scaleX:e,scaleY:t}){return!Vy(n)||!Vy(e)||!Vy(t)}function Bo(n){return P0(n)||uA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function uA(n){return L2(n.x)||L2(n.y)}function L2(n){return n&&n!=="0%"}function om(n,e,t){const r=n-t,a=e*r;return t+a}function U2(n,e,t,r,a){return a!==void 0&&(n=om(n,a,r)),om(n,t,r)+e}function j0(n,e=0,t=1,r,a){n.min=U2(n.min,e,t,r,a),n.max=U2(n.max,e,t,r,a)}function dA(n,{x:e,y:t}){j0(n.x,e.translate,e.scale,e.originPoint),j0(n.y,t.translate,t.scale,t.originPoint)}const F2=.999999999999,B2=1.0000000000001;function mj(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,l;for(let u=0;u<a;u++){o=t[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&sc(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,dA(n,l)),r&&Bo(o.latestValues)&&sc(n,o.latestValues))}e.x<B2&&e.x>F2&&(e.x=1),e.y<B2&&e.y>F2&&(e.y=1)}function ic(n,e){n.min=n.min+e,n.max=n.max+e}function z2(n,e,t,r,a=.5){const o=nn(n.min,n.max,a);j0(n,e,t,o,r)}function sc(n,e){z2(n.x,e.x,e.scaleX,e.scale,e.originX),z2(n.y,e.y,e.scaleY,e.scale,e.originY)}function hA(n,e){return oA(oj(n.getBoundingClientRect(),e))}function pj(n,e,t){const r=hA(n,t),{scroll:a}=e;return a&&(ic(r.x,a.offset.x),ic(r.y,a.offset.y)),r}const fA=({current:n})=>n?n.ownerDocument.defaultView:null,H2=(n,e)=>Math.abs(n-e);function gj(n,e){const t=H2(n.x,e.x),r=H2(n.y,e.y);return Math.sqrt(t**2+r**2)}class mA{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Uy(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=gj(v.offset,{x:0,y:0})>=3;if(!b&&!_)return;const{point:E}=v,{timestamp:D}=Kn;this.history.push({...E,timestamp:D});const{onStart:A,onMove:j}=this.handlers;b||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ly(b,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Uy(v.type==="pointercancel"?this.lastMoveEventInfo:Ly(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,A),E&&E(v,A)},!Qv(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const l=Hd(e),u=Ly(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Kn;this.history=[{...h,timestamp:f}];const{onSessionStart:y}=t;y&&y(e,Uy(u,this.history)),this.removeListeners=zd(sd(this.contextWindow,"pointermove",this.handlePointerMove),sd(this.contextWindow,"pointerup",this.handlePointerUp),sd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function Ly(n,e){return e?{point:e(n.point)}:n}function Y2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Uy({point:n},e){return{point:n,delta:Y2(n,pA(e)),offset:Y2(n,yj(e)),velocity:vj(e,.1)}}function yj(n){return n[0]}function pA(n){return n[n.length-1]}function vj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=pA(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Yi(e)));)t--;if(!r)return{x:0,y:0};const o=qi(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function xj(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?nn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?nn(t,n,r.max):Math.min(n,t)),n}function q2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function bj(n,{top:e,left:t,bottom:r,right:a}){return{x:q2(n.x,t,a),y:q2(n.y,e,r)}}function $2(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function wj(n,e){return{x:$2(n.x,e.x),y:$2(n.y,e.y)}}function _j(n,e){let t=.5;const r=Dr(n),a=Dr(e);return a>r?t=uc(e.min,e.max-r,n.min):r>a&&(t=uc(n.min,n.max-a,e.min)),Ji(0,1,t)}function Ej(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const O0=.35;function Tj(n=O0){return n===!1?n=0:n===!0&&(n=O0),{x:G2(n,"left","right"),y:G2(n,"top","bottom")}}function G2(n,e,t){return{min:Q2(n,e),max:Q2(n,t)}}function Q2(n,e){return typeof n=="number"?n:n[e]||0}const Sj=new WeakMap;class Dj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hd(y).point)},o=(y,v)=>{const{drag:b,dragPropagation:_,onDragStart:E}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x6(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fa(A=>{let j=this.getAxisMotionValue(A).get()||0;if(si.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[A];F&&(j=Dr(F)*(parseFloat(j)/100))}}this.originPoint[A]=j}),E&&Qt.postRender(()=>E(y,v)),_0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(y,v)=>{const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:E,onDrag:D}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:A}=v;if(_&&this.currentDirection===null){this.currentDirection=Aj(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),D&&D(y,v)},u=(y,v)=>this.stop(y,v),h=()=>fa(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new mA(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:fA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Qt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!yf(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=xj(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&nc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=bj(a.layoutBox,t):this.constraints=!1,this.elastic=Tj(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fa(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ej(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!nc(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=pj(r,a.root,this.visualElement.getTransformPagePoint());let l=wj(a.layout.layoutBox,o);if(t){const u=t(sj(l));this.hasMutatedConstraints=!!u,u&&(l=oA(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=fa(y=>{if(!yf(y,t,this.currentDirection))return;let v=h&&h[y]||{};l&&(v={min:0,max:0});const b=a?200:1e6,_=a?40:1e7,E={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,E)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return _0(this.visualElement,e),r.start(px(e,r,0,t,this.visualElement,!1))}stopAnimation(){fa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fa(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fa(t=>{const{drag:r}=this.getProps();if(!yf(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];o.set(e[t]-nn(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!nc(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fa(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=_j({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fa(l=>{if(!yf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(nn(h,f,a[l]))})}addListeners(){if(!this.visualElement.current)return;Sj.set(this.visualElement,this);const e=this.visualElement.current,t=sd(e,"pointerdown",h=>{const{drag:f,dragListener:y=!0}=this.getProps();f&&y&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();nc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Qt.read(r);const l=_d(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(fa(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=h[y].translate,v.set(v.get()+h[y].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=O0,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function yf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Aj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Rj extends io{constructor(e){super(e),this.removeGroupControls=Yr,this.removeListeners=Yr,this.controls=new Dj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const K2=n=>(e,t)=>{n&&Qt.postRender(()=>n(e,t))};class Cj extends io{constructor(){super(...arguments),this.removePointerDownListener=Yr}onPointerDown(e){this.session=new mA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:K2(e),onStart:K2(t),onMove:r,onEnd:(o,l)=>{delete this.session,a&&Qt.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=sd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ze.test(n))n=parseFloat(n);else return n;const t=W2(n,e.target.x),r=W2(n,e.target.y);return`${t}% ${r}%`}},Nj={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=Ks.parse(n);if(a.length>5)return r;const o=Ks.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=h;const f=nn(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=f),typeof a[3+l]=="number"&&(a[3+l]/=f),o(a)}};class Mj extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;G6(kj),o&&(t.group&&t.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Qt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gA(n){const[e,t]=ZS(),r=M.useContext(Iv);return p.jsx(Mj,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(fD),isPresent:e,safeToRemove:t})}const kj={borderRadius:{...Bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bu,borderTopRightRadius:Bu,borderBottomLeftRadius:Bu,borderBottomRightRadius:Bu,boxShadow:Nj};function Pj(n,e,t){const r=pr(n)?n:gd(n);return r.start(px("",r,e,t)),r.animation}function jj(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Oj=(n,e)=>n.depth-e.depth;class Ij{constructor(){this.children=[],this.isDirty=!1}add(e){Fv(this.children,e),this.isDirty=!0}remove(e){Bv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oj),this.isDirty=!1,this.children.forEach(e)}}function Vj(n,e){const t=ii.now(),r=({timestamp:a})=>{const o=a-t;o>=e&&(Qs(r),n(o-e))};return Qt.read(r,!0),()=>Qs(r)}const yA=["TopLeft","TopRight","BottomLeft","BottomRight"],Lj=yA.length,X2=n=>typeof n=="string"?parseFloat(n):n,Z2=n=>typeof n=="number"||Ze.test(n);function Uj(n,e,t,r,a,o){a?(n.opacity=nn(0,t.opacity!==void 0?t.opacity:1,Fj(r)),n.opacityExit=nn(e.opacity!==void 0?e.opacity:1,0,Bj(r))):o&&(n.opacity=nn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<Lj;l++){const u=`border${yA[l]}Radius`;let h=J2(e,u),f=J2(t,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Z2(h)===Z2(f)?(n[u]=Math.max(nn(X2(h),X2(f),r),0),(si.test(f)||si.test(h))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=nn(e.rotate||0,t.rotate||0,r))}function J2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Fj=vA(0,.5,jD),Bj=vA(.5,.95,Yr);function vA(n,e,t){return r=>r<n?0:r>e?1:t(uc(n,e,r))}function eE(n,e){n.min=e.min,n.max=e.max}function ha(n,e){eE(n.x,e.x),eE(n.y,e.y)}function tE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nE(n,e,t,r,a){return n-=e,n=om(n,1/t,r),a!==void 0&&(n=om(n,1/a,r)),n}function zj(n,e=0,t=1,r=.5,a,o=n,l=n){if(si.test(e)&&(e=parseFloat(e),e=nn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=nn(o.min,o.max,r);n===o&&(u-=e),n.min=nE(n.min,e,t,u,a),n.max=nE(n.max,e,t,u,a)}function rE(n,e,[t,r,a],o,l){zj(n,e[t],e[r],e[a],e.scale,o,l)}const Hj=["x","scaleX","originX"],Yj=["y","scaleY","originY"];function aE(n,e,t,r){rE(n.x,e,Hj,t?t.x:void 0,r?r.x:void 0),rE(n.y,e,Yj,t?t.y:void 0,r?r.y:void 0)}function iE(n){return n.translate===0&&n.scale===1}function xA(n){return iE(n.x)&&iE(n.y)}function sE(n,e){return n.min===e.min&&n.max===e.max}function qj(n,e){return sE(n.x,e.x)&&sE(n.y,e.y)}function oE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function bA(n,e){return oE(n.x,e.x)&&oE(n.y,e.y)}function lE(n){return Dr(n.x)/Dr(n.y)}function cE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class $j{constructor(){this.members=[]}add(e){Fv(this.members,e),e.scheduleRender()}remove(e){if(Bv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gj(n,e,t){let r="";const a=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((a||o||l)&&(r=`translate3d(${a}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:y,rotateX:v,rotateY:b,skewX:_,skewY:E}=t;f&&(r=`perspective(${f}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),_&&(r+=`skewX(${_}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Fy=["","X","Y","Z"],Qj={visibility:"hidden"},uE=1e3;let Kj=0;function By(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function wA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=AD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Qt,!(a||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&wA(r)}function _A({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},u=e==null?void 0:e()){this.id=Kj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zj),this.nodes.forEach(rO),this.nodes.forEach(aO),this.nodes.forEach(Jj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ij)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jj(l),this.instance=l;const{layoutId:h,layout:f,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),n){let v;const b=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=Vj(b,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(hE))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||cO,{onLayoutAnimationStart:A,onLayoutAnimationComplete:j}=y.getProps(),U=!this.targetLayout||!bA(this.targetLayout,E),F=!b&&_;if(this.options.layoutRoot||this.resumeFrom||F||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,F);const q={...Yv(D,"layout"),onPlay:A,onComplete:j};(y.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else b||hE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iO),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dE);return}this.isUpdating||this.nodes.forEach(tO),this.isUpdating=!1,this.nodes.forEach(nO),this.nodes.forEach(Wj),this.nodes.forEach(Xj),this.clearAllSnapshots();const u=ii.now();Kn.delta=Ji(0,1e3/60,u-Kn.timestamp),Kn.timestamp=u,Kn.isProcessing=!0,ky.update.process(Kn),ky.preRender.process(Kn),ky.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eO),this.sharedNodes.forEach(sO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dr(this.snapshot.measuredBox.x)&&!Dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!xA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,y=f!==this.prevTransformTemplateValue;l&&(u||Bo(this.latestValues)||y)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),uO(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return pn();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(dO))){const{scroll:y}=this.root;y&&(ic(h.x,y.offset.x),ic(h.y,y.offset.y))}return h}removeElementScroll(l){var u;const h=pn();if(ha(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const y=this.path[f],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ha(h,l),ic(h.x,v.offset.x),ic(h.y,v.offset.y))}return h}applyTransform(l,u=!1){const h=pn();ha(h,l);for(let f=0;f<this.path.length;f++){const y=this.path[f];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&sc(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Bo(y.latestValues)&&sc(h,y.latestValues)}return Bo(this.latestValues)&&sc(h,this.latestValues),h}removeTransform(l){const u=pn();ha(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Bo(f.latestValues))continue;P0(f.latestValues)&&f.updateSnapshot();const y=pn(),v=f.measurePageBox();ha(y,v),aE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,y)}return Bo(this.latestValues)&&aE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),ld(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ha(this.target,this.layout.layoutBox),dA(this.target,this.targetDelta)):ha(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),ld(this.relativeTargetOrigin,this.target,_.target),ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||P0(this.parent.latestValues)||uA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(f=!1),f)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;ha(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;mj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=pn());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tE(this.prevProjectionDelta.x,this.projectionDelta.x),tE(this.prevProjectionDelta.y,this.projectionDelta.y)),od(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!cE(this.projectionDelta.x,this.prevProjectionDelta.x)||!cE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ac(),this.projectionDelta=ac(),this.projectionDeltaWithTransform=ac()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},y={...this.latestValues},v=ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=pn(),_=h?h.source:void 0,E=this.layout?this.layout.source:void 0,D=_!==E,A=this.getStack(),j=!A||A.members.length<=1,U=!!(D&&!j&&this.options.crossfade===!0&&!this.path.some(lO));this.animationProgress=0;let F;this.mixTargetDelta=q=>{const k=q/1e3;fE(v.x,l.x,k),fE(v.y,l.y,k),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ld(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oO(this.relativeTarget,this.relativeTargetOrigin,b,k),F&&qj(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=pn()),ha(F,this.relativeTarget)),D&&(this.animationValues=y,Uj(y,f,this.latestValues,k,U,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{If.hasAnimatedSinceResize=!0,this.currentAnimation=Pj(0,uE,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:y}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&EA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||pn();const v=Dr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const b=Dr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}ha(u,h),sc(u,y),od(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $j),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&By("z",l,f,this.animationValues);for(let y=0;y<Fy.length;y++)By(`rotate${Fy[y]}`,l,f,this.animationValues),By(`skew${Fy[y]}`,l,f,this.animationValues);l.render();for(const y in f)l.setStaticValue(y,f[y]),this.animationValues&&(this.animationValues[y]=f[y]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qj;const f={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Of(l==null?void 0:l.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none",f;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=Of(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(D.transform=y?y({},""):"none",this.hasProjected=!1),D}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),f.transform=Gj(this.projectionDeltaWithTransform,this.treeScale,b),y&&(f.transform=y(b,f.transform));const{x:_,y:E}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,v.animationValues?f.opacity=v===this?(h=(u=b.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const D in vd){if(b[D]===void 0)continue;const{correct:A,applyTo:j,isCSSVariable:U}=vd[D],F=f.transform==="none"?b[D]:A(b[D],v);if(j){const q=j.length;for(let k=0;k<q;k++)f[j[k]]=F}else U?this.options.visualElement.renderState.vars[D]=F:f[D]=F}return this.options.layoutId&&(f.pointerEvents=v===this?Of(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(dE),this.root.sharedNodes.clear()}}}function Wj(n){n.updateLayout()}function Xj(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?fa(v=>{const b=l?t.measuredBox[v]:t.layoutBox[v],_=Dr(b);b.min=r[v].min,b.max=b.min+_}):EA(o,t.layoutBox,r)&&fa(v=>{const b=l?t.measuredBox[v]:t.layoutBox[v],_=Dr(r[v]);b.max=b.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const u=ac();od(u,r,t.layoutBox);const h=ac();l?od(h,n.applyTransform(a,!0),t.measuredBox):od(h,r,t.layoutBox);const f=!xA(u);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const E=pn();ld(E,t.layoutBox,b.layoutBox);const D=pn();ld(D,r,_.layoutBox),bA(E,D)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=E,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Zj(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Jj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function eO(n){n.clearSnapshot()}function dE(n){n.clearMeasurements()}function tO(n){n.isLayoutDirty=!1}function nO(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function hE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rO(n){n.resolveTargetDelta()}function aO(n){n.calcProjection()}function iO(n){n.resetSkewAndRotation()}function sO(n){n.removeLeadSnapshot()}function fE(n,e,t){n.translate=nn(e.translate,0,t),n.scale=nn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function mE(n,e,t,r){n.min=nn(e.min,t.min,r),n.max=nn(e.max,t.max,r)}function oO(n,e,t,r){mE(n.x,e.x,t.x,r),mE(n.y,e.y,t.y,r)}function lO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const cO={duration:.45,ease:[.4,0,.1,1]},pE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gE=pE("applewebkit/")&&!pE("chrome/")?Math.round:Yr;function yE(n){n.min=gE(n.min),n.max=gE(n.max)}function uO(n){yE(n.x),yE(n.y)}function EA(n,e,t){return n==="position"||n==="preserve-aspect"&&!hj(lE(e),lE(t),.2)}function dO(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const hO=_A({attachResizeListener:(n,e)=>_d(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zy={current:void 0},TA=_A({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!zy.current){const n=new hO({});n.mount(window),n.setOptions({layoutScroll:!0}),zy.current=n}return zy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),fO={pan:{Feature:Cj},drag:{Feature:Rj,ProjectionNode:TA,MeasureLayout:gA}};function vE(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=r[a];o&&Qt.postRender(()=>o(e,Hd(e)))}class mO extends io{mount(){const{current:e}=this.node;e&&(this.unmount=w6(e,(t,r)=>(vE(this.node,r,"Start"),a=>vE(this.node,a,"End"))))}unmount(){}}class pO extends io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zd(_d(this.node.current,"focus",()=>this.onFocus()),_d(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xE(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=r[a];o&&Qt.postRender(()=>o(e,Hd(e)))}class gO extends io{mount(){const{current:e}=this.node;e&&(this.unmount=S6(e,(t,r)=>(xE(this.node,r,"Start"),(a,{success:o})=>xE(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const I0=new WeakMap,Hy=new WeakMap,yO=n=>{const e=I0.get(n.target);e&&e(n)},vO=n=>{n.forEach(yO)};function xO({root:n,...e}){const t=n||document;Hy.has(t)||Hy.set(t,{});const r=Hy.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(vO,{root:n,...e})),r[a]}function bO(n,e,t){const r=xO(e);return I0.set(n,t),r.observe(n),()=>{I0.delete(n),r.unobserve(n)}}const wO={some:0,all:1};class _O extends io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:wO[a]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=f?y:v;b&&b(h)};return bO(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(EO(e,t))&&this.startObserver()}unmount(){}}function EO({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const TO={inView:{Feature:_O},tap:{Feature:gO},focus:{Feature:pO},hover:{Feature:mO}},SO={layout:{ProjectionNode:TA,MeasureLayout:gA}},V0={current:null},SA={current:!1};function DO(){if(SA.current=!0,!!Lv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>V0.current=n.matches;n.addListener(e),e()}else V0.current=!1}const AO=[...KD,dr,Ks],RO=n=>AO.find(QD(n)),CO=new WeakMap;function NO(n,e,t){for(const r in e){const a=e[r],o=t[r];if(pr(a))n.addValue(r,a);else if(pr(o))n.addValue(r,gd(a,{owner:n}));else if(o!==a)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(r);n.addValue(r,gd(l!==void 0?l:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const bE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MO{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=ii.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Qt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:y}=l;this.onUpdate=y,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Gm(t),this.isVariantNode=dD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in b){const E=b[_];h[_]!==void 0&&pr(E)&&E.set(h[_],!1)}}mount(e){this.current=e,CO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),SA.current||DO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:V0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dc){const t=dc[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<bE.length;r++){const a=bE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=e[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=NO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=gd(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&($D(a)||ID(a))?a=parseFloat(a):!RO(a)&&Ks.test(t)&&(a=HD(e,t)),this.setBaseTarget(e,pr(a)?a.get():a)),pr(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const l=sx(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(a=l[e])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!pr(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Hv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class DA extends MO{constructor(){super(...arguments),this.KeyframeResolver=WD}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function kO(n){return window.getComputedStyle(n)}class PO extends DA{constructor(){super(...arguments),this.type="html",this.renderInstance=_D}readValueFromInstance(e,t){if(sl.has(t))return Yk(e,t);{const r=kO(e),a=(Zv(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hA(e,t)}build(e,t,r){tx(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return ox(e,t,r)}}class jO extends DA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&wD(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sl.has(t)){const r=zD(t);return r&&r.default||0}return t=ED.has(t)?t:Xv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return SD(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Qt.postRender(this.updateDimensions)}build(e,t,r){ax(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){TD(e,t,r,a)}mount(e){this.isSVGTag=ix(e.tagName),super.mount(e)}}const OO=(n,e)=>rx(n)?new jO(e):new PO(e,{allowProjection:n!==M.Fragment}),IO=yk({...aj,...TO,...fO,...SO},OO),ee=P6(IO),VO=()=>{};var wE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},LO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],l=n[t++],u=n[t++],h=((a&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},RA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],l=a+1<n.length,u=l?n[a+1]:0,h=a+2<n.length,f=h?n[a+2]:0,y=o>>2,v=(o&3)<<4|u>>4;let b=(u&15)<<2|f>>6,_=f&63;h||(_=64,l||(b=64)),r.push(t[y],t[v],t[b],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||f==null||v==null)throw new UO;const b=o<<2|u>>4;if(r.push(b),f!==64){const _=u<<4&240|f>>2;if(r.push(_),v!==64){const E=f<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FO=function(n){const e=AA(n);return RA.encodeByteArray(e,!0)},lm=function(n){return FO(n).replace(/\./g,"")},BO=function(n){try{return RA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=()=>zO().__FIREBASE_DEFAULTS__,YO=()=>{if(typeof process>"u"||typeof wE>"u")return;const n=wE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&BO(n[1]);return e&&JSON.parse(e)},gx=()=>{try{return VO()||HO()||YO()||qO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$O=n=>{var e,t;return(t=(e=gx())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},CA=n=>{const e=$O(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},NA=()=>{var n;return(n=gx())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lm(JSON.stringify(t)),lm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KO(){var n;const e=(n=gx())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WO(){return!KO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XO(){try{return typeof indexedDB=="object"}catch{return!1}}function ZO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class ol extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kA.prototype.create)}}class kA{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?eI(o,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new ol(a,u,r)}}function eI(n,e){return n.replace(tI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const tI=/\{\$([^}]+)}/g;function Ed(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],l=e[a];if(_E(o)&&_E(l)){if(!Ed(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function _E(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n){return n.endsWith(".cloudworkstations.dev")}async function PA(n){return(await fetch(n,{credentials:"include"})).ok}class fc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new GO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aI(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rI(n){return n===zo?void 0:n}function aI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wt||(wt={}));const sI={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},oI=wt.INFO,lI={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},cI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=lI[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jA{constructor(e){this.name=e,this._logLevel=oI,this._logHandler=cI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const uI=(n,e)=>e.some(t=>n instanceof t);let EE,TE;function dI(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hI(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OA=new WeakMap,L0=new WeakMap,IA=new WeakMap,Yy=new WeakMap,vx=new WeakMap;function fI(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Fs(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&OA.set(t,n)}).catch(()=>{}),vx.set(e,n),e}function mI(n){if(L0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});L0.set(n,e)}let U0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return L0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pI(n){U0=n(U0)}function gI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qy(this),e,...t);return IA.set(r,e.sort?e.sort():[e]),Fs(r)}:hI().includes(n)?function(...e){return n.apply(qy(this),e),Fs(OA.get(this))}:function(...e){return Fs(n.apply(qy(this),e))}}function yI(n){return typeof n=="function"?gI(n):(n instanceof IDBTransaction&&mI(n),uI(n,dI())?new Proxy(n,U0):n)}function Fs(n){if(n instanceof IDBRequest)return fI(n);if(Yy.has(n))return Yy.get(n);const e=yI(n);return e!==n&&(Yy.set(n,e),vx.set(e,n)),e}const qy=n=>vx.get(n);function vI(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(n,e),u=Fs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Fs(l.result),h.oldVersion,h.newVersion,Fs(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const xI=["get","getKey","getAll","getAllKeys","count"],bI=["put","add","delete","clear"],$y=new Map;function SE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=bI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||xI.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),a&&h.done]))[0]};return $y.set(e,o),o}pI(n=>({...n,get:(e,t,r)=>SE(e,t)||n.get(e,t,r),has:(e,t)=>!!SE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_I(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _I(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const F0="@firebase/app",DE="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new jA("@firebase/app"),EI="@firebase/app-compat",TI="@firebase/analytics-compat",SI="@firebase/analytics",DI="@firebase/app-check-compat",AI="@firebase/app-check",RI="@firebase/auth",CI="@firebase/auth-compat",NI="@firebase/database",MI="@firebase/data-connect",kI="@firebase/database-compat",PI="@firebase/functions",jI="@firebase/functions-compat",OI="@firebase/installations",II="@firebase/installations-compat",VI="@firebase/messaging",LI="@firebase/messaging-compat",UI="@firebase/performance",FI="@firebase/performance-compat",BI="@firebase/remote-config",zI="@firebase/remote-config-compat",HI="@firebase/storage",YI="@firebase/storage-compat",qI="@firebase/firestore",$I="@firebase/vertexai",GI="@firebase/firestore-compat",QI="firebase",KI="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="[DEFAULT]",WI={[F0]:"fire-core",[EI]:"fire-core-compat",[SI]:"fire-analytics",[TI]:"fire-analytics-compat",[AI]:"fire-app-check",[DI]:"fire-app-check-compat",[RI]:"fire-auth",[CI]:"fire-auth-compat",[NI]:"fire-rtdb",[MI]:"fire-data-connect",[kI]:"fire-rtdb-compat",[PI]:"fire-fn",[jI]:"fire-fn-compat",[OI]:"fire-iid",[II]:"fire-iid-compat",[VI]:"fire-fcm",[LI]:"fire-fcm-compat",[UI]:"fire-perf",[FI]:"fire-perf-compat",[BI]:"fire-rc",[zI]:"fire-rc-compat",[HI]:"fire-gcs",[YI]:"fire-gcs-compat",[qI]:"fire-fst",[GI]:"fire-fst-compat",[$I]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Map,XI=new Map,z0=new Map;function AE(n,e){try{n.container.addComponent(e)}catch(t){es.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Td(n){const e=n.name;if(z0.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,n);for(const t of cm.values())AE(t,n);for(const t of XI.values())AE(t,n);return!0}function VA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function LA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new kA("app","Firebase",ZI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=KI;function xx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:B0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(t||(t=NA()),!t)throw Bs.create("no-options");const o=cm.get(a);if(o){if(Ed(t,o.options)&&Ed(r,o.config))return o;throw Bs.create("duplicate-app",{appName:a})}const l=new iI(a);for(const h of z0.values())l.addComponent(h);const u=new JI(t,r,l);return cm.set(a,u),u}function FA(n=B0){const e=cm.get(n);if(!e&&n===B0&&NA())return xx();if(!e)throw Bs.create("no-app",{appName:n});return e}function zs(n,e,t){var r;let a=(r=WI[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(u.join(" "));return}Td(new fc(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="firebase-heartbeat-database",t5=1,Sd="firebase-heartbeat-store";let Gy=null;function BA(){return Gy||(Gy=vI(e5,t5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bs.create("idb-open",{originalErrorMessage:n.message})})),Gy}async function n5(n){try{const t=(await BA()).transaction(Sd),r=await t.objectStore(Sd).get(zA(n));return await t.done,r}catch(e){if(e instanceof ol)es.warn(e.message);else{const t=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(t.message)}}}async function RE(n,e){try{const r=(await BA()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,zA(n)),await r.done}catch(t){if(t instanceof ol)es.warn(t.message);else{const r=Bs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});es.warn(r.message)}}}function zA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=1024,a5=30;class i5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new o5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>a5){const l=l5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CE(),{heartbeatsToSend:r,unsentEntries:a}=s5(this._heartbeatsCache.heartbeats),o=lm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return es.warn(t),""}}}function CE(){return new Date().toISOString().substring(0,10)}function s5(n,e=r5){const t=[];let r=n.slice();for(const a of n){const o=t.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),NE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),NE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class o5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XO()?ZO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await n5(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function NE(n){return lm(JSON.stringify({version:2,heartbeats:n})).length}function l5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n){Td(new fc("platform-logger",e=>new wI(e),"PRIVATE")),Td(new fc("heartbeat",e=>new i5(e),"PRIVATE")),zs(F0,DE,n),zs(F0,DE,"esm2017"),zs("fire-js","")}c5("");var u5="firebase",d5="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(u5,d5,"app");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,HA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function N(){}N.prototype=R.prototype,O.D=R.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(C,L,z){for(var B=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)B[Ee-2]=arguments[Ee];return R.prototype[L].apply(C,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,R,N){N||(N=0);var C=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)C[L]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(L=0;16>L;++L)C[L]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=O.g[0],N=O.g[1],L=O.g[2];var z=O.g[3],B=R+(z^N&(L^z))+C[0]+3614090360&4294967295;R=N+(B<<7&4294967295|B>>>25),B=z+(L^R&(N^L))+C[1]+3905402710&4294967295,z=R+(B<<12&4294967295|B>>>20),B=L+(N^z&(R^N))+C[2]+606105819&4294967295,L=z+(B<<17&4294967295|B>>>15),B=N+(R^L&(z^R))+C[3]+3250441966&4294967295,N=L+(B<<22&4294967295|B>>>10),B=R+(z^N&(L^z))+C[4]+4118548399&4294967295,R=N+(B<<7&4294967295|B>>>25),B=z+(L^R&(N^L))+C[5]+1200080426&4294967295,z=R+(B<<12&4294967295|B>>>20),B=L+(N^z&(R^N))+C[6]+2821735955&4294967295,L=z+(B<<17&4294967295|B>>>15),B=N+(R^L&(z^R))+C[7]+4249261313&4294967295,N=L+(B<<22&4294967295|B>>>10),B=R+(z^N&(L^z))+C[8]+1770035416&4294967295,R=N+(B<<7&4294967295|B>>>25),B=z+(L^R&(N^L))+C[9]+2336552879&4294967295,z=R+(B<<12&4294967295|B>>>20),B=L+(N^z&(R^N))+C[10]+4294925233&4294967295,L=z+(B<<17&4294967295|B>>>15),B=N+(R^L&(z^R))+C[11]+2304563134&4294967295,N=L+(B<<22&4294967295|B>>>10),B=R+(z^N&(L^z))+C[12]+1804603682&4294967295,R=N+(B<<7&4294967295|B>>>25),B=z+(L^R&(N^L))+C[13]+4254626195&4294967295,z=R+(B<<12&4294967295|B>>>20),B=L+(N^z&(R^N))+C[14]+2792965006&4294967295,L=z+(B<<17&4294967295|B>>>15),B=N+(R^L&(z^R))+C[15]+1236535329&4294967295,N=L+(B<<22&4294967295|B>>>10),B=R+(L^z&(N^L))+C[1]+4129170786&4294967295,R=N+(B<<5&4294967295|B>>>27),B=z+(N^L&(R^N))+C[6]+3225465664&4294967295,z=R+(B<<9&4294967295|B>>>23),B=L+(R^N&(z^R))+C[11]+643717713&4294967295,L=z+(B<<14&4294967295|B>>>18),B=N+(z^R&(L^z))+C[0]+3921069994&4294967295,N=L+(B<<20&4294967295|B>>>12),B=R+(L^z&(N^L))+C[5]+3593408605&4294967295,R=N+(B<<5&4294967295|B>>>27),B=z+(N^L&(R^N))+C[10]+38016083&4294967295,z=R+(B<<9&4294967295|B>>>23),B=L+(R^N&(z^R))+C[15]+3634488961&4294967295,L=z+(B<<14&4294967295|B>>>18),B=N+(z^R&(L^z))+C[4]+3889429448&4294967295,N=L+(B<<20&4294967295|B>>>12),B=R+(L^z&(N^L))+C[9]+568446438&4294967295,R=N+(B<<5&4294967295|B>>>27),B=z+(N^L&(R^N))+C[14]+3275163606&4294967295,z=R+(B<<9&4294967295|B>>>23),B=L+(R^N&(z^R))+C[3]+4107603335&4294967295,L=z+(B<<14&4294967295|B>>>18),B=N+(z^R&(L^z))+C[8]+1163531501&4294967295,N=L+(B<<20&4294967295|B>>>12),B=R+(L^z&(N^L))+C[13]+2850285829&4294967295,R=N+(B<<5&4294967295|B>>>27),B=z+(N^L&(R^N))+C[2]+4243563512&4294967295,z=R+(B<<9&4294967295|B>>>23),B=L+(R^N&(z^R))+C[7]+1735328473&4294967295,L=z+(B<<14&4294967295|B>>>18),B=N+(z^R&(L^z))+C[12]+2368359562&4294967295,N=L+(B<<20&4294967295|B>>>12),B=R+(N^L^z)+C[5]+4294588738&4294967295,R=N+(B<<4&4294967295|B>>>28),B=z+(R^N^L)+C[8]+2272392833&4294967295,z=R+(B<<11&4294967295|B>>>21),B=L+(z^R^N)+C[11]+1839030562&4294967295,L=z+(B<<16&4294967295|B>>>16),B=N+(L^z^R)+C[14]+4259657740&4294967295,N=L+(B<<23&4294967295|B>>>9),B=R+(N^L^z)+C[1]+2763975236&4294967295,R=N+(B<<4&4294967295|B>>>28),B=z+(R^N^L)+C[4]+1272893353&4294967295,z=R+(B<<11&4294967295|B>>>21),B=L+(z^R^N)+C[7]+4139469664&4294967295,L=z+(B<<16&4294967295|B>>>16),B=N+(L^z^R)+C[10]+3200236656&4294967295,N=L+(B<<23&4294967295|B>>>9),B=R+(N^L^z)+C[13]+681279174&4294967295,R=N+(B<<4&4294967295|B>>>28),B=z+(R^N^L)+C[0]+3936430074&4294967295,z=R+(B<<11&4294967295|B>>>21),B=L+(z^R^N)+C[3]+3572445317&4294967295,L=z+(B<<16&4294967295|B>>>16),B=N+(L^z^R)+C[6]+76029189&4294967295,N=L+(B<<23&4294967295|B>>>9),B=R+(N^L^z)+C[9]+3654602809&4294967295,R=N+(B<<4&4294967295|B>>>28),B=z+(R^N^L)+C[12]+3873151461&4294967295,z=R+(B<<11&4294967295|B>>>21),B=L+(z^R^N)+C[15]+530742520&4294967295,L=z+(B<<16&4294967295|B>>>16),B=N+(L^z^R)+C[2]+3299628645&4294967295,N=L+(B<<23&4294967295|B>>>9),B=R+(L^(N|~z))+C[0]+4096336452&4294967295,R=N+(B<<6&4294967295|B>>>26),B=z+(N^(R|~L))+C[7]+1126891415&4294967295,z=R+(B<<10&4294967295|B>>>22),B=L+(R^(z|~N))+C[14]+2878612391&4294967295,L=z+(B<<15&4294967295|B>>>17),B=N+(z^(L|~R))+C[5]+4237533241&4294967295,N=L+(B<<21&4294967295|B>>>11),B=R+(L^(N|~z))+C[12]+1700485571&4294967295,R=N+(B<<6&4294967295|B>>>26),B=z+(N^(R|~L))+C[3]+2399980690&4294967295,z=R+(B<<10&4294967295|B>>>22),B=L+(R^(z|~N))+C[10]+4293915773&4294967295,L=z+(B<<15&4294967295|B>>>17),B=N+(z^(L|~R))+C[1]+2240044497&4294967295,N=L+(B<<21&4294967295|B>>>11),B=R+(L^(N|~z))+C[8]+1873313359&4294967295,R=N+(B<<6&4294967295|B>>>26),B=z+(N^(R|~L))+C[15]+4264355552&4294967295,z=R+(B<<10&4294967295|B>>>22),B=L+(R^(z|~N))+C[6]+2734768916&4294967295,L=z+(B<<15&4294967295|B>>>17),B=N+(z^(L|~R))+C[13]+1309151649&4294967295,N=L+(B<<21&4294967295|B>>>11),B=R+(L^(N|~z))+C[4]+4149444226&4294967295,R=N+(B<<6&4294967295|B>>>26),B=z+(N^(R|~L))+C[11]+3174756917&4294967295,z=R+(B<<10&4294967295|B>>>22),B=L+(R^(z|~N))+C[2]+718787259&4294967295,L=z+(B<<15&4294967295|B>>>17),B=N+(z^(L|~R))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var N=R-this.blockSize,C=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=N;)a(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(C[L++]=O.charCodeAt(z++),L==this.blockSize){a(this,C),L=0;break}}else for(;z<R;)if(C[L++]=O[z++],L==this.blockSize){a(this,C),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var N=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=N&255,N/=256;for(this.u(O),O=Array(16),R=N=0;4>R;++R)for(var C=0;32>C;C+=8)O[N++]=this.g[R]>>>C&255;return O};function o(O,R){var N=u;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=R(O)}function l(O,R){this.h=R;for(var N=[],C=!0,L=O.length-1;0<=L;L--){var z=O[L]|0;C&&z==R||(N[L]=z,C=!1)}this.g=N}var u={};function h(O){return-128<=O&&128>O?o(O,function(R){return new l([R|0],0>R?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return A(f(-O));for(var R=[],N=1,C=0;O>=N;C++)R[C]=O/N|0,N*=4294967296;return new l(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return A(y(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(R,8)),C=v,L=0;L<O.length;L+=8){var z=Math.min(8,O.length-L),B=parseInt(O.substring(L,L+z),R);8>z?(z=f(Math.pow(R,z)),C=C.j(z).add(f(B))):(C=C.j(N),C=C.add(f(B)))}return C}var v=h(0),b=h(1),_=h(16777216);n=l.prototype,n.m=function(){if(D(this))return-A(this).m();for(var O=0,R=1,N=0;N<this.g.length;N++){var C=this.i(N);O+=(0<=C?C:4294967296+C)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(D(this))return"-"+A(this).toString(O);for(var R=f(Math.pow(O,6)),N=this,C="";;){var L=q(N,R).g;N=j(N,L.j(R));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=L,E(N))return z+C;for(;6>z.length;)z="0"+z;C=z+C}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function D(O){return O.h==-1}n.l=function(O){return O=j(this,O),D(O)?-1:E(O)?0:1};function A(O){for(var R=O.g.length,N=[],C=0;C<R;C++)N[C]=~O.g[C];return new l(N,~O.h).add(b)}n.abs=function(){return D(this)?A(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],C=0,L=0;L<=R;L++){var z=C+(this.i(L)&65535)+(O.i(L)&65535),B=(z>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);C=B>>>16,z&=65535,B&=65535,N[L]=B<<16|z}return new l(N,N[N.length-1]&-2147483648?-1:0)};function j(O,R){return O.add(A(R))}n.j=function(O){if(E(this)||E(O))return v;if(D(this))return D(O)?A(this).j(A(O)):A(A(this).j(O));if(D(O))return A(this.j(A(O)));if(0>this.l(_)&&0>O.l(_))return f(this.m()*O.m());for(var R=this.g.length+O.g.length,N=[],C=0;C<2*R;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(var L=0;L<O.g.length;L++){var z=this.i(C)>>>16,B=this.i(C)&65535,Ee=O.i(L)>>>16,be=O.i(L)&65535;N[2*C+2*L]+=B*be,U(N,2*C+2*L),N[2*C+2*L+1]+=z*be,U(N,2*C+2*L+1),N[2*C+2*L+1]+=B*Ee,U(N,2*C+2*L+1),N[2*C+2*L+2]+=z*Ee,U(N,2*C+2*L+2)}for(C=0;C<R;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=R;C<2*R;C++)N[C]=0;return new l(N,0)};function U(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function F(O,R){this.g=O,this.h=R}function q(O,R){if(E(R))throw Error("division by zero");if(E(O))return new F(v,v);if(D(O))return R=q(A(O),R),new F(A(R.g),A(R.h));if(D(R))return R=q(O,A(R)),new F(A(R.g),R.h);if(30<O.g.length){if(D(O)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var N=b,C=R;0>=C.l(O);)N=k(N),C=k(C);var L=$(N,1),z=$(C,1);for(C=$(C,2),N=$(N,2);!E(C);){var B=z.add(C);0>=B.l(O)&&(L=L.add(N),z=B),C=$(C,1),N=$(N,1)}return R=j(O,L.j(R)),new F(L,R)}for(L=v;0<=O.l(R);){for(N=Math.max(1,Math.floor(O.m()/R.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),z=f(N),B=z.j(R);D(B)||0<B.l(O);)N-=C,z=f(N),B=z.j(R);E(z)&&(z=b),L=L.add(z),O=j(O,B)}return new F(L,O)}n.A=function(O){return q(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],C=0;C<R;C++)N[C]=this.i(C)&O.i(C);return new l(N,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],C=0;C<R;C++)N[C]=this.i(C)|O.i(C);return new l(N,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],C=0;C<R;C++)N[C]=this.i(C)^O.i(C);return new l(N,this.h^O.h)};function k(O){for(var R=O.g.length+1,N=[],C=0;C<R;C++)N[C]=O.i(C)<<1|O.i(C-1)>>>31;return new l(N,O.h)}function $(O,R){var N=R>>5;R%=32;for(var C=O.g.length-N,L=[],z=0;z<C;z++)L[z]=0<R?O.i(z+N)>>>R|O.i(z+N+1)<<32-R:O.i(z+N);return new l(L,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=y,Hs=l}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YA,Xu,qA,Vf,H0,$A,GA,QA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,T){return m==Array.prototype||m==Object.prototype||(m[w]=T.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var w=0;w<m.length;++w){var T=m[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(m,w){if(w)e:{var T=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var te=m[V];if(!(te in T))break e;T=T[te]}m=m[m.length-1],V=T[m],w=w(V),w!=V&&w!=null&&e(T,m,{configurable:!0,writable:!0,value:w})}}function o(m,w){m instanceof String&&(m+="");var T=0,V=!1,te={next:function(){if(!V&&T<m.length){var se=T++;return{value:w(se,m[se]),done:!1}}return V=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}a("Array.prototype.values",function(m){return m||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function f(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function y(m,w,T){return m.call.apply(m.bind,arguments)}function v(m,w,T){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,V),m.apply(w,te)}}return function(){return m.apply(w,arguments)}}function b(m,w,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function _(m,w){var T=Array.prototype.slice.call(arguments,1);return function(){var V=T.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function E(m,w){function T(){}T.prototype=w.prototype,m.aa=w.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(V,te,se){for(var _e=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)_e[yt-2]=arguments[yt];return w.prototype[te].apply(V,_e)}}function D(m){const w=m.length;if(0<w){const T=Array(w);for(let V=0;V<w;V++)T[V]=m[V];return T}return[]}function A(m,w){for(let T=1;T<arguments.length;T++){const V=arguments[T];if(h(V)){const te=m.length||0,se=V.length||0;m.length=te+se;for(let _e=0;_e<se;_e++)m[te+_e]=V[_e]}else m.push(V)}}class j{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var k=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function $(m,w,T){for(const V in m)w.call(T,m[V],V,m)}function O(m,w){for(const T in m)w.call(void 0,m[T],T,m)}function R(m){const w={};for(const T in m)w[T]=m[T];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(m,w){let T,V;for(let te=1;te<arguments.length;te++){V=arguments[te];for(T in V)m[T]=V[T];for(let se=0;se<N.length;se++)T=N[se],Object.prototype.hasOwnProperty.call(V,T)&&(m[T]=V[T])}}function L(m){var w=1;m=m.split(":");const T=[];for(;0<w&&m.length;)T.push(m.shift()),w--;return m.length&&T.push(m.join(":")),T}function z(m){u.setTimeout(()=>{throw m},0)}function B(){var m=ve;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class Ee{constructor(){this.h=this.g=null}add(w,T){const V=be.get();V.set(w,T),this.h?this.h.next=V:this.g=V,this.h=V}}var be=new j(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,oe=!1,ve=new Ee,P=()=>{const m=u.Promise.resolve(void 0);re=()=>{m.then(W)}};var W=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch(T){z(T)}var w=be;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}oe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return m}();function Be(m,w){if(de.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(k){e:{try{q(w.nodeName);var te=!0;break e}catch{}te=!1}te||(w=null)}}else T=="mouseover"?w=m.fromElement:T=="mouseout"&&(w=m.toElement);this.relatedTarget=w,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ye[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Be.aa.h.call(this)}}E(Be,de);var Ye={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),at=0;function qe(m,w,T,V,te){this.listener=m,this.proxy=null,this.src=w,this.type=T,this.capture=!!V,this.ha=te,this.key=++at,this.da=this.fa=!1}function it(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Bt(m){this.src=m,this.g={},this.h=0}Bt.prototype.add=function(m,w,T,V,te){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var _e=Xt(m,w,V,te);return-1<_e?(w=m[_e],T||(w.fa=!1)):(w=new qe(w,this.src,se,!!V,te),w.fa=T,m.push(w)),w};function yr(m,w){var T=w.type;if(T in m.g){var V=m.g[T],te=Array.prototype.indexOf.call(V,w,void 0),se;(se=0<=te)&&Array.prototype.splice.call(V,te,1),se&&(it(w),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Xt(m,w,T,V){for(var te=0;te<m.length;++te){var se=m[te];if(!se.da&&se.listener==w&&se.capture==!!T&&se.ha==V)return te}return-1}var hn="closure_lm_"+(1e6*Math.random()|0),Hn={};function rr(m,w,T,V,te){if(Array.isArray(w)){for(var se=0;se<w.length;se++)rr(m,w[se],T,V,te);return null}return T=Re(T),m&&m[Lt]?m.K(w,T,f(V)?!!V.capture:!1,te):ar(m,w,T,!1,V,te)}function ar(m,w,T,V,te,se){if(!w)throw Error("Invalid event type");var _e=f(te)?!!te.capture:!!te,yt=et(m);if(yt||(m[hn]=yt=new Bt(m)),T=yt.add(w,T,V,_e,se),T.proxy)return T;if(V=$r(),T.proxy=V,V.src=m,V.listener=T,m.addEventListener)we||(te=_e),te===void 0&&(te=!1),m.addEventListener(w.toString(),V,te);else if(m.attachEvent)m.attachEvent(ke(w.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $r(){function m(T){return w.call(m.src,m.listener,T)}const w=Ke;return m}function xe(m,w,T,V,te){if(Array.isArray(w))for(var se=0;se<w.length;se++)xe(m,w[se],T,V,te);else V=f(V)?!!V.capture:!!V,T=Re(T),m&&m[Lt]?(m=m.i,w=String(w).toString(),w in m.g&&(se=m.g[w],T=Xt(se,T,V,te),-1<T&&(it(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete m.g[w],m.h--)))):m&&(m=et(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Xt(w,T,V,te)),(T=-1<m?w[m]:null)&&Qe(T))}function Qe(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Lt])yr(w.i,m);else{var T=m.type,V=m.proxy;w.removeEventListener?w.removeEventListener(T,V,m.capture):w.detachEvent?w.detachEvent(ke(T),V):w.addListener&&w.removeListener&&w.removeListener(V),(T=et(w))?(yr(T,m),T.h==0&&(T.src=null,w[hn]=null)):it(m)}}}function ke(m){return m in Hn?Hn[m]:Hn[m]="on"+m}function Ke(m,w){if(m.da)m=!0;else{w=new Be(w,this);var T=m.listener,V=m.ha||m.src;m.fa&&Qe(m),m=T.call(V,w)}return m}function et(m){return m=m[hn],m instanceof Bt?m:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(m){return typeof m=="function"?m:(m[ge]||(m[ge]=function(w){return m.handleEvent(w)}),m[ge])}function Se(){ue.call(this),this.i=new Bt(this),this.M=this,this.F=null}E(Se,ue),Se.prototype[Lt]=!0,Se.prototype.removeEventListener=function(m,w,T,V){xe(this,m,w,T,V)};function We(m,w){var T,V=m.F;if(V)for(T=[];V;V=V.F)T.push(V);if(m=m.M,V=w.type||w,typeof w=="string")w=new de(w,m);else if(w instanceof de)w.target=w.target||m;else{var te=w;w=new de(V,m),C(w,te)}if(te=!0,T)for(var se=T.length-1;0<=se;se--){var _e=w.g=T[se];te=_t(_e,V,!0,w)&&te}if(_e=w.g=m,te=_t(_e,V,!0,w)&&te,te=_t(_e,V,!1,w)&&te,T)for(se=0;se<T.length;se++)_e=w.g=T[se],te=_t(_e,V,!1,w)&&te}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var T=m.g[w],V=0;V<T.length;V++)it(T[V]);delete m.g[w],m.h--}}this.F=null},Se.prototype.K=function(m,w,T,V){return this.i.add(String(m),w,!1,T,V)},Se.prototype.L=function(m,w,T,V){return this.i.add(String(m),w,!0,T,V)};function _t(m,w,T,V){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var te=!0,se=0;se<w.length;++se){var _e=w[se];if(_e&&!_e.da&&_e.capture==T){var yt=_e.listener,An=_e.ha||_e.src;_e.fa&&yr(m.i,_e),te=yt.call(An,V)!==!1&&te}}return te&&!V.defaultPrevented}function vr(m,w,T){if(typeof m=="function")T&&(m=b(m,T));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(m,w||0)}function ir(m){m.g=vr(()=>{m.g=null,m.i&&(m.i=!1,ir(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class ss extends ue{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(m){ue.call(this),this.h=m,this.g={}}E(Gr,ue);var wa=[];function Pn(m){$(m.g,function(w,T){this.g.hasOwnProperty(T)&&Qe(w)},m),m.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Pn(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=u.JSON.stringify,xr=u.JSON.parse,jn=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function yi(){}yi.prototype.h=null;function dl(m){return m.h||(m.h=m.i())}function co(){}var Qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _a(){de.call(this,"d")}E(_a,de);function sr(){de.call(this,"c")}E(sr,de);var Yn={},Ia=null;function ls(){return Ia=Ia||new Se}Yn.La="serverreachability";function Y(m){de.call(this,Yn.La,m)}E(Y,de);function X(m){const w=ls();We(w,new Y(w))}Yn.STAT_EVENT="statevent";function ie(m,w){de.call(this,Yn.STAT_EVENT,m),this.stat=w}E(ie,de);function he(m){const w=ls();We(w,new ie(w,m))}Yn.Ma="timingevent";function Te(m,w){de.call(this,Yn.Ma,m),this.size=w}E(Te,de);function ze(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},w)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Ie(m,w,T,V,te,se){m.info(function(){if(m.g)if(se)for(var _e="",yt=se.split("&"),An=0;An<yt.length;An++){var vt=yt[An].split("=");if(1<vt.length){var Vn=vt[0];vt=vt[1];var Rn=Vn.split("_");_e=2<=Rn.length&&Rn[1]=="type"?_e+(Vn+"="+vt+"&"):_e+(Vn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+V+") [attempt "+te+"]: "+w+`
`+T+`
`+_e})}function Le(m,w,T,V,te,se,_e){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+te+"]: "+w+`
`+T+`
`+se+" "+_e})}function De(m,w,T,V){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+je(m,T)+(V?" "+V:"")})}function Pe(m,w){m.info(function(){return"TIMEOUT: "+w})}Fe.prototype.info=function(){};function je(m,w){if(!m.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var V=T[m];if(!(2>V.length)){var te=V[1];if(Array.isArray(te)&&!(1>te.length)){var se=te[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<te.length;_e++)te[_e]=""}}}}return os(T)}catch{return w}}var Ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zt;function zt(){}E(zt,yi),zt.prototype.g=function(){return new XMLHttpRequest},zt.prototype.i=function(){return{}},Zt=new zt;function Et(m,w,T,V){this.j=m,this.i=w,this.l=T,this.R=V||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var br={},Ir={};function fn(m,w,T){m.L=1,m.v=mo(sn(w)),m.m=T,m.P=!0,xn(m,null)}function xn(m,w){m.F=Date.now(),Nt(m),m.A=sn(m.v);var T=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),wi(T.i,"t",V),m.C=0,T=m.j.J,m.h=new Kt,m.g=uh(m.j,T?w:null,!m.m),0<m.O&&(m.M=new ss(b(m.Y,m,m.g),m.O)),w=m.U,T=m.g,V=m.ca;var te="readystatechange";Array.isArray(te)||(te&&(wa[0]=te.toString()),te=wa);for(var se=0;se<te.length;se++){var _e=rr(T,te[se],V||w.handleEvent,!1,w.h||w);if(!_e)break;w.g[_e.key]=_e}w=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),X(),Ie(m.i,m.u,m.A,m.l,m.R,m.m)}Et.prototype.ca=function(m){m=m.target;const w=this.M;w&&ta(m)==3?w.j():this.Y(m)},Et.prototype.Y=function(m){try{if(m==this.g)e:{const Rn=ta(this.g);var w=this.g.Ba();const Si=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||nh(this.g)))){this.J||Rn!=4||w==7||(w==8||0>=Si?X(3):X(2)),Ea(this);var T=this.g.Z();this.X=T;t:if(Kr(this)){var V=nh(this.g);m="";var te=V.length,se=ta(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),ot(this);var _e="";break t}this.h.i=new u.TextDecoder}for(w=0;w<te;w++)this.h.h=!0,m+=this.h.i.decode(V[w],{stream:!(se&&w==te-1)});V.length=0,this.h.g+=m,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=T==200,Le(this.i,this.u,this.A,this.l,this.R,Rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,An=this.g;if((yt=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(yt)){var vt=yt;break t}}vt=null}if(T=vt)De(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,On(this,T);else{this.o=!1,this.s=3,he(12),Mt(this),ot(this);break e}}if(this.P){T=!0;let qn;for(;!this.J&&this.C<_e.length;)if(qn=Cr(this,_e),qn==Ir){Rn==4&&(this.s=4,he(14),T=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==br){this.s=4,he(15),De(this.i,this.l,_e,"[Invalid Chunk]"),T=!1;break}else De(this.i,this.l,qn,null),On(this,qn);if(Kr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||_e.length!=0||this.h.h||(this.s=1,he(16),T=!1),this.o=this.o&&T,!T)De(this.i,this.l,_e,"[Invalid Chunked Response]"),Mt(this),ot(this);else if(0<_e.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),wo(Vn),Vn.M=!0,he(11))}}else De(this.i,this.l,_e,null),On(this,_e);Rn==4&&Mt(this),this.o&&!this.J&&(Rn==4?oh(this.j,this):(this.o=!1,Nt(this)))}else Np(this.g),T==400&&0<_e.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Mt(this),ot(this)}}}catch{}finally{}};function Kr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Cr(m,w){var T=m.C,V=w.indexOf(`
`,T);return V==-1?Ir:(T=Number(w.substring(T,V)),isNaN(T)?br:(V+=1,V+T>w.length?Ir:(w=w.slice(V,V+T),m.C=V+T,w)))}Et.prototype.cancel=function(){this.J=!0,Mt(this)};function Nt(m){m.S=Date.now()+m.I,Va(m,m.I)}function Va(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ze(b(m.ba,m),w)}function Ea(m){m.B&&(u.clearTimeout(m.B),m.B=null)}Et.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Pe(this.i,this.A),this.L!=2&&(X(),he(17)),Mt(this),this.s=2,ot(this)):Va(this,this.S-m)};function ot(m){m.j.G==0||m.J||oh(m.j,m)}function Mt(m){Ea(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Pn(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function On(m,w){try{var T=m.j;if(T.G!=0&&(T.g==m||La(T.h,m))){if(!m.K&&La(T.h,m)&&T.G==3){try{var V=T.Da.g.parse(w)}catch{V=null}if(Array.isArray(V)&&V.length==3){var te=V;if(te[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)wl(T),xl(T);else break e;Qc(T),he(18)}}else T.za=te[1],0<T.za-T.T&&37500>te[2]&&T.F&&T.v==0&&!T.C&&(T.C=ze(b(T.Za,T),6e3));if(1>=uo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ti(T,11)}else if((m.K||T.g==m)&&wl(T),!U(w))for(te=T.Da.g.parse(w),w=0;w<te.length;w++){let vt=te[w];if(T.T=vt[0],vt=vt[1],T.G==2)if(vt[0]=="c"){T.K=vt[1],T.ia=vt[2];const Vn=vt[3];Vn!=null&&(T.la=Vn,T.j.info("VER="+T.la));const Rn=vt[4];Rn!=null&&(T.Aa=Rn,T.j.info("SVER="+T.Aa));const Si=vt[5];Si!=null&&typeof Si=="number"&&0<Si&&(V=1.5*Si,T.L=V,T.j.info("backChannelRequestTimeoutMs_="+V)),V=T;const qn=m.g;if(qn){const qa=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var se=V.h;se.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(cs(se,se.h),se.h=null))}if(V.D){const Wc=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wc&&(V.ya=Wc,At(V.I,V.D,Wc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),V=T;var _e=m;if(V.qa=ch(V,V.J?V.ia:null,V.W),_e.K){Xr(V.h,_e);var yt=_e,An=V.L;An&&(yt.I=An),yt.B&&(Ea(yt),Nt(yt)),V.g=_e}else ih(V);0<T.i.length&&bl(T)}else vt[0]!="stop"&&vt[0]!="close"||Ti(T,7);else T.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ti(T,7):$c(T):vt[0]!="noop"&&T.l&&T.l.ta(vt),T.v=0)}}X(4)}catch{}}var vi=class{constructor(m,w){this.g=m,this.map=w}};function qt(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function uo(m){return m.h?1:m.g?m.g.size:0}function La(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function cs(m,w){m.g?m.g.add(w):m.h=w}function Xr(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}qt.prototype.cancel=function(){if(this.i=wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const T of m.g.values())w=w.concat(T.D);return w}return D(m.i)}function Zd(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],T=m.length,V=0;V<T;V++)w.push(m[V]);return w}w=[],T=0;for(V in m)w[T++]=m[V];return w}function Dp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var T=0;T<m;T++)w.push(T);return w}w=[],T=0;for(const V in m)w[T++]=V;return w}}}function ho(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var T=Dp(m),V=Zd(m),te=V.length,se=0;se<te;se++)w.call(void 0,V[se],T&&T[se],m)}var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hl(m,w){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var V=m[T].indexOf("="),te=null;if(0<=V){var se=m[T].substring(0,V);te=m[T].substring(V+1)}else se=m[T];w(se,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function xi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof xi){this.h=m.h,us(this,m.j),this.o=m.o,this.g=m.g,fo(this,m.s),this.l=m.l;var w=m.i,T=new Ua;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),fl(this,T),this.m=m.m}else m&&(w=String(m).match(Fc))?(this.h=!1,us(this,w[1]||"",!0),this.o=ds(w[2]||""),this.g=ds(w[3]||"",!0),fo(this,w[4]),this.l=ds(w[5]||"",!0),fl(this,w[6]||"",!0),this.m=ds(w[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}xi.prototype.toString=function(){var m=[],w=this.j;w&&m.push(Zr(w,Bc,!0),":");var T=this.g;return(T||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Zr(w,Bc,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(Zr(T,T.charAt(0)=="/"?zc:Jd,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",Zr(T,Cp)),m.join("")};function sn(m){return new xi(m)}function us(m,w,T){m.j=T?ds(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function fo(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function fl(m,w,T){w instanceof Ua?(m.i=w,Hc(m.i,m.h)):(T||(w=Zr(w,Rp)),m.i=new Ua(w,m.h))}function At(m,w,T){m.i.set(w,T)}function mo(m){return At(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ds(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Zr(m,w,T){return typeof m=="string"?(m=encodeURI(m).replace(w,Ap),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ap(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Bc=/[#\/\?@]/g,Jd=/[#\?:]/g,zc=/[#\?]/g,Rp=/[#\?@]/g,Cp=/#/g;function Ua(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Jr(m){m.g||(m.g=new Map,m.h=0,m.i&&hl(m.i,function(w,T){m.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}n=Ua.prototype,n.add=function(m,w){Jr(this),this.i=null,m=_i(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(w),this.h+=1,this};function ml(m,w){Jr(m),w=_i(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function bi(m,w){return Jr(m),w=_i(m,w),m.g.has(w)}n.forEach=function(m,w){Jr(this),this.g.forEach(function(T,V){T.forEach(function(te){m.call(w,te,V,this)},this)},this)},n.na=function(){Jr(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let V=0;V<w.length;V++){const te=m[V];for(let se=0;se<te.length;se++)T.push(w[V])}return T},n.V=function(m){Jr(this);let w=[];if(typeof m=="string")bi(this,m)&&(w=w.concat(this.g.get(_i(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)w=w.concat(m[T])}return w},n.set=function(m,w){return Jr(this),this.i=null,m=_i(this,m),bi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},n.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function wi(m,w,T){ml(m,w),0<T.length&&(m.i=null,m.g.set(_i(m,w),D(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var V=w[T];const se=encodeURIComponent(String(V)),_e=this.V(V);for(V=0;V<_e.length;V++){var te=se;_e[V]!==""&&(te+="="+encodeURIComponent(String(_e[V]))),m.push(te)}}return this.i=m.join("&")};function _i(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Hc(m,w){w&&!m.j&&(Jr(m),m.i=null,m.g.forEach(function(T,V){var te=V.toLowerCase();V!=te&&(ml(this,V),wi(this,te,T))},m)),m.j=w}function eh(m,w){const T=new Fe;if(u.Image){const V=new Image;V.onload=_(ea,T,"TestLoadImage: loaded",!0,w,V),V.onerror=_(ea,T,"TestLoadImage: error",!1,w,V),V.onabort=_(ea,T,"TestLoadImage: abort",!1,w,V),V.ontimeout=_(ea,T,"TestLoadImage: timeout",!1,w,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else w(!1)}function po(m,w){const T=new Fe,V=new AbortController,te=setTimeout(()=>{V.abort(),ea(T,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:V.signal}).then(se=>{clearTimeout(te),se.ok?ea(T,"TestPingServer: ok",!0,w):ea(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(te),ea(T,"TestPingServer: error",!1,w)})}function ea(m,w,T,V,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),V(T)}catch{}}function go(){this.g=new jn}function Fa(m,w,T){const V=T||"";try{ho(m,function(te,se){let _e=te;f(te)&&(_e=os(te)),w.push(V+se+"="+encodeURIComponent(_e))})}catch(te){throw w.push(V+"type="+encodeURIComponent("_badmap")),te}}function hs(m){this.l=m.Ub||null,this.j=m.eb||!1}E(hs,yi),hs.prototype.g=function(){return new Ei(this.l,this.j)},hs.prototype.i=function(m){return function(){return m}}({});function Ei(m,w){Se.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ei,Se),n=Ei.prototype,n.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,za(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?Ba(this):za(this),this.readyState==3&&Yc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ba(this))},n.Qa=function(m){this.g&&(this.response=m,Ba(this))},n.ga=function(){this.g&&Ba(this)};function Ba(m){m.readyState=4,m.l=null,m.j=null,m.v=null,za(m)}n.setRequestHeader=function(m,w){this.u.append(m,w)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=w.next();return m.join(`\r
`)};function za(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function qc(m){let w="";return $(m,function(T,V){w+=V,w+=":",w+=T,w+=`\r
`}),w}function In(m,w,T){e:{for(V in T){var V=!1;break e}V=!0}V||(T=qc(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):At(m,w,T))}function Pt(m){Se.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Pt,Se);var pl=/^https?$/i,yo=["POST","PUT"];n=Pt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,w,T,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zt.g(),this.v=this.o?dl(this.o):dl(Zt),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(se){th(this,se);return}if(m=T||"",T=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var te in V)T.set(te,V[te]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const se of V.keys())T.set(se,V.get(se));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),te=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(yo,w,void 0))||V||te||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of T)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){th(this,se)}};function th(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,gl(m),Ha(m)}function gl(m){m.A||(m.A=!0,We(m,"complete"),We(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,We(this,"complete"),We(this,"abort"),Ha(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ha(this,!0)),Pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yl(this):this.bb())},n.bb=function(){yl(this)};function yl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||ta(m)!=4||m.Z()!=2)){if(m.u&&ta(m)==4)vr(m.Ea,0,m);else if(We(m,"readystatechange"),ta(m)==4){m.h=!1;try{const _e=m.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var V;if(V=_e===0){var te=String(m.D).match(Fc)[1]||null;!te&&u.self&&u.self.location&&(te=u.self.location.protocol.slice(0,-1)),V=!pl.test(te?te.toLowerCase():"")}T=V}if(T)We(m,"complete"),We(m,"success");else{m.m=6;try{var se=2<ta(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",gl(m)}}finally{Ha(m)}}}}function Ha(m,w){if(m.g){vo(m);const T=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||We(m,"ready");try{T.onreadystatechange=V}catch{}}}function vo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function ta(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<ta(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),xr(w)}};function nh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Np(m){const w={};m=(m.g&&2<=ta(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(U(m[V]))continue;var T=L(m[V]);const te=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=w[te]||[];w[te]=se,se.push(T)}O(w,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xo(m,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||w}function vl(m){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xo("baseRetryDelayMs",5e3,m),this.cb=xo("retryDelaySeedMs",1e4,m),this.Wa=xo("forwardChannelMaxRetries",2,m),this.wa=xo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new qt(m&&m.concurrentRequestLimit),this.Da=new go,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=vl.prototype,n.la=8,n.G=1,n.connect=function(m,w,T,V){he(0),this.W=m,this.H=w||{},T&&V!==void 0&&(this.H.OSID=T,this.H.OAID=V),this.F=this.X,this.I=ch(this,null,this.W),bl(this)};function $c(m){if(rh(m),m.G==3){var w=m.U++,T=sn(m.I);if(At(T,"SID",m.K),At(T,"RID",w),At(T,"TYPE","terminate"),bo(m,T),w=new Et(m,m.j,w),w.L=2,w.v=mo(sn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=uh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Nt(w)}lh(m)}function xl(m){m.g&&(wo(m),m.g.cancel(),m.g=null)}function rh(m){xl(m),m.u&&(u.clearTimeout(m.u),m.u=null),wl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function bl(m){if(!Wr(m.h)&&!m.s){m.s=!0;var w=m.Ga;re||P(),oe||(re(),oe=!0),ve.add(w,m),m.B=0}}function Mp(m,w){return uo(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ze(b(m.Ga,m,w),Kc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const te=new Et(this,this.j,m);let se=this.o;if(this.S&&(se?(se=R(se),C(se,this.S)):se=this.S),this.m!==null||this.O||(te.H=se,se=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var V=this.i[T];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(w+=V,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=ah(this,te,w),T=sn(this.I),At(T,"RID",m),At(T,"CVER",22),this.D&&At(T,"X-HTTP-Session-Id",this.D),bo(this,T),se&&(this.O?w="headers="+encodeURIComponent(String(qc(se)))+"&"+w:this.m&&In(T,this.m,se)),cs(this.h,te),this.Ua&&At(T,"TYPE","init"),this.P?(At(T,"$req",w),At(T,"SID","null"),te.T=!0,fn(te,T,null)):fn(te,T,w),this.G=2}}else this.G==3&&(m?Gc(this,m):this.i.length==0||Wr(this.h)||Gc(this))};function Gc(m,w){var T;w?T=w.l:T=m.U++;const V=sn(m.I);At(V,"SID",m.K),At(V,"RID",T),At(V,"AID",m.T),bo(m,V),m.m&&m.o&&In(V,m.m,m.o),T=new Et(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),w&&(m.i=w.D.concat(m.i)),w=ah(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),cs(m.h,T),fn(T,V,w)}function bo(m,w){m.H&&$(m.H,function(T,V){At(w,V,T)}),m.l&&ho({},function(T,V){At(w,V,T)})}function ah(m,w,T){T=Math.min(m.i.length,T);var V=m.l?b(m.l.Na,m.l,m):null;e:{var te=m.i;let se=-1;for(;;){const _e=["count="+T];se==-1?0<T?(se=te[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let yt=!0;for(let An=0;An<T;An++){let vt=te[An].g;const Vn=te[An].map;if(vt-=se,0>vt)se=Math.max(0,te[An].g-100),yt=!1;else try{Fa(Vn,_e,"req"+vt+"_")}catch{V&&V(Vn)}}if(yt){V=_e.join("&");break e}}}return m=m.i.splice(0,T),w.D=m,V}function ih(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;re||P(),oe||(re(),oe=!0),ve.add(w,m),m.v=0}}function Qc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ze(b(m.Fa,m),Kc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ze(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),xl(this),sh(this))};function wo(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function sh(m){m.g=new Et(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=sn(m.qa);At(w,"RID","rpc"),At(w,"SID",m.K),At(w,"AID",m.T),At(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&At(w,"TO",m.ja),At(w,"TYPE","xmlhttp"),bo(m,w),m.m&&m.o&&In(w,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=mo(sn(w)),T.m=null,T.P=!0,xn(T,m)}n.Za=function(){this.C!=null&&(this.C=null,xl(this),Qc(this),he(19))};function wl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function oh(m,w){var T=null;if(m.g==w){wl(m),wo(m),m.g=null;var V=2}else if(La(m.h,w))T=w.D,Xr(m.h,w),V=1;else return;if(m.G!=0){if(w.o)if(V==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var te=m.B;V=ls(),We(V,new Te(V,T)),bl(m)}else ih(m);else if(te=w.s,te==3||te==0&&0<w.X||!(V==1&&Mp(m,w)||V==2&&Qc(m)))switch(T&&0<T.length&&(w=m.h,w.i=w.i.concat(T)),te){case 1:Ti(m,5);break;case 4:Ti(m,10);break;case 3:Ti(m,6);break;default:Ti(m,2)}}}function Kc(m,w){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*w}function Ti(m,w){if(m.j.info("Error code "+w),w==2){var T=b(m.fb,m),V=m.Xa;const te=!V;V=new xi(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||us(V,"https"),mo(V),te?eh(V.toString(),T):po(V.toString(),T)}else he(2);m.G=0,m.l&&m.l.sa(w),lh(m),rh(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function lh(m){if(m.G=0,m.ka=[],m.l){const w=wr(m.h);(w.length!=0||m.i.length!=0)&&(A(m.ka,w),A(m.ka,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.ra()}}function ch(m,w,T){var V=T instanceof xi?sn(T):new xi(T);if(V.g!="")w&&(V.g=w+"."+V.g),fo(V,V.s);else{var te=u.location;V=te.protocol,w=w?w+"."+te.hostname:te.hostname,te=+te.port;var se=new xi(null);V&&us(se,V),w&&(se.g=w),te&&fo(se,te),T&&(se.l=T),V=se}return T=m.D,w=m.ya,T&&w&&At(V,T,w),At(V,"VER",m.la),bo(m,V),V}function uh(m,w,T){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Pt(new hs({eb:T})):new Pt(m.pa),w.Ha(m.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}n=dh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _l(){}_l.prototype.g=function(m,w){return new _r(m,w)};function _r(m,w){Se.call(this),this.g=new vl(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!U(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Ya(this)}E(_r,Se),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){$c(this.g)},_r.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=os(m),m=T);w.i.push(new vi(w.Ya++,m)),w.G==3&&bl(w)},_r.prototype.N=function(){this.g.l=null,delete this.j,$c(this.g),delete this.g,_r.aa.N.call(this)};function hh(m){_a.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const T in w){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}E(hh,_a);function fh(){sr.call(this),this.status=1}E(fh,sr);function Ya(m){this.g=m}E(Ya,dh),Ya.prototype.ua=function(){We(this.g,"a")},Ya.prototype.ta=function(m){We(this.g,new hh(m))},Ya.prototype.sa=function(m){We(this.g,new fh)},Ya.prototype.ra=function(){We(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,QA=function(){return new _l},GA=function(){return ls()},$A=Yn,H0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,Vf=Ge,Dt.COMPLETE="complete",qA=Dt,co.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",Se.prototype.listen=Se.prototype.K,Xu=co,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,YA=Pt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",PE="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new jA("@firebase/firestore");function Xl(){return el.logLevel}function Ne(n,...e){if(el.logLevel<=wt.DEBUG){const t=e.map(bx);el.debug(`Firestore (${kc}): ${n}`,...t)}}function ts(n,...e){if(el.logLevel<=wt.ERROR){const t=e.map(bx);el.error(`Firestore (${kc}): ${n}`,...t)}}function mc(n,...e){if(el.logLevel<=wt.WARN){const t=e.map(bx);el.warn(`Firestore (${kc}): ${n}`,...t)}}function bx(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KA(n,r,t)}function KA(n,e,t){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ts(r),new Error(r)}function Ot(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||KA(e,a,r)}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends ol{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hr.UNAUTHENTICATED))}shutdown(){}}class f5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m5{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ot(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $i,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},u=h=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $i)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new WA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class p5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new p5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ot(this.o===void 0,3512);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=v5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function ut(n,e){return n<e?-1:n>e?1:0}function Y0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return ut(r,a);{const o=XA(),l=x5(o.encode(OE(n,t)),o.encode(OE(e,t)));return l!==0?l:ut(r,a)}}t+=r>65535?2:1}return ut(n.length,e.length)}function OE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function x5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ut(n[t],e[t]);return ut(n.length,e.length)}function pc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=-62135596800,VE=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*VE);return new Mn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<IE)throw new Me(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Mn(0,0))}static max(){return new tt(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__name__";class Za{constructor(e,t,r){t===void 0?t=0:t>e.length&&Je(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Je(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Za.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return ut(e.length,t.length)}static compareSegments(e,t){const r=Za.isNumericId(e),a=Za.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Za.extractNumericId(e).compare(Za.extractNumericId(t)):Y0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class Wt extends Za{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const b5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Za{construct(e,t,r){return new Zn(e,t,r)}static isValidIdentifier(e){return b5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new Zn([LE])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Me(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Me(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Me(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(o(),a++)}if(o(),l)throw new Me(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Wt.fromString(e))}static fromName(e){return new $e(Wt.fromString(e).popFirst(5))}static empty(){return new $e(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function w5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=tt.fromTimestamp(r===1e9?new Mn(t+1,0):new Mn(t,r));return new Ws(a,$e.empty(),e)}function _5(n){return new Ws(n.readTime,n.key,Dd)}class Ws{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ws(tt.min(),$e.empty(),Dd)}static max(){return new Ws(tt.max(),$e.empty(),Dd)}}function E5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:ut(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==T5)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,l=!1;e.forEach(u=>{++a,u.next(()=>{++o,l&&o===a&&t()},h=>r(h))}),l=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(y=>{l[f]=y,++u,u===o&&r(l)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function D5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Km.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=-1;function Wm(n){return n==null}function um(n){return n===0&&1/n==-1/0}function A5(n){return typeof n=="number"&&Number.isInteger(n)&&!um(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="";function R5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UE(e)),e=C5(n.get(t),e);return UE(e)}function C5(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case JA:t+="";break;default:t+=o}}return t}function UE(n){return n+JA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Wn.RED,this.left=a??Wn.EMPTY,this.right=o??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Wn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Je(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je(57766)}get value(){throw Je(16141)}get color(){throw Je(16727)}get left(){throw Je(29726)}get right(){throw Je(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new Hr([])}unionWith(e){let t=new kn(Zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tR("Invalid base64 string: "+o):o}}(e);return new tr(t)}static fromUint8Array(e){const t=function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const N5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(n){if(Ot(!!n,39018),typeof n=="string"){let e=0;const t=N5.exec(n);if(Ot(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(n.seconds),nanos:gn(n.nanos)}}function gn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zs(n){return typeof n=="string"?tr.fromBase64String(n):tr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="server_timestamp",rR="__type__",aR="__previous_value__",iR="__local_write_time__";function _x(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rR])===null||t===void 0?void 0:t.stringValue)===nR}function Xm(n){const e=n.mapValue.fields[aR];return _x(e)?Xm(e):e}function Ad(n){const e=Xs(n.mapValue.fields[iR].timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,t,r,a,o,l,u,h,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=y}}const dm="(default)";class Rd{constructor(e,t){this.projectId=e,this.database=t||dm}static empty(){return new Rd("","")}get isDefaultDatabase(){return this.database===dm}isEqual(e){return e instanceof Rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__type__",k5="__max__",bf={mapValue:{}},oR="__vector__",hm="value";function Js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_x(n)?4:j5(n)?9007199254740991:P5(n)?10:11:Je(28295,{value:n})}function ui(n,e){if(n===e)return!0;const t=Js(n);if(t!==Js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ad(n).isEqual(Ad(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Xs(a.timestampValue),u=Xs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Zs(a.bytesValue).isEqual(Zs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return gn(a.geoPointValue.latitude)===gn(o.geoPointValue.latitude)&&gn(a.geoPointValue.longitude)===gn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return gn(a.integerValue)===gn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=gn(a.doubleValue),u=gn(o.doubleValue);return l===u?um(l)===um(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return pc(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(a,o){const l=a.mapValue.fields||{},u=o.mapValue.fields||{};if(FE(l)!==FE(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ui(l[h],u[h])))return!1;return!0}(n,e);default:return Je(52216,{left:n})}}function Cd(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function gc(n,e){if(n===e)return 0;const t=Js(n),r=Js(e);if(t!==r)return ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ut(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=gn(o.integerValue||o.doubleValue),h=gn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return zE(n.timestampValue,e.timestampValue);case 4:return zE(Ad(n),Ad(e));case 5:return Y0(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Zs(o),h=Zs(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const y=ut(u[f],h[f]);if(y!==0)return y}return ut(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=ut(gn(o.latitude),gn(l.latitude));return u!==0?u:ut(gn(o.longitude),gn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return HE(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,f,y;const v=o.fields||{},b=l.fields||{},_=(u=v[hm])===null||u===void 0?void 0:u.arrayValue,E=(h=b[hm])===null||h===void 0?void 0:h.arrayValue,D=ut(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((y=E==null?void 0:E.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:HE(_,E)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===bf.mapValue&&l===bf.mapValue)return 0;if(o===bf.mapValue)return 1;if(l===bf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const b=Y0(h[v],y[v]);if(b!==0)return b;const _=gc(u[h[v]],f[y[v]]);if(_!==0)return _}return ut(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Je(23264,{Pe:t})}}function zE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ut(n,e);const t=Xs(n),r=Xs(e),a=ut(t.seconds,r.seconds);return a!==0?a:ut(t.nanos,r.nanos)}function HE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=gc(t[a],r[a]);if(o)return o}return ut(t.length,r.length)}function yc(n){return q0(n)}function q0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=q0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${q0(t.fields[l])}`;return a+"}"}(n.mapValue):Je(61005,{value:n})}function Lf(n){switch(Js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xm(n);return e?16+Lf(e):16;case 5:return 2*n.stringValue.length;case 6:return Zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Lf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return so(r.fields,(o,l)=>{a+=o.length+Lf(l)}),a}(n.mapValue);default:throw Je(13486,{value:n})}}function YE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $0(n){return!!n&&"integerValue"in n}function Ex(n){return!!n&&"arrayValue"in n}function qE(n){return!!n&&"nullValue"in n}function $E(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function P5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sR])===null||t===void 0?void 0:t.stringValue)===oR}function cd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return so(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function j5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===k5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(t)}setAll(e){let t=Zn.emptyPath(),r={},a=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=cd(l):a.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){so(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new jr(cd(this.value))}}function lR(n){const e=[];return so(n.fields,(t,r)=>{const a=new Zn([t]);if(Uf(r)){const o=lR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)}),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t,r,a,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new fr(e,0,tt.min(),tt.min(),tt.min(),jr.empty(),0)}static newFoundDocument(e,t,r,a){return new fr(e,1,t,tt.min(),r,a,0)}static newNoDocument(e,t){return new fr(e,2,t,tt.min(),tt.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new fr(e,3,t,tt.min(),tt.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.position=e,this.inclusive=t}}function GE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],l=n.position[a];if(o.field.isKeyField()?r=$e.comparator($e.fromName(l.referenceValue),t.key):r=gc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t="asc"){this.field=e,this.dir=t}}function O5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class Sn extends cR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new V5(e,t,r):t==="array-contains"?new F5(e,r):t==="in"?new B5(e,r):t==="not-in"?new z5(e,r):t==="array-contains-any"?new H5(e,r):new Sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new L5(e,r):new U5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gc(t,this.value)):t!==null&&Js(this.value)===Js(t)&&this.matchesComparison(gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends cR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Pa(e,t)}matches(e){return uR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uR(n){return n.op==="and"}function dR(n){return I5(n)&&uR(n)}function I5(n){for(const e of n.filters)if(e instanceof Pa)return!1;return!0}function G0(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+yc(n.value);if(dR(n))return n.filters.map(e=>G0(e)).join(",");{const e=n.filters.map(t=>G0(t)).join(",");return`${n.op}(${e})`}}function hR(n,e){return n instanceof Sn?function(r,a){return a instanceof Sn&&r.op===a.op&&r.field.isEqual(a.field)&&ui(r.value,a.value)}(n,e):n instanceof Pa?function(r,a){return a instanceof Pa&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,l,u)=>o&&hR(l,a.filters[u]),!0):!1}(n,e):void Je(19439)}function fR(n){return n instanceof Sn?function(t){return`${t.field.canonicalString()} ${t.op} ${yc(t.value)}`}(n):n instanceof Pa?function(t){return t.op.toString()+" {"+t.getFilters().map(fR).join(" ,")+"}"}(n):"Filter"}class V5 extends Sn{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class L5 extends Sn{constructor(e,t){super(e,"in",t),this.keys=mR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U5 extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=mR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class F5 extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ex(t)&&Cd(t.arrayValue,this.value)}}class B5 extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cd(this.value.arrayValue,t)}}class z5 extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cd(this.value.arrayValue,t)}}class H5 extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ex(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,t=null,r=[],a=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function KE(n,e=null,t=[],r=[],a=null,o=null,l=null){return new Y5(n,e,t,r,a,o,l)}function Tx(n){const e=rt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>G0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yc(r)).join(",")),e.Ie=t}return e.Ie}function Sx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!O5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QE(n.startAt,e.startAt)&&QE(n.endAt,e.endAt)}function Q0(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,r=[],a=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function q5(n,e,t,r,a,o,l,u){return new Oc(n,e,t,r,a,o,l,u)}function Zm(n){return new Oc(n)}function WE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pR(n){return n.collectionGroup!==null}function ud(n){const e=rt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new kn(Zn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Nd(o,r))}),t.has(Zn.keyField().canonicalString())||e.Ee.push(new Nd(Zn.keyField(),r))}return e.Ee}function oi(n){const e=rt(n);return e.de||(e.de=$5(e,ud(n))),e.de}function $5(n,e){if(n.limitType==="F")return KE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Nd(a.field,o)});const t=n.endAt?new fm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fm(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function K0(n,e){const t=n.filters.concat([e]);return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function W0(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jm(n,e){return Sx(oi(n),oi(e))&&n.limitType===e.limitType}function gR(n){return`${Tx(oi(n))}|lt:${n.limitType}`}function Zl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>fR(a)).join(", ")}]`),Wm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>yc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>yc(a)).join(",")),`Target(${r})`}(oi(n))}; limitType=${n.limitType})`}function ep(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of ud(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(l,u,h){const f=GE(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,ud(r),a)||r.endAt&&!function(l,u,h){const f=GE(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,ud(r),a))}(n,e)}function G5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yR(n){return(e,t)=>{let r=!1;for(const a of ud(n)){const o=Q5(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function Q5(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?gc(h,f):Je(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new an($e.comparator);function ns(){return K5}const vR=new an($e.comparator);function Zu(...n){let e=vR;for(const t of n)e=e.insert(t.key,t);return e}function xR(n){let e=vR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qo(){return dd()}function bR(){return dd()}function dd(){return new ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const W5=new an($e.comparator),X5=new kn($e.comparator);function pt(...n){let e=X5;for(const t of n)e=e.add(t);return e}const Z5=new kn(ut);function J5(){return Z5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function wR(n){return{integerValue:""+n}}function _R(n,e){return A5(e)?wR(e):Dx(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function eV(n,e,t){return n instanceof Md?function(a,o){const l={fields:{[rR]:{stringValue:nR},[iR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&_x(o)&&(o=Xm(o)),o&&(l.fields[aR]=o),{mapValue:l}}(t,e):n instanceof vc?TR(n,e):n instanceof kd?SR(n,e):function(a,o){const l=ER(a,o),u=XE(l)+XE(a.Re);return $0(l)&&$0(a.Re)?wR(u):Dx(a.serializer,u)}(n,e)}function tV(n,e,t){return n instanceof vc?TR(n,e):n instanceof kd?SR(n,e):t}function ER(n,e){return n instanceof Pd?function(r){return $0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Md extends tp{}class vc extends tp{constructor(e){super(),this.elements=e}}function TR(n,e){const t=DR(e);for(const r of n.elements)t.some(a=>ui(a,r))||t.push(r);return{arrayValue:{values:t}}}class kd extends tp{constructor(e){super(),this.elements=e}}function SR(n,e){let t=DR(e);for(const r of n.elements)t=t.filter(a=>!ui(a,r));return{arrayValue:{values:t}}}class Pd extends tp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function XE(n){return gn(n.integerValue||n.doubleValue)}function DR(n){return Ex(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.field=e,this.transform=t}}function nV(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof vc&&a instanceof vc||r instanceof kd&&a instanceof kd?pc(r.elements,a.elements,ui):r instanceof Pd&&a instanceof Pd?ui(r.Re,a.Re):r instanceof Md&&a instanceof Md}(n.transform,e.transform)}class rV{constructor(e,t){this.version=e,this.transformResults=t}}class va{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new va}static exists(e){return new va(void 0,e)}static updateTime(e){return new va(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class np{}function AR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Rx(n.key,va.none()):new Yd(n.key,n.data,va.none());{const t=n.data,r=jr.empty();let a=new kn(Zn.comparator);for(let o of e.fields)if(!a.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new oo(n.key,r,new Hr(a.toArray()),va.none())}}function aV(n,e,t){n instanceof Yd?function(a,o,l){const u=a.value.clone(),h=JE(a.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof oo?function(a,o,l){if(!Ff(a.precondition,o))return void o.convertToUnknownDocument(l.version);const u=JE(a.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(RR(a)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function hd(n,e,t,r){return n instanceof Yd?function(o,l,u,h){if(!Ff(o.precondition,l))return u;const f=o.value.clone(),y=eT(o.fieldTransforms,h,l);return f.setAll(y),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof oo?function(o,l,u,h){if(!Ff(o.precondition,l))return u;const f=eT(o.fieldTransforms,h,l),y=l.data;return y.setAll(RR(o)),y.setAll(f),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return Ff(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function iV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=ER(r.transform,a||null);o!=null&&(t===null&&(t=jr.empty()),t.set(r.field,o))}return t||null}function ZE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&pc(r,a,(o,l)=>nV(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yd extends np{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oo extends np{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function JE(n,e,t){const r=new Map;Ot(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],l=o.transform,u=e.data.field(o.field);r.set(o.field,tV(l,u,t[a]))}return r}function eT(n,e,t){const r=new Map;for(const a of n){const o=a.transform,l=t.data.field(a.field);r.set(a.field,eV(o,l,e))}return r}class Rx extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sV extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&aV(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bR();return this.mutations.forEach(a=>{const o=e.get(a.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(a.key)?null:u;const h=AR(l,u);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,(t,r)=>ZE(t,r))&&pc(this.baseMutations,e.baseMutations,(t,r)=>ZE(t,r))}}class Cx{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ot(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return W5}();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Cx(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,bt;function uV(n){switch(n){case me.OK:return Je(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Je(15467,{code:n})}}function CR(n){if(n===void 0)return ts("GRPC error has no .code"),me.UNKNOWN;switch(n){case En.OK:return me.OK;case En.CANCELLED:return me.CANCELLED;case En.UNKNOWN:return me.UNKNOWN;case En.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case En.INTERNAL:return me.INTERNAL;case En.UNAVAILABLE:return me.UNAVAILABLE;case En.UNAUTHENTICATED:return me.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case En.NOT_FOUND:return me.NOT_FOUND;case En.ALREADY_EXISTS:return me.ALREADY_EXISTS;case En.PERMISSION_DENIED:return me.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case En.ABORTED:return me.ABORTED;case En.OUT_OF_RANGE:return me.OUT_OF_RANGE;case En.UNIMPLEMENTED:return me.UNIMPLEMENTED;case En.DATA_LOSS:return me.DATA_LOSS;default:return Je(39323,{code:n})}}(bt=En||(En={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new Hs([4294967295,4294967295],0);function tT(n){const e=XA().encode(n),t=new HA;return t.update(e),new Uint8Array(t.digest())}function nT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hs([t,r],0),new Hs([a,o],0)]}class Nx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ju(`Invalid padding: ${t}`);if(r<0)throw new Ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Hs.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Hs.fromNumber(r)));return a.compare(dV)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=tT(e),[r,a]=nT(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,a,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Nx(o,a,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=tT(e),[r,a]=nT(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,a,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rp(tt.min(),a,new an(ut),ns(),pt())}}class qd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qd(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class NR{constructor(e,t){this.targetId=e,this.Ce=t}}class MR{constructor(e,t,r=tr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class rT{constructor(){this.Fe=0,this.Me=aT(),this.xe=tr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pt(),t=pt(),r=pt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Je(38017,{changeType:o})}}),new qd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ot(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hV{constructor(e){this.ze=e,this.je=new Map,this.He=ns(),this.Je=wf(),this.Ye=wf(),this.Ze=new an(ut)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Je(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Q0(o))if(r===0){const l=new $e(o.path);this.tt(t,l,fr.newNoDocument(l,tt.min()))}else Ot(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let l,u;try{l=Zs(r).toUint8Array()}catch(h){if(h instanceof tR)return mc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Nx(l,a,o)}catch(h){return mc(h instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&Q0(u.target)){const h=new $e(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,fr.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=pt();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this._t(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const a=new rp(e,t,this.Ze,this.He,r);return this.He=ns(),this.Je=wf(),this.Ye=wf(),this.Ze=new an(ut),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new rT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new kn(ut),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new kn(ut),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function wf(){return new an($e.comparator)}function aT(){return new an($e.comparator)}const fV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pV={and:"AND",or:"OR"};class gV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function X0(n,e){return n.useProto3Json||Wm(e)?e:{value:e}}function mm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yV(n,e){return mm(n,e.toTimestamp())}function li(n){return Ot(!!n,49232),tt.fromTimestamp(function(t){const r=Xs(t);return new Mn(r.seconds,r.nanos)}(n))}function Mx(n,e){return Z0(n,e).canonicalString()}function Z0(n,e){const t=function(a){return new Wt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PR(n){const e=Wt.fromString(n);return Ot(LR(e),10190,{key:e.toString()}),e}function J0(n,e){return Mx(n.databaseId,e.path)}function Qy(n,e){const t=PR(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(OR(t))}function jR(n,e){return Mx(n.databaseId,e)}function vV(n){const e=PR(n);return e.length===4?Wt.emptyPath():OR(e)}function ev(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OR(n){return Ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iT(n,e,t){return{name:J0(n,e),fields:t.value.mapValue.fields}}function xV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Je(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(f,y){return f.useProto3Json?(Ot(y===void 0||typeof y=="string",58123),tr.fromBase64String(y||"")):(Ot(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const y=f.code===void 0?me.UNKNOWN:CR(f.code);return new Me(y,f.message||"")}(l);t=new MR(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Qy(n,r.document.name),o=li(r.document.updateTime),l=r.document.createTime?li(r.document.createTime):tt.min(),u=new jr({mapValue:{fields:r.document.fields}}),h=fr.newFoundDocument(a,o,l,u),f=r.targetIds||[],y=r.removedTargetIds||[];t=new Bf(f,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Qy(n,r.document),o=r.readTime?li(r.readTime):tt.min(),l=fr.newNoDocument(a,o),u=r.removedTargetIds||[];t=new Bf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Qy(n,r.document),o=r.removedTargetIds||[];t=new Bf([],o,a,null)}else{if(!("filter"in e))return Je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new cV(a,o),u=r.targetId;t=new NR(u,l)}}return t}function bV(n,e){let t;if(e instanceof Yd)t={update:iT(n,e.key,e.value)};else if(e instanceof Rx)t={delete:J0(n,e.key)};else if(e instanceof oo)t={update:iT(n,e.key,e.data),updateMask:CV(e.fieldMask)};else{if(!(e instanceof sV))return Je(16599,{ft:e.type});t={verify:J0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Md)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof vc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof kd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Pd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Je(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:yV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Je(27497)}(n,e.precondition)),t}function wV(n,e){return n&&n.length>0?(Ot(e!==void 0,14353),n.map(t=>function(a,o){let l=a.updateTime?li(a.updateTime):li(o);return l.isEqual(tt.min())&&(l=li(o)),new rV(l,a.transformResults||[])}(t,e))):[]}function _V(n,e){return{documents:[jR(n,e.path)]}}function EV(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jR(n,a);const o=function(f){if(f.length!==0)return VR(Pa.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(y=>function(b){return{field:Jl(b.field),direction:DV(b.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=X0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:a}}function TV(n){let e=vV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ot(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(v){const b=IR(v);return b instanceof Pa&&dR(b)?b.getFilters():[b]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(b=>function(E){return new Nd(ec(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(t.orderBy));let u=null;t.limit&&(u=function(v){let b;return b=typeof v=="object"?v.value:v,Wm(b)?null:b}(t.limit));let h=null;t.startAt&&(h=function(v){const b=!!v.before,_=v.values||[];return new fm(_,b)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const b=!v.before,_=v.values||[];return new fm(_,b)}(t.endAt)),q5(e,a,l,o,u,"F",h,f)}function SV(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ec(t.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ec(t.unaryFilter.field);return Sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ec(t.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ec(t.unaryFilter.field);return Sn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Je(61313);default:return Je(60726)}}(n):n.fieldFilter!==void 0?function(t){return Sn.create(ec(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Je(58110);default:return Je(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pa.create(t.compositeFilter.filters.map(r=>IR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Je(1026)}}(t.compositeFilter.op))}(n):Je(30097,{filter:n})}function DV(n){return fV[n]}function AV(n){return mV[n]}function RV(n){return pV[n]}function Jl(n){return{fieldPath:n.canonicalString()}}function ec(n){return Zn.fromServerFormat(n.fieldPath)}function VR(n){return n instanceof Sn?function(t){if(t.op==="=="){if($E(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NAN"}};if(qE(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($E(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NOT_NAN"}};if(qE(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(t.field),op:AV(t.op),value:t.value}}}(n):n instanceof Pa?function(t){const r=t.getFilters().map(a=>VR(a));return r.length===1?r[0]:{compositeFilter:{op:RV(t.op),filters:r}}}(n):Je(54877,{filter:n})}function CV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,r,a,o=tt.min(),l=tt.min(),u=tr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.wt=e}}function MV(n){const e=TV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?W0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.yn=new PV}addToCollectionParentIndex(e,t){return this.yn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Ws.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class PV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new kn(Wt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new kn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UR=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(UR,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new xc(0)}static ir(){return new xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="LruGarbageCollector",jV=1048576;function lT([n,e],[t,r]){const a=ut(n,t);return a===0?ut(e,r):a}class OV{constructor(e){this.cr=e,this.buffer=new kn(lT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(oT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jc(t)?Ne(oT,"Ignoring IndexedDB error during garbage collection: ",t):await Pc(t)}await this.Ir(3e5)})}}class VV{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(Km.le);const r=new OV(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(sT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,l,u,h,f;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(f=Date.now(),Xl()<=wt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function LV(n,e){return new VV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.changes=new ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&hd(r.mutation,a,Hr.empty(),Mn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const a=Qo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let l=Zu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,a){let o=ns();const l=dd(),u=function(){return dd()}();return t.forEach((h,f)=>{const y=r.get(f.key);a.has(f.key)&&(y===void 0||y.mutation instanceof oo)?o=o.insert(f.key,f):y!==void 0?(l.set(f.key,y.mutation.getFieldMask()),hd(y.mutation,f,y.mutation.getFieldMask(),Mn.now())):l.set(f.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,y)=>l.set(f,y)),t.forEach((f,y)=>{var v;return u.set(f,new FV(y,(v=l.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=dd();let a=new an((l,u)=>l-u),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let y=r.get(h)||Hr.empty();y=u.applyToLocalView(f,y),r.set(h,y);const v=(a.get(u.batchId)||pt()).add(h);a=a.insert(u.batchId,v)})}).next(()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,y=h.value,v=bR();y.forEach(b=>{if(!o.has(b)){const _=AR(t.get(b),r.get(b));_!==null&&v.set(b,_),o=o.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return pe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(l){return $e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(Qo());let u=Dd,h=o;return l.next(f=>pe.forEach(f,(y,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{h=h.insert(y,b)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,pt())).next(y=>({batchId:u,changes:xR(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let a=Zu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let l=Zu();return this.indexManager.getCollectionParents(e,o).next(u=>pe.forEach(u,h=>{const f=function(v,b){return new Oc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next(y=>{y.forEach((v,b)=>{l=l.insert(v,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(l=>{o.forEach((h,f)=>{const y=f.getKey();l.get(y)===null&&(l=l.insert(y,fr.newInvalidDocument(y)))});let u=Zu();return l.forEach((h,f)=>{const y=o.get(h);y!==void 0&&hd(y.mutation,f,Hr.empty(),Mn.now()),ep(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:li(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:MV(a.bundledQuery),readTime:li(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.overlays=new an($e.comparator),this.Or=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=Qo(),o=t.length+1,l=new $e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new an((f,y)=>f-y);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let y=o.get(f.largestBatchId);y===null&&(y=Qo(),o=o.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const u=Qo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,y)=>u.set(f,y)),!(u.size()>=a)););return pe.resolve(u)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new lV(t,r));let o=this.Or.get(t);o===void 0&&(o=pt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Nr=new kn(Bn.Br),this.Lr=new kn(Bn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Bn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Bn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new $e(new Wt([])),r=new Bn(t,e),a=new Bn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new $e(new Wt([])),r=new Bn(t,e),a=new Bn(t,e+1);let o=pt();return this.Lr.forEachInRange([r,a],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Bn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return $e.comparator(e.key,t.key)||ut(e.Gr,t.Gr)}static kr(e,t){return ut(e.Gr,t.Gr)||$e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new kn(Bn.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new oV(o,t,r,a);this.mutationQueue.push(l);for(const u of a)this.zr=this.zr.add(new Bn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,t){return pe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?wx:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bn(t,0),a=new Bn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],l=>{const u=this.jr(l.Gr);o.push(u)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(ut);return t.forEach(a=>{const o=new Bn(a,0),l=new Bn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],u=>{r=r.add(u.Gr)})}),pe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;$e.isDocumentKey(o)||(o=o.child(""));const l=new Bn(new $e(o),0);let u=new kn(ut);return this.zr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(h.Gr)),!0)},l),pe.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ot(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return pe.forEach(t.mutations,a=>{const o=new Bn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Bn(t,0),a=this.zr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.Zr=e,this.docs=function(){return new an($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(t))}getEntries(e,t){let r=ns();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():fr.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=ns();const l=t.path,u=new $e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:y}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||E5(_5(y),r)<=0||(a.has(y.key)||ep(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Je(9500)}Xr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new GV(this)}getSize(e){return pe.resolve(this.size)}}class GV extends UV{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.persistence=e,this.ei=new ll(t=>Tx(t),Sx),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.ti=0,this.ni=new kx,this.targetCount=0,this.ri=xc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),pe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new xc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.ar(t),pe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(l=>{o.push(a.markPotentiallyOrphaned(e,l))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t){this.ii={},this.overlays={},this.si=new Km(0),this.oi=!1,this.oi=!0,this._i=new YV,this.referenceDelegate=e(this),this.ai=new QV(this),this.indexManager=new kV,this.remoteDocumentCache=function(a){return new $V(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new NV(t),this.ci=new zV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new qV(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const a=new KV(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return pe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class KV extends S5{constructor(e){super(),this.currentSequenceNumber=e}}class Px{constructor(e){this.persistence=e,this.Ti=new kx,this.Ii=null}static Ei(e){return new Px(e)}get di(){if(this.Ii)return this.Ii;throw Je(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const a=$e.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,tt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return pe.or([()=>pe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class pm{constructor(e,t){this.persistence=e,this.Ri=new ll(r=>R5(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=LV(this,t)}static Ei(e,t){return new pm(e,t)}li(){}hi(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return pe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,l=>this.gr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,tt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lf(e.data.value)),t}gr(e,t,r){return pe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=pt(),a=pt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new jx(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return WO()?8:D5(QO())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new WV;return this.fs(e,t,l).next(u=>{if(o.result=u,this.Is)return this.gs(e,t,l,u.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Xl()<=wt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Zl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Xl()<=wt.DEBUG&&Ne("QueryEngine","Query:",Zl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Xl()<=wt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Zl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(t))):pe.resolve())}Rs(e,t){if(WE(t))return pe.resolve(null);let r=oi(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=W0(t,null,"F"),r=oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=pt(...o);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.ps(t,u);return this.ys(t,f,l,h.readTime)?this.Rs(e,W0(t,null,"F")):this.ws(e,f,t,h)}))})))}Vs(e,t,r,a){return WE(t)||a.isEqual(tt.min())?pe.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(t,o);return this.ys(t,l,r,a)?pe.resolve(null):(Xl()<=wt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zl(t)),this.ws(e,l,t,w5(a,Dd)).next(u=>u))})}ps(e,t){let r=new kn(yR(e));return t.forEach((a,o)=>{ep(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Xl()<=wt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Zl(t)),this.As.getDocumentsMatchingQuery(e,t,Ws.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LocalStore",ZV=3e8;class JV{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new an(ut),this.Ds=new ll(o=>Tx(o),Sx),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BV(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function e9(n,e,t,r){return new JV(n,e,t,r)}async function BR(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=pt();for(const f of a){l.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}for(const f of o){u.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(f=>({Ms:f,removedBatchIds:l,addedBatchIds:u}))})})}function t9(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,y){const v=f.batch,b=v.keys();let _=pe.resolve();return b.forEach(E=>{_=_.next(()=>y.getEntry(h,E)).next(D=>{const A=f.docVersions.get(E);Ot(A!==null,48541),D.version.compareTo(A)<0&&(v.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),y.addEntry(D)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=pt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function zR(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function n9(n,e){const t=rt(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const u=[];e.targetChanges.forEach((y,v)=>{const b=a.get(v);if(!b)return;u.push(t.ai.removeMatchingKeys(o,y.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,v)));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(tr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):y.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(y.resumeToken,r)),a=a.insert(v,_),function(D,A,j){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=ZV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,_,y)&&u.push(t.ai.updateTargetData(o,_))});let h=ns(),f=pt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),u.push(r9(o,l,e.documentUpdates).next(y=>{h=y.xs,f=y.Os})),!r.isEqual(tt.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(y)}return pe.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.Ss=a,o))}function r9(n,e,t){let r=pt(),a=pt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=ns();return t.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Ne(Ox,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{xs:l,Os:a}})}function a9(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wx),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i9(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.ai.allocateTargetId(r).next(l=>(a=new Ls(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function tv(n,e,t){const r=rt(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!jc(l))throw l;Ne(Ox,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function cT(n,e,t){const r=rt(n);let a=tt.min(),o=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,y){const v=rt(h),b=v.Ds.get(y);return b!==void 0?pe.resolve(v.Ss.get(b)):v.ai.getTargetData(f,y)}(r,l,oi(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?a:tt.min(),t?o:pt())).next(u=>(s9(r,G5(e),u),{documents:u,Ns:o})))}function s9(n,e,t){let r=n.vs.get(e)||tt.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class uT{constructor(){this.activeTargetIds=J5()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o9{constructor(){this.So=new uT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new uT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class hT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(dT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function nv(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="RestConnection",c9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u9{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===dm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const l=nv(),u=this.$o(e,t.toUriEncodedString());Ne(Ky,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(h,a,o);const{host:f}=new URL(u),y=yx(f);return this.Ko(e,u,h,r,y).then(v=>(Ne(Ky,`Received RPC '${e}' ${l}: `,v),v),v=>{throw mc(Ky,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Wo(e,t,r,a,o,l){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=c9[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class h9 extends u9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a,o){const l=nv();return new Promise((u,h)=>{const f=new YA;f.setWithCredentials(!0),f.listenOnce(qA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Vf.NO_ERROR:const v=f.getResponseJson();Ne(cr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Vf.TIMEOUT:Ne(cr,`RPC '${e}' ${l} timed out`),h(new Me(me.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const b=f.getStatus();if(Ne(cr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const D=function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(U)>=0?U:me.UNKNOWN}(E.status);h(new Me(D,E.message))}else h(new Me(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Me(me.UNAVAILABLE,"Connection failed."));break;default:Je(9055,{s_:e,streamId:l,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ne(cr,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(a);Ne(cr,`RPC '${e}' ${l} sending request:`,a),f.send(t,"POST",y,r,15)})}a_(e,t,r){const a=nv(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QA(),u=GA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=o.join("");Ne(cr,`Creating RPC '${e}' stream ${a}: ${y}`,h);const v=l.createWebChannel(y,h);let b=!1,_=!1;const E=new d9({Go:A=>{_?Ne(cr,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(b||(Ne(cr,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),Ne(cr,`RPC '${e}' stream ${a} sending:`,A),v.send(A))},zo:()=>v.close()}),D=(A,j,U)=>{A.listen(j,F=>{try{U(F)}catch(q){setTimeout(()=>{throw q},0)}})};return D(v,Xu.EventType.OPEN,()=>{_||(Ne(cr,`RPC '${e}' stream ${a} transport opened.`),E.t_())}),D(v,Xu.EventType.CLOSE,()=>{_||(_=!0,Ne(cr,`RPC '${e}' stream ${a} transport closed`),E.r_())}),D(v,Xu.EventType.ERROR,A=>{_||(_=!0,mc(cr,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),E.r_(new Me(me.UNAVAILABLE,"The operation could not be completed")))}),D(v,Xu.EventType.MESSAGE,A=>{var j;if(!_){const U=A.data[0];Ot(!!U,16349);const F=U,q=(F==null?void 0:F.error)||((j=F[0])===null||j===void 0?void 0:j.error);if(q){Ne(cr,`RPC '${e}' stream ${a} received error:`,q);const k=q.status;let $=function(N){const C=En[N];if(C!==void 0)return CR(C)}(k),O=q.message;$===void 0&&($=me.INTERNAL,O="Unknown error status: "+k+" with message "+q.message),_=!0,E.r_(new Me($,O)),v.close()}else Ne(cr,`RPC '${e}' stream ${a} received:`,U),E.i_(U)}}),D(u,$A.STAT_EVENT,A=>{A.stat===H0.PROXY?Ne(cr,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===H0.NOPROXY&&Ne(cr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function Wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){return new gV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="PersistentStream";class YR{constructor(e,t,r,a,o,l,u,h){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new HR(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ts(t.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new Me(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(fT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ne(fT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f9 extends YR{constructor(e,t,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=xV(this.serializer,e),r=function(o){if(!("targetChange"in o))return tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?li(l.readTime):tt.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=ev(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=Q0(h)?{documents:_V(o,h)}:{query:EV(o,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=kR(o,l.resumeToken);const f=X0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=mm(o,l.snapshotVersion.toTimestamp());const f=X0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=SV(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=ev(this.serializer),t.removeTarget=e,this.F_(t)}}class m9 extends YR{constructor(e,t,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=wV(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=ev(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bV(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{}class g9 extends p9{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Me(me.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,Z0(t,r),a,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(me.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Z0(t,r),a,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(me.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class y9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ts(t),this.ea=!1):Ne("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="RemoteStore";class v9{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{cl(this)&&(Ne(tl,"Restarting streams for network reachability change."),await async function(h){const f=rt(h);f.aa.add(4),await $d(f),f.la.set("Unknown"),f.aa.delete(4),await ip(f)}(this))})}),this.la=new y9(r,a)}}async function ip(n){if(cl(n))for(const e of n.ua)await e(!0)}async function $d(n){for(const e of n.ua)await e(!1)}function qR(n,e){const t=rt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Ux(t)?Lx(t):Ic(t).b_()&&Vx(t,e))}function Ix(n,e){const t=rt(n),r=Ic(t);t._a.delete(e),r.b_()&&$R(t,e),t._a.size===0&&(r.b_()?r.v_():cl(t)&&t.la.set("Unknown"))}function Vx(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ic(n).U_(e)}function $R(n,e){n.ha.Ke(e),Ic(n).K_(e)}function Lx(n){n.ha=new hV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ic(n).start(),n.la.ta()}function Ux(n){return cl(n)&&!Ic(n).w_()&&n._a.size>0}function cl(n){return rt(n).aa.size===0}function GR(n){n.ha=void 0}async function x9(n){n.la.set("Online")}async function b9(n){n._a.forEach((e,t)=>{Vx(n,e)})}async function w9(n,e){GR(n),Ux(n)?(n.la.ia(e),Lx(n)):n.la.set("Unknown")}async function _9(n,e,t){if(n.la.set("Online"),e instanceof MR&&e.state===2&&e.cause)try{await async function(a,o){const l=o.cause;for(const u of o.targetIds)a._a.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a._a.delete(u),a.ha.removeTarget(u))}(n,e)}catch(r){Ne(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(n,r)}else if(e instanceof Bf?n.ha.Xe(e):e instanceof NR?n.ha.ot(e):n.ha.nt(e),!t.isEqual(tt.min()))try{const r=await zR(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.ha.It(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=o._a.get(f);y&&o._a.set(f,y.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const y=o._a.get(h);if(!y)return;o._a.set(h,y.withResumeToken(tr.EMPTY_BYTE_STRING,y.snapshotVersion)),$R(o,h);const v=new Ls(y.target,h,f,y.sequenceNumber);Vx(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){Ne(tl,"Failed to raise snapshot:",r),await gm(n,r)}}async function gm(n,e,t){if(!jc(e))throw e;n.aa.add(1),await $d(n),n.la.set("Offline"),t||(t=()=>zR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(tl,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await ip(n)})}function QR(n,e){return e().catch(t=>gm(n,t,e))}async function sp(n){const e=rt(n),t=eo(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:wx;for(;E9(e);)try{const a=await a9(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,T9(e,a)}catch(a){await gm(e,a)}KR(e)&&WR(e)}function E9(n){return cl(n)&&n.oa.length<10}function T9(n,e){n.oa.push(e);const t=eo(n);t.b_()&&t.W_&&t.G_(e.mutations)}function KR(n){return cl(n)&&!eo(n).w_()&&n.oa.length>0}function WR(n){eo(n).start()}async function S9(n){eo(n).H_()}async function D9(n){const e=eo(n);for(const t of n.oa)e.G_(t.mutations)}async function A9(n,e,t){const r=n.oa.shift(),a=Cx.from(r,e,t);await QR(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await sp(n)}async function R9(n,e){e&&eo(n).W_&&await async function(r,a){if(function(l){return uV(l)&&l!==me.ABORTED}(a.code)){const o=r.oa.shift();eo(r).D_(),await QR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await sp(r)}}(n,e),KR(n)&&WR(n)}async function mT(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ne(tl,"RemoteStore received new credentials");const r=cl(t);t.aa.add(3),await $d(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await ip(t)}async function C9(n,e){const t=rt(n);e?(t.aa.delete(2),await ip(t)):e||(t.aa.add(2),await $d(t),t.la.set("Unknown"))}function Ic(n){return n.Pa||(n.Pa=function(t,r,a){const o=rt(t);return o.Y_(),new f9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:x9.bind(null,n),Jo:b9.bind(null,n),Zo:w9.bind(null,n),Q_:_9.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Ux(n)?Lx(n):n.la.set("Unknown")):(await n.Pa.stop(),GR(n))})),n.Pa}function eo(n){return n.Ta||(n.Ta=function(t,r,a){const o=rt(t);return o.Y_(),new m9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:S9.bind(null,n),Zo:R9.bind(null,n),z_:D9.bind(null,n),j_:A9.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await sp(n)):(await n.Ta.stop(),n.oa.length>0&&(Ne(tl,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const l=Date.now()+r,u=new Fx(e,t,l,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bx(n,e){if(ts("AsyncQueue",`${e}: ${n}`),jc(n))return new Me(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=Zu(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.Ia=new an($e.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Je(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class bc{constructor(e,t,r,a,o,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,a,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new bc(e,t,oc.emptySet(t),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class M9{constructor(){this.queries=gT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=rt(t),o=a.queries;a.queries=gT(),o.forEach((l,u)=>{for(const h of u.Ra)h.onError(r)})})(this,new Me(me.ABORTED,"Firestore shutting down"))}}function gT(){return new ll(n=>gR(n),Jm)}async function zx(n,e){const t=rt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new N9,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=Bx(l,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Yx(t)}async function Hx(n,e){const t=rt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function k9(n,e){const t=rt(n);let r=!1;for(const a of e){const o=a.query,l=t.queries.get(o);if(l){for(const u of l.Ra)u.pa(a)&&(r=!0);l.Aa=a}}r&&Yx(t)}function P9(n,e,t){const r=rt(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Yx(n){n.fa.forEach(e=>{e.next()})}var rv,yT;(yT=rv||(rv={})).ya="default",yT.Cache="cache";class qx{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.key=e}}class ZR{constructor(e){this.key=e}}class j9{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pt(),this.mutatedKeys=pt(),this.Ua=yR(e),this.Ka=new oc(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new pT,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,v)=>{const b=a.get(y),_=ep(this.query,v)?v:null,E=!!b&&this.mutatedKeys.has(b.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?E!==D&&(r.track({type:3,doc:_}),A=!0):this.ja(b,_)||(r.track({type:2,doc:_}),A=!0,(h&&this.Ua(_,h)>0||f&&this.Ua(_,f)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),A=!0):b&&!_&&(r.track({type:1,doc:b}),A=!0,(h||f)&&(u=!0)),A&&(_?(l=l.add(_),o=D?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:l,za:r,ys:u,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((y,v)=>function(_,E){const D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je(20277,{Vt:A})}};return D(_)-D(E)}(y.type,v.type)||this.Ua(y.doc,v.doc)),this.Ha(r),a=a!=null&&a;const u=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,f=h!==this.Qa;return this.Qa=h,l.length!==0||f?{snapshot:new bc(this.query,e.Ka,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new pT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=pt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new ZR(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new XR(r))}),t}Xa(e){this.qa=e.Ns,this.$a=pt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return bc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const $x="SyncEngine";class O9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class I9{constructor(e){this.key=e,this.tu=!1}}class V9{constructor(e,t,r,a,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new ll(u=>gR(u),Jm),this.iu=new Map,this.su=new Set,this.ou=new an($e.comparator),this._u=new Map,this.au=new kx,this.uu={},this.cu=new Map,this.lu=xc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function L9(n,e,t=!0){const r=aC(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await JR(r,e,t,!0),a}async function U9(n,e){const t=aC(n);await JR(t,e,!0,!1)}async function JR(n,e,t,r){const a=await i9(n.localStore,oi(e)),o=a.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await F9(n,e,o,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&qR(n.remoteStore,a),u}async function F9(n,e,t,r,a){n.Pu=(v,b,_)=>async function(D,A,j,U){let F=A.view.Ga(j);F.ys&&(F=await cT(D.localStore,A.query,!1).then(({documents:O})=>A.view.Ga(O,F)));const q=U&&U.targetChanges.get(A.targetId),k=U&&U.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(F,D.isPrimaryClient,q,k);return xT(D,A.targetId,$.Ya),$.snapshot}(n,v,b,_);const o=await cT(n.localStore,e,!0),l=new j9(e,o.Ns),u=l.Ga(o.documents),h=qd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),f=l.applyChanges(u,n.isPrimaryClient,h);xT(n,t,f.Ya);const y=new O9(e,t,l);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),f.snapshot}async function B9(n,e,t){const r=rt(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(l=>!Jm(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await tv(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ix(r.remoteStore,a.targetId),av(r,a.targetId)}).catch(Pc)):(av(r,a.targetId),await tv(r.localStore,a.targetId,!0))}async function z9(n,e){const t=rt(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ix(t.remoteStore,r.targetId))}async function H9(n,e,t){const r=W9(n);try{const a=await function(l,u){const h=rt(l),f=Mn.now(),y=u.reduce((_,E)=>_.add(E.key),pt());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ns(),D=pt();return h.Cs.getEntries(_,y).next(A=>{E=A,E.forEach((j,U)=>{U.isValidDocument()||(D=D.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,E)).next(A=>{v=A;const j=[];for(const U of u){const F=iV(U,v.get(U.key).overlayedDocument);F!=null&&j.push(new oo(U.key,F,lR(F.value.mapValue),va.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,j,u)}).next(A=>{b=A;const j=A.applyToLocalDocumentSet(v,D);return h.documentOverlayCache.saveOverlays(_,A.batchId,j)})}).then(()=>({batchId:b.batchId,changes:xR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,u,h){let f=l.uu[l.currentUser.toKey()];f||(f=new an(ut)),f=f.insert(u,h),l.uu[l.currentUser.toKey()]=f}(r,a.batchId,t),await Gd(r,a.changes),await sp(r.remoteStore)}catch(a){const o=Bx(a,"Failed to persist write");t.reject(o)}}async function eC(n,e){const t=rt(n);try{const r=await n9(t.localStore,e);e.targetChanges.forEach((a,o)=>{const l=t._u.get(o);l&&(Ot(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.tu=!0:a.modifiedDocuments.size>0?Ot(l.tu,14607):a.removedDocuments.size>0&&(Ot(l.tu,42227),l.tu=!1))}),await Gd(t,r,e)}catch(r){await Pc(r)}}function vT(n,e,t){const r=rt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,l)=>{const u=l.view.ga(e);u.snapshot&&a.push(u.snapshot)}),function(l,u){const h=rt(l);h.onlineState=u;let f=!1;h.queries.forEach((y,v)=>{for(const b of v.Ra)b.ga(u)&&(f=!0)}),f&&Yx(h)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y9(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let l=new an($e.comparator);l=l.insert(o,fr.newNoDocument(o,tt.min()));const u=pt().add(o),h=new rp(tt.min(),new Map,new an(ut),l,u);await eC(r,h),r.ou=r.ou.remove(o),r._u.delete(e),Gx(r)}else await tv(r.localStore,e,!1).then(()=>av(r,e,t)).catch(Pc)}async function q9(n,e){const t=rt(n),r=e.batch.batchId;try{const a=await t9(t.localStore,e);nC(t,r,null),tC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(t,a)}catch(a){await Pc(a)}}async function $9(n,e,t){const r=rt(n);try{const a=await function(l,u){const h=rt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(Ot(v!==null,37113),y=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y)).next(()=>h.localDocuments.getDocuments(f,y))})}(r.localStore,e);nC(r,e,t),tC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gd(r,a)}catch(a){await Pc(a)}}function tC(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function nC(n,e,t){const r=rt(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function av(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||rC(n,r)})}function rC(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Ix(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Gx(n))}function xT(n,e,t){for(const r of t)r instanceof XR?(n.au.addReference(r.key,e),G9(n,r)):r instanceof ZR?(Ne($x,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||rC(n,r.key)):Je(19791,{Iu:r})}function G9(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ne($x,"New document in limbo: "+t),n.su.add(r),Gx(n))}function Gx(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new $e(Wt.fromString(e)),r=n.lu.next();n._u.set(r,new I9(t)),n.ou=n.ou.insert(t,r),qR(n.remoteStore,new Ls(oi(Zm(t.path)),r,"TargetPurposeLimboResolution",Km.le))}}async function Gd(n,e,t){const r=rt(n),a=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,h)=>{l.push(r.Pu(h,e,t).then(f=>{var y;if((f||t)&&r.isPrimaryClient){const v=f?!f.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){a.push(f);const v=jx.Ps(h.targetId,f);o.push(v)}}))}),await Promise.all(l),r.nu.Q_(a),await async function(h,f){const y=rt(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>pe.forEach(f,b=>pe.forEach(b.ls,_=>y.persistence.referenceDelegate.addReference(v,b.targetId,_)).next(()=>pe.forEach(b.hs,_=>y.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))}catch(v){if(!jc(v))throw v;Ne(Ox,"Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const _=y.Ss.get(b),E=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(E);y.Ss=y.Ss.insert(b,D)}}}(r.localStore,o))}async function Q9(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ne($x,"User change. New user:",e.toKey());const r=await BR(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(u=>{u.forEach(h=>{h.reject(new Me(me.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(t,r.Ms)}}function K9(n,e){const t=rt(n),r=t._u.get(e);if(r&&r.tu)return pt().add(r.key);{let a=pt();const o=t.iu.get(e);if(!o)return a;for(const l of o){const u=t.ru.get(l);a=a.unionWith(u.view.Wa)}return a}}function aC(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y9.bind(null,e),e.nu.Q_=k9.bind(null,e.eventManager),e.nu.Tu=P9.bind(null,e.eventManager),e}function W9(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$9.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return e9(this.persistence,new XV,e.initialUser,this.serializer)}Ru(e){return new FR(Px.Ei,this.serializer)}Au(e){return new o9}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class X9 extends ym{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ot(this.persistence.referenceDelegate instanceof pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IV(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new FR(r=>pm.Ei(r,t),this.serializer)}}class iv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q9.bind(null,this.syncEngine),await C9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M9}()}createDatastore(e){const t=ap(e.databaseInfo.databaseId),r=function(o){return new h9(o)}(e.databaseInfo);return function(o,l,u,h){return new g9(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,l,u){return new v9(r,a,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>vT(this.syncEngine,t,0),function(){return hT.C()?new hT:new l9}())}createSyncEngine(e,t){return function(a,o,l,u,h,f,y){const v=new V9(a,o,l,u,h,f);return y&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=rt(a);Ne(tl,"RemoteStore shutting down."),o.aa.add(5),await $d(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}iv.provider={build:()=>new iv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class Z9{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=hr.UNAUTHENTICATED,this.clientId=ZA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{Ne(to,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Ne(to,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Bx(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xy(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(to,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await BR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await J9(n);Ne(to,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>mT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>mT(e.remoteStore,a)),n._onlineComponents=e}async function J9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(to,"Using user provided OfflineComponentProvider");try{await Xy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;mc("Error using user provided cache. Falling back to memory cache: "+t),await Xy(n,new ym)}}else Ne(to,"Using default OfflineComponentProvider"),await Xy(n,new X9(void 0));return n._offlineComponents}async function iC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(to,"Using user provided OnlineComponentProvider"),await bT(n,n._uninitializedComponentsProvider._online)):(Ne(to,"Using default OnlineComponentProvider"),await bT(n,new iv))),n._onlineComponents}function eL(n){return iC(n).then(e=>e.syncEngine)}async function vm(n){const e=await iC(n),t=e.eventManager;return t.onListen=L9.bind(null,e.syncEngine),t.onUnlisten=B9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=U9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=z9.bind(null,e.syncEngine),t}function tL(n,e,t={}){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const y=new Qx({next:b=>{y.yu(),l.enqueueAndForget(()=>Hx(o,v));const _=b.docs.has(u);!_&&b.fromCache?f.reject(new Me(me.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?f.reject(new Me(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new qx(Zm(u.path),y,{includeMetadataChanges:!0,Fa:!0});return zx(o,v)}(await vm(n),n.asyncQueue,e,t,r)),r.promise}function nL(n,e,t={}){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const y=new Qx({next:b=>{y.yu(),l.enqueueAndForget(()=>Hx(o,v)),b.fromCache&&h.source==="server"?f.reject(new Me(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new qx(u,y,{includeMetadataChanges:!0,Fa:!0});return zx(o,v)}(await vm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n,e,t){if(!t)throw new Me(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rL(n,e,t,r){if(e===!0&&r===!0)throw new Me(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _T(n){if(!$e.isDocumentKey(n))throw new Me(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ET(n){if($e.isDocumentKey(n))throw new Me(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function op(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Je(12329,{type:typeof n})}function Or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=op(n);throw new Me(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firestore.googleapis.com",TT=!0;class ST{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=TT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jV)throw new Me(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Me(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lp{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h5;switch(r.type){case"firstParty":return new g5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=wT.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),wT.delete(t),r.terminate())}(this),Promise.resolve()}}function aL(n,e,t,r={}){var a;n=Or(n,lp);const o=yx(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&PA(`https://${h}`),l.host!==lC&&l.host!==h&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!Ed(f,u)&&(n._setSettings(f),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=hr.MOCK_USER;else{y=MA(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hr(b)}n._authCredentials=new f5(new WA(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class gr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class Ys extends lo{constructor(e,t,r){super(e,t,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new $e(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Tn(n,e,...t){if(n=ka(n),oC("collection","path",e),n instanceof lp){const r=Wt.fromString(e,...t);return ET(r),new Ys(n,null,r)}{if(!(n instanceof gr||n instanceof Ys))throw new Me(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return ET(r),new Ys(n.firestore,null,r)}}function Dn(n,e,...t){if(n=ka(n),arguments.length===1&&(e=ZA.newId()),oC("doc","path",e),n instanceof lp){const r=Wt.fromString(e,...t);return _T(r),new gr(n,null,new $e(r))}{if(!(n instanceof gr||n instanceof Ys))throw new Me(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return _T(r),new gr(n.firestore,n instanceof Ys?n.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new HR(this,"async_queue_retry"),this.ju=()=>{const r=Wy();r&&Ne(DT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Wy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Wy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new $i;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!jc(e))throw e;Ne(DT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ts("INTERNAL UNHANDLED ERROR: ",RT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Fx.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Je(47125,{ec:RT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function RT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class rs extends lp{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new AT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function cC(n,e){const t=typeof n=="object"?n:FA(),r=typeof n=="string"?n:dm,a=VA(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=CA("firestore");o&&aL(a,...o)}return a}function cp(n){if(n._terminated)throw new Me(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||iL(n),n._firestoreClient}function iL(n){var e,t,r;const a=n._freezeSettings(),o=function(u,h,f,y){return new M5(u,h,f,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,sC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Z9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(tr.fromBase64String(e))}catch(t){throw new Me(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^__.*__$/;class oL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yd(e,this.data,t,this.fieldTransforms)}}class uC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je(40011,{oc:n})}}class dp{constructor(e,t,r,a,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return xm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(dC(this.oc)&&sL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class lL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}dc(e,t,r,a=!1){return new dp({oc:e,methodName:t,Ec:r,path:Zn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hp(n){const e=n._freezeSettings(),t=ap(n._databaseId);return new lL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hC(n,e,t,r,a,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,a);eb("Data must be an object, but it was:",l,r);const u=fC(r,l);let h,f;if(o.merge)h=new Hr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=sv(e,v,t);if(!l.contains(b))throw new Me(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);pC(y,b)||y.push(b)}h=new Hr(y),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new oL(new jr(u),h,f)}class fp extends Vc{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}function cL(n,e,t){return new dp({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xx extends Vc{_toFieldTransform(e){return new Ax(e.path,new Md)}isEqual(e){return e instanceof Xx}}class Zx extends Vc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=cL(this,e,!0),r=this.Ac.map(o=>Lc(o,t)),a=new vc(r);return new Ax(e.path,a)}isEqual(e){return e instanceof Zx&&Ed(this.Ac,e.Ac)}}class Jx extends Vc{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new Pd(e.serializer,_R(e.serializer,this.Rc));return new Ax(e.path,t)}isEqual(e){return e instanceof Jx&&this.Rc===e.Rc}}function uL(n,e,t,r){const a=n.dc(1,e,t);eb("Data must be an object, but it was:",a,r);const o=[],l=jr.empty();so(r,(h,f)=>{const y=tb(e,h,t);f=ka(f);const v=a.hc(y);if(f instanceof fp)o.push(y);else{const b=Lc(f,v);b!=null&&(o.push(y),l.set(y,b))}});const u=new Hr(o);return new uC(l,u,a.fieldTransforms)}function dL(n,e,t,r,a,o){const l=n.dc(1,e,t),u=[sv(e,r,t)],h=[a];if(o.length%2!=0)throw new Me(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)u.push(sv(e,o[b])),h.push(o[b+1]);const f=[],y=jr.empty();for(let b=u.length-1;b>=0;--b)if(!pC(f,u[b])){const _=u[b];let E=h[b];E=ka(E);const D=l.hc(_);if(E instanceof fp)f.push(_);else{const A=Lc(E,D);A!=null&&(f.push(_),y.set(_,A))}}const v=new Hr(f);return new uC(y,v,l.fieldTransforms)}function hL(n,e,t,r=!1){return Lc(t,n.dc(r?4:3,e))}function Lc(n,e){if(mC(n=ka(n)))return eb("Unsupported field value:",e,n),fC(n,e);if(n instanceof Vc)return function(r,a){if(!dC(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let l=0;for(const u of r){let h=Lc(u,a.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=ka(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _R(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mn.fromDate(r);return{timestampValue:mm(a.serializer,o)}}if(r instanceof Mn){const o=new Mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(a.serializer,o)}}if(r instanceof Kx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wc)return{bytesValue:kR(a.serializer,r._byteString)};if(r instanceof gr){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mx(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Wx)return function(l,u){return{mapValue:{fields:{[sR]:{stringValue:oR},[hm]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Tc("VectorValues must only contain numeric values.");return Dx(u.serializer,f)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${op(r)}`)}(n,e)}function fC(n,e){const t={};return eR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,(r,a)=>{const o=Lc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function mC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof Kx||n instanceof wc||n instanceof gr||n instanceof Vc||n instanceof Wx)}function eb(n,e,t){if(!mC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=op(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function sv(n,e,t){if((e=ka(e))instanceof up)return e._internalPath;if(typeof e=="string")return tb(n,e);throw xm("Field path arguments must be of type string or ",n,!1,void 0,t)}const fL=new RegExp("[~\\*/\\[\\]]");function tb(n,e,t){if(e.search(fL)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new up(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xm(n,e,t,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new Me(me.INVALID_ARGUMENT,u+n+h)}function pC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mL extends gC{data(){return super.data()}}function mp(n,e){return typeof e=="string"?tb(n,e):e instanceof up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Me(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{}class vC extends nb{}function Pr(n,e,...t){let r=[];e instanceof nb&&r.push(e),r=r.concat(t),function(o){const l=o.filter(h=>h instanceof rb).length,u=o.filter(h=>h instanceof pp).length;if(l>1||l>0&&u>0)throw new Me(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class pp extends vC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new pp(e,t,r)}_apply(e){const t=this._parse(e);return xC(e._query,t),new lo(e.firestore,e.converter,K0(e._query,t))}_parse(e){const t=hp(e.firestore);return function(o,l,u,h,f,y,v){let b;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Me(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){MT(v,y);const E=[];for(const D of v)E.push(NT(h,o,D));b={arrayValue:{values:E}}}else b=NT(h,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||MT(v,y),b=hL(u,l,v,y==="in"||y==="not-in");return Sn.create(f,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mr(n,e,t){const r=e,a=mp("where",n);return pp._create(a,r,t)}class rb extends nb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let l=a;const u=o.getFlattenedFilters();for(const h of u)xC(l,h),l=K0(l,h)}(e._query,t),new lo(e.firestore,e.converter,K0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ab extends vC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ab(e,t)}_apply(e){const t=function(a,o,l){if(a.startAt!==null)throw new Me(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Me(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(o,l)}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(a,o){const l=a.explicitOrderBy.concat([o]);return new Oc(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function ib(n,e="asc"){const t=e,r=mp("orderBy",n);return ab._create(r,t)}function NT(n,e,t){if(typeof(t=ka(t))=="string"){if(t==="")throw new Me(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pR(e)&&t.indexOf("/")!==-1)throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!$e.isDocumentKey(r))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YE(n,new $e(r))}if(t instanceof gr)return YE(n,t._key);throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(t)}.`)}function MT(n,e){if(!Array.isArray(n)||n.length===0)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xC(n,e){const t=function(a,o){for(const l of a)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Me(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pL{convertValue(e,t="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return so(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[hm].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>gn(l.doubleValue));return new Wx(o)}convertGeoPoint(e){return new Kx(gn(e.latitude),gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ad(e));default:return null}}convertTimestamp(e){const t=Xs(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);Ot(LR(r),9688,{name:e});const a=new Rd(r.get(1),r.get(3)),o=new $e(r.popFirst(5));return a.isEqual(t)||ts(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wC extends gC{constructor(e,t,r,a,o,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class zf extends wC{data(e={}){return super.data(e)}}class _C{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ed(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zf(this._firestore,this._userDataWriter,r.key,r,new ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(u=>{const h=new zf(a._firestore,a._userDataWriter,u.doc.key,u.doc,new ed(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new zf(a._firestore,a._userDataWriter,u.doc.key,u.doc,new ed(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,y=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:gL(u.type),doc:h,oldIndex:f,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n){n=Or(n,gr);const e=Or(n.firestore,rs);return tL(cp(e),n._key).then(t=>TC(e,n,t))}class sb extends pL{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,t)}}function Xn(n){n=Or(n,lo);const e=Or(n.firestore,rs),t=cp(e),r=new sb(e);return yC(n._query),nL(t,n._query).then(a=>new _C(e,r,n,a))}function ob(n,e,t){n=Or(n,gr);const r=Or(n.firestore,rs),a=bC(n.converter,e,t);return gp(r,[hC(hp(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,va.none())])}function Hi(n,e,t,...r){n=Or(n,gr);const a=Or(n.firestore,rs),o=hp(a);let l;return l=typeof(e=ka(e))=="string"||e instanceof up?dL(o,"updateDoc",n._key,e,t,r):uL(o,"updateDoc",n._key,e),gp(a,[l.toMutation(n._key,va.exists(!0))])}function yL(n){return gp(Or(n.firestore,rs),[new Rx(n._key,va.none())])}function EC(n,e){const t=Or(n.firestore,rs),r=Dn(n),a=bC(n.converter,e);return gp(t,[hC(hp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,va.exists(!1))]).then(()=>r)}function vL(n,...e){var t,r,a;n=ka(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||CT(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CT(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let h,f,y;if(n instanceof gr)f=Or(n.firestore,rs),y=Zm(n._key.path),h={next:v=>{e[l]&&e[l](TC(f,n,v))},error:e[l+1],complete:e[l+2]};else{const v=Or(n,lo);f=Or(v.firestore,rs),y=v._query;const b=new sb(f);h={next:_=>{e[l]&&e[l](new _C(f,b,v,_))},error:e[l+1],complete:e[l+2]},yC(n._query)}return function(b,_,E,D){const A=new Qx(D),j=new qx(_,A,E);return b.asyncQueue.enqueueAndForget(async()=>zx(await vm(b),j)),()=>{A.yu(),b.asyncQueue.enqueueAndForget(async()=>Hx(await vm(b),j))}}(cp(f),y,u,h)}function gp(n,e){return function(r,a){const o=new $i;return r.asyncQueue.enqueueAndForget(async()=>H9(await eL(r),a,o)),o.promise}(cp(n),e)}function TC(n,e,t){const r=t.docs.get(e._key),a=new sb(n);return new wC(n,a,e._key,r,new ed(t.hasPendingWrites,t.fromCache),e.converter)}function ov(){return new Xx("serverTimestamp")}function Zy(...n){return new Zx("arrayUnion",n)}function kT(n){return new Jx("increment",n)}(function(e,t=!0){(function(a){kc=a})(UA),Td(new fc("firestore",(r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new rs(new m5(r.getProvider("auth-internal")),new y5(l,r.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(f.options.projectId,y)}(l,a),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),zs(kE,PE,e),zs(kE,PE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebasestorage.googleapis.com",xL="storageBucket",bL=2*60*1e3,wL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends ol{constructor(e,t,r=0){super(Jy(e),`Firebase Storage: ${t} (${Jy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function Jy(n){return"storage/"+n}function _L(){const n="An unknown error occurred, please check the error payload for server response.";return new pi(di.UNKNOWN,n)}function EL(){return new pi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TL(){return new pi(di.CANCELED,"User canceled the upload/download.")}function SL(n){return new pi(di.INVALID_URL,"Invalid URL '"+n+"'.")}function DL(n){return new pi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function PT(n){return new pi(di.INVALID_ARGUMENT,n)}function DC(){return new pi(di.APP_DELETED,"The Firebase app was deleted.")}function AL(n){return new pi(di.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Na.makeFromUrl(e,t)}catch{return new Na(e,"")}if(r.path==="")return r;throw DL(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),h={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${y}/b/${a}/o${b}`,"i"),E={bucket:1,path:3},D=t===SC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",j=new RegExp(`^https?://${D}/${a}/${A}`,"i"),F=[{regex:u,indices:h,postModify:o},{regex:_,indices:E,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<F.length;q++){const k=F[q],$=k.regex.exec(e);if($){const O=$[k.indices.bucket];let R=$[k.indices.path];R||(R=""),r=new Na(O,R),k.postModify(r);break}}if(r==null)throw SL(e);return r}}class RL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(n,e,t){let r=1,a=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function y(...A){f||(f=!0,e.apply(null,A))}function v(A){a=setTimeout(()=>{a=null,n(_,h())},A)}function b(){o&&clearTimeout(o)}function _(A,...j){if(f){b();return}if(A){b(),y.call(null,A,...j);return}if(h()||l){b(),y.call(null,A,...j);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let E=!1;function D(A){E||(E=!0,b(),!f&&(a!==null?(A||(u=2),clearTimeout(a),v(0)):A||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,D(!0)},t),D}function NL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(n){return n!==void 0}function jT(n,e,t,r){if(r<e)throw PT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw PT(`Invalid value for '${n}'. Expected ${t} or less.`)}function kL(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var bm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(bm||(bm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t,r,a,o,l,u,h,f,y,v,b=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,D)=>{this.resolve_=E,this.reject_=D,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Ef(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===bm.NO_ERROR,h=o.getStatus();if(!u||PL(h,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===bm.ABORT;r(!1,new Ef(!1,null,y));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Ef(f,o))})},t=(r,a)=>{const o=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());ML(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=_L();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(a.canceled){const h=this.appDelete_?DC():TL();l(h)}else{const h=EL();l(h)}};this.canceled_?t(!1,new Ef(!1,null,!0)):this.backoffId_=CL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function OL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function IL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function LL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function UL(n,e,t,r,a,o,l=!0,u=!1){const h=kL(n.urlParams),f=n.url+h,y=Object.assign({},n.headers);return VL(y,e),OL(y,t),IL(y,o),LL(y,r),new jL(f,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function BL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){this._service=e,t instanceof Na?this._location=t:this._location=Na.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wm(e,t)}get root(){const e=new Na(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BL(this._location.path)}get storage(){return this._service}get parent(){const e=FL(this._location.path);if(e===null)return null;const t=new Na(this._location.bucket,e);return new wm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw AL(e)}}function OT(n,e){const t=e==null?void 0:e[xL];return t==null?null:Na.makeFromBucketSpec(t,n)}function zL(n,e,t,r={}){n.host=`${e}:${t}`;const a=yx(e);a&&PA(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:MA(o,n.app.options.projectId))}class HL{constructor(e,t,r,a,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=SC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bL,this._maxUploadRetryTime=wL,this._requests=new Set,a!=null?this._bucket=Na.makeFromBucketSpec(a,this._host):this._bucket=OT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Na.makeFromBucketSpec(this._url,e):this._bucket=OT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(LA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wm(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new RL(DC());{const l=UL(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const IT="@firebase/storage",VT="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="storage";function RC(n=FA(),e){n=ka(n);const r=VA(n,AC).getImmediate({identifier:e}),a=CA("storage");return a&&YL(r,...a),r}function YL(n,e,t,r={}){zL(n,e,t,r)}function qL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new HL(t,r,a,e,UA)}function $L(){Td(new fc(AC,qL,"PUBLIC").setMultipleInstances(!0)),zs(IT,VT,""),zs(IT,VT,"esm2017")}$L();const GL={apiKey:"AIzaSyDePZqpCrFdNsN1hUdw2_rwMfKP41SJgvU",authDomain:"nafa3ny-de185.firebaseapp.com",projectId:"nafa3ny-de185",storageBucket:"nafa3ny-de185.firebasestorage.app",messagingSenderId:"346694832541",appId:"1:346694832541:web:d2869f3ffb43e3c69a5f74"},QL={apiKey:"AIzaSyAtavYnI9TNKfwxDm2cwFuLoxsgdTcNU8s",authDomain:"nafany2-589de.firebaseapp.com",projectId:"nafany2-589de",storageBucket:"nafany2-589de.firebasestorage.app",messagingSenderId:"440873274458",appId:"1:440873274458:web:2236ff7a246bdcd45a1c63"},CC=xx(GL),NC=xx(QL,"app2"),ct=cC(CC);cC(NC);RC(CC);RC(NC);const KL=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),[a,o]=M.useState(""),[l,u]=M.useState(""),[h,f]=M.useState(!1),y=nr(),v=async b=>{b.preventDefault(),u(""),f(!0);try{n==="admin"&&t==="admin1"&&y("/nafany/admin");const E=Tn(ct,a==="user"?"users":"serviceProviders"),D=Pr(E,mr("email","==",n)),A=await Xn(D);if(A.empty){u("  ");return}const j=A.docs[0],U=j.data();if(U.password!==t){u("   ");return}const F={uid:j.id,email:U.email,name:U.name||"",phone:U.phone||"",role:a,governorate:U.governorate||"",...a==="provider"&&{profession:U.profession||"",category:U.category||"",profileImage:U.profileImage||""}};localStorage.setItem("currentUser",JSON.stringify(F)),a==="user"?y("/nafany"):a==="provider"&&y("/nafany/servicer_page")}catch(_){console.error("   :",_),u("    ")}finally{f(!1)}};return p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:p.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100",dir:"rtl",children:[p.jsx(ee.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-cyan-800 mb-6 text-center",children:" "}),l&&p.jsx("p",{className:"text-red-600 text-center mb-4",children:l}),p.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-gray-700 mb-2",children:"    *"}),p.jsx("input",{type:"text",value:n,onChange:b=>e(b.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-gray-700 mb-2",children:" *"}),p.jsx("input",{type:"password",value:t,onChange:b=>r(b.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"radio",id:"user",name:"role",value:"user",checked:a==="user",onChange:()=>o("user"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),p.jsx("label",{htmlFor:"user",className:"mr-2 block text-sm text-gray-700",children:""})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"radio",id:"provider",name:"role",value:"provider",checked:a==="provider",onChange:()=>o("provider"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),p.jsx("label",{htmlFor:"provider",className:"mr-2 block text-sm text-gray-700",children:" "})]})]})}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(ee.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full py-3 bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 text-white rounded-md text-center font-medium shadow-md",disabled:h,children:h?" ...":" "}),p.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:p.jsx("button",{onClick:()=>y(-1),className:"block w-full py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md text-center font-medium shadow-md",children:""})})]})]}),p.jsxs("div",{className:"mt-6 text-center",children:[p.jsx("p",{className:"text-gray-600 mb-3",children:"  "}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(tm,{to:"/nafany/register_user",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"   "}),p.jsx(tm,{to:"/nafany/register",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"  "})]})]})]})})},WL=()=>{var N;const n=nr(),[e,t]=M.useState({name:"",email:"",password:"",nationalId:"",governorate:"",category:"",profession:"",subscriptionFee:"",idFrontImage:null,idBackImage:null,profileImage:null,bio:"",allowContact:!1,phone:"",address:"",ratings:{},chats:{},worksCount:0,averageRating:0,totalRatings:0,role:"user",works:[],worksCount:0}),[r,a]=M.useState(null),[o,l]=M.useState(null),[u,h]=M.useState(null),[f,y]=M.useState({}),[v,b]=M.useState(!1),[_,E]=M.useState(!1),D=[" ",""],A={" ":["","","","",""," ","",""]," ":[" ",""," ","","  "," "]," ":[" ","","",""]," ":["","","",""," "]},j=["100 ","200 ","300 "];M.useEffect(()=>{t(C=>({...C,governorate:D[0],category:Object.keys(A)[0],profession:A[Object.keys(A)[0]][0],subscriptionFee:j[0]}))},[]);const U=()=>{let C={};return e.name.trim()||(C.name=" "),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(C.email="   "):C.email="  ",e.password.trim()?e.password.length<6&&(C.password="     6   "):C.password="  ",e.nationalId.trim()||(C.nationalId="  "),e.idFrontImage||(C.idFrontImage="   "),e.idBackImage||(C.idBackImage="   "),e.phone.trim()||(C.phone="  "),e.address.trim()||(C.address=" "),y(C),Object.keys(C).length===0},F=async C=>{const L=Pr(Tn(ct,"serviceProviders"),mr("email","==",C));return!(await Xn(L)).empty},q=(C,L)=>{if(!C)return;const z=new FileReader;z.onload=()=>{const B=z.result;t(Ee=>({...Ee,[L]:B})),L==="idFrontImage"?(a(B),y({...f,idFrontImage:""})):L==="idBackImage"?(l(B),y({...f,idBackImage:""})):L==="profileImage"&&h(B)},z.readAsDataURL(C)},k=C=>{const L=C.target.value;t(z=>({...z,category:L,profession:A[L][0],allowContact:L===" "?z.allowContact:!1}))},$=async C=>{if(C.preventDefault(),E(!0),!U()){E(!1);return}try{if(await F(e.email)){b(!0),E(!1);return}if(!e.idFrontImage||!e.idBackImage){y({...f,idFrontImage:e.idFrontImage?"":"   ",idBackImage:e.idBackImage?"":"   "}),E(!1);return}const z={name:e.name,email:e.email,password:e.password,nationalId:e.nationalId,governorate:e.governorate,category:e.category,profession:e.profession,subscriptionFee:e.subscriptionFee,idFrontImage:e.idFrontImage,idBackImage:e.idBackImage,profileImage:e.profileImage,bio:e.bio,phone:e.phone,address:e.address,createdAt:new Date,ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0,bookings:[],reviews:[],ratingsCount:0,ratingsTotal:0};e.category===" "&&(z.allowContact=e.allowContact),await ob(Dn(ct,"serviceProviders",e.email),z),alert("  "),n("/nafany/login")}catch(L){console.error("   : ",L),alert("       ")}finally{E(!1)}},O=C=>{const{name:L,value:z}=C.target;t({...e,[L]:z}),f[L]&&y({...f,[L]:""}),L==="email"&&v&&b(!1)},R=(C,L)=>{const z={name:"",email:" ",password:" ",nationalId:" ",phone:" ",address:""},B={password:"password",email:"email",nationalId:"number",phone:"tel",default:"text"};return p.jsxs(ee.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:L*.2},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:z[C]}),p.jsx("input",{type:B[C]||B.default,name:C,placeholder:` ${z[C]}`,className:`w-full border ${f[C]?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,required:!0,value:e[C],onChange:O}),f[C]&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:f[C]}),C==="email"&&v&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:"   "})]},L)};return p.jsx(ee.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:p.jsxs(ee.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[p.jsx(ee.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"  "}),p.jsxs(ee.form,{onSubmit:$,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[["name","email","password","nationalId","phone","address"].map((C,L)=>R(C,L)),p.jsxs(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:""}),p.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.category,onChange:k,children:Object.keys(A).map((C,L)=>p.jsx("option",{value:C,children:C},L))})]}),p.jsxs(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"/"}),p.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.profession,onChange:C=>t(L=>({...L,profession:C.target.value})),children:(N=A[e.category])==null?void 0:N.map((C,L)=>p.jsx("option",{value:C,children:C},L))})]}),e.category===" "&&p.jsx(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:e.allowContact,onChange:C=>t(L=>({...L,allowContact:C.target.checked})),className:"rounded text-cyan-600 focus:ring-cyan-500"}),p.jsx("span",{className:"text-gray-700",children:"     "})]})}),p.jsxs(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:""}),p.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:C=>t(L=>({...L,governorate:C.target.value})),children:D.map((C,L)=>p.jsx("option",{className:`${L<3&&L!=0?"text-red-600":""}`,value:C,children:C},L))})]}),p.jsxs(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:" "}),p.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.subscriptionFee,onChange:C=>t(L=>({...L,subscriptionFee:C.target.value})),children:j.map((C,L)=>p.jsx("option",{value:C,children:C},L))})]}),p.jsxs(ee.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"idFrontImage",label:"   ",preview:r,error:f.idFrontImage},{field:"idBackImage",label:"   ",preview:o,error:f.idBackImage}].map((C,L)=>p.jsxs(ee.div,{className:"space-y-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:L*.3},children:[p.jsxs("div",{className:`bg-gray-50 border-2 border-dashed ${C.error?"border-red-500":"border-gray-300"} rounded-lg p-4 text-center hover:border-cyan-400 transition-colors`,children:[p.jsx("input",{type:"file",className:"hidden",id:`id-image-${L}`,required:!0,onChange:z=>q(z.target.files[0],C.field),accept:"image/*"}),p.jsx("label",{htmlFor:`id-image-${L}`,className:"cursor-pointer",children:p.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:C.preview?p.jsx("img",{src:C.preview,alt:C.label,className:"h-20 w-20 object-cover rounded-lg mb-2"}):p.jsxs(p.Fragment,{children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),p.jsx("span",{className:"text-sm font-medium",children:C.label}),p.jsx("span",{className:"text-xs mt-1",children:" "})]})})})]}),C.error&&p.jsx("p",{className:"text-red-500 text-sm",children:C.error})]},L))})]}),p.jsxs(ee.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-cyan-400 transition-colors",children:[p.jsx("input",{type:"file",className:"hidden",id:"profile-image",onChange:C=>q(C.target.files[0],"profileImage"),accept:"image/*"}),p.jsx("label",{htmlFor:"profile-image",className:"cursor-pointer",children:p.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:u?p.jsx("img",{src:u,alt:" ",className:"h-20 w-20 object-cover rounded-full mb-2"}):p.jsxs(p.Fragment,{children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),p.jsx("span",{className:"text-sm font-medium",children:" "}),p.jsx("span",{className:"text-xs mt-1",children:" "})]})})})]})]}),p.jsxs(ee.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.9},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:" "}),p.jsx("textarea",{placeholder:"     ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:e.bio,onChange:C=>t(L=>({...L,bio:C.target.value}))})]}),p.jsxs(ee.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(ee.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:""}),p.jsx(ee.button,{type:"submit",className:`py-3 ${_?"bg-cyan-400":"bg-cyan-600 hover:bg-cyan-700"} text-white rounded-lg font-medium shadow-md flex items-center justify-center`,whileHover:{scale:_?1:1.03},whileTap:{scale:_?1:.97},disabled:_,children:_?" ...":""})]})]})]})})},XL=()=>{const n=nr(),[e,t]=M.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",chats:{}}),[r,a]=M.useState({}),[o,l]=M.useState(!1),[u,h]=M.useState(!1),f=[" ",""],y=()=>{let D={};return e.name.trim()||(D.name=" "),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(D.email="   "):D.email="  ",e.password.trim()?e.password.length<6&&(D.password="     6   "):D.password="  ",e.governorate||(D.governorate="  "),a(D),Object.keys(D).length===0},v=async D=>{const A=Pr(Tn(ct,"users"),mr("email","==",D));return!(await Xn(A)).empty},b=async D=>(await _c(Dn(ct,"users",D))).exists(),_=async D=>{if(D.preventDefault(),!y())return;const A=e.email.split("@")[0],j=await v(e.email),U=await b(A);if(j){l(!0);return}if(U){h(!0);return}try{await ob(Dn(ct,"users",A),{...e}),alert("User registered successfully"),n("/nafany/login")}catch(F){console.error("Error adding user: ",F)}},E=D=>{t({...e,[D.target.name]:D.target.value}),a({...r,[D.target.name]:""}),D.target.name==="email"&&(l(!1),h(!1))};return p.jsx(ee.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:p.jsxs(ee.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[p.jsx(ee.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:" "}),p.jsxs(ee.form,{onSubmit:_,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[[{label:"",name:"name"},{label:" ",name:"email"},{label:" ",name:"password",type:"password"},{label:" ",name:"phoneNumber"}].map(({label:D,name:A,type:j="text"},U)=>p.jsxs(ee.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:U*.2},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:D}),p.jsx("input",{type:j,name:A,placeholder:` ${D}`,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e[A],onChange:E}),r[A]&&p.jsx("p",{className:"text-red-500 text-sm",children:r[A]}),A==="email"&&o&&p.jsx("p",{className:"text-red-500 text-sm",children:"   "}),A==="email"&&u&&p.jsx("p",{className:"text-red-500 text-sm",children:"   "})]},U)),p.jsxs(ee.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:""}),p.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:E,children:[p.jsx("option",{value:"",disabled:!0,children:" "}),f.map((D,A)=>p.jsx("option",{className:`${A<3&&A!=0?"text-red-600":""}`,value:D,children:D},A))]}),r.governorate&&p.jsx("p",{className:"text-red-500 text-sm",children:r.governorate})]}),p.jsxs(ee.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(ee.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:""}),p.jsx(ee.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:""})]})]})]})})};var MC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LT=Z.createContext&&Z.createContext(MC),ZL=["attr","size","title"];function JL(n,e){if(n==null)return{};var t=e8(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function e8(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _m(){return _m=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_m.apply(this,arguments)}function UT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Em(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(t),!0).forEach(function(r){t8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function t8(n,e,t){return e=n8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n8(n){var e=r8(n,"string");return typeof e=="symbol"?e:e+""}function r8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kC(n){return n&&n.map((e,t)=>Z.createElement(e.tag,Em({key:t},e.attr),kC(e.child)))}function Yt(n){return e=>Z.createElement(a8,_m({attr:Em({},n.attr)},e),kC(n.child))}function a8(n){var e=t=>{var{attr:r,size:a,title:o}=n,l=JL(n,ZL),u=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Z.createElement("svg",_m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Em(Em({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Z.createElement("title",null,o),n.children)};return LT!==void 0?Z.createElement(LT.Consumer,null,t=>e(t)):e(MC)}function i8(n){return Yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function s8(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function o8(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function l8(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function td(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function PC(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function jC(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function nd(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function c8(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function e0(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function t0(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function FT(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function u8(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function n0(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function d8(n){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function r0(n){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function h8(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function BT(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function zT(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function fd(n){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function a0(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function Hf(n){return Yt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function f8(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Gi(n){return Yt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function Yf(n){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(n)}function OC(n){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const IC=({isLoggedIn:n,onLogout:e,userData:t})=>{const r=nr(),[a,o]=Z.useState(!1),[l,u]=M.useState(!1);return p.jsxs(ee.header,{className:"bg-gradient-to-r from-cyan-600 to-blue-700 shadow-lg px-4 md:px-8 py-3 md:py-4 flex justify-between items-center relative",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},dir:"rtl",children:[p.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white opacity-10 transform skew-x-12"}),p.jsx("div",{className:"absolute left-0 bottom-0 h-24 w-24 bg-white opacity-10 rounded-full"}),p.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto relative z-10",children:[p.jsx("img",{src:"/nafany/IMG-20250322-WA0070.jpg",alt:"Logo",className:"h-12 w-12 sm:h-16 sm:w-16 md:h-20 md:w-20 object-contain ml-2 md:ml-4 bg-white p-1 rounded-full border-2 border-white shadow-md"}),p.jsxs("nav",{className:"hidden md:flex items-center mr-4 space-x-reverse space-x-4 lg:space-x-6 font-bold text-base lg:text-xl",children:[p.jsx("button",{onClick:()=>r("/nafany/complaints"),className:"text-white hover:text-gray-200 transition-colors",children:" "}),p.jsx("button",{onClick:()=>r("/nafany/contact"),className:"text-white hover:text-gray-200 transition-colors",children:" "}),p.jsx("button",{onClick:()=>r("/nafany/settings"),className:"text-white hover:text-gray-200 transition-colors",children:""})]}),p.jsx("button",{className:"md:hidden text-white mr-2 z-50",onClick:()=>o(!a),"aria-label":"",children:a?p.jsx(Hf,{size:24}):p.jsx(c8,{size:24})})]}),p.jsx("div",{className:"hidden md:flex flex-col items-end relative z-10 text-right",children:n&&p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>u(h=>!h),children:[t!=null&&t.profileImage?p.jsx("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full border-2 border-white shadow-md object-cover ml-3"}):p.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-white shadow-md bg-white text-cyan-700 flex items-center justify-center text-2xl ml-3",children:p.jsx(Gi,{})}),p.jsxs("span",{className:"text-white font-medium text-base ml-4",children:[" ",(t==null?void 0:t.name)||" "]})]}),l&&p.jsx(ee.button,{onClick:()=>{e(),r("/nafany/login")},className:"mt-2 bg-white text-cyan-700 px-5 py-2 rounded-md hover:bg-gray-100 text-sm font-semibold shadow-md transition-colors duration-300 w-[50%] text-right",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:" "})]})}),p.jsx(zi,{children:a&&p.jsx(ee.div,{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),children:p.jsxs(ee.div,{className:"absolute top-16 right-0 w-3/4 max-w-sm h-full bg-white shadow-lg z-50 overflow-y-auto overflow-x-hidden",initial:{x:300},animate:{x:0},exit:{x:300},transition:{type:"spring",damping:25,stiffness:300},onClick:h=>h.stopPropagation(),children:[n&&p.jsxs("div",{className:"px-6 pt-6 pb-4 border-b border-gray-200 flex items-center",children:[t!=null&&t.profileImage?p.jsx("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full border-2 border-cyan-600 shadow-md object-cover ml-3"}):p.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-cyan-600 shadow-md bg-cyan-100 text-cyan-700 flex items-center justify-center text-2xl ml-3",children:p.jsx(Gi,{})}),p.jsxs("span",{className:"text-gray-700 font-medium text-base block",children:[" ",(t==null?void 0:t.name)||" "]})]}),p.jsxs("nav",{className:"flex flex-col items-end p-6 space-y-6 font-bold text-lg",children:[p.jsx("button",{onClick:()=>{r("/nafany/settings"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right flex items-center justify-end",children:p.jsx("span",{children:""})}),p.jsx("button",{onClick:()=>{r("/nafany/contact"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right flex items-center justify-end",children:p.jsx("span",{children:" "})}),p.jsx("button",{onClick:()=>{r("/nafany/complaints"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right flex items-center justify-end",children:p.jsx("span",{children:" "})}),p.jsx("div",{className:"w-full pt-4 border-t border-gray-200",children:p.jsx(ee.button,{onClick:()=>{n&&e(),r("/nafany/login"),o(!1)},className:"bg-gradient-to-r from-cyan-600 to-blue-700 text-white py-3 rounded-lg hover:opacity-90 text-base w-full text-center font-bold",whileTap:{scale:.95},children:n?" ":" "})})]})]})})})]})},m8=({title:n,description:e,image:t,bgColor:r})=>{const a=nr();return p.jsx(ee.div,{className:`relative overflow-hidden rounded-xl shadow-lg p-6 ${r} transform transition-all duration-300 cursor-pointer`,whileHover:{scale:1.05,transition:{duration:.3}},onClick:()=>a(`/nafany/service_categories/${n}`),children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("img",{src:t,alt:n,className:"w-32 h-32 object-cover mb-4 rounded-full shadow-md"}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n}),p.jsx("p",{className:"text-center text-white opacity-80",children:e})]})})},p8=({title:n,description:e,discount:t,isLoggedIn:r})=>{const a=nr(),o=()=>{r?a("/nafany"):(alert("      "),a("/nafany/login"))};return p.jsx(ee.div,{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 overflow-hidden border-2 border-cyan-100 w-full",whileHover:{scale:1.03,transition:{duration:.3}},dir:"rtl",children:p.jsxs("div",{className:"flex flex-col items-start",children:[p.jsx("h3",{className:"text-lg sm:text-xl font-bold text-cyan-800 mb-2 sm:mb-3",children:n}),p.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 flex-grow line-clamp-3",children:e}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between w-full gap-3 sm:gap-0",children:[p.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:[" ",t,"%"]}),p.jsx("button",{className:"bg-cyan-600 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-sm hover:bg-cyan-700 w-full sm:w-auto text-center",onClick:o,children:r?" ":" "})]})]})})},g8=()=>{const[n,e]=M.useState(!1),[t,r]=M.useState(null),[a,o]=M.useState(!0),[l,u]=M.useState([]),h=nr();M.useEffect(()=>{const D=async()=>{try{const j=localStorage.getItem("currentUser");if(j&&j!=='""'){const U=JSON.parse(j);if(U)if(r(U),e(!0),U.role==="provider")h("/nafany/servicer_page");else{const F=await f(U.id||U.uid);u(F),console.log("User chats:",F)}}}catch(j){console.error("Error parsing user data:",j),localStorage.removeItem("currentUser")}o(!1)};D();const A=j=>{j.key==="currentUser"&&D()};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[h]);const f=async D=>{try{const A=Pr(Tn(ct,"chats"),mr("participants","array-contains",D),ib("lastMessageTime","desc"));return(await Xn(A)).docs.map(U=>{var F,q;return{id:U.id,...U.data(),lastMessageTime:((q=(F=U.data().lastMessageTime)==null?void 0:F.toDate)==null?void 0:q.call(F))||new Date}})}catch(A){return console.error("Error fetching chats:",A),[]}},y=(D,A,j)=>{const U=t.id||t.uid;h(`/nafany/chat/${D}`,{state:{provider:{id:D,name:A,email:j||"provider@example.com"},user:{id:U,name:t.name,email:t.email,profileImage:t.profileImage}}})},v=()=>{localStorage.removeItem("currentUser"),e(!1),r(null),h("/nafany")},b=[{title:" ",description:"        ",image:"/nafany/electric.jpg",bgColor:"bg-[#2f4156]"},{title:" ",description:"    ",image:"/nafany/medicin.jpg",bgColor:"bg-[#567c8d]"},{title:" ",description:"      ",image:"/nafany/download.png",bgColor:"bg-[#808080]"},{title:" ",description:"       ",image:"/nafany/download (1).png",bgColor:"bg-[#62a2d3]"}],_=[{title:" ",description:"      ",discount:20},{title:" ",description:"    ",discount:25}],E=()=>n?p.jsxs(ee.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},children:[p.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"   "}),l.length>0?p.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 direction-rtl",children:p.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map(D=>{var F;const A=D.participants[0]===t.id?D.participants[0]:D.participants[1],j=D.participantsNames[0]===t.name?D.participantsNames[1]:D.participantsNames[0],U=(F=D.participantsEmails)==null?void 0:F.find(q=>q!==t.email);return p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>y(A,j,U),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Gi,{className:"text-gray-400 text-2xl ml-3"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-cyan-800",children:j}),p.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:D.lastMessage})]})]}),p.jsx(jC,{className:"text-cyan-600"})]},D.id)})})}):p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 text-center",children:[p.jsx("p",{className:"text-gray-500",children:"    "}),p.jsx("p",{className:"text-cyan-600 mt-2",children:"     "})]})]}):null;return a?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"text-2xl text-cyan-800",children:" ..."})}):p.jsxs(ee.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[p.jsx(IC,{isLoggedIn:n,onLogout:v,userData:t}),p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx(ee.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"   "}),p.jsx(ee.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:b.map((D,A)=>p.jsx(m8,{...D},A))}),E(),p.jsxs(ee.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.6},children:[p.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"  "}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_.map((D,A)=>p.jsx(p8,{...D,isLoggedIn:n},A))})]})]})]})},y8=()=>{const{serviceType:n,professionType:e}=zm(),t=nr(),[r,a]=M.useState([]),[o,l]=M.useState([]),[u,h]=M.useState(!0),[f,y]=M.useState(""),[v,b]=M.useState(""),[_,E]=M.useState([]),[D,A]=M.useState([]);M.useEffect(()=>{(async()=>{try{h(!0);const q=Pr(Tn(ct,"serviceProviders"),mr("category","==",n),mr("profession","==",e)),k=await Xn(q),$=[],O=new Set([""]),R=new Set([""]);k.forEach(N=>{const C=N.data(),L=C.profession||" ",z=C.governorate||" ";$.push({id:N.id,title:L,description:C.bio||"  ",imageUrl:C.profileImage||C.idFrontImage||"../../public/IMG-20250322-WA0070.jpg",governorate:z,providerData:{...C,id:N.id}}),O.add(L),R.add(z)}),a($),l($),console.log("Jobs data:",$),E(Array.from(O)),A([...R]),h(!1)}catch(q){console.error("Error fetching jobs:",q),h(!1)}})()},[n,e]),M.useEffect(()=>{let F=[...r];f!==""&&(F=F.filter(q=>q.title===f)),v!==""&&(F=F.filter(q=>q.governorate===v)),l(F)},[f,v,r]);const j=(F,q)=>{t(`/nafany/book_page/${F.id}`,{state:{provider:F,bool:q}})},U=()=>{let F=`${e} - ${n}`;return v!==""?F+=`  ${v}`:F+="    ",F};return p.jsxs(ee.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[p.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),""]}),p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx(ee.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:U()}),p.jsxs(ee.div,{className:"bg-white p-4 rounded-lg shadow-md mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"   :"}),p.jsx("select",{value:v,onChange:F=>b(F.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-cyan-500",children:D.map((F,q)=>p.jsx("option",{className:`${q<3&&q!=0?"text-red-600":""}`,value:F,children:F},`gov-${q}`))})]})}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{onClick:()=>{y(""),b("")},className:"text-cyan-600 hover:text-cyan-800 text-sm",children:"  "}),p.jsxs("span",{className:"text-sm text-gray-500",children:[o.length,"  "]})]})]}),u?p.jsx("div",{className:"text-center text-gray-600 text-xl",children:"  ..."}):o.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((F,q)=>p.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.1},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("img",{src:F.imageUrl,alt:F.title,className:"w-20 h-20 object-cover rounded-full mr-4 border-2 border-cyan-100",onError:k=>{k.target.onerror=null,k.target.src="../../public/IMG-20250322-WA0070.jpg"}}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:F.title}),p.jsx("p",{className:"text-gray-600 text-sm mt-1",children:F.description})]})]}),p.jsxs("div",{className:"flex justify-between items-center mt-4",children:[p.jsx("span",{className:"text-sm text-gray-500",children:F.governorate}),p.jsx("button",{onClick:()=>j(F.providerData,F.providerData.category==" "||F.providerData.category==" "),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"  "})]})]},q))}):p.jsx("div",{className:"text-center text-gray-600 text-xl",children:"    "})]})]})},v8=({userId:n,onChatSelect:e})=>{const[t,r]=M.useState([]),[a,o]=M.useState(!0),[l,u]=M.useState(null),h=async f=>{try{const y=Pr(Tn(ct,"chats"),mr("participants","array-contains",f),ib("lastMessageTime","desc")),b=(await Xn(y)).docs.map(_=>{var E,D;return{id:_.id,..._.data(),lastMessageTime:((D=(E=_.data().lastMessageTime)==null?void 0:E.toDate)==null?void 0:D.call(E))||new Date}});r(b),o(!1)}catch(y){console.error("Error fetching chats:",y),u("  "),o(!1)}};return M.useEffect(()=>{n&&h(n)},[n]),a?p.jsx("div",{className:"text-center py-4",children:"  ..."}):l?p.jsx("div",{className:"text-center text-red-500 py-4",children:l}):p.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:t.length>0?t.map(f=>{const y=f.participants[0]===n?f.participants[1]:f.participants[0],v=f.participantsNames[0]===n?f.participantsNames[1]:f.participantsNames[0];return p.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>{var b;return e(y,v,(b=f.participantsEmails)==null?void 0:b.find(_=>_!==n))},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Gi,{className:"text-gray-400 text-2xl mr-3"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-cyan-800",children:v}),p.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:f.lastMessage})]})]}),p.jsx(jC,{className:"text-cyan-600"})]},f.id)}):p.jsx("p",{className:"text-center text-gray-500 py-4",children:"   "})})},zu={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Xa={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},HT={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:20}},hover:{scale:1.03,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.1)",transition:{type:"spring",stiffness:400,damping:10}}},ur={hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:10}},tap:{scale:.95}},x8=()=>{const n=nr(),e=Oa(),[t,r]=M.useState(null),[a,o]=M.useState([]),[l,u]=M.useState([]),[h,f]=M.useState([]),[y,v]=M.useState(!0),[b,_]=M.useState(!1),[E,D]=M.useState([]),[A,j]=M.useState(1),[U,F]=M.useState(!0),[q,k]=M.useState("works"),[$,O]=M.useState(!1),[R,N]=M.useState(null),[C,L]=M.useState(null),[z,B]=M.useState(!1),[Ee,be]=M.useState(!1),[G,re]=M.useState({title:"",description:"",images:[],previewImages:[]}),oe=()=>{localStorage.removeItem("currentUser"),_(!1),r(null),n("/nafany")},[ve,P]=M.useState(null),[W,ue]=M.useState({title:"",description:"",images:[],previewImages:[]}),[de,we]=M.useState({allProviders:[],currentProvider:null,totalProviders:0});M.useEffect(()=>{const xe=new AbortController;return(async()=>{try{const ke=localStorage.getItem("currentUser");if(ke&&ke!=='""'){const Ke=JSON.parse(ke);r(Ke),_(!0),console.log("User found in localStorage:",b),await Ye(Ke.email),v(!1),Be(Ke.email).then(et=>{et&&we(et)})}else n("/nafany/login")}catch(ke){ke.name!=="AbortError"&&(console.error(ke),v(!1))}})(),()=>xe.abort()},[n,e,A]),console.log("User found in localStorage:",b);const Be=async xe=>{try{const Qe=Pr(Tn(ct,"serviceProviders")),Ke=(await Xn(Qe)).docs.map(Re=>{const Se=Re.data(),We=Se.reviews||[],_t=We.length,vr=We.reduce((ss,Gr)=>ss+(Gr.rating||0),0),ir=_t>0?vr/_t:0;return{id:Re.id,...Se,ratingsCount:_t,ratingsTotal:vr,averageRating:Number(ir.toFixed(1))}});Ke.sort((Re,Se)=>Se.averageRating===Re.averageRating?Se.ratingsCount-Re.ratingsCount:Se.averageRating-Re.averageRating);const et=Ke.find(Re=>Re.email===xe),ge=Ke.findIndex(Re=>Re.email===xe)+1;return{allProviders:Ke,currentProvider:et,currentRank:ge,totalProviders:Ke.length}}catch(Qe){return console.error("Error fetching providers:",Qe),null}},Ye=async xe=>{try{const Qe=Pr(Tn(ct,"serviceProviders"),mr("email","==",xe)),ke=await Xn(Qe);if(!ke.empty){const et=ke.docs[0].data(),ge=et.works||[],Re=et.reviews||[],Se=ge.map((_t,vr)=>({id:_t.id||`work-${vr}-${Date.now()}`,..._t})),We=Re.map((_t,vr)=>({id:_t.id||`review-${vr}-${Date.now()}`,..._t}));return o(Se),u(We),D(et.bookings||[]),Se}return[]}catch(Qe){return console.error("Error fetching works:",Qe),[]}},Lt=(xe,Qe,ke)=>{const Ke=t.id||t.uid;n(`/nafany/chat/${xe}`,{state:{provider:{id:Ke,name:t.name,email:t.email,profileImage:t.profileImage},user:{id:xe,name:Qe,email:ke||"client@example.com"}}})},at=async(xe,Qe)=>{try{const ke=Pr(Tn(ct,"serviceProviders"),mr("email","==",t.email)),Ke=await Xn(ke);if(Ke.empty){console.error("Provider not found");return}const et=Ke.docs[0],ge=Dn(ct,"serviceProviders",et.id),Se=et.data().bookings.map(We=>We.id===xe?{...We,status:Qe,updatedAt:new Date().toISOString()}:We);await Hi(ge,{bookings:Se}),D(Se)}catch(ke){console.error("Error updating booking status:",ke)}},qe=async(xe,Qe=!1)=>{try{const ke=[];for(const Ke of xe){const et=new FileReader,Re=await new Promise((Se,We)=>{et.onload=()=>Se(et.result),et.onerror=_t=>We(_t),et.readAsDataURL(Ke)});ke.push(Re)}Qe?ue(Ke=>({...Ke,images:[...Ke.images,...ke],previewImages:[...Ke.previewImages,...ke]})):re(Ke=>({...Ke,images:ke,previewImages:ke}))}catch(ke){console.error("Error uploading images:",ke)}},it=async xe=>{if(xe.preventDefault(),!!t)try{const Qe=Pr(Tn(ct,"serviceProviders"),mr("email","==",t.email)),ke=await Xn(Qe);if(ke.empty){console.error("Provider not found");return}const Ke=ke.docs[0],et=Dn(ct,"serviceProviders",Ke.id),ge=Ke.data(),Re={id:`work-${Date.now()}`,title:G.title,description:G.description,images:G.images,createdAt:new Date,comments:[],ratings:[]},Se=[...ge.works||[],Re];await Hi(et,{works:Se,worksCount:Se.length}),await Ye(t.email),re({title:"",description:"",images:[],previewImages:[]}),O(!1)}catch(Qe){console.error("Error adding work:",Qe)}},Bt=xe=>{P(xe.id),ue({title:xe.title,description:xe.description,images:xe.images,previewImages:xe.images}),O(!0)},yr=async xe=>{xe.preventDefault();try{const Qe=Pr(Tn(ct,"serviceProviders"),mr("email","==",t.email)),ke=await Xn(Qe);if(ke.empty){console.error("Provider not found");return}const Ke=ke.docs[0],et=Dn(ct,"serviceProviders",Ke.id),Re=(Ke.data().works||[]).map(Se=>Se.id===ve?{...Se,title:W.title,description:W.description,images:W.images}:Se);await Hi(et,{works:Re}),await Ye(t.email),P(null),ue({title:"",description:"",images:[],previewImages:[]}),O(!1)}catch(Qe){console.error("Error updating work:",Qe)}},Xt=async xe=>{if(window.confirm("      "))try{const Qe=Pr(Tn(ct,"serviceProviders"),mr("email","==",t.email)),ke=await Xn(Qe);if(ke.empty){console.error("Provider not found");return}const Ke=ke.docs[0],et=Dn(ct,"serviceProviders",Ke.id),Re=(Ke.data().works||[]).filter(Se=>Se.id!==xe);await Hi(et,{works:Re,worksCount:Re.length}),await Ye(t.email)}catch(Qe){console.error("Error deleting work:",Qe)}},hn=xe=>[...Array(5)].map((Qe,ke)=>p.jsx("span",{className:ke<xe?"text-yellow-500":"text-gray-300",children:ke<xe?p.jsx(fd,{}):p.jsx(OC,{})},ke)),Hn=()=>{var Ke;if(!t)return null;const xe=Number(l.reduce((et,ge)=>et+(ge.rating||0),0)),Qe=Number(l.length),ke=Qe>0?(xe/Qe).toFixed(1):0;return de.allProviders.findIndex(et=>et.email===t.email)+1,p.jsxs(ee.div,{className:"bg-gradient-to-br from-white to-cyan-50 rounded-2xl shadow-xl p-6 mb-6 relative overflow-hidden",variants:zu,initial:"hidden",animate:"visible",children:[p.jsx("div",{className:"absolute -right-16 -top-16 w-32 h-32 bg-cyan-500 opacity-10 rounded-full"}),p.jsx("div",{className:"absolute -left-16 -bottom-16 w-32 h-32 bg-blue-500 opacity-10 rounded-full"}),p.jsxs(ee.h2,{className:"text-2xl font-bold text-cyan-800 mb-6 relative z-10 flex items-center",variants:Xa,children:[p.jsx("span",{className:"bg-cyan-700 text-white p-2 rounded-lg mr-2",children:p.jsx(fd,{})})," "]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs(ee.div,{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 p-6 rounded-xl text-center relative overflow-hidden shadow-md transform transition-all duration-300 hover:shadow-lg",variants:Xa,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2,ease:"easeOut"},whileHover:{y:-5},children:[p.jsx("div",{className:"absolute -right-6 -top-6 w-12 h-12 bg-cyan-200 rounded-full"}),p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-5xl font-bold text-cyan-600 mb-3",children:ke}),p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.4},className:"flex justify-center mb-3 text-xl",children:hn(Math.floor(ke))}),p.jsx("p",{className:"text-gray-700 font-medium",children:" "})]}),p.jsxs(ee.div,{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl text-center relative overflow-hidden shadow-md transform transition-all duration-300 hover:shadow-lg",variants:Xa,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.6,ease:"easeOut"},whileHover:{y:-5},children:[p.jsx("div",{className:"absolute -right-6 -top-6 w-12 h-12 bg-blue-200 rounded-full"}),p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.7},className:"text-5xl font-bold text-blue-600 mb-3",children:Qe}),p.jsx("p",{className:"text-gray-700 font-medium",children:" "})]}),p.jsxs(ee.div,{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl text-center relative overflow-hidden shadow-md transform transition-all duration-300 hover:shadow-lg",variants:Xa,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1,ease:"easeOut"},whileHover:{y:-5},children:[p.jsx("div",{className:"absolute -right-6 -top-6 w-12 h-12 bg-purple-200 rounded-full"}),p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:1.2},className:"text-5xl font-bold text-purple-600 mb-3",children:de.currentRank||p.jsx(ee.span,{initial:{opacity:0},animate:{opacity:[0,1,0,1,0,1]},transition:{duration:1.5,repeat:1/0},children:"..."})}),p.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:1.3},className:"text-gray-700 font-medium",children:de.currentRank?`  ${de.totalProviders}  `:" ..."}),((Ke=de.currentProvider)==null?void 0:Ke.averageRating)&&p.jsxs(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:1.4},className:"text-sm text-purple-500 mt-1",children:["( : ",de.currentProvider.averageRating,")"]})]})]}),p.jsxs(ee.div,{className:"mt-8",variants:Xa,children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-xl font-semibold text-cyan-800 flex items-center",children:[p.jsx("span",{className:"bg-cyan-700 text-white p-1 rounded-lg mr-2 text-sm",children:p.jsx(n0,{})})," "]}),p.jsxs(ee.button,{onClick:()=>B(!z),variants:ur,whileHover:"hover",whileTap:"tap",className:"text-cyan-700 hover:text-cyan-900 flex items-center text-sm font-medium",children:[z?" ":" ",p.jsx("span",{className:"mr-1",children:z?p.jsx(nd,{}):p.jsx(td,{})})]})]}),p.jsx(zi,{children:z&&p.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:l.length>0?p.jsx(ee.div,{variants:zu,initial:"hidden",animate:"visible",className:"space-y-3",children:l.map((et,ge)=>p.jsxs(ee.div,{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300",variants:Xa,whileHover:{x:5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsxs("span",{className:"font-semibold text-cyan-800 flex items-center",children:[p.jsx(Gi,{className:"mr-2 text-cyan-600"}),et.clientName]}),p.jsx("div",{className:"flex text-lg",children:hn(et.rating)})]}),p.jsx("p",{className:"text-gray-700",children:et.review}),p.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[p.jsx(Yf,{className:"mr-1"}),new Date(et.createdAt).toLocaleDateString("ar-EG")||"  "]})]},et.id||`review_${ge}`))}):p.jsx(ee.p,{className:"text-center text-gray-500 py-4",variants:Xa,children:"   "})})})]}),p.jsxs(ee.div,{className:"mt-8",variants:Xa,children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-xl font-semibold text-cyan-800 flex items-center",children:[p.jsx("span",{className:"bg-cyan-700 text-white p-1 rounded-lg mr-2 text-sm",children:p.jsx(n0,{})})," "]}),p.jsxs(ee.button,{onClick:()=>be(!Ee),variants:ur,whileHover:"hover",whileTap:"tap",className:"text-cyan-700 hover:text-cyan-900 flex items-center text-sm font-medium",children:[Ee?" ":" ",p.jsx("span",{className:"mr-1",children:Ee?p.jsx(nd,{}):p.jsx(td,{})})]})]}),p.jsx(zi,{children:Ee&&p.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:p.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:p.jsx(v8,{userId:t.id||t.uid,onChatSelect:Lt})})})})]})]})},rr=()=>p.jsx(ee.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",variants:zu,initial:"hidden",animate:"visible",children:a.map((xe,Qe)=>p.jsxs(ee.div,{layoutId:`work-card-${xe.id}`,variants:HT,whileHover:"hover",className:`bg-white rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${R===xe.id?"md:col-span-2":""}`,children:[p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800 flex items-center",children:xe.title}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(ee.button,{onClick:()=>Bt(xe),variants:ur,whileHover:"hover",whileTap:"tap",className:"bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition-colors duration-300",title:"",children:p.jsx(r0,{})}),p.jsx(ee.button,{onClick:()=>Xt(xe.id),variants:ur,whileHover:"hover",whileTap:"tap",className:"bg-red-500 text-white p-2 rounded-lg hover:bg-red-600 transition-colors duration-300",title:"",children:p.jsx(f8,{})})]})]}),p.jsx(ee.p,{className:`text-gray-600 mt-2 ${R===xe.id?"":"line-clamp-2"}`,children:xe.description}),p.jsxs(ee.button,{onClick:()=>N(R===xe.id?null:xe.id),className:"text-cyan-600 hover:text-cyan-800 mt-2 flex items-center text-sm font-medium",variants:ur,whileHover:"hover",whileTap:"tap",children:[R===xe.id?" ":" ",p.jsx("span",{className:"mr-1",children:R===xe.id?p.jsx(nd,{}):p.jsx(td,{})})]})]}),p.jsx(zi,{children:(R===xe.id||xe.images.length<=3)&&p.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-6",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:xe.images.map((ke,Ke)=>p.jsx(ee.div,{className:"rounded-xl overflow-hidden aspect-square shadow-md",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Ke*.1},whileHover:{scale:1.05},children:p.jsx("img",{src:ke,alt:`Work ${Ke+1}`,className:"w-full h-full object-cover"})},Ke))})})})]},xe.id))}),ar=()=>p.jsxs(ee.div,{className:"bg-white rounded-2xl shadow-xl p-6 mb-6 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:24},children:[p.jsx("div",{className:"absolute -left-16 -top-16 w-32 h-32 bg-blue-500 opacity-10 rounded-full"}),p.jsx("div",{className:"absolute -right-16 -bottom-16 w-32 h-32 bg-cyan-500 opacity-10 rounded-full"}),p.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-6 relative z-10 flex items-center",children:[p.jsx("span",{className:"bg-cyan-700 text-white p-2 rounded-lg mr-2",children:ve?p.jsx(r0,{}):p.jsx(zT,{})}),ve?" ":"  "]}),p.jsxs("form",{onSubmit:ve?yr:it,className:"relative z-10",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:" "}),p.jsx("input",{type:"text",id:"title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"  ",value:ve?W.title:G.title,onChange:xe=>ve?ue({...W,title:xe.target.value}):re({...G,title:xe.target.value}),required:!0})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:" "}),p.jsx("textarea",{id:"description",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 min-h-[100px]",placeholder:"  ",value:ve?W.description:G.description,onChange:xe=>ve?ue({...W,description:xe.target.value}):re({...G,description:xe.target.value}),required:!0})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:" "}),p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[p.jsx("input",{type:"file",id:"images",multiple:!0,accept:"image/*",className:"hidden",onChange:xe=>qe(xe.target.files,!!ve)}),p.jsx("label",{htmlFor:"images",className:"cursor-pointer",children:p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsx(BT,{className:"text-gray-400 text-4xl mb-2"}),p.jsx("p",{className:"text-gray-500",children:"     "})]})})]}),(ve?W.previewImages:G.previewImages).length>0&&p.jsx("div",{className:"mt-4 grid grid-cols-3 gap-4",children:(ve?W.previewImages:G.previewImages).map((xe,Qe)=>p.jsxs("div",{className:"relative rounded-lg overflow-hidden aspect-square",children:[p.jsx("img",{src:xe,alt:`Preview ${Qe+1}`,className:"w-full h-full object-cover"}),p.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",onClick:()=>{if(ve){const ke=[...W.previewImages];ke.splice(Qe,1),ue({...W,images:ke,previewImages:ke})}else{const ke=[...G.previewImages];ke.splice(Qe,1),re({...G,images:ke,previewImages:ke})}},children:p.jsx(Hf,{size:12})})]},Qe))})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(ee.button,{type:"button",onClick:()=>{O(!1),P(null),ue({title:"",description:"",images:[],previewImages:[]}),re({title:"",description:"",images:[],previewImages:[]})},variants:ur,whileHover:"hover",whileTap:"tap",className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-300 mr-2",children:""}),p.jsx(ee.button,{type:"submit",variants:ur,whileHover:"hover",whileTap:"tap",className:"px-6 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors duration-300",children:ve?" ":" "})]})]})]}),$r=()=>p.jsx(ee.div,{className:"space-y-6",variants:zu,initial:"hidden",animate:"visible",children:E.length>0?E.map((xe,Qe)=>p.jsxs(ee.div,{layoutId:`booking-card-${xe.id}`,variants:HT,whileHover:"hover",className:`bg-white rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${C===xe.id?"border-2 border-cyan-400":""}`,children:[p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex flex-wrap justify-between items-start",children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-2 flex items-center",children:xe.profession||"  "}),p.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium 
                    ${xe.status==="pending"?"bg-yellow-100 text-yellow-800":xe.status==="approved"?"bg-green-100 text-green-800":xe.status==="completed"?"bg-blue-100 text-blue-800":xe.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:xe.status==="pending"?" ":xe.status==="approved"?" ":xe.status==="completed"?"":xe.status==="cancelled"?"":" "})]}),p.jsxs("div",{className:"flex flex-wrap text-gray-600 mt-2",children:[p.jsxs("div",{className:"flex items-center mr-4 mb-2",children:[p.jsx(Gi,{className:"text-cyan-600 mr-1"}),p.jsx("span",{children:xe.clientName||"  "})]}),p.jsxs("div",{className:"flex items-center mr-4 mb-2",children:[p.jsx(Yf,{className:"text-cyan-600 mr-1"}),p.jsx("span",{children:xe.bookingDate||"  "})]}),p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx(u8,{className:"text-cyan-600 mr-1"}),p.jsx("span",{children:xe.bookingTime||"  "})]})]}),p.jsx("div",{className:"mt-3",children:p.jsxs(ee.button,{onClick:()=>L(C===xe.id?null:xe.id),className:"text-cyan-600 hover:text-cyan-800 flex items-center text-sm font-medium",variants:ur,whileHover:"hover",whileTap:"tap",children:[C===xe.id?" ":" ",p.jsx("span",{className:"mr-1",children:C===xe.id?p.jsx(nd,{}):p.jsx(td,{})})]})})]}),p.jsx(zi,{children:C===xe.id&&p.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"px-6 pb-6 border-t border-gray-100 pt-4",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:" :"}),p.jsx("p",{className:"text-gray-600",children:xe.note||"   "})]}),p.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[p.jsx("div",{className:"flex items-center space-x-2 mb-2",children:p.jsxs(ee.button,{variants:ur,whileHover:"hover",whileTap:"tap",onClick:()=>Lt(xe.clientId,xe.clientName,xe.clientEmail),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-300",children:[p.jsx(n0,{className:"ml-1"}),"  "]})}),xe.status==="pending"&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(ee.button,{variants:ur,whileHover:"hover",whileTap:"tap",onClick:()=>at(xe.id,"approved"),className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-300 mr-2",children:[p.jsx(FT,{className:"ml-1"}),""]}),p.jsxs(ee.button,{variants:ur,whileHover:"hover",whileTap:"tap",onClick:()=>at(xe.id,"cancelled"),className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-300",children:[p.jsx(Hf,{className:"ml-1"}),""]})]}),xe.status==="approved"&&p.jsxs(ee.button,{variants:ur,whileHover:"hover",whileTap:"tap",onClick:()=>at(xe.id,"completed"),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-300",children:[p.jsx(FT,{className:"ml-1"})," "]})]})]})})]},xe.id||`booking-${Qe}`)):p.jsxs(ee.div,{className:"text-center py-8",variants:Xa,children:[p.jsx(Yf,{className:"text-5xl text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"  "}),p.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"      .       ."})]})});return y?p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-cyan-600"}),p.jsx("p",{className:"text-xl text-gray-700 mt-4",children:"  ..."})]}):p.jsxs("div",{className:"min-h-screen bg-gray-50 rtl",children:[p.jsx(IC,{isLoggedIn:b,onLogout:oe,userData:t}),p.jsxs("main",{className:"container mx-auto p-4 pb-20",children:[p.jsxs(ee.div,{className:"bg-gradient-to-r from-cyan-600 to-blue-700 rounded-2xl p-6 text-white mb-6 shadow-xl relative overflow-hidden",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[p.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white opacity-10 transform skew-x-12"}),p.jsx("div",{className:"absolute left-0 bottom-0 h-24 w-24 bg-white opacity-10 rounded-full"}),p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between",children:[p.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[t!=null&&t.profileImage?p.jsx("img",{src:t.profileImage,alt:t.name,className:"w-20 mr-4 h-20 rounded-full border-4 border-white shadow-md object-cover"}):p.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md bg-white text-cyan-700 flex items-center justify-center text-4xl",children:p.jsx(Gi,{})}),p.jsxs("div",{className:"mr-4",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:(t==null?void 0:t.name)||" "}),p.jsx("p",{className:"opacity-80",children:(t==null?void 0:t.email)||"   "})]})]}),p.jsxs(ee.button,{onClick:()=>n("/nafany/settings"),variants:ur,whileHover:"hover",whileTap:"tap",className:"bg-white text-cyan-700 px-6 py-3 rounded-full font-bold shadow-lg hover:bg-gray-100 transition-colors duration-300 flex items-center",children:[p.jsx(r0,{className:"ml-2"}),"  "]})]})]}),Hn(),p.jsxs(ee.div,{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex space-x-4 rtl:space-x-reverse mb-4 md:mb-0",children:[p.jsx(ee.button,{onClick:()=>k("works"),className:`px-6 py-2 rounded-lg font-semibold transition-all duration-300 ${q==="works"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,variants:ur,whileHover:"hover",whileTap:"tap",children:""}),p.jsx(ee.button,{onClick:()=>k("bookings"),className:`px-6 py-2 rounded-lg font-semibold transition-all duration-300 ${q==="bookings"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,variants:ur,whileHover:"hover",whileTap:"tap",children:""})]}),q==="works"&&p.jsx(ee.button,{onClick:()=>{P(null),ue({title:"",description:"",images:[],previewImages:[]}),O(!$)},className:"flex items-center px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors duration-300",variants:ur,whileHover:"hover",whileTap:"tap",children:$?p.jsxs(p.Fragment,{children:[p.jsx(Hf,{className:"ml-2"}),""]}):p.jsxs(p.Fragment,{children:[p.jsx(zT,{className:"ml-2"}),"  "]})})]}),p.jsx(zi,{mode:"wait",children:$&&q==="works"&&ar()}),p.jsx(zi,{mode:"wait",children:q==="works"?p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.length>0?rr():p.jsx(ee.div,{className:"text-center py-8",variants:zu,initial:"hidden",animate:"visible",children:p.jsxs(ee.div,{variants:Xa,children:[p.jsx(BT,{className:"text-5xl text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"   "}),p.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"            ."})]})})},"works"):p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:$r()},"bookings")})]})]})]})};function VC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=VC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Jn(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=VC(n))&&(r&&(r+=" "),r+=e);return r}const LC=6048e5,b8=864e5,yp=6e4,vp=36e5,w8=1e3,YT=Symbol.for("constructDateFrom");function Vt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&YT in n?n[YT](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ve(n,e){return Vt(e||n,n)}function Ma(n,e,t){const r=Ve(n,t==null?void 0:t.in);return isNaN(e)?Vt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function ja(n,e,t){const r=Ve(n,t==null?void 0:t.in);if(isNaN(e))return Vt(n,NaN);if(!e)return r;const a=r.getDate(),o=Vt(n,r.getTime());o.setMonth(r.getMonth()+e+1,0);const l=o.getDate();return a>=l?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function UC(n,e,t){return Vt(n,+Ve(n)+e)}function _8(n,e,t){return UC(n,e*vp)}let E8={};function ul(){return E8}function as(n,e){var u,h,f,y;const t=ul(),r=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((y=(f=t.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,a=Ve(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?7:0)+o-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Ec(n,e){return as(n,{...e,weekStartsOn:1})}function FC(n,e){const t=Ve(n,e==null?void 0:e.in),r=t.getFullYear(),a=Vt(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=Ec(a),l=Vt(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Ec(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Tm(n){const e=Ve(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function is(n,...e){const t=Vt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function nl(n,e){const t=Ve(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Tc(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e),o=nl(r),l=nl(a),u=+o-Tm(o),h=+l-Tm(l);return Math.round((u-h)/b8)}function T8(n,e){const t=FC(n,e),r=Vt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ec(r)}function lv(n,e,t){const r=Ve(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*yp),r}function lb(n,e,t){return ja(n,e*3,t)}function S8(n,e,t){return UC(n,e*1e3)}function Sm(n,e,t){return Ma(n,e*7,t)}function Qi(n,e,t){return ja(n,e*12,t)}function qT(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Vt.bind(null,a));const o=Ve(a,r);(!t||t<o||isNaN(+o))&&(t=o)}),Vt(r,t||NaN)}function $T(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=Vt.bind(null,a));const o=Ve(a,r);(!t||t>o||isNaN(+o))&&(t=o)}),Vt(r,t||NaN)}function D8(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e);return+nl(r)==+nl(a)}function Ki(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Dm(n){return!(!Ki(n)&&typeof n!="number"||isNaN(+Ve(n)))}function Am(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function Xo(n,e){const t=Ve(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Rm(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=Xo(r)-Xo(a);return o*4+l}function Cm(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e);return r.getFullYear()-a.getFullYear()}function A8(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e),o=GT(r,a),l=Math.abs(Tc(r,a));r.setDate(r.getDate()-o*l);const u=+(GT(r,a)===-o),h=o*(l-u);return h===0?0:h}function GT(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function BC(n,e){const t=Ve(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function zC(n,e){const t=Ve(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function cv(n,e){const t=Ve(n,e==null?void 0:e.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function HC(n,e){const t=Ve(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function YC(n,e){const t=Ve(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function xp(n,e){const t=Ve(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function R8(n,e){var u,h;const t=ul(),r=t.weekStartsOn??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=Ve(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const C8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N8=(n,e,t)=>{let r;const a=C8[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function i0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const M8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},P8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j8={date:i0({formats:M8,defaultWidth:"full"}),time:i0({formats:k8,defaultWidth:"full"}),dateTime:i0({formats:P8,defaultWidth:"full"})},O8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I8=(n,e,t,r)=>O8[n];function Hu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return a[o]}}const V8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H8=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Y8={ordinalNumber:H8,era:Hu({values:V8,defaultWidth:"wide"}),quarter:Hu({values:L8,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Hu({values:U8,defaultWidth:"wide"}),day:Hu({values:F8,defaultWidth:"wide"}),dayPeriod:Hu({values:B8,defaultWidth:"wide",formattingValues:z8,defaultFormattingWidth:"wide"})};function Yu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(a);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?$8(u,v=>v.test(l)):q8(u,v=>v.test(l));let f;f=n.valueCallback?n.valueCallback(h):h,f=t.valueCallback?t.valueCallback(f):f;const y=e.slice(l.length);return{value:f,rest:y}}}function q8(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function $8(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function G8(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const Q8=/^(\d+)(th|st|nd|rd)?/i,K8=/\d+/i,W8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X8={any:[/^b/i,/^(a|c)/i]},Z8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J8={any:[/1/i,/2/i,/3/i,/4/i]},e7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s7={ordinalNumber:G8({matchPattern:Q8,parsePattern:K8,valueCallback:n=>parseInt(n,10)}),era:Yu({matchPatterns:W8,defaultMatchWidth:"wide",parsePatterns:X8,defaultParseWidth:"any"}),quarter:Yu({matchPatterns:Z8,defaultMatchWidth:"wide",parsePatterns:J8,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Yu({matchPatterns:e7,defaultMatchWidth:"wide",parsePatterns:t7,defaultParseWidth:"any"}),day:Yu({matchPatterns:n7,defaultMatchWidth:"wide",parsePatterns:r7,defaultParseWidth:"any"}),dayPeriod:Yu({matchPatterns:a7,defaultMatchWidth:"any",parsePatterns:i7,defaultParseWidth:"any"})},qC={code:"en-US",formatDistance:N8,formatLong:j8,formatRelative:I8,localize:Y8,match:s7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o7(n,e){const t=Ve(n,e==null?void 0:e.in);return Tc(t,xp(t))+1}function cb(n,e){const t=Ve(n,e==null?void 0:e.in),r=+Ec(t)-+T8(t);return Math.round(r/LC)+1}function ub(n,e){var y,v,b,_;const t=Ve(n,e==null?void 0:e.in),r=t.getFullYear(),a=ul(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((_=(b=a.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,l=Vt((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=as(l,e),h=Vt((e==null?void 0:e.in)||n,0);h.setFullYear(r,0,o),h.setHours(0,0,0,0);const f=as(h,e);return+t>=+u?r+1:+t>=+f?r:r-1}function l7(n,e){var u,h,f,y;const t=ul(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(f=t.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,a=ub(n,e),o=Vt((e==null?void 0:e.in)||n,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),as(o,e)}function $C(n,e){const t=Ve(n,e==null?void 0:e.in),r=+as(t,e)-+l7(t,e);return Math.round(r/LC)+1}function It(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ps={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return It(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):It(t+1,2)},d(n,e){return It(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return It(n.getHours()%12||12,e.length)},H(n,e){return It(n.getHours(),e.length)},m(n,e){return It(n.getMinutes(),e.length)},s(n,e){return It(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return It(a,e.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QT={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ps.y(n,e)},Y:function(n,e,t,r){const a=ub(n,r),o=a>0?a:1-a;if(e==="YY"){const l=o%100;return It(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):It(o,e.length)},R:function(n,e){const t=FC(n);return It(t,e.length)},u:function(n,e){const t=n.getFullYear();return It(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return It(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return It(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ps.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return It(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=$C(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):It(a,e.length)},I:function(n,e,t){const r=cb(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):It(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ps.d(n,e)},D:function(n,e,t){const r=o7(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):It(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return It(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return It(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return It(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=Wl.noon:r===0?a=Wl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=Wl.evening:r>=12?a=Wl.afternoon:r>=4?a=Wl.morning:a=Wl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ps.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ps.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ps.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ps.s(n,e)},S:function(n,e){return Ps.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return WT(r);case"XXXX":case"XX":return Ho(r);case"XXXXX":case"XXX":default:return Ho(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return WT(r);case"xxxx":case"xx":return Ho(r);case"xxxxx":case"xxx":default:return Ho(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KT(r,":");case"OOOO":default:return"GMT"+Ho(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KT(r,":");case"zzzz":default:return"GMT"+Ho(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return It(r,e.length)},T:function(n,e,t){return It(+n,e.length)}};function KT(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),o=r%60;return o===0?t+String(a):t+String(a)+e+It(o,2)}function WT(n,e){return n%60===0?(n>0?"-":"+")+It(Math.abs(n)/60,2):Ho(n,e)}function Ho(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=It(Math.trunc(r/60),2),o=It(r%60,2);return t+a+e+o}const XT=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},c7=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return XT(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",XT(r,e)).replace("{{time}}",GC(a,e))},uv={p:GC,P:c7},u7=/^D+$/,d7=/^Y+$/,h7=["D","DD","YY","YYYY"];function f7(n){return u7.test(n)}function m7(n){return d7.test(n)}function p7(n,e,t){const r=g7(n,e,t);if(console.warn(r),h7.includes(n))throw new RangeError(r)}function g7(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x7=/^'([^]*?)'?$/,b7=/''/g,w7=/[a-zA-Z]/;function ZT(n,e,t){var y,v,b,_,E,D,A,j;const r=ul(),a=(t==null?void 0:t.locale)??r.locale??qC,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(b=r.locale)==null?void 0:b.options)==null?void 0:_.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((D=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((j=(A=r.locale)==null?void 0:A.options)==null?void 0:j.weekStartsOn)??0,u=Ve(n,t==null?void 0:t.in);if(!Dm(u))throw new RangeError("Invalid time value");let h=e.match(v7).map(U=>{const F=U[0];if(F==="p"||F==="P"){const q=uv[F];return q(U,a.formatLong)}return U}).join("").match(y7).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const F=U[0];if(F==="'")return{isToken:!1,value:_7(U)};if(QT[F])return{isToken:!0,value:U};if(F.match(w7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:U}});a.localize.preprocessor&&(h=a.localize.preprocessor(u,h));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return h.map(U=>{if(!U.isToken)return U.value;const F=U.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&m7(F)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&f7(F))&&p7(F,e,String(n));const q=QT[F[0]];return q(u,F,a.localize,f)}).join("")}function _7(n){const e=n.match(x7);return e?e[1].replace(b7,"'"):n}function JT(n,e){return Ve(n,e==null?void 0:e.in).getDate()}function E7(n,e){return Ve(n,e==null?void 0:e.in).getDay()}function T7(n,e){const t=Ve(n,e==null?void 0:e.in),r=t.getFullYear(),a=t.getMonth(),o=Vt(t,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function S7(){return Object.assign({},ul())}function Wi(n,e){return Ve(n,e==null?void 0:e.in).getHours()}function D7(n,e){const t=Ve(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Xi(n,e){return Ve(n,e==null?void 0:e.in).getMinutes()}function Ar(n,e){return Ve(n,e==null?void 0:e.in).getMonth()}function qs(n){return Ve(n).getSeconds()}function dv(n){return+Ve(n)}function ht(n,e){return Ve(n,e==null?void 0:e.in).getFullYear()}function no(n,e){return+Ve(n)>+Ve(e)}function rl(n,e){return+Ve(n)<+Ve(e)}function A7(n,e){return+Ve(n)==+Ve(e)}function R7(n,e){const t=C7(e)?new e(0):Vt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function C7(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const N7=10;class QC{constructor(){Ce(this,"subPriority",0)}validate(e,t){return!0}}class M7 extends QC{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class k7 extends QC{constructor(t,r){super();Ce(this,"priority",N7);Ce(this,"subPriority",-1);this.context=t||(a=>Vt(r,a))}set(t,r){return r.timestampIsSet?t:Vt(t,R7(t,this.context))}}class kt{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new M7(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class P7 extends kt{constructor(){super(...arguments);Ce(this,"priority",140);Ce(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,r,a){return r.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const yn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ti={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vn(n,e){return n&&{value:e(n.value),rest:n.rest}}function rn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ni(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*vp+o*yp+l*w8),rest:e.slice(t[0].length)}}function KC(n){return rn(yn.anyDigitsSigned,n)}function dn(n,e){switch(n){case 1:return rn(yn.singleDigit,e);case 2:return rn(yn.twoDigits,e);case 3:return rn(yn.threeDigits,e);case 4:return rn(yn.fourDigits,e);default:return rn(new RegExp("^\\d{1,"+n+"}"),e)}}function Nm(n,e){switch(n){case 1:return rn(yn.singleDigitSigned,e);case 2:return rn(yn.twoDigitsSigned,e);case 3:return rn(yn.threeDigitsSigned,e);case 4:return rn(yn.fourDigitsSigned,e);default:return rn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function db(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function WC(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const o=r+50,l=Math.trunc(o/100)*100,u=n>=o%100;a=n+l-(u?100:0)}return t?a:1-a}function XC(n){return n%400===0||n%4===0&&n%100!==0}class j7 extends kt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return vn(dn(4,t),o);case"yo":return vn(a.ordinalNumber(t,{unit:"year"}),o);default:return vn(dn(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a){const o=t.getFullYear();if(a.isTwoDigitYear){const u=WC(a.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class O7 extends kt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return vn(dn(4,t),o);case"Yo":return vn(a.ordinalNumber(t,{unit:"year"}),o);default:return vn(dn(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a,o){const l=ub(t,o);if(a.isTwoDigitYear){const h=WC(a.year,l);return t.setFullYear(h,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),as(t,o)}const u=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),as(t,o)}}class I7 extends kt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Nm(r==="R"?4:r.length,t)}set(t,r,a){const o=Vt(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Ec(o)}}class V7 extends kt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Nm(r==="u"?4:r.length,t)}set(t,r,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class L7 extends kt{constructor(){super(...arguments);Ce(this,"priority",120);Ce(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"Q":case"QQ":return dn(r.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class U7 extends kt{constructor(){super(...arguments);Ce(this,"priority",120);Ce(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"q":case"qq":return dn(r.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class F7 extends kt{constructor(){super(...arguments);Ce(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ce(this,"priority",110)}parse(t,r,a){const o=l=>l-1;switch(r){case"M":return vn(rn(yn.month,t),o);case"MM":return vn(dn(2,t),o);case"Mo":return vn(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class B7 extends kt{constructor(){super(...arguments);Ce(this,"priority",110);Ce(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,a){const o=l=>l-1;switch(r){case"L":return vn(rn(yn.month,t),o);case"LL":return vn(dn(2,t),o);case"Lo":return vn(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function z7(n,e,t){const r=Ve(n,t==null?void 0:t.in),a=$C(r,t)-e;return r.setDate(r.getDate()-a*7),Ve(r,t==null?void 0:t.in)}class H7 extends kt{constructor(){super(...arguments);Ce(this,"priority",100);Ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,a){switch(r){case"w":return rn(yn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return dn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a,o){return as(z7(t,a,o),o)}}function Y7(n,e,t){const r=Ve(n,t==null?void 0:t.in),a=cb(r,t)-e;return r.setDate(r.getDate()-a*7),r}class q7 extends kt{constructor(){super(...arguments);Ce(this,"priority",100);Ce(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,a){switch(r){case"I":return rn(yn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return dn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a){return Ec(Y7(t,a))}}const $7=[31,28,31,30,31,30,31,31,30,31,30,31],G7=[31,29,31,30,31,30,31,31,30,31,30,31];class Q7 extends kt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"subPriority",1);Ce(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"d":return rn(yn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return dn(r.length,t)}}validate(t,r){const a=t.getFullYear(),o=XC(a),l=t.getMonth();return o?r>=1&&r<=G7[l]:r>=1&&r<=$7[l]}set(t,r,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class K7 extends kt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"subpriority",1);Ce(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,a){switch(r){case"D":case"DD":return rn(yn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return dn(r.length,t)}}validate(t,r){const a=t.getFullYear();return XC(a)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function hb(n,e,t){var v,b,_,E;const r=ul(),a=(t==null?void 0:t.weekStartsOn)??((b=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((E=(_=r.locale)==null?void 0:_.options)==null?void 0:E.weekStartsOn)??0,o=Ve(n,t==null?void 0:t.in),l=o.getDay(),h=(e%7+7)%7,f=7-a,y=e<0||e>6?e-(l+f)%7:(h+f)%7-(l+f)%7;return Ma(o,y,t)}class W7 extends kt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=hb(t,a,o),t.setHours(0,0,0,0),t}}class X7 extends kt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,a,o){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+h};switch(r){case"e":case"ee":return vn(dn(r.length,t),l);case"eo":return vn(a.ordinalNumber(t,{unit:"day"}),l);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=hb(t,a,o),t.setHours(0,0,0,0),t}}class Z7 extends kt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,a,o){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+h};switch(r){case"c":case"cc":return vn(dn(r.length,t),l);case"co":return vn(a.ordinalNumber(t,{unit:"day"}),l);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=hb(t,a,o),t.setHours(0,0,0,0),t}}function J7(n,e,t){const r=Ve(n,t==null?void 0:t.in),a=D7(r,t),o=e-a;return Ma(r,o,t)}class eU extends kt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,a){const o=l=>l===0?7:l;switch(r){case"i":case"ii":return dn(r.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return vn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return vn(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return vn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return vn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,a){return t=J7(t,a),t.setHours(0,0,0,0),t}}class tU extends kt{constructor(){super(...arguments);Ce(this,"priority",80);Ce(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(db(a),0,0,0),t}}class nU extends kt{constructor(){super(...arguments);Ce(this,"priority",80);Ce(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(db(a),0,0,0),t}}class rU extends kt{constructor(){super(...arguments);Ce(this,"priority",80);Ce(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(db(a),0,0,0),t}}class aU extends kt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,a){switch(r){case"h":return rn(yn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return dn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class iU extends kt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,a){switch(r){case"H":return rn(yn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return dn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,a){return t.setHours(a,0,0,0),t}}class sU extends kt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,a){switch(r){case"K":return rn(yn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return dn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class oU extends kt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,a){switch(r){case"k":return rn(yn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return dn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class lU extends kt{constructor(){super(...arguments);Ce(this,"priority",60);Ce(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"m":return rn(yn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return dn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setMinutes(a,0,0),t}}class cU extends kt{constructor(){super(...arguments);Ce(this,"priority",50);Ce(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"s":return rn(yn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return dn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setSeconds(a,0),t}}class uU extends kt{constructor(){super(...arguments);Ce(this,"priority",30);Ce(this,"incompatibleTokens",["t","T"])}parse(t,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return vn(dn(r.length,t),a)}set(t,r,a){return t.setMilliseconds(a),t}}class dU extends kt{constructor(){super(...arguments);Ce(this,"priority",10);Ce(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ni(ti.basicOptionalMinutes,t);case"XX":return ni(ti.basic,t);case"XXXX":return ni(ti.basicOptionalSeconds,t);case"XXXXX":return ni(ti.extendedOptionalSeconds,t);case"XXX":default:return ni(ti.extended,t)}}set(t,r,a){return r.timestampIsSet?t:Vt(t,t.getTime()-Tm(t)-a)}}class hU extends kt{constructor(){super(...arguments);Ce(this,"priority",10);Ce(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ni(ti.basicOptionalMinutes,t);case"xx":return ni(ti.basic,t);case"xxxx":return ni(ti.basicOptionalSeconds,t);case"xxxxx":return ni(ti.extendedOptionalSeconds,t);case"xxx":default:return ni(ti.extended,t)}}set(t,r,a){return r.timestampIsSet?t:Vt(t,t.getTime()-Tm(t)-a)}}class fU extends kt{constructor(){super(...arguments);Ce(this,"priority",40);Ce(this,"incompatibleTokens","*")}parse(t){return KC(t)}set(t,r,a){return[Vt(t,a*1e3),{timestampIsSet:!0}]}}class mU extends kt{constructor(){super(...arguments);Ce(this,"priority",20);Ce(this,"incompatibleTokens","*")}parse(t){return KC(t)}set(t,r,a){return[Vt(t,a),{timestampIsSet:!0}]}}const pU={G:new P7,y:new j7,Y:new O7,R:new I7,u:new V7,Q:new L7,q:new U7,M:new F7,L:new B7,w:new H7,I:new q7,d:new Q7,D:new K7,E:new W7,e:new X7,c:new Z7,i:new eU,a:new tU,b:new nU,B:new rU,h:new aU,H:new iU,K:new sU,k:new oU,m:new lU,s:new cU,S:new uU,X:new dU,x:new hU,t:new fU,T:new mU},gU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vU=/^'([^]*?)'?$/,xU=/''/g,bU=/\S/,wU=/[a-zA-Z]/;function _U(n,e,t,r){var A,j,U,F,q,k,$,O;const a=()=>Vt((r==null?void 0:r.in)||t,NaN),o=S7(),l=(r==null?void 0:r.locale)??o.locale??qC,u=(r==null?void 0:r.firstWeekContainsDate)??((j=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:j.firstWeekContainsDate)??o.firstWeekContainsDate??((F=(U=o.locale)==null?void 0:U.options)==null?void 0:F.firstWeekContainsDate)??1,h=(r==null?void 0:r.weekStartsOn)??((k=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:k.weekStartsOn)??o.weekStartsOn??((O=($=o.locale)==null?void 0:$.options)==null?void 0:O.weekStartsOn)??0;if(!e)return n?a():Ve(t,r==null?void 0:r.in);const f={firstWeekContainsDate:u,weekStartsOn:h,locale:l},y=[new k7(r==null?void 0:r.in,t)],v=e.match(yU).map(R=>{const N=R[0];if(N in uv){const C=uv[N];return C(R,l.formatLong)}return R}).join("").match(gU),b=[];for(let R of v){const N=R[0],C=pU[N];if(C){const{incompatibleTokens:L}=C;if(Array.isArray(L)){const B=b.find(Ee=>L.includes(Ee.token)||Ee.token===N);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${R}\` at the same time`)}else if(C.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);b.push({token:N,fullToken:R});const z=C.run(n,R,l.match,f);if(!z)return a();y.push(z.setter),n=z.rest}else{if(N.match(wU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(R==="''"?R="'":N==="'"&&(R=EU(R)),n.indexOf(R)===0)n=n.slice(R.length);else return a()}}if(n.length>0&&bU.test(n))return a();const _=y.map(R=>R.priority).sort((R,N)=>N-R).filter((R,N,C)=>C.indexOf(R)===N).map(R=>y.filter(N=>N.priority===R).sort((N,C)=>C.subPriority-N.subPriority)).map(R=>R[0]);let E=Ve(t,r==null?void 0:r.in);if(isNaN(+E))return a();const D={};for(const R of _){if(!R.validate(E,f))return a();const N=R.set(E,D,f);Array.isArray(N)?(E=N[0],Object.assign(D,N[1])):E=N}return E}function EU(n){return n.match(vU)[1].replace(xU,"'")}function TU(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function SU(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e);return+cv(r)==+cv(a)}function DU(n,e,t){const[r,a]=is(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()}function jd(n,e,t){const r=+Ve(n,t==null?void 0:t.in),[a,o]=[+Ve(e.start,t==null?void 0:t.in),+Ve(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return r>=a&&r<=o}function AU(n,e,t){return Ma(n,-1,t)}function RU(n,e){const t=()=>Vt(e==null?void 0:e.in,NaN),a=kU(n);let o;if(a.date){const f=PU(a.date,2);o=jU(f.restDateString,f.year)}if(!o||isNaN(+o))return t();const l=+o;let u=0,h;if(a.time&&(u=OU(a.time),isNaN(u)))return t();if(a.timezone){if(h=IU(a.timezone),isNaN(h))return t()}else{const f=new Date(l+u),y=Ve(0,e==null?void 0:e.in);return y.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),y.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),y}return Ve(l+u+h,e==null?void 0:e.in)}const Tf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,NU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,MU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kU(n){const e={},t=n.split(Tf.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Tf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Tf.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=Tf.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function PU(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function jU(n,e){if(e===null)return new Date(NaN);const t=n.match(CU);if(!t)return new Date(NaN);const r=!!t[4],a=qu(t[1]),o=qu(t[2])-1,l=qu(t[3]),u=qu(t[4]),h=qu(t[5])-1;if(r)return BU(e,u,h)?VU(e,u,h):new Date(NaN);{const f=new Date(0);return!UU(e,o,l)||!FU(e,a)?new Date(NaN):(f.setUTCFullYear(e,o,Math.max(a,l)),f)}}function qu(n){return n?parseInt(n):1}function OU(n){const e=n.match(NU);if(!e)return NaN;const t=s0(e[1]),r=s0(e[2]),a=s0(e[3]);return zU(t,r,a)?t*vp+r*yp+a*1e3:NaN}function s0(n){return n&&parseFloat(n.replace(",","."))||0}function IU(n){if(n==="Z")return 0;const e=n.match(MU);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return HU(r,a)?t*(r*vp+a*yp):NaN}function VU(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const LU=[31,null,31,30,31,30,31,31,30,31,30,31];function ZC(n){return n%400===0||n%4===0&&n%100!==0}function UU(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(LU[e]||(ZC(n)?29:28))}function FU(n,e){return e>=1&&e<=(ZC(n)?366:365)}function BU(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function zU(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function HU(n,e){return e>=0&&e<=59}function ga(n,e,t){const r=Ve(n,t==null?void 0:t.in),a=r.getFullYear(),o=r.getDate(),l=Vt(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=T7(l);return r.setMonth(e,Math.min(o,u)),r}function qf(n,e,t){const r=Ve(n,t==null?void 0:t.in);return r.setHours(e),r}function $f(n,e,t){const r=Ve(n,t==null?void 0:t.in);return r.setMinutes(e),r}function tc(n,e,t){const r=Ve(n,t==null?void 0:t.in),a=Math.trunc(r.getMonth()/3)+1,o=e-a;return ga(r,r.getMonth()+o*3)}function Gf(n,e,t){const r=Ve(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Ja(n,e,t){const r=Ve(n,t==null?void 0:t.in);return isNaN(+r)?Vt(n,NaN):(r.setFullYear(e),r)}function Zo(n,e,t){return ja(n,-e,t)}function JC(n,e,t){return lb(n,-1,t)}function eS(n,e,t){return Sm(n,-1,t)}function Sc(n,e,t){return Qi(n,-e,t)}function bp(){return typeof window<"u"}function Uc(n){return eN(n)?(n.nodeName||"").toLowerCase():"#document"}function qr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function gi(n){var e;return(e=(eN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function eN(n){return bp()?n instanceof Node||n instanceof qr(n).Node:!1}function Rr(n){return bp()?n instanceof Element||n instanceof qr(n).Element:!1}function hi(n){return bp()?n instanceof HTMLElement||n instanceof qr(n).HTMLElement:!1}function tS(n){return!bp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof qr(n).ShadowRoot}function Qd(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=ba(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function YU(n){return["table","td","th"].includes(Uc(n))}function wp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function fb(n){const e=mb(),t=Rr(n)?ba(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function qU(n){let e=ro(n);for(;hi(e)&&!Dc(e);){if(fb(e))return e;if(wp(e))return null;e=ro(e)}return null}function mb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dc(n){return["html","body","#document"].includes(Uc(n))}function ba(n){return qr(n).getComputedStyle(n)}function _p(n){return Rr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ro(n){if(Uc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||tS(n)&&n.host||gi(n);return tS(e)?e.host:e}function tN(n){const e=ro(n);return Dc(e)?n.ownerDocument?n.ownerDocument.body:n.body:hi(e)&&Qd(e)?e:tN(e)}function Od(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=tN(n),o=a===((r=n.ownerDocument)==null?void 0:r.body),l=qr(a);if(o){const u=hv(l);return e.concat(l,l.visualViewport||[],Qd(a)?a:[],u&&t?Od(u):[])}return e.concat(a,Od(a,[],t))}function hv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Ac=Math.min,Jo=Math.max,Mm=Math.round,Sf=Math.floor,ci=n=>({x:n,y:n}),$U={left:"right",right:"left",bottom:"top",top:"bottom"},GU={start:"end",end:"start"};function QU(n,e,t){return Jo(n,Ac(e,t))}function Ep(n,e){return typeof n=="function"?n(e):n}function Rc(n){return n.split("-")[0]}function Kd(n){return n.split("-")[1]}function KU(n){return n==="x"?"y":"x"}function pb(n){return n==="y"?"height":"width"}function Id(n){return["top","bottom"].includes(Rc(n))?"y":"x"}function gb(n){return KU(Id(n))}function WU(n,e,t){t===void 0&&(t=!1);const r=Kd(n),a=gb(n),o=pb(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=km(l)),[l,km(l)]}function XU(n){const e=km(n);return[fv(n),e,fv(e)]}function fv(n){return n.replace(/start|end/g,e=>GU[e])}function ZU(n,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:l;default:return[]}}function JU(n,e,t,r){const a=Kd(n);let o=ZU(Rc(n),t==="start",r);return a&&(o=o.map(l=>l+"-"+a),e&&(o=o.concat(o.map(fv)))),o}function km(n){return n.replace(/left|right|bottom|top/g,e=>$U[e])}function eF(n){return{top:0,right:0,bottom:0,left:0,...n}}function nN(n){return typeof n!="number"?eF(n):{top:n,right:n,bottom:n,left:n}}function Pm(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function nS(n,e,t){let{reference:r,floating:a}=n;const o=Id(e),l=gb(e),u=pb(l),h=Rc(e),f=o==="y",y=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,b=r[u]/2-a[u]/2;let _;switch(h){case"top":_={x:y,y:r.y-a.height};break;case"bottom":_={x:y,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:v};break;case"left":_={x:r.x-a.width,y:v};break;default:_={x:r.x,y:r.y}}switch(Kd(e)){case"start":_[l]-=b*(t&&f?-1:1);break;case"end":_[l]+=b*(t&&f?-1:1);break}return _}const tF=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:y,y:v}=nS(f,r,h),b=r,_={},E=0;for(let D=0;D<u.length;D++){const{name:A,fn:j}=u[D],{x:U,y:F,data:q,reset:k}=await j({x:y,y:v,initialPlacement:r,placement:b,strategy:a,middlewareData:_,rects:f,platform:l,elements:{reference:n,floating:e}});y=U??y,v=F??v,_={..._,[A]:{..._[A],...q}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(b=k.placement),k.rects&&(f=k.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):k.rects),{x:y,y:v}=nS(f,b,h)),D=-1)}return{x:y,y:v,placement:b,strategy:a,middlewareData:_}};async function nF(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:l,elements:u,strategy:h}=n,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:b=!1,padding:_=0}=Ep(e,n),E=nN(_),A=u[b?v==="floating"?"reference":"floating":v],j=Pm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(A)))==null||t?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:y,strategy:h})),U=v==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),q=await(o.isElement==null?void 0:o.isElement(F))?await(o.getScale==null?void 0:o.getScale(F))||{x:1,y:1}:{x:1,y:1},k=Pm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:F,strategy:h}):U);return{top:(j.top-k.top+E.top)/q.y,bottom:(k.bottom-j.bottom+E.bottom)/q.y,left:(j.left-k.left+E.left)/q.x,right:(k.right-j.right+E.right)/q.x}}const rF=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:o,platform:l,elements:u,middlewareData:h}=e,{element:f,padding:y=0}=Ep(n,e)||{};if(f==null)return{};const v=nN(y),b={x:t,y:r},_=gb(a),E=pb(_),D=await l.getDimensions(f),A=_==="y",j=A?"top":"left",U=A?"bottom":"right",F=A?"clientHeight":"clientWidth",q=o.reference[E]+o.reference[_]-b[_]-o.floating[E],k=b[_]-o.reference[_],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let O=$?$[F]:0;(!O||!await(l.isElement==null?void 0:l.isElement($)))&&(O=u.floating[F]||o.floating[E]);const R=q/2-k/2,N=O/2-D[E]/2-1,C=Ac(v[j],N),L=Ac(v[U],N),z=C,B=O-D[E]-L,Ee=O/2-D[E]/2+R,be=QU(z,Ee,B),G=!h.arrow&&Kd(a)!=null&&Ee!==be&&o.reference[E]/2-(Ee<z?C:L)-D[E]/2<0,re=G?Ee<z?Ee-z:Ee-B:0;return{[_]:b[_]+re,data:{[_]:be,centerOffset:Ee-be-re,...G&&{alignmentOffset:re}},reset:G}}}),aF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:u,platform:h,elements:f}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:D=!0,...A}=Ep(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const j=Rc(a),U=Id(u),F=Rc(u)===u,q=await(h.isRTL==null?void 0:h.isRTL(f.floating)),k=b||(F||!D?[km(u)]:XU(u)),$=E!=="none";!b&&$&&k.push(...JU(u,D,E,q));const O=[u,...k],R=await nF(e,A),N=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&N.push(R[j]),v){const Ee=WU(a,l,q);N.push(R[Ee[0]],R[Ee[1]])}if(C=[...C,{placement:a,overflows:N}],!N.every(Ee=>Ee<=0)){var L,z;const Ee=(((L=o.flip)==null?void 0:L.index)||0)+1,be=O[Ee];if(be)return{data:{index:Ee,overflows:C},reset:{placement:be}};let G=(z=C.filter(re=>re.overflows[0]<=0).sort((re,oe)=>re.overflows[1]-oe.overflows[1])[0])==null?void 0:z.placement;if(!G)switch(_){case"bestFit":{var B;const re=(B=C.filter(oe=>{if($){const ve=Id(oe.placement);return ve===U||ve==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(ve=>ve>0).reduce((ve,P)=>ve+P,0)]).sort((oe,ve)=>oe[1]-ve[1])[0])==null?void 0:B[0];re&&(G=re);break}case"initialPlacement":G=u;break}if(a!==G)return{reset:{placement:G}}}return{}}}};async function iF(n,e){const{placement:t,platform:r,elements:a}=n,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Rc(t),u=Kd(t),h=Id(t)==="y",f=["left","top"].includes(l)?-1:1,y=o&&h?-1:1,v=Ep(e,n);let{mainAxis:b,crossAxis:_,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(_=u==="end"?E*-1:E),h?{x:_*y,y:b*f}:{x:b*f,y:_*y}}const sF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:o,placement:l,middlewareData:u}=e,h=await iF(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:l}}}}};function rN(n){const e=ba(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=hi(n),o=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=Mm(t)!==o||Mm(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function yb(n){return Rr(n)?n:n.contextElement}function lc(n){const e=yb(n);if(!hi(e))return ci(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=rN(e);let l=(o?Mm(t.width):t.width)/r,u=(o?Mm(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const oF=ci(0);function aN(n){const e=qr(n);return!mb()||!e.visualViewport?oF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lF(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==qr(n)?!1:e}function al(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=yb(n);let l=ci(1);e&&(r?Rr(r)&&(l=lc(r)):l=lc(n));const u=lF(o,t,r)?aN(o):ci(0);let h=(a.left+u.x)/l.x,f=(a.top+u.y)/l.y,y=a.width/l.x,v=a.height/l.y;if(o){const b=qr(o),_=r&&Rr(r)?qr(r):r;let E=b,D=hv(E);for(;D&&r&&_!==E;){const A=lc(D),j=D.getBoundingClientRect(),U=ba(D),F=j.left+(D.clientLeft+parseFloat(U.paddingLeft))*A.x,q=j.top+(D.clientTop+parseFloat(U.paddingTop))*A.y;h*=A.x,f*=A.y,y*=A.x,v*=A.y,h+=F,f+=q,E=qr(D),D=hv(E)}}return Pm({width:y,height:v,x:h,y:f})}function vb(n,e){const t=_p(n).scrollLeft;return e?e.left+t:al(gi(n)).left+t}function iN(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),a=r.left+e.scrollLeft-(t?0:vb(n,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function cF(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const o=a==="fixed",l=gi(r),u=e?wp(e.floating):!1;if(r===l||u&&o)return t;let h={scrollLeft:0,scrollTop:0},f=ci(1);const y=ci(0),v=hi(r);if((v||!v&&!o)&&((Uc(r)!=="body"||Qd(l))&&(h=_p(r)),hi(r))){const _=al(r);f=lc(r),y.x=_.x+r.clientLeft,y.y=_.y+r.clientTop}const b=l&&!v&&!o?iN(l,h,!0):ci(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-h.scrollLeft*f.x+y.x+b.x,y:t.y*f.y-h.scrollTop*f.y+y.y+b.y}}function uF(n){return Array.from(n.getClientRects())}function dF(n){const e=gi(n),t=_p(n),r=n.ownerDocument.body,a=Jo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Jo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+vb(n);const u=-t.scrollTop;return ba(r).direction==="rtl"&&(l+=Jo(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:u}}function hF(n,e){const t=qr(n),r=gi(n),a=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,h=0;if(a){o=a.width,l=a.height;const f=mb();(!f||f&&e==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:o,height:l,x:u,y:h}}function fF(n,e){const t=al(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,o=hi(n)?lc(n):ci(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,h=a*o.x,f=r*o.y;return{width:l,height:u,x:h,y:f}}function rS(n,e,t){let r;if(e==="viewport")r=hF(n,t);else if(e==="document")r=dF(gi(n));else if(Rr(e))r=fF(e,t);else{const a=aN(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Pm(r)}function sN(n,e){const t=ro(n);return t===e||!Rr(t)||Dc(t)?!1:ba(t).position==="fixed"||sN(t,e)}function mF(n,e){const t=e.get(n);if(t)return t;let r=Od(n,[],!1).filter(u=>Rr(u)&&Uc(u)!=="body"),a=null;const o=ba(n).position==="fixed";let l=o?ro(n):n;for(;Rr(l)&&!Dc(l);){const u=ba(l),h=fb(l);!h&&u.position==="fixed"&&(a=null),(o?!h&&!a:!h&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qd(l)&&!h&&sN(n,l))?r=r.filter(y=>y!==l):a=u,l=ro(l)}return e.set(n,r),r}function pF(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?wp(e)?[]:mF(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((f,y)=>{const v=rS(e,y,a);return f.top=Jo(v.top,f.top),f.right=Ac(v.right,f.right),f.bottom=Ac(v.bottom,f.bottom),f.left=Jo(v.left,f.left),f},rS(e,u,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function gF(n){const{width:e,height:t}=rN(n);return{width:e,height:t}}function yF(n,e,t){const r=hi(e),a=gi(e),o=t==="fixed",l=al(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=ci(0);if(r||!r&&!o)if((Uc(e)!=="body"||Qd(a))&&(u=_p(e)),r){const b=al(e,!0,o,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else a&&(h.x=vb(a));const f=a&&!r&&!o?iN(a,u):ci(0),y=l.left+u.scrollLeft-h.x-f.x,v=l.top+u.scrollTop-h.y-f.y;return{x:y,y:v,width:l.width,height:l.height}}function o0(n){return ba(n).position==="static"}function aS(n,e){if(!hi(n)||ba(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return gi(n)===t&&(t=t.ownerDocument.body),t}function oN(n,e){const t=qr(n);if(wp(n))return t;if(!hi(n)){let a=ro(n);for(;a&&!Dc(a);){if(Rr(a)&&!o0(a))return a;a=ro(a)}return t}let r=aS(n,e);for(;r&&YU(r)&&o0(r);)r=aS(r,e);return r&&Dc(r)&&o0(r)&&!fb(r)?t:r||qU(n)||t}const vF=async function(n){const e=this.getOffsetParent||oN,t=this.getDimensions,r=await t(n.floating);return{reference:yF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xF(n){return ba(n).direction==="rtl"}const bF={convertOffsetParentRelativeRectToViewportRelativeRect:cF,getDocumentElement:gi,getClippingRect:pF,getOffsetParent:oN,getElementRects:vF,getClientRects:uF,getDimensions:gF,getScale:lc,isElement:Rr,isRTL:xF};function lN(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function wF(n,e){let t=null,r;const a=gi(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=n.getBoundingClientRect(),{left:y,top:v,width:b,height:_}=f;if(u||e(),!b||!_)return;const E=Sf(v),D=Sf(a.clientWidth-(y+b)),A=Sf(a.clientHeight-(v+_)),j=Sf(y),F={rootMargin:-E+"px "+-D+"px "+-A+"px "+-j+"px",threshold:Jo(0,Ac(1,h))||1};let q=!0;function k($){const O=$[0].intersectionRatio;if(O!==h){if(!q)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!lN(f,n.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(k,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(k,F)}t.observe(n)}return l(!0),o}function _F(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=yb(n),y=a||o?[...f?Od(f):[],...Od(e)]:[];y.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),o&&j.addEventListener("resize",t)});const v=f&&u?wF(f,t):null;let b=-1,_=null;l&&(_=new ResizeObserver(j=>{let[U]=j;U&&U.target===f&&_&&(_.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var F;(F=_)==null||F.observe(e)})),t()}),f&&!h&&_.observe(f),_.observe(e));let E,D=h?al(n):null;h&&A();function A(){const j=al(n);D&&!lN(D,j)&&t(),D=j,E=requestAnimationFrame(A)}return t(),()=>{var j;y.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),v==null||v(),(j=_)==null||j.disconnect(),_=null,h&&cancelAnimationFrame(E)}}const EF=sF,TF=aF,iS=rF,SF=(n,e,t)=>{const r=new Map,a={platform:bF,...t},o={...a.platform,_c:r};return tF(n,e,{...a,platform:o})};var Qf=typeof document<"u"?M.useLayoutEffect:M.useEffect;function jm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!jm(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&n.$$typeof)&&!jm(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function cN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function sS(n,e){const t=cN(n);return Math.round(e*t)/t}function l0(n){const e=M.useRef(n);return Qf(()=>{e.current=n}),e}function DF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:h,open:f}=n,[y,v]=M.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,_]=M.useState(r);jm(b,r)||_(r);const[E,D]=M.useState(null),[A,j]=M.useState(null),U=M.useCallback(oe=>{oe!==$.current&&($.current=oe,D(oe))},[]),F=M.useCallback(oe=>{oe!==O.current&&(O.current=oe,j(oe))},[]),q=o||E,k=l||A,$=M.useRef(null),O=M.useRef(null),R=M.useRef(y),N=h!=null,C=l0(h),L=l0(a),z=l0(f),B=M.useCallback(()=>{if(!$.current||!O.current)return;const oe={placement:e,strategy:t,middleware:b};L.current&&(oe.platform=L.current),SF($.current,O.current,oe).then(ve=>{const P={...ve,isPositioned:z.current!==!1};Ee.current&&!jm(R.current,P)&&(R.current=P,Ov.flushSync(()=>{v(P)}))})},[b,e,t,L,z]);Qf(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,v(oe=>({...oe,isPositioned:!1})))},[f]);const Ee=M.useRef(!1);Qf(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Qf(()=>{if(q&&($.current=q),k&&(O.current=k),q&&k){if(C.current)return C.current(q,k,B);B()}},[q,k,B,C,N]);const be=M.useMemo(()=>({reference:$,floating:O,setReference:U,setFloating:F}),[U,F]),G=M.useMemo(()=>({reference:q,floating:k}),[q,k]),re=M.useMemo(()=>{const oe={position:t,left:0,top:0};if(!G.floating)return oe;const ve=sS(G.floating,y.x),P=sS(G.floating,y.y);return u?{...oe,transform:"translate("+ve+"px, "+P+"px)",...cN(G.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ve,top:P}},[t,u,G.floating,y.x,y.y]);return M.useMemo(()=>({...y,update:B,refs:be,elements:G,floatingStyles:re}),[y,B,be,G,re])}const AF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?iS({element:r.current,padding:a}).fn(t):{}:r?iS({element:r,padding:a}).fn(t):{}}}},RF=(n,e)=>({...EF(n),options:[n,e]}),CF=(n,e)=>({...TF(n),options:[n,e]}),NF=(n,e)=>({...AF(n),options:[n,e]}),uN={...W4},MF=uN.useInsertionEffect,kF=MF||(n=>n());function PF(n){const e=M.useRef(()=>{});return kF(()=>{e.current=n}),M.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var Om=typeof document<"u"?M.useLayoutEffect:M.useEffect;let oS=!1,jF=0;const lS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jF++;function OF(){const[n,e]=M.useState(()=>oS?lS():void 0);return Om(()=>{n==null&&e(lS())},[]),M.useEffect(()=>{oS=!0},[]),n}const IF=uN.useId,dN=IF||OF,VF=M.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:o,shift:l}},width:u=14,height:h=7,tipRadius:f=0,strokeWidth:y=0,staticOffset:v,stroke:b,d:_,style:{transform:E,...D}={},...A}=e,j=dN(),[U,F]=M.useState(!1);if(Om(()=>{if(!a)return;ba(a).direction==="rtl"&&F(!0)},[a]),!a)return null;const[q,k]=r.split("-"),$=q==="top"||q==="bottom";let O=v;($&&l!=null&&l.x||!$&&l!=null&&l.y)&&(O=null);const R=y*2,N=R/2,C=u/2*(f/-8+1),L=h/2*f/4,z=!!_,B=O&&k==="end"?"bottom":"top";let Ee=O&&k==="end"?"right":"left";O&&U&&(Ee=k==="end"?"left":"right");const be=(o==null?void 0:o.x)!=null?O||o.x:"",G=(o==null?void 0:o.y)!=null?O||o.y:"",re=_||"M0,0"+(" H"+u)+(" L"+(u-C)+","+(h-L))+(" Q"+u/2+","+h+" "+C+","+(h-L))+" Z",oe={top:z?"rotate(180deg)":"",left:z?"rotate(90deg)":"rotate(-90deg)",bottom:z?"":"rotate(180deg)",right:z?"rotate(-90deg)":"rotate(90deg)"}[q];return p.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:z?u:u+R,height:u,viewBox:"0 0 "+u+" "+(h>u?h:u),style:{position:"absolute",pointerEvents:"none",[Ee]:be,[B]:G,[q]:$||z?"100%":"calc(100% - "+R/2+"px)",transform:[oe,E].filter(ve=>!!ve).join(" "),...D},children:[R>0&&p.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:b,strokeWidth:R+(_?0:1),d:re}),p.jsx("path",{stroke:R&&!_?A.fill:"none",d:re}),p.jsx("clipPath",{id:j,children:p.jsx("rect",{x:-N,y:N*(z?-1:1),width:u+R,height:u})})]})});function LF(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(a=>a!==t))||[])}}}const UF=M.createContext(null),FF=M.createContext(null),BF=()=>{var n;return((n=M.useContext(UF))==null?void 0:n.id)||null},zF=()=>M.useContext(FF);function HF(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=dN(),o=M.useRef({}),[l]=M.useState(()=>LF()),u=BF()!=null,[h,f]=M.useState(r.reference),y=PF((_,E,D)=>{o.current.openEvent=_?E:void 0,l.emit("openchange",{open:_,event:E,reason:D,nested:u}),t==null||t(_,E,D)}),v=M.useMemo(()=>({setPositionReference:f}),[]),b=M.useMemo(()=>({reference:h||r.reference||null,floating:r.floating||null,domReference:r.reference}),[h,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:b,events:l,floatingId:a,refs:v}),[e,y,b,l,a,v])}function YF(n){n===void 0&&(n={});const{nodeId:e}=n,t=HF({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[o,l]=M.useState(null),[u,h]=M.useState(null),y=(a==null?void 0:a.domReference)||o,v=M.useRef(null),b=zF();Om(()=>{y&&(v.current=y)},[y]);const _=DF({...n,elements:{...a,...u&&{reference:u}}}),E=M.useCallback(F=>{const q=Rr(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),contextElement:F}:F;h(q),_.refs.setReference(q)},[_.refs]),D=M.useCallback(F=>{(Rr(F)||F===null)&&(v.current=F,l(F)),(Rr(_.refs.reference.current)||_.refs.reference.current===null||F!==null&&!Rr(F))&&_.refs.setReference(F)},[_.refs]),A=M.useMemo(()=>({..._.refs,setReference:D,setPositionReference:E,domReference:v}),[_.refs,D,E]),j=M.useMemo(()=>({..._.elements,domReference:y}),[_.elements,y]),U=M.useMemo(()=>({..._,...r,refs:A,elements:j,nodeId:e}),[_,A,j,e,r]);return Om(()=>{r.dataRef.current.floatingContext=U;const F=b==null?void 0:b.nodesRef.current.find(q=>q.id===e);F&&(F.context=U)}),M.useMemo(()=>({..._,context:U,refs:A,elements:j}),[_,A,j,U])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var mv=function(e,t){return mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},mv(e,t)};function zn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var St=function(){return St=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},St.apply(this,arguments)};function ri(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var qF=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,o=n.className,l=n.children,u=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return Z.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},$F=function(n,e){var t=M.useRef(null),r=M.useRef(n);r.current=n;var a=M.useCallback(function(o){var l,u=o.composed&&o.composedPath&&o.composedPath().find(function(h){return h instanceof Node})||o.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,o))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Tp=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,o=n.style,l=n.ignoreClass,u=$F(t,l);return Z.createElement("div",{className:r,style:o,ref:function(h){u.current=h,a&&(a.current=h)}},e)},Ae;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Ae||(Ae={}));function hN(){var n=typeof window<"u"?window:globalThis;return n}var Wd=12;function jt(n){if(n==null)return new Date;var e=typeof n=="string"?RU(n):Ve(n);return Sp(e)?e:new Date}function c0(n,e,t,r,a){a===void 0&&(a=jt());for(var o=Cc(t)||Cc(xb()),l=Array.isArray(e)?e:[e],u=0,h=l;u<h.length;u++){var f=h[u],y=_U(n,f,a,{locale:o});if(Sp(y)&&(!r||n===Jt(y,f,t)))return y}return null}function Sp(n,e){return Dm(n)&&!rl(n,new Date("1/1/1800"))}function Jt(n,e,t){if(t==="en")return ZT(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Cc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Cc(xb()),ZT(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function pa(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Jt(n,a,r)||""}function GF(n,e,t){if(!n)return"";var r=pa(n,t),a=e?pa(e,t):"";return"".concat(r," - ").concat(a)}function QF(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?pa(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=pa(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function u0(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return qf($f(Gf(n,u),o),r)}function KF(n){return cb(n)}function WF(n,e){return Jt(n,"ddd",e)}function Kf(n){return nl(n)}function $s(n,e,t){var r=Cc(e||xb());return as(n,{locale:r,weekStartsOn:t})}function Zi(n){return HC(n)}function rd(n){return xp(n)}function cS(n){return cv(n)}function uS(){return nl(jt())}function dS(n){return BC(n)}function XF(n){return R8(n)}function ZF(n){return zC(n)}function ei(n,e){return n&&e?DU(n,e):!n&&!e}function Sr(n,e){return n&&e?TU(n,e):!n&&!e}function Im(n,e){return n&&e?SU(n,e):!n&&!e}function Tt(n,e){return n&&e?D8(n,e):!n&&!e}function Ko(n,e){return n&&e?A7(n,e):!n&&!e}function ad(n,e,t){var r,a=nl(e),o=BC(t);try{r=jd(n,{start:a,end:o})}catch{r=!1}return r}function xb(){var n=hN();return n.__localeId__}function Cc(n){if(typeof n=="string"){var e=hN();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function JF(n,e,t){return e(Jt(n,"EEEE",t))}function eB(n,e){return Jt(n,"EEEEEE",e)}function tB(n,e){return Jt(n,"EEE",e)}function bb(n,e){return Jt(ga(jt(),n),"LLLL",e)}function fN(n,e){return Jt(ga(jt(),n),"LLL",e)}function nB(n,e){return Jt(tc(jt(),n),"QQQ",e)}function ya(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,h=t.includeDateIntervals,f=t.filterDate;return Xd(n,{minDate:r,maxDate:a})||o&&o.some(function(y){return y instanceof Date?Tt(n,y):Tt(n,y.date)})||l&&l.some(function(y){var v=y.start,b=y.end;return jd(n,{start:v,end:b})})||u&&!u.some(function(y){return Tt(n,y)})||h&&!h.some(function(y){var v=y.start,b=y.end;return jd(n,{start:v,end:b})})||f&&!f(jt(n))||!1}function wb(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var l=o.start,u=o.end;return jd(n,{start:l,end:u})}):r&&r.some(function(o){var l;return o instanceof Date?Tt(n,o):Tt(n,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function mN(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Xd(n,{minDate:r?HC(r):void 0,maxDate:a?zC(a):void 0})||(o==null?void 0:o.some(function(h){return Sr(n,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return Sr(n,h)})||u&&!u(jt(n))||!1}function Df(n,e,t,r){var a=ht(n),o=Ar(n),l=ht(e),u=Ar(e),h=ht(r);return a===l&&a===h?o<=t&&t<=u:a<l?h===a&&o<=t||h===l&&u>=t||h<l&&h>a:!1}function rB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates;return Xd(n,{minDate:r,maxDate:a})||o&&o.some(function(u){return Sr(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return Sr(u,n)})||!1}function Af(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Xd(n,{minDate:r,maxDate:a})||(o==null?void 0:o.some(function(h){return Im(n,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return Im(n,h)})||u&&!u(jt(n))||!1}function Rf(n,e,t){if(!e||!t||!Dm(e)||!Dm(t))return!1;var r=ht(e),a=ht(t);return r<=n&&a>=n}function Wf(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,h=new Date(n,0,1);return Xd(h,{minDate:r?xp(r):void 0,maxDate:a?YC(a):void 0})||(o==null?void 0:o.some(function(f){return ei(h,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return ei(h,f)})||u&&!u(jt(h))||!1}function Cf(n,e,t,r){var a=ht(n),o=Xo(n),l=ht(e),u=Xo(e),h=ht(r);return a===l&&a===h?o<=t&&t<=u:a<l?h===a&&o<=t||h===l&&u>=t||h<l&&h>a:!1}function Xd(n,e){var t,r=e===void 0?{}:e,a=r.minDate,o=r.maxDate;return(t=a&&Tc(n,a)<0||o&&Tc(n,o)>0)!==null&&t!==void 0?t:!1}function hS(n,e){return e.some(function(t){return Wi(t)===Wi(n)&&Xi(t)===Xi(n)&&qs(t)===qs(n)})}function fS(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return r&&hS(n,r)||a&&!hS(n,a)||o&&!o(n)||!1}function mS(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=jt();a=qf(a,Wi(n)),a=$f(a,Xi(n)),a=Gf(a,qs(n));var o=jt();o=qf(o,Wi(t)),o=$f(o,Xi(t)),o=Gf(o,qs(t));var l=jt();l=qf(l,Wi(r)),l=$f(l,Xi(r)),l=Gf(l,qs(r));var u;try{u=!jd(a,{start:o,end:l})}catch{u=!1}return u}function pS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Zo(n,1);return r&&Am(r,o)>0||a&&a.every(function(l){return Am(l,o)>0})||!1}function gS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=ja(n,1);return r&&Am(o,r)>0||a&&a.every(function(l){return Am(o,l)>0})||!1}function aB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=xp(n),l=JC(o);return r&&Rm(r,l)>0||a&&a.every(function(u){return Rm(u,l)>0})||!1}function iB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=YC(n),l=lb(o,1);return r&&Rm(l,r)>0||a&&a.every(function(u){return Rm(l,u)>0})||!1}function yS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Sc(n,1);return r&&Cm(r,o)>0||a&&a.every(function(l){return Cm(l,o)>0})||!1}function sB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,o=a===void 0?Wd:a,l=rd(Sc(n,o)),u=Us(l,o).endPeriod,h=r&&ht(r);return h&&h>u||!1}function vS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=Qi(n,1);return r&&Cm(o,r)>0||a&&a.every(function(l){return Cm(o,l)>0})||!1}function oB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,o=a===void 0?Wd:a,l=Qi(n,o),u=Us(l,o).startPeriod,h=r&&ht(r);return h&&h<u||!1}function pN(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Tc(a,e)>=0});return $T(r)}else return t?$T(t):e}function gN(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Tc(a,e)<=0});return qT(r)}else return t?qT(t):e}function xS(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,o=n.length;a<o;a++){var l=n[a];if(Ki(l)){var u=Jt(l,"MM.dd.yyyy"),h=r.get(u)||[];h.includes(e)||(h.push(e),r.set(u,h))}else if(typeof l=="object"){var f=Object.keys(l),y=(t=f[0])!==null&&t!==void 0?t:"",v=l[y];if(typeof y=="string"&&Array.isArray(v))for(var b=0,_=v.length;b<_;b++){var E=v[b];if(E){var u=Jt(E,"MM.dd.yyyy"),h=r.get(u)||[];h.includes(y)||(h.push(y),r.set(u,h))}}}}return r}function lB(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function cB(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,o=r.holidayName;if(Ki(a)){var l=Jt(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&lB(u.holidayNames,[o]))){u.className=e;var h=u.holidayNames;u.holidayNames=h?ri(ri([],h,!0),[o],!1):[o],t.set(l,u)}}}),t}function uB(n,e,t,r,a){for(var o=a.length,l=[],u=0;u<o;u++){var h=n,f=a[u];f&&(h=_8(h,Wi(f)),h=lv(h,Xi(f)),h=S8(h,qs(f)));var y=lv(n,(t+1)*r);no(h,e)&&rl(h,y)&&f!=null&&l.push(f)}return l}function bS(n){return n<10?"0".concat(n):"".concat(n)}function Us(n,e){e===void 0&&(e=Wd);var t=Math.ceil(ht(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function dB(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function wS(n){var e=n.getSeconds(),t=n.getMilliseconds();return Ve(n.getTime()-e*1e3-t)}function hB(n,e){return wS(n).getTime()===wS(e).getTime()}function _S(n){if(!Ki(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function ES(n,e){if(!Ki(n)||!Ki(e))throw new Error("Invalid date received");var t=_S(n),r=_S(e);return rl(t,r)}function yN(n){return n.key===Ae.Space}var fB=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=Z.createRef(),r.onTimeChange=function(a){var o,l;r.setState({time:a});var u=r.props.date,h=u instanceof Date&&!isNaN(+u),f=h?u:new Date;if(a!=null&&a.includes(":")){var y=a.split(":"),v=y[0],b=y[1];f.setHours(Number(v)),f.setMinutes(Number(b))}(l=(o=r.props).onChange)===null||l===void 0||l.call(o,f)},r.renderTimeInput=function(){var a=r.state.time,o=r.props,l=o.date,u=o.timeString,h=o.customTimeInput;return h?M.cloneElement(h,{date:l,value:a,onChange:r.onTimeChange}):Z.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var f;(f=r.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:a,onChange:function(f){r.onTimeChange(f.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return Z.createElement("div",{className:"react-datepicker__input-time-container"},Z.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Z.createElement("div",{className:"react-datepicker-time__input-container"},Z.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),mB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=M.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isSameDay=function(r){return Tt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ya(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return wb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Tt(t.props.day,$s(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Tt(r,$s(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,o=r.highlightDates;if(!o)return!1;var l=Jt(a,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var r,a=t.props,o=a.day,l=a.holidays;if(!l)return[void 0];var u=Jt(o,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:ad(a,o,l)},t.isInSelectingRange=function(){var r,a=t.props,o=a.day,l=a.selectsStart,u=a.selectsEnd,h=a.selectsRange,f=a.selectsDisabledDaysInRange,y=a.startDate,v=a.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||u||h)||!b||!f&&t.isDisabled()?!1:l&&v&&(rl(b,v)||Ko(b,v))?ad(o,b,v):u&&y&&(no(b,y)||Ko(b,y))||h&&y&&!v&&(no(b,y)||Ko(b,y))?ad(o,y,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.startDate,u=a.selectsStart,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?Tt(o,h):Tt(o,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.endDate,u=a.selectsEnd,h=a.selectsRange,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||h?Tt(o,f):Tt(o,l)},t.isRangeStart=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:Tt(o,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:Tt(l,a)},t.isWeekend=function(){var r=E7(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ar(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ar(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(jt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return Jn("react-datepicker__day",a,"react-datepicker__day--"+WF(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,o=r.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=r.ariaLabelPrefixWhenDisabled,h=u===void 0?"Not available":u,f=t.isDisabled()||t.isExcluded()?h:l;return"".concat(f," ").concat(Jt(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,o=r.holidays,l=o===void 0?new Map:o,u=r.excludeDates,h=Jt(a,"MM.dd.yyyy"),f=[];return l.has(h)&&f.push.apply(f,l.get(h).holidayNames),t.isExcluded()&&f.push(u==null?void 0:u.filter(function(y){return y instanceof Date?Tt(y,a):Tt(y==null?void 0:y.date,a)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),f.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Tt(a,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(JT(t.props.day),t.props.day):JT(t.props.day)},t.render=function(){return Z.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Z.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),pB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=M.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Tt(t.props.date,t.props.selected)&&Tt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Tt(t.props.date,t.props.selected)&&Tt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Tt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&Tt(this.props.date,this.props.selected)};return Z.createElement("div",{ref:this.weekNumberEl,className:Jn(h),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(M.Component),gB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ya(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,o){for(var l,u,h,f=new Date(r),y=0;y<7;y++){var v=new Date(r);v.setDate(v.getDate()+y);var b=!t.isDisabled(v);if(b){f=v;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,a,o),t.props.showWeekPicker&&t.handleDayClick(f,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((h=(u=t.props).setOpen)===null||h===void 0||h.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):KF(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=Ma(r,6),o=new Date(r);o<=a;){if(!t.isDisabled(o))return!1;o=Ma(o,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;a.push(Z.createElement(pB,St({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var h=Ma(r,u);return Z.createElement(mB,St({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return $s(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Tt(t.startOfWeek(),t.props.selected)&&Tt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Tt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Z.createElement("div",{className:Jn(t)},this.renderDays())},e}(M.Component),$u,yB=6,cc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},d0=($u={},$u[cc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$u[cc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$u[cc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$u),Nf=1;function TS(n,e){return n?cc.FOUR_COLUMNS:e?cc.TWO_COLUMNS:cc.THREE_COLUMNS}var vB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ri([],Array(12),!0).map(function(){return M.createRef()}),t.QUARTER_REFS=ri([],Array(4),!0).map(function(){return M.createRef()}),t.isDisabled=function(r){return ya(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return wb(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Sr(ga(o,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Im(tc(o,r),l)},t.isRangeEndMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Sr(ga(o,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Im(tc(o,r),u)},t.isInSelectingRangeMonth=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,h=o.selectsEnd,f=o.selectsRange,y=o.startDate,v=o.endDate,b=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||h||f)||!b?!1:u&&v?Df(b,v,r,l):h&&y||f&&y&&!v?Df(y,b,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.startDate,h=o.selectsStart,f=ga(l,r),y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h?Sr(f,y):Sr(f,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.endDate,h=o.selectsEnd,f=o.selectsRange,y=ga(l,r),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h||f?Sr(y,v):Sr(y,u)},t.isInSelectingRangeQuarter=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,h=o.selectsEnd,f=o.selectsRange,y=o.startDate,v=o.endDate,b=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||h||f)||!b?!1:u&&v?Cf(b,v,r,l):h&&y||f&&y&&!v?Cf(y,b,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,o=Ma(r,6);return Sr(r,a)||Sr(o,a)},t.isCurrentMonth=function(r,a){return ht(r)===ht(jt())&&a===Ar(jt())},t.isCurrentQuarter=function(r,a){return ht(r)===ht(jt())&&a===Xo(jt())},t.isSelectedMonth=function(r,a,o){return Ar(o)===a&&ht(r)===ht(o)},t.isSelectMonthInList=function(r,a,o){return o.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,o){return Xo(r)===a&&ht(r)===ht(o)},t.renderWeeks=function(){for(var r=[],a=t.props.fixedHeight,o=0,l=!1,u=$s(Zi(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(E){return t.props.showWeekPicker?$s(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(E){return t.props.showWeekPicker?$s(E,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?f(t.props.selected):void 0,v=t.props.preSelection?h(t.props.preSelection):void 0;r.push(Z.createElement(gB,St({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:Ar(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:v,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=Sm(u,1);var b=a&&o>=yB,_=!a&&!t.isWeekInMonth(u);if(b||_)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var o=t.isMonthDisabledForLabelDate(a),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick(Zi(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),o=a.isDisabled,l=a.labelDate;o||t.handleDayMouseEnter(Zi(l))},t.handleMonthNavigation=function(r,a){var o,l,u,h;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(h=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(r,a,o){var l,u=t.props,h=u.selected,f=u.preSelection,y=u.setPreSelection,v=u.minDate,b=u.maxDate,_=u.showFourColumnMonthYearPicker,E=u.showTwoColumnMonthYearPicker;if(f){var D=TS(_,E),A=t.getVerticalOffset(D),j=(l=d0[D])===null||l===void 0?void 0:l.grid,U=function(O,R,N){var C,L,z=R,B=N;switch(O){case Ae.ArrowRight:z=ja(R,Nf),B=N===11?0:N+Nf;break;case Ae.ArrowLeft:z=Zo(R,Nf),B=N===0?11:N-Nf;break;case Ae.ArrowUp:z=Zo(R,A),B=!((C=j==null?void 0:j[0])===null||C===void 0)&&C.includes(N)?N+12-A:N-A;break;case Ae.ArrowDown:z=ja(R,A),B=!((L=j==null?void 0:j[j.length-1])===null||L===void 0)&&L.includes(N)?N-12+A:N+A;break}return{newCalculatedDate:z,newCalculatedMonth:B}},F=function(O,R,N){for(var C=40,L=O,z=!1,B=0,Ee=U(L,R,N),be=Ee.newCalculatedDate,G=Ee.newCalculatedMonth;!z;){if(B>=C){be=R,G=N;break}if(v&&be<v){L=Ae.ArrowRight;var re=U(L,be,G);be=re.newCalculatedDate,G=re.newCalculatedMonth}if(b&&be>b){L=Ae.ArrowLeft;var re=U(L,be,G);be=re.newCalculatedDate,G=re.newCalculatedMonth}if(rB(be,t.props)){var re=U(L,be,G);be=re.newCalculatedDate,G=re.newCalculatedMonth}else z=!0;B++}return{newCalculatedDate:be,newCalculatedMonth:G}};if(a===Ae.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),y==null||y(h));return}var q=F(a,f,o),k=q.newCalculatedDate,$=q.newCalculatedMonth;switch(a){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:t.handleMonthNavigation($,k);break}}},t.getVerticalOffset=function(r){var a,o;return(o=(a=d0[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,a){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,h=r.key;h!==Ae.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,h,a),u&&u(r)},t.onQuarterClick=function(r,a){var o=tc(t.props.day,a);Af(o,t.props)||t.handleDayClick(cS(o),r)},t.onQuarterMouseEnter=function(r){var a=tc(t.props.day,r);Af(a,t.props)||t.handleDayMouseEnter(cS(a))},t.handleQuarterNavigation=function(r,a){var o,l,u,h;t.isDisabled(a)||t.isExcluded(a)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(h=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(r,a){var o,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Ae.Enter:t.onQuarterClick(r,a),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case Ae.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,lb(t.props.preSelection,1));break;case Ae.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,JC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,o=t.props,l=o.day,u=o.minDate,h=o.maxDate,f=o.excludeDates,y=o.includeDates,v=ga(l,r);return{isDisabled:(a=(u||h||f||y)&&mN(v,t.props))!==null&&a!==void 0?a:!1,labelDate:v}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,h=a.preSelection,f=a.monthClassName,y=f?f(ga(o,r)):void 0,v=t.getSelection();return Jn("react-datepicker__month-text","react-datepicker__month-".concat(r),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":v?t.isSelectMonthInList(o,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(o,r,h)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?Df(l,u,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Ar(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Xo(t.props.preSelection),o=Af(t.props.day,t.props),l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,o=a.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=a.disabledDayAriaLabelPrefix,h=u===void 0?"Not available":u,f=a.day,y=a.locale,v=ga(f,r),b=t.isDisabled(v)||t.isExcluded(v)?h:l;return"".concat(b," ").concat(Jt(v,"MMMM yyyy",y))},t.getQuarterClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,h=a.selected,f=a.minDate,y=a.maxDate,v=a.excludeDates,b=a.includeDates,_=a.filterDate,E=a.preSelection,D=a.disabledKeyboardNavigation,A=(f||y||v||b||_)&&Af(tc(o,r),t.props);return Jn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(o,r,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!D&&E&&t.isSelectedQuarter(o,r,E)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?Cf(l,u,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,r)})},t.getMonthContent=function(r){var a=t.props,o=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,h=a.day,f=fN(r,u),y=bb(r,u);return l?l(r,f,y,h):o?y:f},t.getQuarterContent=function(r){var a,o=t.props,l=o.renderQuarterContent,u=o.locale,h=nB(r,u);return(a=l==null?void 0:l(r,h))!==null&&a!==void 0?a:h},t.renderMonths=function(){var r,a=t.props,o=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,h=a.selected,f=(r=d0[TS(l,o)])===null||r===void 0?void 0:r.grid;return f==null?void 0:f.map(function(y,v){return Z.createElement("div",{className:"react-datepicker__month-wrapper",key:v},y.map(function(b,_){return Z.createElement("div",{ref:t.MONTH_REFS[b],key:_,onClick:function(E){t.onMonthClick(E,b)},onKeyDown:function(E){yN(E)&&(E.preventDefault(),E.key=Ae.Enter),t.onMonthKeyDown(E,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(u,b)?"date":void 0,"aria-selected":h?t.isSelectedMonth(u,b,h):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,o=r.selected,l=[1,2,3,4];return Z.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,h){return Z.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(f){t.onQuarterClick(f,u)},onKeyDown:function(f){t.onQuarterKeyDown(f,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(a,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,o=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,h=r.showQuarterYearPicker,f=r.showWeekPicker;return Jn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":f})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,h=u?u.trim()+" ":"";return Z.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(Jt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(M.Component),xB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,a){return Z.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?Z.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Z.createElement(Tp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),bB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,o){return Z.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(r){return Z.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return Z.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return Z.createElement(xB,St({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,r)];return a&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return fN(o,t.props.locale)}:function(o){return bb(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return Z.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(M.Component);function wB(n,e){for(var t=[],r=Zi(n),a=Zi(e);!no(r,a);)t.push(jt(r)),r=ja(r,1);return t}var _B=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var o=dv(a),l=ei(r.props.date,a)&&Sr(r.props.date,a);return Z.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":l?"true":void 0},l?Z.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Jt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:wB(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Jn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Z.createElement(Tp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),EB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Zi(t.props.minDate),a=Zi(t.props.maxDate),o=[];!no(r,a);){var l=dv(r);o.push(Z.createElement("option",{key:l,value:l},Jt(r,t.props.dateFormat,t.props.locale))),r=ja(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Z.createElement("select",{value:dv(Zi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=Jt(t.props.date,t.props.dateFormat,t.props.locale);return Z.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return Z.createElement(_B,St({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=jt(r);ei(t.props.date,a)&&Sr(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),TB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var a,o;(t.props.minTime||t.props.maxTime)&&mS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&fS(r,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&hB(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&mS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&fS(r,t.props)},t.liClasses=function(r){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Wi(r)*3600+Xi(r)*60+qs(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,a){var o,l;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&t.handleClick(a),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,r)},t.renderTimes=function(){for(var r,a=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||jt(),h=Kf(u),f=t.props.injectTimes&&t.props.injectTimes.sort(function(A,j){return A.getTime()-j.getTime()}),y=60*dB(u),v=y/l,b=0;b<v;b++){var _=lv(h,b*l);if(a.push(_),f){var E=uB(h,_,b,l,f);a=a.concat(E)}}var D=a.reduce(function(A,j){return j.getTime()<=u.getTime()?j:A},a[0]);return a.map(function(A){return Z.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(j){A===D&&(t.centerLi=j)},onKeyDown:function(j){t.handleOnKeyDown(j,A)},tabIndex:A===D?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},Jt(A,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Z.createElement(Z.Fragment,null):Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},Z.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return Z.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Z.createElement("div",{className:"react-datepicker__time"},Z.createElement("div",{className:"react-datepicker__time-box"},Z.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(M.Component),SS=3,SB=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ri([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(a){return ya(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return wb(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var o=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleYearNavigation=function(a,o){var l,u,h,f,y=r.props,v=y.date,b=y.yearItemNumber;if(!(v===void 0||b===void 0)){var _=Us(v,b).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,o),a-_<0?r.updateFocusOnPaginate(b-(_-a)):a-_>=b?r.updateFocusOnPaginate(Math.abs(b-(a-_))):(f=(h=r.YEAR_REFS[a-_])===null||h===void 0?void 0:h.current)===null||f===void 0||f.focus())}},r.isSameDay=function(a,o){return Tt(a,o)},r.isCurrentYear=function(a){return a===ht(jt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&ei(Ja(jt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&ei(Ja(jt(),a),r.props.endDate)},r.isInRange=function(a){return Rf(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var o=r.props,l=o.selectsStart,u=o.selectsEnd,h=o.selectsRange,f=o.startDate,y=o.endDate;return!(l||u||h)||!r.selectingDate()?!1:l&&y?Rf(a,r.selectingDate(),y):u&&f||h&&f&&!y?Rf(a,f,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,h=l.selectsStart,f=Ja(jt(),a);return h?ei(f,(o=r.selectingDate())!==null&&o!==void 0?o:null):ei(f,u??null)},r.isSelectingRangeEnd=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,h=l.selectsEnd,f=l.selectsRange,y=Ja(jt(),a);return h||f?ei(y,(o=r.selectingDate())!==null&&o!==void 0?o:null):ei(y,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,l=o.minDate,u=o.maxDate,h=o.excludeDates,f=o.includeDates,y=o.filterDate,v=rd(Ja(r.props.date,a)),b=(l||u||h||f||y)&&Wf(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Tt(v,rd(r.props.selected))&&Tt(v,rd(r.props.preSelection))&&!b}},r.onYearClick=function(a,o){var l=r.props.date;l!==void 0&&r.handleYearClick(rd(Ja(l,o)),a)},r.onYearKeyDown=function(a,o){var l,u,h=a.key,f=r.props,y=f.date,v=f.yearItemNumber,b=f.handleOnKeyDown;if(h!==Ae.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(h){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(a,o),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Qi(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Sc(r.props.preSelection,1));break;case Ae.ArrowUp:{if(y===void 0||v===void 0||r.props.preSelection==null)break;var _=Us(y,v).startPeriod,E=SS,D=o-E;if(D<_){var A=v%E;o>=_&&o<_+A?E=A:E+=A,D=o-E}r.handleYearNavigation(D,Sc(r.props.preSelection,E));break}case Ae.ArrowDown:{if(y===void 0||v===void 0||r.props.preSelection==null)break;var j=Us(y,v).endPeriod,E=SS,D=o+E;if(D>j){var A=v%E;o<=j&&o>j-A?E=A:E+=A,D=o+E}r.handleYearNavigation(D,Qi(r.props.preSelection,E));break}}b&&b(a)},r.getYearClassNames=function(a){var o=r.props,l=o.date,u=o.minDate,h=o.maxDate,f=o.selected,y=o.excludeDates,v=o.includeDates,b=o.filterDate,_=o.yearClassName;return Jn("react-datepicker__year-text","react-datepicker__year-".concat(a),l?_==null?void 0:_(Ja(l,a)):void 0,{"react-datepicker__year-text--selected":f?a===ht(f):void 0,"react-datepicker__year-text--disabled":(u||h||y||v||b)&&Wf(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=ht(r.props.preSelection),l=Wf(a,r.props);return a===o&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,o=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,h=a.onYearMouseLeave;if(o===void 0)return null;for(var f=Us(o,l),y=f.startPeriod,v=f.endPeriod,b=function(D){r.push(Z.createElement("div",{ref:_.YEAR_REFS[D-y],onClick:function(A){t.onYearClick(A,D)},onKeyDown:function(A){yN(A)&&(A.preventDefault(),A.key=Ae.Enter),t.onYearKeyDown(A,D)},tabIndex:Number(_.getYearTabIndex(D)),className:_.getYearClassNames(D),onMouseEnter:_.props.usePointerEvent?void 0:function(A){return u(A,D)},onPointerEnter:_.props.usePointerEvent?function(A){return u(A,D)}:void 0,onMouseLeave:_.props.usePointerEvent?void 0:function(A){return h(A,D)},onPointerLeave:_.props.usePointerEvent?function(A){return h(A,D)}:void 0,key:D,"aria-current":_.isCurrentYear(D)?"date":void 0},_.getYearContent(D)))},_=this,E=y;E<=v;E++)b(E);return Z.createElement("div",{className:"react-datepicker__year"},Z.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(M.Component);function DB(n,e,t,r){for(var a=[],o=0;o<2*e+1;o++){var l=n+e-o,u=!0;t&&(u=ht(t)<=l),r&&u&&(u=ht(r)>=l),u&&a.push(l)}return a}var AB=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,h=r.state.yearsList.map(function(v){return Z.createElement("div",{className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?Z.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),f=r.props.minDate?ht(r.props.minDate):null,y=r.props.maxDate?ht(r.props.maxDate):null;return(!y||!r.state.yearsList.find(function(v){return v===y}))&&h.unshift(Z.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!r.state.yearsList.find(function(v){return v===f}))&&h.push(Z.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var h=r.state.yearsList.map(function(f){return f+u});r.setState({yearsList:h})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=a||(o?10:5);return r.state={yearsList:DB(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Jn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Z.createElement(Tp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),RB=function(n){zn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ht(t.props.minDate):1900,a=t.props.maxDate?ht(t.props.maxDate):2100,o=[],l=r;l<=a;l++)o.push(Z.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Z.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return Z.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},Z.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Z.createElement(AB,St({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),CB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],NB=function(n){var e=(n.className||"").split(/\s+/);return CB.some(function(t){return e.indexOf(t)>=0})},MB=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var o,l;NB(a.target)&&((l=(o=r.props).onDropdownFocus)===null||l===void 0||l.call(o,a))},r.getDateInView=function(){var a=r.props,o=a.preSelection,l=a.selected,u=a.openToDate,h=pN(r.props),f=gN(r.props),y=jt(),v=u||l||o;return v||(h&&rl(y,h)?h:f&&no(y,f)?f:y)},r.increaseMonth=function(){r.setState(function(a){var o=a.date;return{date:ja(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Zo(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,o,l){r.props.onSelect(a,o,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,o){r.setState({selectingDate:Ja(jt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,o)},r.handleYearMouseLeave=function(a,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,o)},r.handleYearChange=function(a){var o,l,u,h;(l=(o=r.props).onYearChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(h=(u=r.props).setOpen)===null||h===void 0||h.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!ya(a,r.props))return a;for(var o=Zi(a),l=ZF(a),u=A8(l,o),h=null,f=0;f<=u;f++){var y=Ma(o,f);if(!ya(y,r.props)){h=y;break}}return h},r.handleMonthChange=function(a){var o,l,u,h=(o=r.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;r.handleCustomMonthChange(h),r.props.adjustDateOnChange&&(r.props.onSelect(h),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(h)},r.handleCustomMonthChange=function(a){var o,l;(l=(o=r.props).onMonthChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(o){var l=o.date;return{date:Ja(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(o){var l=o.date;return{date:ga(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(o){var l=o.date;return{date:Ja(ga(l,Ar(a)),ht(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var o=$s(a,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(Z.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var h=Ma(o,u),f=r.formatWeekday(h,r.props.locale),y=r.props.weekDayClassName?r.props.weekDayClassName(h):void 0;return Z.createElement("div",{key:u,"aria-label":Jt(h,"EEEE",r.props.locale),className:Jn("react-datepicker__day-name",y)},f)}))},r.formatWeekday=function(a,o){return r.props.formatWeekDay?JF(a,r.props.formatWeekDay,o):r.props.useWeekdaysShort?tB(a,o):eB(a,o)},r.decreaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:Sc(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,o,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,h=r.props.showPreviousMonths?u-1:0,f=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:h,y=Zo(r.state.date,f),v;switch(!0){case r.props.showMonthYearPicker:v=yS(r.state.date,r.props);break;case r.props.showYearPicker:v=sB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=aB(r.state.date,r.props);break;default:v=pS(y,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],_=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(E=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(_.push("react-datepicker__navigation--previous--disabled"),E=void 0);var D=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,j=A.previousMonthButtonLabel,U=j===void 0?e.defaultProps.previousMonthButtonLabel:j,F=A.previousYearButtonLabel,q=F===void 0?e.defaultProps.previousYearButtonLabel:F,k=r.props,$=k.previousMonthAriaLabel,O=$===void 0?typeof U=="string"?U:"Previous Month":$,R=k.previousYearAriaLabel,N=R===void 0?typeof q=="string"?q:"Previous Year":R;return Z.createElement("button",{type:"button",className:_.join(" "),onClick:E,onKeyDown:r.props.handleOnKeyDown,"aria-label":D?N:O},Z.createElement("span",{className:b.join(" ")},D?q:U))}}},r.increaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:Qi(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=vS(r.state.date,r.props);break;case r.props.showYearPicker:o=oB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=iB(r.state.date,r.props);break;default:o=gS(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var h=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),h=void 0);var f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,v=y.nextMonthButtonLabel,b=v===void 0?e.defaultProps.nextMonthButtonLabel:v,_=y.nextYearButtonLabel,E=_===void 0?e.defaultProps.nextYearButtonLabel:_,D=r.props,A=D.nextMonthAriaLabel,j=A===void 0?typeof b=="string"?b:"Next Month":A,U=D.nextYearAriaLabel,F=U===void 0?typeof E=="string"?E:"Next Year":U;return Z.createElement("button",{type:"button",className:l.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":f?F:j},Z.createElement("span",{className:u.join(" ")},f?E:b))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),Z.createElement("h2",{className:o.join(" ")},Jt(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return Z.createElement(RB,St({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ht(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return Z.createElement(bB,St({},e.defaultProps,r.props,{month:Ar(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return Z.createElement(EB,St({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(uS(),a),r.props.setPreSelection&&r.props.setPreSelection(uS())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Z.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var o=a.monthDate,l=a.i;return Z.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),Z.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)),Z.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(a){var o,l,u=a.monthDate,h=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var f=pS(r.state.date,r.props),y=gS(r.state.date,r.props),v=yS(r.state.date,r.props),b=vS(r.state.date,r.props),_=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(o=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,St(St({},r.state),{customHeaderCount:h,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:y,prevYearButtonDisabled:v,nextYearButtonDisabled:b})),_&&Z.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(a){var o=a.monthDate,l=r.props,u=l.showYearPicker,h=l.yearItemNumber,f=h===void 0?e.defaultProps.yearItemNumber:h,y=Us(o,f),v=y.startPeriod,b=y.endPeriod;return Z.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(b):ht(o))},r.renderHeader=function(a){var o=a.monthDate,l=a.i,u=l===void 0?0:l,h={monthDate:o,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(h);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(h);default:return r.renderDefaultHeader(h)}},r.renderMonths=function(){var a,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,h=r.props.showPreviousMonths?u-1:0,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qi(r.state.date,h):Zo(r.state.date,h),y=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:h,v=0;v<u;++v){var b=v-y+h,_=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qi(f,b):ja(f,b),E="month-".concat(v),D=v<u-1,A=v>0;l.push(Z.createElement("div",{key:E,ref:function(j){r.monthContainer=j??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:_,i:v}),Z.createElement(vB,St({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:_,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:A}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Z.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Z.createElement(SB,St({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Z.createElement(TB,St({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,o=a&&Sp(a)&&!!r.props.selected,l=o?"".concat(bS(a.getHours()),":").concat(bS(a.getMinutes())):"";if(r.props.showTimeInput)return Z.createElement(fB,St({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,o=Us(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,h;return r.props.showYearPicker?h="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?h=ht(r.state.date):h="".concat(bb(Ar(r.state.date),r.props.locale)," ").concat(ht(r.state.date)),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&h)},r.renderChildren=function(){if(r.props.children)return Z.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Wd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Tt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Sr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Tt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||qF;return Z.createElement(Tp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Z.createElement("div",{style:{display:"contents"},ref:this.containerRef},Z.createElement(t,{className:Jn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(M.Component),kB=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return Z.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(Z.isValidElement(e)){var l=e;return Z.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return Z.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},Z.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},vN=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return a6.createPortal(this.props.children,this.el)},e}(M.Component),PB="[tabindex], a, button, input, select, textarea",jB=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},xN=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(PB),1,-1).filter(jB)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=M.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Z.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Z.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Z.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function OB(n){var e=function(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=M.useRef(null),l=YF(St({open:!a,whileElementsMounted:_F,placement:t.popperPlacement,middleware:ri([CF({padding:15}),RF(10),NF({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=St(St({},t),{hidePopper:a,popperProps:St(St({},l),{arrowRef:o})});return Z.createElement(n,St({},u))};return e}var IB=function(n){zn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,a=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,h=t.targetComponent,f=t.enableTabLoop,y=t.popperOnKeyDown,v=t.portalId,b=t.portalHost,_=t.popperProps,E=t.showArrow,D=void 0;if(!l){var A=Jn("react-datepicker-popper",r);D=Z.createElement(xN,{enableTabLoop:f},Z.createElement("div",{ref:_.refs.setFloating,style:_.floatingStyles,className:A,"data-placement":_.placement,onKeyDown:y},u,E&&Z.createElement(VF,{ref:_.arrowRef,context:_.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(D=M.createElement(this.props.popperContainer,{},D)),v&&!l&&(D=Z.createElement(vN,{portalId:v,portalHost:b},D));var j=Jn("react-datepicker-wrapper",a);return Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:_.refs.setReference,className:j},h),D)},e}(M.Component),VB=OB(IB),DS="react-datepicker-ignore-onclickoutside";function LB(n,e){return n&&e?Ar(n)!==Ar(e)||ht(n)!==ht(e):n!==e}var h0="Date input not valid.",UB=function(n){zn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:jt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,l){var u=new Date(l.date);return Sp(u)?ri(ri([],o,!0),[St(St({},l),{date:u})],!1):o},[])},r.calcInitialState=function(){var a,o=r.getPreSelection(),l=pN(r.props),u=gN(r.props),h=l&&rl(o,Kf(l))?l:u&&no(o,dS(u))?u:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:h,highlightDates:xS(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(St(St({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(St(St({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},r.setBlur=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,o){o===void 0&&(o=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:f0},function(){a||r.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ki(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var o,l,u=r.state.wasHidden,h=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(o=r.props).onFocus)===null||l===void 0||l.call(o,a),h&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var o,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(o=r.props).onBlur)===null||l===void 0||l.call(o,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var o,l;r.props.inline||r.setOpen(!1),(l=(o=r.props).onClickOutside)===null||l===void 0||l.call(o,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,o,l,u,h,f=[],y=0;y<arguments.length;y++)f[y]=arguments[y];var v=f[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,f),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){r.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:FB});var b=r.props,_=b.selectsRange,E=b.startDate,D=b.endDate,A=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,j=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,U=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(_){var F=U.split("-",2).map(function(L){return L.trim()}),q=F[0],k=F[1],$=c0(q??"",A,r.props.locale,j),O=c0(k??"",A,r.props.locale,j),R=(E==null?void 0:E.getTime())!==($==null?void 0:$.getTime()),N=(D==null?void 0:D.getTime())!==(O==null?void 0:O.getTime());if(!R&&!N||$&&ya($,r.props)||O&&ya(O,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[$,O],v)}else{var C=c0(U,A,r.props.locale,j,(h=r.props.selected)!==null&&h!==void 0?h:void 0);(C||!U)&&r.setSelected(C,v,!0)}}},r.handleSelect=function(a,o,l){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(a,o,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,h=u.startDate,f=u.endDate;h&&!f&&(r.props.swapRange||!ES(a,h))&&r.setOpen(!1)}},r.setSelected=function(a,o,l,u){var h,f,y=a;if(r.props.showYearPicker){if(y!==null&&Wf(ht(y),r.props))return}else if(r.props.showMonthYearPicker){if(y!==null&&mN(y,r.props))return}else if(y!==null&&ya(y,r.props))return;var v=r.props,b=v.onChange,_=v.selectsRange,E=v.startDate,D=v.endDate,A=v.selectsMultiple,j=v.selectedDates,U=v.minTime,F=v.swapRange;if(!Ko(r.props.selected,y)||r.props.allowSameDay||_||A)if(y!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(y=u0(y,{hour:Wi(r.props.selected),minute:Xi(r.props.selected),second:qs(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&U&&(y=u0(y,{hour:U.getHours(),minute:U.getMinutes(),second:U.getSeconds()})),r.props.inline||r.setState({preSelection:y}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),_){var q=!E&&!D,k=E&&!D,$=E&&D;q?b==null||b([y,null],o):k&&(y===null?b==null||b([null,null],o):ES(y,E)?F?b==null||b([y,E],o):b==null||b([y,null],o):b==null||b([E,y],o)),$&&(b==null||b([y,null],o))}else if(A){if(y!==null)if(!(j!=null&&j.length))b==null||b([y],o);else{var O=j.some(function(N){return Tt(N,y)});if(O){var R=j.filter(function(N){return!Tt(N,y)});b==null||b(R,o)}else b==null||b(ri(ri([],j,!0),[y],!1),o)}}else b==null||b(y,o);l||((f=(h=r.props).onSelect)===null||f===void 0||f.call(h,y,o),r.setState({inputValue:null}))},r.setPreSelection=function(a){var o=Ki(r.props.minDate),l=Ki(r.props.maxDate),u=!0;if(a){var h=Kf(a);if(o&&l)u=ad(a,r.props.minDate,r.props.maxDate);else if(o){var f=Kf(r.props.minDate);u=no(a,f)||Ko(h,f)}else if(l){var y=dS(r.props.maxDate);u=rl(a,y)||Ko(h,y)}}u&&r.setState({preSelection:a})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var o,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),h=r.props.selected?a:u0(u,{hour:Wi(a),minute:Xi(a)});r.setState({preSelection:h}),(l=(o=r.props).onChange)===null||l===void 0||l.call(o,h),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(a=r.props).onInputClick)===null||o===void 0||o.call(a)},r.onInputKeyDown=function(a){var o,l,u,h,f,y;(l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Ae.ArrowDown||v===Ae.ArrowUp||v===Ae.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(v===Ae.ArrowDown||v===Ae.ArrowUp){a.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',_=((h=r.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);_ instanceof HTMLElement&&_.focus({preventScroll:!0});return}var E=jt(r.state.preSelection);v===Ae.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===f0?(r.handleSelect(E,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(E)):r.setOpen(!1)):v===Ae.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Ae.Tab&&r.setOpen(!1),r.inputOk()||(y=(f=r.props).onInputError)===null||y===void 0||y.call(f,{code:1,msg:h0})}},r.onPortalKeyDown=function(a){var o=a.key;o===Ae.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var o,l,u,h,f,y,v=r.props,b=v.minDate,_=v.maxDate,E=v.disabledKeyboardNavigation,D=v.showWeekPicker,A=v.shouldCloseOnSelect,j=v.locale,U=v.calendarStartDay,F=v.adjustDateOnChange,q=v.inline;if((l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a),!E){var k=a.key,$=a.shiftKey,O=jt(r.state.preSelection),R=function(be,G){var re=G;switch(be){case Ae.ArrowRight:re=D?Sm(G,1):Ma(G,1);break;case Ae.ArrowLeft:re=D?eS(G):AU(G);break;case Ae.ArrowUp:re=eS(G);break;case Ae.ArrowDown:re=Sm(G,1);break;case Ae.PageUp:re=$?Sc(G,1):Zo(G,1);break;case Ae.PageDown:re=$?Qi(G,1):ja(G,1);break;case Ae.Home:re=$s(G,j,U);break;case Ae.End:re=XF(G);break}return re},N=function(be,G){for(var re=40,oe=be,ve=!1,P=0,W=R(be,G);!ve;){if(P>=re){W=G;break}b&&W<b&&(oe=Ae.ArrowRight,W=ya(b,r.props)?R(oe,W):b),_&&W>_&&(oe=Ae.ArrowLeft,W=ya(_,r.props)?R(oe,W):_),ya(W,r.props)?((oe===Ae.PageUp||oe===Ae.Home)&&(oe=Ae.ArrowRight),(oe===Ae.PageDown||oe===Ae.End)&&(oe=Ae.ArrowLeft),W=R(oe,W)):ve=!0,P++}return W};if(k===Ae.Enter){a.preventDefault(),r.handleSelect(O,a),!A&&r.setPreSelection(O);return}else if(k===Ae.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(h=(u=r.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:h0});return}var C=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:C=N(k,O);break}if(!C){(y=(f=r.props).onInputError)===null||y===void 0||y.call(f,{code:1,msg:h0});return}if(a.preventDefault(),r.setState({lastPreSelectChange:f0}),F&&r.setSelected(C),r.setPreSelection(C),q){var L=Ar(O),z=Ar(C),B=ht(O),Ee=ht(C);L!==z||B!==Ee?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var o=a.key;o===Ae.Escape&&(a.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var o=r.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],a):u==null||u(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,o;return!r.props.inline&&!r.isCalendarOpen()?null:Z.createElement(MB,St({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:cB(r.modifyHolidays()),outsideClickIgnoreClass:DS,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,o=a.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=a.locale,h=r.props.showTimeInput||r.props.showTimeSelect,f=h?"PPPPp":"PPPP",y;return r.props.selectsRange?y="Selected start date: ".concat(pa(r.props.startDate,{dateFormat:f,locale:u}),". ").concat(r.props.endDate?"End date: "+pa(r.props.endDate,{dateFormat:f,locale:u}):""):r.props.showTimeSelectOnly?y="Selected time: ".concat(pa(r.props.selected,{dateFormat:l,locale:u})):r.props.showYearPicker?y="Selected year: ".concat(pa(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?y="Selected month: ".concat(pa(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?y="Selected quarter: ".concat(pa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):y="Selected date: ".concat(pa(r.props.selected,{dateFormat:f,locale:u})),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},r.renderDateInput=function(){var a,o,l,u=Jn(r.props.className,(a={},a[DS]=r.state.open,a)),h=r.props.customInput||Z.createElement("input",{type:"text"}),f=r.props.customInputRef||"ref",y=r.props,v=y.dateFormat,b=v===void 0?e.defaultProps.dateFormat:v,_=y.locale,E=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?GF(r.props.startDate,r.props.endDate,{dateFormat:b,locale:_}):r.props.selectsMultiple?QF((l=r.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:b,locale:_}):pa(r.props.selected,{dateFormat:b,locale:_});return M.cloneElement(h,(o={},o[f]=function(D){r.input=D},o.value=E,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=Jn(h.props.className,u),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var a=r.props,o=a.isClearable,l=a.disabled,u=a.selected,h=a.startDate,f=a.endDate,y=a.clearButtonTitle,v=a.clearButtonClassName,b=v===void 0?"":v,_=a.ariaLabelClose,E=_===void 0?"Close":_,D=a.selectedDates;return o&&(u!=null||h!=null||f!=null||D!=null&&D.length)?Z.createElement("button",{type:"button",className:Jn("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":E,onClick:r.onClearClick,title:y,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,o,l,u;t.inline&&LB(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:xS(this.props.highlightDates)}),!r.focused&&!Ko(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,h=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Z.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Z.createElement(kB,St({icon:a,className:Jn(l,!l&&o,h&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?Z.createElement(xN,{enableTabLoop:this.props.enableTabLoop},Z.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=Z.createElement(vN,St({portalId:this.props.portalId},this.props),r)),Z.createElement("div",null,this.renderInputContainer(),r)}return Z.createElement(VB,St({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),FB="input",f0="navigate";function pv(n){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(n)}function BB(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function HB(n,e,t){return e&&zB(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function YB(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gv(n,e)}function gv(n,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gv(n,e)}function qB(n){var e=QB();return function(){var r=Vm(n),a;if(e){var o=Vm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return $B(this,a)}}function $B(n,e){if(e&&(pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GB(n)}function GB(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vm(n){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vm(n)}function KB(n,e){if(!document.head.querySelector("#"+n)){var t=document.createElement("style");t.textContent=e,t.type="text/css",t.id=n,document.head.appendChild(t)}}var WB=function(n){YB(t,n);var e=qB(t);function t(){return BB(this,t),e.apply(this,arguments)}return HB(t,[{key:"componentDidMount",value:function(){KB(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var a=document.getElementById(this.props.name);a.parentNode.removeChild(a)}},{key:"render",value:function(){return null}}]),t}(M.Component),XB=function(e){var t=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(t,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(t,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},ZB=function(){return Z.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Z.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))},JB=function(){return Z.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Z.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))},ez=function(){return Z.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),Z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},tz=function(){return Z.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},nz=function(){return Z.createElement("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),Z.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))},rz=function(){return Z.createElement("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),Z.createElement("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"}))};function az(n){return document.location.hostname!==new URL(n,document.location).hostname}var iz=function(e){return function(t){az(e)&&(t.preventDefault(),fetch(e).then(function(r){return r.ok||console.error("Failed to download image, HTTP status "+r.status+" from "+e),r.blob().then(function(a){var o=document.createElement("a");o.setAttribute("download",e.split("/").pop()),o.href=URL.createObjectURL(a),o.click()})}).catch(function(r){console.error(r),console.error("Failed to download image from "+e)}))}},sz=function(e){var t=e.image,r=e.alt,a=e.zoomed,o=e.toggleZoom,l=e.toggleRotate,u=e.onClose,h=e.enableDownload,f=e.enableZoom,y=e.enableRotate;return Z.createElement("div",{className:"__react_modal_image__header"},Z.createElement("span",{className:"__react_modal_image__icon_menu"},h&&Z.createElement("a",{href:t,download:!0,onClick:iz(t)},Z.createElement(ez,null)),f&&Z.createElement("a",{onClick:o},a?Z.createElement(JB,null):Z.createElement(ZB,null)),y&&Z.createElement("a",{onClick:l},Z.createElement(rz,null)),Z.createElement("a",{onClick:u},Z.createElement(tz,null))),r&&Z.createElement("span",{className:"__react_modal_image__caption"},r))};function yv(n){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(n)}function oz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function cz(n,e,t){return e&&lz(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function uz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vv(n,e)}function vv(n,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vv(n,e)}function dz(n){var e=fz();return function(){var r=Lm(n),a;if(e){var o=Lm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return hz(this,a)}}function hz(n,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xf(n)}function Xf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lm(n){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lm(n)}function m0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var AS=function(n){uz(t,n);var e=dz(t);function t(){var r;oz(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),m0(Xf(r),"state",{loading:!0}),m0(Xf(r),"handleOnLoad",function(){r.setState({loading:!1})}),m0(Xf(r),"handleOnContextMenu",function(u){!r.props.contextMenu&&u.preventDefault()}),r}return cz(t,[{key:"render",value:function(){var a=this.props,o=a.id,l=a.className,u=a.src,h=a.style,f=a.handleDoubleClick;return Z.createElement("div",null,this.state.loading&&Z.createElement(nz,null),Z.createElement("img",{id:o,className:l,src:u,style:h,onLoad:this.handleOnLoad,onDoubleClick:f,onContextMenu:this.handleOnContextMenu}))}}]),t}(M.Component);function xv(n){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(n)}function mz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gz(n,e,t){return e&&pz(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function yz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&bv(n,e)}function bv(n,e){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},bv(n,e)}function vz(n){var e=bz();return function(){var r=Um(n),a;if(e){var o=Um(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return xz(this,a)}}function xz(n,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(n)}function Bi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Um(n){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Um(n)}function js(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var wz=function(n){yz(t,n);var e=vz(t);function t(){var r;mz(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),js(Bi(r),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),js(Bi(r),"handleKeyDown",function(u){(u.keyCode===27||u.keyCode===13)&&r.props.onClose()}),js(Bi(r),"getCoordinatesIfOverImg",function(u){var h=u.changedTouches?u.changedTouches[0]:u;if(h.target.id==="react-modal-image-img"){var f=r.contentEl.getBoundingClientRect(),y=h.clientX-f.left,v=h.clientY-f.top;return{x:y,y:v}}}),js(Bi(r),"handleMouseDownOrTouchStart",function(u){if(u.preventDefault(),!(u.touches&&u.touches.length>1)){var h=r.getCoordinatesIfOverImg(u);h||r.props.onClose(),r.state.zoomed&&r.setState(function(f){return{moveStart:{x:h.x-f.move.x,y:h.y-f.move.y}}})}}),js(Bi(r),"handleMouseMoveOrTouchMove",function(u){if(u.preventDefault(),!(!r.state.zoomed||!r.state.moveStart)&&!(u.touches&&u.touches.length>1)){var h=r.getCoordinatesIfOverImg(u);h&&r.setState(function(f){return{move:{x:h.x-f.moveStart.x,y:h.y-f.moveStart.y}}})}}),js(Bi(r),"handleMouseUpOrTouchEnd",function(u){r.setState({moveStart:void 0})}),js(Bi(r),"toggleZoom",function(u){u.preventDefault(),r.setState(function(h){return{zoomed:!h.zoomed,move:h.zoomed?{x:0,y:0}:h.move}})}),js(Bi(r),"toggleRotate",function(u){u.preventDefault();var h=r.state.rotationDeg;if(h===360){r.setState({rotationDeg:90});return}r.setState(function(f){return{rotationDeg:f.rotationDeg+=90}})}),r}return gz(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var a=this,o=this.props,l=o.medium,u=o.large,h=o.alt,f=o.onClose,y=o.hideDownload,v=o.hideZoom,b=o.showRotate,_=o.imageBackgroundColor,E=_===void 0?"black":_,D=this.state,A=D.move,j=D.zoomed,U=D.rotationDeg;return Z.createElement("div",null,Z.createElement(WB,{name:"__react_modal_image__lightbox",css:XB({imageBackgroundColor:E})}),Z.createElement("div",{className:"__react_modal_image__modal_container"},Z.createElement("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(q){a.contentEl=q}},j&&Z.createElement(AS,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:u||l,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) rotate(").concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) rotate(").concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) rotate(").concat(U,"deg)")},handleDoubleClick:this.toggleZoom}),!j&&Z.createElement(AS,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:l||u,handleDoubleClick:this.toggleZoom,contextMenu:!l,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)")}})),Z.createElement(sz,{image:u||l,alt:h,zoomed:j,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:f,enableDownload:!y,enableZoom:!v,enableRotate:!!b})))}}]),t}(M.Component);function wv(n){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(n)}function _z(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ez(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Tz(n,e,t){return e&&Ez(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Sz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_v(n,e)}function _v(n,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_v(n,e)}function Dz(n){var e=Rz();return function(){var r=Fm(n),a;if(e){var o=Fm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Az(this,a)}}function Az(n,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ev(n)}function Ev(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fm(n){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fm(n)}function RS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Cz=function(n){Sz(t,n);var e=Dz(t);function t(){var r;_z(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),RS(Ev(r),"state",{modalOpen:!1}),RS(Ev(r),"toggleModal",function(){r.setState(function(u){return{modalOpen:!u.modalOpen}})}),r}return Tz(t,[{key:"render",value:function(){var a=this.props,o=a.className,l=a.small,u=a.smallSrcSet,h=a.medium,f=a.large,y=a.alt,v=a.hideDownload,b=a.hideZoom,_=a.showRotate,E=a.imageBackgroundColor,D=this.state.modalOpen;return Z.createElement("div",null,Z.createElement("img",{className:o,style:{cursor:"pointer",maxWidth:"100%",maxHeight:"100%"},onClick:this.toggleModal,src:l,srcSet:u,alt:y}),D&&Z.createElement(wz,{medium:h,large:f,alt:y,onClose:this.toggleModal,hideDownload:v,hideZoom:b,showRotate:_,imageBackgroundColor:E}))}}]),t}(M.Component);const Nz=()=>{const{providerId:n}=zm(),e=Oa(),t=nr(),[r,a]=M.useState(null),[o,l]=M.useState([]),[u,h]=M.useState([]),[f,y]=M.useState(null),[v,b]=M.useState(!0),[_,E]=M.useState(null),[D,A]=M.useState(""),[j,U]=M.useState(0),[F,q]=M.useState(0),[k,$]=M.useState(""),[O,R]=M.useState(!1),[N,C]=M.useState([]),[L,z]=M.useState(""),[B,Ee]=M.useState(""),[be,G]=M.useState(""),[re,oe]=M.useState("works"),[ve,P]=M.useState(!1),[W,ue]=M.useState(null),[de,we]=M.useState(!1),[Be,Ye]=M.useState(!1),[Lt,at]=M.useState(!1),[qe,it]=M.useState(!1),[Bt,yr]=M.useState(null),Xt={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}}},hn={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},Hn={hover:{scale:1.05},tap:{scale:.95}},rr={hover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"}};M.useEffect(()=>{(async()=>{try{b(!0);let Re;if(e.state&&e.state.provider&&e.state.bool)Re=e.state.provider,at(e.state.bool);else{const We=await _c(Dn(ct,"serviceProviders",n));if(We.exists())Re={id:We.id,...We.data()};else throw new Error("   ")}a(Re),l(Re.works||[]),h(Re.reviews||[]);const Se=localStorage.getItem("currentUser");if(Se&&Se!=='""'){const We=JSON.parse(Se);y(We)}b(!1)}catch(Re){console.error("Error fetching provider data:",Re),G("    "),b(!1)}})()},[n,e]);const ar=()=>!(r!=null&&r.reviews)||r.reviews.length===0?0:(r.reviews.reduce((Re,Se)=>Re+Se.rating,0)/r.reviews.length).toFixed(1),$r=async(ge,Re)=>{try{const Se=Pr(Tn(ct,"bookings"),mr("providerEmail","==",r.email),mr("bookingDate","==",ge),mr("bookingTime","==",Re),mr("status","in",["pending","confirmed"]));return(await Xn(Se)).empty}catch(Se){return console.error("Error checking appointment availability:",Se),!1}},xe=async()=>{if(!f){G("    ");return}if(!_||!L){G("    ");return}try{const ge=_.toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),Re=_.toISOString().split("T")[0];P(!0);const Se=await $r(Re,L);if(P(!1),!Se){ue({success:!1,message:"       "}),we(!0);return}const We={id:`booking-${Date.now()}`,providerEmail:r.email,providerName:r.name,clientEmail:f.email,clientName:f.name,bookingDate:Re,bookingTime:L,note:k,status:"pending",createdAt:new Date().toISOString(),clientId:f.uid,profession:r.profession||" "},_t=Dn(ct,"serviceProviders",n);await Hi(_t,{bookings:Zy(We)});const vr=Dn(ct,"users",f.uid);await Hi(vr,{bookings:Zy({...We,providerId:n})}),ue({success:!0,message:`    ${r.name}  ${ge}  ${L}`}),we(!0),R(!1),$(""),E(null),z("")}catch(ge){console.error("Error booking appointment:",ge),ue({success:!1,message:"        "}),we(!0),P(!1)}},Qe=async()=>{if(!f){G("     ");return}if(j===0){G("   ");return}try{Ye(!0);const ge={id:Date.now().toString(),providerEmail:r.email,providerName:r.name,clientEmail:f.email,clientName:f.name,rating:j,review:D,createdAt:new Date().toISOString()},Re=Dn(ct,"serviceProviders",n);await Hi(Re,{reviews:Zy(ge),ratingsCount:kT(1),ratingsTotal:kT(j)}),h([...u,ge]),a({...r,reviews:[...u,ge],ratingsCount:(r.ratingsCount||0)+1,ratingsTotal:(r.ratingsTotal||0)+j}),U(0),A(""),Ee("   !"),setTimeout(()=>{Ee("")},3e3)}catch(ge){console.error("Error submitting review:",ge),G("    "),setTimeout(()=>{G("")},3e3)}finally{Ye(!1)}},ke=()=>{if(!f){G("    ");return}C(["9:00 ","10:00 ","11:00 ","12:00 ","1:00 ","2:00 ","3:00 ","4:00 ","5:00 ","6:00 ","7:00 "]),R(!0)},Ke=()=>{if(!f||!r)return;const ge=f.uid||f.id,Re=r.id||r.uid;t(`/nafany/chat/${Re}`,{state:{provider:{id:Re,email:r.email,name:r.name,profileImage:r.profileImage||"/default-profile.png"},user:{id:ge,email:f.email,name:f.name,profileImage:f.profileImage||"/default-profile.png"}}})},et=(ge,Re=null,Se=null,We="")=>[1,2,3,4,5].map(_t=>p.jsx("span",{onClick:Re?()=>Re(_t):void 0,onMouseEnter:Se?()=>Se(_t):void 0,onMouseLeave:Se?()=>Se(0):void 0,className:`cursor-pointer ${We==="lg"?"text-2xl":"text-xl"}`,style:{color:_t<=ge?"#FFD700":"#C0C0C0"},children:_t<=ge?p.jsx(fd,{}):p.jsx(OC,{})},_t));return v?p.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:p.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white p-8 rounded-2xl shadow-xl text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-cyan-800 text-xl font-semibold",children:"  ..."})]})}):r?p.jsxs(ee.div,{className:"min-h-screen bg-gradient-to-b from-cyan-50 to-blue-100 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center mb-6 bg-white hover:bg-gray-50 px-5 py-3 rounded-xl shadow-md transition-all",children:[p.jsx(PC,{className:"ml-2"}),p.jsx("span",{className:"font-medium",children:""})]}),B&&p.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500 text-green-700 px-6 py-4 rounded-xl shadow-md mb-6 flex items-center",children:[p.jsx(t0,{className:"text-green-500 text-xl ml-3"}),p.jsx("span",{className:"font-medium",children:B})]}),be&&p.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-xl shadow-md mb-6 flex items-center",children:[p.jsx(a0,{className:"text-red-500 text-xl ml-3"}),p.jsx("span",{className:"font-medium",children:be})]}),p.jsxs(ee.div,{className:"bg-gradient-to-br from-white to-cyan-50 rounded-2xl shadow-xl p-8 mb-8 relative overflow-hidden",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[p.jsx("div",{className:"absolute -right-16 -top-16 w-32 h-32 bg-cyan-500 opacity-10 rounded-full"}),p.jsx("div",{className:"absolute -left-16 -bottom-16 w-32 h-32 bg-blue-500 opacity-10 rounded-full"}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start relative z-10",children:[p.jsx(ee.div,{className:"w-40 h-40 rounded-full border-4 border-white overflow-hidden mb-6 md:mb-0 md:ml-8 shadow-lg",whileHover:{scale:1.05},children:p.jsx("img",{src:r.profileImage||"../../public/IMG-20250322-WA0070.jpg",alt:r.name,className:"w-full h-full object-cover",onError:ge=>{ge.target.onerror=null,ge.target.src="../../public/IMG-20250322-WA0070.jpg"}})}),p.jsxs("div",{className:"flex-1 text-center md:text-right",children:[p.jsx(ee.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-3xl font-bold text-cyan-800 mb-3",children:r.name}),p.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"flex flex-wrap items-center justify-center md:justify-end gap-2 mb-3",children:[p.jsx("span",{className:"bg-gradient-to-r from-cyan-100 to-cyan-200 text-cyan-800 px-4 py-2 rounded-full text-sm font-medium shadow-sm",children:r.profession||r.category}),p.jsx("span",{className:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 px-4 py-2 rounded-full text-sm font-medium shadow-sm",children:r.governorate||"  "})]}),p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"flex items-center justify-center md:justify-end mb-5",children:p.jsxs("div",{className:"flex items-center bg-gradient-to-r from-yellow-50 to-yellow-100 px-4 py-2 rounded-xl shadow-sm",children:[et(Math.round(ar())),p.jsx("span",{className:"mx-2 text-yellow-600 font-bold",children:ar()}),p.jsxs("span",{className:"text-gray-600",children:["(",u.length," )"]})]})}),p.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"text-gray-600 mb-6 max-w-2xl mx-auto md:mr-0",children:r.bio||"    "}),p.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.7},className:"flex flex-wrap justify-center md:justify-end gap-4",children:[Lt&&p.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ke,className:"bg-gradient-to-r from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white px-6 py-3 rounded-xl shadow-md flex items-center text-lg transition-all duration-300",children:[p.jsx(e0,{className:"ml-2"})," "]}),p.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-xl shadow-md flex items-center text-lg transition-all duration-300",children:[p.jsx(d8,{className:"ml-2"}),""]})]})]})]})]}),p.jsx("div",{className:"mb-8",children:p.jsx(ee.div,{className:"bg-white rounded-2xl shadow-md overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:p.jsx("div",{className:"flex overflow-x-auto",children:["works","reviews","about"].map(ge=>p.jsxs(ee.button,{whileHover:{backgroundColor:"#f0f9ff"},whileTap:{scale:.98},onClick:()=>oe(ge),className:`px-8 py-4 font-medium whitespace-nowrap transition-all duration-300 ${re===ge?"text-cyan-600 border-b-3 border-cyan-600 bg-cyan-50":"text-gray-500 hover:text-gray-700"}`,children:[ge==="works"&&" ",ge==="reviews"&&"",ge==="about"&&"  "]},ge))})})}),re==="works"&&p.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"mb-8",children:[p.jsxs(ee.h2,{variants:hn,initial:"hidden",animate:"visible",className:"text-2xl font-bold text-cyan-800 mb-6 flex items-center",children:[p.jsx("span",{className:"bg-cyan-700 text-white p-2 rounded-lg ml-2 mr-2 text-sm",children:p.jsx(e0,{})})," "]}),o.length>0?p.jsx(ee.div,{variants:Xt,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((ge,Re)=>p.jsx(ee.div,{variants:rr,whileHover:"hover",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Re*.1},className:`bg-gradient-to-br from-white to-cyan-50 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${Bt===ge.id?"md:col-span-2":""}`,children:p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:ge.title}),p.jsx("p",{className:`text-gray-600 mb-4 ${Bt===ge.id?"":"line-clamp-2"}`,children:ge.description}),p.jsxs(ee.button,{onClick:()=>yr(Bt===ge.id?null:ge.id),className:"text-cyan-600 hover:text-cyan-800 flex items-center text-sm font-medium",variants:Hn,whileHover:"hover",whileTap:"tap",children:[Bt===ge.id?" ":" ",p.jsx("span",{className:"mr-1",children:Bt===ge.id?p.jsx(nd,{}):p.jsx(td,{})})]}),ge.images&&ge.images.length>0&&Bt===ge.id&&p.jsx(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ge.images.map((Se,We)=>p.jsx(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:We*.1},whileHover:{scale:1.05},className:"rounded-xl overflow-hidden shadow-md aspect-square",children:p.jsx(Cz,{small:Se,large:Se,alt:`${ge.title} -  ${We+1}`,className:"w-full h-full object-cover cursor-pointer",imageBackgroundColor:"#fff"})},We))})}),p.jsxs("div",{className:"flex flex-wrap justify-between items-center pt-4 border-t border-gray-200 mt-4",children:[p.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[p.jsx(Yf,{className:"text-cyan-600 ml-2 mr-2"}),p.jsx("span",{className:"text-gray-600 text-sm",children:new Date(ge.createdAt.seconds*1e3).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]}),p.jsx("div",{className:"flex items-center text-gray-500 text-sm",children:p.jsx("span",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full",children:ge.category})})]})]})},ge.id))}):p.jsxs(ee.div,{variants:hn,initial:"hidden",animate:"visible",className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[p.jsx("div",{className:"text-cyan-500 text-5xl mb-4",children:p.jsx(e0,{className:"mx-auto"})}),p.jsx("p",{className:"text-xl font-semibold text-gray-600 mb-2",children:"    "}),p.jsx("p",{className:"text-gray-500",children:"      ."})]})]}),re==="reviews"&&p.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"mb-8",children:[p.jsxs(ee.h2,{variants:hn,initial:"hidden",animate:"visible",className:"text-2xl font-bold text-cyan-800 mb-6 flex items-center",children:[p.jsx("span",{className:"bg-yellow-500 text-white p-2 rounded-lg ml-2 mr-2 text-sm",children:p.jsx(fd,{})})," "]}),p.jsx(ee.div,{variants:hn,initial:"hidden",animate:"visible",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[p.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-2",children:" "}),p.jsxs("div",{className:"flex items-center",children:[et(Math.round(ar()),"lg"),p.jsx("span",{className:"mx-3 text-2xl font-bold text-gray-800",children:ar()}),p.jsxs("span",{className:"text-gray-500",children:["  ",u.length," "]})]})]})}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:" "}),p.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(ge=>{const Re=u.filter(We=>We.rating===ge).length,Se=u.length>0?Re/u.length*100:0;return p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-10",children:p.jsxs("span",{className:"text-gray-600",children:[ge," "]})}),p.jsx("div",{className:"flex-1 mx-2",children:p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:p.jsx("div",{className:"bg-yellow-500 h-2.5 rounded-full",style:{width:`${Se}%`}})})}),p.jsx("div",{className:"w-10 text-right",children:p.jsx("span",{className:"text-gray-600",children:Re})})]},ge)})})]}),p.jsx("div",{className:"space-y-6",children:u.length>0?[...u].sort((ge,Re)=>new Date(Re.createdAt)-new Date(ge.createdAt)).map(ge=>p.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-cyan-800",children:ge.clientName}),p.jsx("p",{className:"text-sm text-gray-500",children:new Date(ge.createdAt).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]}),p.jsx("div",{className:"flex",children:et(ge.rating)})]}),ge.review&&p.jsx("p",{className:"text-gray-700 mt-3",children:ge.review})]},ge.id)):p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-gray-500",children:"    "})})})]})}),p.jsxs(ee.div,{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",variants:hn,initial:"hidden",animate:"visible",children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:" "}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:""}),p.jsxs("div",{className:"flex items-center",children:[et(F||j,U,q,"lg"),p.jsxs("span",{className:"mr-3 ml-2 text-lg text-gray-500",children:[F||j||0," "]})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:"   "}),p.jsx("textarea",{rows:"4",value:D,onChange:ge=>A(ge.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"  ..."})]}),p.jsx(ee.button,{onClick:Qe,disabled:Be,className:`bg-gradient-to-r from-cyan-500 to-cyan-600 text-white px-6 py-3 rounded-xl shadow-md flex items-center justify-center transition-all ${Be?"opacity-70 cursor-not-allowed":"hover:from-cyan-600 hover:to-cyan-700"}`,variants:Hn,whileHover:"hover",whileTap:"tap",children:Be?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-5 h-5 border-2 border-t-white border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin ml-2"})," ..."]}):p.jsxs(p.Fragment,{children:[p.jsx(fd,{className:"ml-2"})," "]})})]})]}),re==="about"&&p.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"mb-8",children:[p.jsxs(ee.h2,{variants:hn,initial:"hidden",animate:"visible",className:"text-2xl font-bold text-cyan-800 mb-6 flex items-center",children:[p.jsx("span",{className:"bg-blue-600 text-white p-2 rounded-lg ml-2 mr-2 text-sm",children:p.jsx(Gi,{})}),"  "]}),p.jsx(ee.div,{className:"bg-white rounded-2xl shadow-lg p-6",variants:hn,initial:"hidden",animate:"visible",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:" "}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-40 text-gray-500 font-medium",children:""}),p.jsx("div",{className:"flex-1 font-semibold",children:r.name})]}),p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-40 text-gray-500 font-medium",children:""}),p.jsx("div",{className:"flex-1 font-semibold",children:r.profession||r.category})]}),p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-40 text-gray-500 font-medium",children:""}),p.jsx("div",{className:"flex-1 font-semibold",children:r.governorate||" "})]}),p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-40 text-gray-500 font-medium",children:""}),p.jsx("div",{className:"flex-1 font-semibold",children:r.address||" "})]}),p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-40 text-gray-500 font-medium",children:" "}),p.jsxs("div",{className:"flex-1 font-semibold flex items-center",children:[et(Math.round(ar())),p.jsxs("span",{className:"mx-2",children:[ar()," (",u.length," )"]})]})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:" "}),p.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.bio||"     ."}),r.skills&&r.skills.length>0&&p.jsxs("div",{className:"mt-6",children:[p.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-3",children:""}),p.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map((ge,Re)=>p.jsx("span",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 text-cyan-700 px-4 py-2 rounded-full text-sm font-medium",children:ge},Re))})]}),r.education&&p.jsxs("div",{className:"mt-6",children:[p.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-3",children:" "}),p.jsx("p",{className:"text-gray-600",children:r.education})]})]})]})})]})]}),p.jsx(zi,{children:O&&p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:p.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-cyan-800",children:" "}),p.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:" "}),p.jsx(UB,{selected:_,onChange:ge=>E(ge),minDate:new Date,dateFormat:"dd/MM/yyyy",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholderText:"  ",locale:"ar"})]}),_&&p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:" "}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:N.map(ge=>p.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z(ge),className:`p-3 rounded-lg text-center transition-all ${L===ge?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ge},ge))})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:" "}),p.jsx("textarea",{rows:"3",value:k,onChange:ge=>$(ge.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"    ..."})]}),p.jsx(ee.button,{onClick:xe,disabled:ve,className:`w-full bg-gradient-to-r from-cyan-500 to-cyan-600 text-white px-6 py-3 rounded-xl shadow-md flex items-center justify-center transition-all ${ve?"opacity-70 cursor-not-allowed":"hover:from-cyan-600 hover:to-cyan-700"}`,variants:Hn,whileHover:"hover",whileTap:"tap",children:ve?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-5 h-5 border-2 border-t-white border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin ml-2"})," ..."]}):p.jsxs(p.Fragment,{children:[p.jsx(t0,{className:"ml-2"})," "]})})]})})}),p.jsx(zi,{children:de&&W&&p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:p.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center ${W.success?"border-t-4 border-green-500":"border-t-4 border-red-500"}`,children:[p.jsx("div",{className:`text-5xl mb-6 ${W.success?"text-green-500":"text-red-500"}`,children:W.success?p.jsx(t0,{}):p.jsx(a0,{})}),p.jsx("h2",{className:`text-2xl font-bold mb-4 ${W.success?"text-green-700":"text-red-700"}`,children:W.success?"  ":" "}),p.jsx("p",{className:"text-gray-600 mb-6",children:W.message}),p.jsx(ee.button,{onClick:()=>{we(!1),W.success&&R(!1)},className:`px-6 py-3 rounded-xl shadow-md text-white ${W.success?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700"}`,variants:Hn,whileHover:"hover",whileTap:"tap",children:W.success?"":"  "})]})})})]}):p.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:p.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md w-full",children:[p.jsx("div",{className:"text-red-500 text-5xl mb-4",children:p.jsx(a0,{className:"mx-auto"})}),p.jsx("p",{className:"text-red-600 text-xl font-semibold mb-4",children:"     "}),p.jsx("p",{className:"text-gray-600 mb-6",children:"      ."}),p.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"bg-cyan-600 text-white px-6 py-3 rounded-xl shadow-md hover:bg-cyan-700 transition-colors",children:"  "})]})})};function Mz(n){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"},child:[]}]})(n)}const kz=()=>{const{providerId:n}=zm(),e=Oa(),t=nr(),[r,a]=M.useState([]),[o,l]=M.useState(""),[u,h]=M.useState(!0),[f,y]=M.useState(null),[v,b]=M.useState(null),_=M.useRef(null),[E,D]=M.useState(!1),[A,j]=M.useState(""),U=($,O)=>[$,O].sort().join("_"),F=()=>{try{const $=localStorage.getItem("currentUser");if(!$)return null;const O=JSON.parse($);if(!O)return null;if(O.uid&&!O.id)O.id=O.uid;else if(O.id&&!O.uid)O.uid=O.id;else if(!O.uid&&!O.id)return null;return O}catch($){return console.error("Error parsing user data:",$),null}};M.useEffect(()=>{(async()=>{var O;try{h(!0);const R=F();if(!R){t("/nafany/login");return}y(R);let N,C;if((O=e.state)!=null&&O.provider)N=e.state.provider,e.state.user?C=e.state.user:C={id:R.uid||R.id,name:R.name,email:R.email};else{N={id:R.uid||R.id,name:R.name,email:R.email};try{const Ee=await _c(Dn(ct,"users",n));if(Ee.exists())C={id:Ee.id,...Ee.data()};else{const be=await _c(Dn(ct,"serviceProviders",n));if(!be.exists())throw new Error("User not found");C={id:be.id,...be.data()}}}catch(Ee){throw console.error("Error fetching client data:",Ee),Ee}}N.id=N.id||N.uid,C.id=C.id||C.uid,b(N);const L=U(N.id,C.id);console.log("Chat participants:",{provider:N,client:C}),console.log("Generated chatId:",L),j(L);const z=Pr(Tn(ct,"chats",L,"messages"),ib("timestamp","asc")),B=vL(z,Ee=>{const be=Ee.docs.map(G=>{var re;return{id:G.id,...G.data(),timestamp:((re=G.data().timestamp)==null?void 0:re.toDate())||new Date}});console.log("Real-time messages update:",be),a(be)});return h(!1),B}catch(R){console.error("Chat init error:",R),h(!1)}})()},[n,e.state,t]);const q=()=>{var $;($=_.current)==null||$.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{q()},[r]);const k=async $=>{if($.preventDefault(),!(!o.trim()||!f||!v||!A))try{console.log("Sending message with chatId:",A),console.log("From:",f.id||f.uid,"To:",v.id||v.uid);const O=await EC(Tn(ct,"chats",A,"messages"),{text:o,senderId:f.id||f.uid,senderName:f.name,receiverId:v.id||v.uid,timestamp:ov(),isRead:!1});await ob(Dn(ct,"chats",A),{lastMessage:o,lastMessageTime:ov(),providerData:{id:v.id||v.uid,name:v.name,email:v.email},userData:{id:f.id||f.uid,name:f.name,email:f.email},participants:[f.id||f.uid,v.id||v.uid],participantsNames:[f.name,v.name]},{merge:!0}),l(""),console.log("Message sent successfully:",O.id)}catch(O){console.error("Message send error:",O)}};return M.useEffect(()=>{if(r.length>0&&r[r.length-1].senderId===(f==null?void 0:f.uid)){const $=setTimeout(()=>{D(!0);const O=setTimeout(()=>{D(!1)},3e3);return()=>clearTimeout(O)},2e3);return()=>clearTimeout($)}},[r,f]),u?p.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:p.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"  ..."})}):!v||!f?p.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:p.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"     "})}):p.jsxs(ee.div,{className:"flex flex-col min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[p.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center",children:[p.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100",children:p.jsx(PC,{className:"text-gray-600 text-xl"})}),p.jsxs("div",{className:"flex items-center mx-4",children:[v.profileImage?p.jsx("img",{src:v.profileImage,alt:v.name,className:"w-10 h-10 rounded-full object-cover"}):p.jsx(Gi,{className:"text-gray-400 text-3xl"}),p.jsxs("div",{className:"mr-3",children:[p.jsx("h2",{className:"font-semibold text-gray-800",children:v.name}),p.jsx("p",{className:"text-xs text-gray-500",children:v.profession||v.category})]})]})]}),p.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:p.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?p.jsxs("div",{className:"text-center text-gray-500 py-8",children:["   .    ",v.name]}):r.map($=>{var O,R;return p.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${$.senderId===f.uid?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-xs md:max-w-md rounded-lg p-3 ${$.senderId===f.uid?"bg-cyan-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow"}`,children:[p.jsx("p",{className:"text-sm",children:$.text}),p.jsx("p",{className:`text-xs mt-1 ${$.senderId===f.uid?"text-cyan-100":"text-gray-500"}`,children:((R=(O=$.timestamp)==null?void 0:O.toDate)==null?void 0:R.call(O).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||""})]})},$.id)}),E&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-white text-gray-800 rounded-lg rounded-bl-none shadow p-3",children:p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),p.jsx("div",{ref:_})]})}),p.jsx("div",{className:"bg-white p-4 border-t border-gray-200",children:p.jsxs("form",{onSubmit:k,className:"flex items-center max-w-3xl mx-auto",children:[p.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),placeholder:"  ...",className:"flex-1 border border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),p.jsx("button",{type:"submit",disabled:!o.trim(),className:"ml-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full p-2 disabled:bg-gray-400",children:p.jsx(Mz,{className:"text-xl"})})]})})]})},Pz=()=>{var Ee,be;const n=nr(),t=((Ee=Oa().state)==null?void 0:Ee.fromProvider)||!1,[r,a]=M.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",role:""}),[o,l]=M.useState({nationalId:"",category:"",profession:"",subscriptionFee:"",idFrontImage:"",idBackImage:"",profileImage:"",bio:"",allowContact:!1,address:"",workingAreas:[]}),[u,h]=M.useState(!0),[f,y]=M.useState(!1),[v,b]=M.useState({}),[_,E]=M.useState(!1),[D,A]=M.useState(""),[j,U]=M.useState(""),[F,q]=M.useState(""),k=[" ",""],$={" ":["","","","",""]," ":["","",""," "]," ":[" ","",""]},O=["100 ","200 ","300 "];M.useEffect(()=>{(async()=>{try{const re=localStorage.getItem("currentUser");if(!re){n("/nafany/login");return}const oe=JSON.parse(re);let ve;const P=oe.role==="provider"?"serviceProviders":"users";P==="serviceProviders"?ve=oe.email:ve=oe.email.split("@")[0];const W=Dn(ct,P,ve),ue=await _c(W);if(ue.exists()){const de=ue.data();a({name:de.name||"",email:de.email||"",password:"",governorate:de.governorate||"",phone:de.phone||de.phoneNumber||"",role:oe.role}),oe.role==="provider"&&(l({nationalId:de.nationalId||"",category:de.category||"",profession:de.profession||"",subscriptionFee:de.subscriptionFee||"",idFrontImage:de.idFrontImage||"",idBackImage:de.idBackImage||"",profileImage:de.profileImage||"",bio:de.bio||"",allowContact:de.allowContact||!1,address:de.address||"",workingAreas:de.workingAreas||[]}),de.idFrontImage&&A(de.idFrontImage),de.idBackImage&&U(de.idBackImage),de.profileImage&&q(de.profileImage))}else alert("     "),n("/nafany")}catch(re){console.error("Error fetching user data:",re),alert("    ")}finally{h(!1)}})()},[n]);const R=()=>{let G={};return r.name.trim()||(G.name=" "),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(G.email="   "):G.email="  ",r.password&&r.password.length<6&&(G.password="     6   "),r.governorate||(G.governorate="  "),r.phone||(G.phone="  "),r.role==="provider"&&(o.nationalId||(G.nationalId="  "),o.profession||(G.profession=" "),o.address||(G.address=" ")),b(G),Object.keys(G).length===0},N=G=>{const{name:re,value:oe,type:ve,checked:P}=G.target;a(W=>({...W,[re]:ve==="checkbox"?P:oe})),b({...v,[re]:""})},C=G=>{const{name:re,value:oe,type:ve,checked:P}=G.target;l(W=>({...W,[re]:ve==="checkbox"?P:oe})),b({...v,[re]:""})},L=G=>{const re=G.target.value;l(oe=>{var ve;return{...oe,category:re,profession:((ve=$[re])==null?void 0:ve[0])||""}})},z=(G,re)=>{const oe=G.target.files[0];if(!oe)return;const ve=new FileReader;ve.onload=()=>{const P=ve.result;l(W=>({...W,[re]:P})),re==="idFrontImage"?A(P):re==="idBackImage"?U(P):re==="profileImage"&&q(P)},ve.readAsDataURL(oe)},B=async G=>{if(G.preventDefault(),!!R())try{h(!0);let re;r.role==="provider"?re=r.email:re=r.email.split("@")[0];const oe=r.role==="provider"?"serviceProviders":"users",ve=Dn(ct,oe,re);console.log("Document Reference:",ve.path);const P={...r,...r.role==="provider"?o:{}};P.password||delete P.password,await Hi(ve,P),console.log("Collection Name:",1);const W={...r,...r.role==="provider"?o:{}};localStorage.setItem("currentUser",JSON.stringify(W)),E(!0),y(!1)}catch(re){console.error("Error updating user data:",re),alert("    ")}finally{h(!1)}};return u?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-100 to-blue-200",children:p.jsx("div",{className:"text-2xl text-cyan-800",children:" ..."})}):p.jsx(ee.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs(ee.button,{onClick:()=>n(t?"/nafany/servicer_page":"/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})," "]}),p.jsxs(ee.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-cyan-800",children:r.role==="provider"?"  ":" "}),!f&&p.jsx(ee.button,{onClick:()=>y(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-cyan-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:" "})]}),_&&p.jsx(ee.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:"   "}),p.jsxs("form",{onSubmit:B,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:""}),p.jsx("input",{type:"text",name:"name",placeholder:" ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.name,onChange:N,disabled:!f}),v.name&&p.jsx("p",{className:"text-red-500 text-sm",children:v.name})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsx("input",{type:"email",name:"email",placeholder:"  ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.email,onChange:N,disabled:!0}),v.email&&p.jsx("p",{className:"text-red-500 text-sm",children:v.email})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"  (      )"}),p.jsx("input",{type:"password",name:"password",placeholder:"   ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.password,onChange:N,disabled:!f}),v.password&&p.jsx("p",{className:"text-red-500 text-sm",children:v.password})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsx("input",{type:"tel",name:"phone",placeholder:"  ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.phone,onChange:N,disabled:!f}),v.phone&&p.jsx("p",{className:"text-red-500 text-sm",children:v.phone})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:""}),p.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.governorate,onChange:N,disabled:!f,children:[p.jsx("option",{value:"",disabled:!0,children:" "}),k.map((G,re)=>p.jsx("option",{value:G,children:G},re))]}),v.governorate&&p.jsx("p",{className:"text-red-500 text-sm",children:v.governorate})]}),r.role==="provider"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsx("input",{type:"text",name:"nationalId",placeholder:"  ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.nationalId,onChange:C,disabled:!f}),v.nationalId&&p.jsx("p",{className:"text-red-500 text-sm",children:v.nationalId})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:""}),p.jsxs("select",{name:"category",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.category,onChange:L,disabled:!f,children:[p.jsx("option",{value:"",disabled:!0,children:" "}),Object.keys($).map((G,re)=>p.jsx("option",{value:G,children:G},re))]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:""}),p.jsxs("select",{name:"profession",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.profession,onChange:C,disabled:!f,children:[p.jsx("option",{value:"",disabled:!0,children:" "}),o.category&&((be=$[o.category])==null?void 0:be.map((G,re)=>p.jsx("option",{value:G,children:G},re)))]}),v.profession&&p.jsx("p",{className:"text-red-500 text-sm",children:v.profession})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsx("select",{name:"subscriptionFee",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.subscriptionFee,onChange:C,disabled:!f,children:O.map((G,re)=>p.jsx("option",{value:G,children:G},re))})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:""}),p.jsx("input",{type:"text",name:"address",placeholder:"  ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.address,onChange:C,disabled:!f}),v.address&&p.jsx("p",{className:"text-red-500 text-sm",children:v.address})]}),p.jsx("div",{className:"space-y-1",children:p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",name:"allowContact",checked:o.allowContact,onChange:C,disabled:!f,className:"rounded text-cyan-600 focus:ring-cyan-500"}),p.jsx("span",{className:"text-gray-700",children:"    "})]})}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block",children:"   "}),D?p.jsx("img",{src:D,alt:"Front ID",className:"h-40 w-full object-contain border rounded-lg"}):p.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:p.jsx("span",{className:"text-gray-500",children:"  "})}),f&&p.jsx("input",{type:"file",onChange:G=>z(G,"idFrontImage"),className:"w-full",accept:"image/*"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block",children:"   "}),j?p.jsx("img",{src:j,alt:"Back ID",className:"h-40 w-full object-contain border rounded-lg"}):p.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:p.jsx("span",{className:"text-gray-500",children:"  "})}),f&&p.jsx("input",{type:"file",onChange:G=>z(G,"idBackImage"),className:"w-full",accept:"image/*"})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),F?p.jsx("img",{src:F,alt:"Profile",className:"h-40 w-40 object-cover rounded-full mx-auto border"}):p.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-full h-40 w-40 mx-auto flex items-center justify-center",children:p.jsx("span",{className:"text-gray-500",children:"  "})}),f&&p.jsx("input",{type:"file",onChange:G=>z(G,"profileImage"),className:"w-full",accept:"image/*"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:" "}),p.jsx("textarea",{name:"bio",placeholder:"   ",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:o.bio,onChange:C,disabled:!f})]})]}),f&&p.jsxs(ee.div,{className:"pt-4 grid grid-cols-2 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[p.jsx(ee.button,{type:"button",onClick:()=>y(!1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:""}),p.jsx(ee.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:" "})]})]})]})]})})},jz=()=>{const n=nr();return p.jsx(ee.div,{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:p.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[p.jsx("div",{className:"bg-cyan-700 py-6 px-8 text-center",children:p.jsx("h1",{className:"text-3xl font-bold text-white",children:" "})}),p.jsxs("div",{className:"p-8 border-b",dir:"rtl",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"  "}),p.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"              .                            ."}),p.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"                  .                  ."})]}),p.jsxs("div",{className:"p-8",dir:"rtl",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" "}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(ee.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"    "}),p.jsxs("div",{className:"flex flex-wrap gap-4",children:[p.jsxs("a",{href:"https://facebook.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[p.jsx(i8,{})," "]}),p.jsxs("a",{href:"https://instagram.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",children:[p.jsx(s8,{})," "]}),p.jsxs("a",{href:"https://wa.me/+201234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[p.jsx(l8,{})," "]}),p.jsxs("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[p.jsx(o8,{})," "]}),p.jsxs("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[p.jsx(h8,{}),"  "]})]})]}),p.jsxs(ee.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("p",{className:"text-gray-600",children:[p.jsx("span",{className:"font-medium",children:" :"})," info@projectname.com"]}),p.jsxs("p",{className:"text-gray-600",children:[p.jsx("span",{className:"font-medium",children:" :"})," +20 123 456 7890"]}),p.jsxs("p",{className:"text-gray-600",children:[p.jsx("span",{className:"font-medium",children:":"}),"    "]})]})]})]})]}),p.jsx("div",{className:"p-8 text-center",children:p.jsx(ee.button,{onClick:()=>n("/nafany"),className:"bg-cyan-700 text-white px-6 py-2 rounded-lg hover:bg-cyan-800 inline-flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"  "})})]})})},Oz=()=>{const n=nr(),[e,t]=M.useState({type:"complaint",title:"",description:""}),[r,a]=M.useState(!1),[o,l]=M.useState(!1),[u,h]=M.useState(""),[f,y]=M.useState({}),v=()=>{let E=!0,D={};return e.title.trim()||(D.title=" / ",E=!1),e.description.trim()?e.description.trim().length<10&&(D.description="     10   ",E=!1):(D.description=" / ",E=!1),y(D),E},b=E=>{const{name:D,value:A}=E.target;t(j=>({...j,[D]:A})),f[D]&&y(j=>({...j,[D]:""}))},_=async E=>{if(E.preventDefault(),!!v())try{a(!0),h("");const D=localStorage.getItem("currentUser"),A=D?JSON.parse(D):null;await EC(Tn(ct,"feedbacks"),{type:e.type,title:e.title,description:e.description,status:"new",timestamp:ov(),userId:(A==null?void 0:A.email)||"anonymous",userName:(A==null?void 0:A.name)||"",userRole:(A==null?void 0:A.role)||"guest"}),l(!0),t({type:"complaint",title:"",description:""}),setTimeout(()=>{l(!1)},3e3)}catch(D){console.error("   /:",D),h("    /.    .")}finally{a(!1)}};return p.jsx(ee.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs(ee.button,{onClick:()=>n("/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})," "]}),p.jsxs(ee.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-2xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[p.jsx("h1",{className:"text-2xl font-bold text-cyan-800 mb-8 text-center",children:" "}),o&&p.jsxs(ee.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:["  ",e.type==="complaint"?"":""," .  !"]}),u&&p.jsx(ee.div,{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),p.jsxs("form",{onSubmit:_,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-gray-700 font-medium",children:" "}),p.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",name:"type",value:"complaint",checked:e.type==="complaint",onChange:b,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),p.jsx("span",{children:""})]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:e.type==="suggestion",onChange:b,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),p.jsx("span",{children:""})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"block text-gray-700 font-medium",children:["",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",name:"title",placeholder:"  /",className:`w-full border ${f.title?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,value:e.title,onChange:b}),f.title&&p.jsx("p",{className:"text-red-500 text-sm",children:f.title})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"block text-gray-700 font-medium",children:["",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("textarea",{name:"description",placeholder:"  /",className:`w-full border ${f.description?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-40`,value:e.description,onChange:b}),f.description&&p.jsx("p",{className:"text-red-500 text-sm",children:f.description})]}),p.jsx(ee.button,{type:"submit",className:"w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:r,children:r?p.jsx("span",{children:" ..."}):p.jsxs("span",{children:[" ",e.type==="complaint"?"":""]})})]})]})]})})},Iz=()=>{const n=nr(),[e,t]=M.useState("users"),[r,a]=M.useState([]),[o,l]=M.useState([]),[u,h]=M.useState([]),[f,y]=M.useState([]),[v,b]=M.useState(null),[_,E]=M.useState(!1),[D,A]=M.useState({}),[j,U]=M.useState(!0),[F,q]=M.useState(!1),[k,$]=M.useState(null);M.useEffect(()=>{(async()=>{U(!0);try{const ue=(await Xn(Tn(ct,"users"))).docs.map(qe=>({id:qe.id,...qe.data()}));a(ue);const we=(await Xn(Tn(ct,"serviceProviders"))).docs.map(qe=>({id:qe.id,...qe.data()}));l(we);const Ye=(await Xn(Tn(ct,"feedbacks"))).docs.map(qe=>({id:qe.id,...qe.data()}));h(Ye);const at=(await Xn(Tn(ct,"reviews"))).docs.map(qe=>{var it;return{id:qe.id,...qe.data(),createdAt:(it=qe.data().createdAt)==null?void 0:it.toDate()}});y(at)}catch(W){console.error("   :",W),alert("    ")}U(!1)})()},[]),console.log(f),console.log(r);const O=async(P,W)=>{if(window.confirm("      "))try{await yL(Dn(ct,W,P)),W==="users"?a(r.filter(ue=>ue.id!==P)):W==="serviceProviders"?l(o.filter(ue=>ue.id!==P)):W==="feedbacks"?h(u.filter(ue=>ue.id!==P)):W==="reviews"&&y(f.filter(ue=>ue.id!==P)),alert("  ")}catch(ue){console.error("  :",ue),alert("   ")}},R=(P,W)=>{b({item:P,collectionName:W}),A(P),E(!0)},N=async()=>{try{const{item:P,collectionName:W}=v;await Hi(Dn(ct,W,P.id),D),W==="users"?a(r.map(ue=>ue.id===P.id?{...ue,...D}:ue)):W==="serviceProviders"?l(o.map(ue=>ue.id===P.id?{...ue,...D}:ue)):W==="feedbacks"?h(u.map(ue=>ue.id===P.id?{...ue,...D}:ue)):W==="reviews"&&y(f.map(ue=>ue.id===P.id?{...ue,...D}:ue)),E(!1),alert("  ")}catch(P){console.error("  :",P),alert("   ")}},C=async(P,W)=>{try{const ue=Dn(ct,W,P),de=await _c(ue);if(de.exists()){const we={id:de.id,...de.data()};if(W==="serviceProviders"){const Be=f.filter(Ye=>Ye.providerEmail===we.email);we.reviewsDetails=Be}$(we),q(!0)}else alert("    ")}catch(ue){console.error("   :",ue),alert("    ")}},L=P=>P?P instanceof Date?P.toLocaleDateString("ar-EG"):P.toDate?P.toDate().toLocaleDateString("ar-EG"):" ":" ",z=()=>p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(P=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.clientName}),p.jsx("div",{className:"text-sm text-gray-500",children:P.clientEmail})]}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.providerName}),p.jsx("div",{className:"text-sm text-gray-500",children:P.providerCategory})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((W,ue)=>p.jsx("svg",{className:`h-5 w-5 ${ue<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ue)),p.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[P.rating,"/5"]})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:P.review})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-500",children:L(P.createdAt)})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[p.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>C(P.id,"reviews"),children:""}),p.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"reviews"),children:""}),p.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>O(P.id,"reviews"),children:""})]})]},P.id))})]})}),B=()=>p.jsx("div",{className:"flex flex-wrap border-b text-sm font-medium text-center text-gray-500 mb-4",children:[{id:"users",label:""},{id:"providers",label:" "},{id:"complaints",label:" "},{id:"reviews",label:""}].map(P=>p.jsx("button",{className:`inline-block p-4 rounded-t-lg ${e===P.id?"text-cyan-600 border-b-2 border-cyan-600":"hover:text-gray-600 hover:border-gray-300"}`,onClick:()=>t(P.id),children:P.label},P.id))}),Ee=()=>p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(P=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-500",children:P.email})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-500",children:P.governorate})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[p.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>C(P.id,"users"),children:""}),p.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"users"),children:""}),p.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>O(P.id,"users"),children:""})]})]},P.id))})]})}),be=()=>p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(P=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[P.profileImage&&p.jsx("div",{className:"flex-shrink-0 h-10 w-10 ml-2",children:p.jsx("img",{className:"h-10 w-10 rounded-full",src:P.profileImage,alt:""})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),p.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-900",children:P.profession})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:P.category})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[p.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>C(P.id,"serviceProviders"),children:""}),p.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"serviceProviders"),children:""}),p.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>O(P.id,"serviceProviders"),children:""})]})]},P.id))})]})}),G=()=>p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(P=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:P.type==="complaint"?"":""})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.userName}),p.jsx("div",{className:"text-sm text-gray-500",children:P.userId})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm text-gray-500",children:L(P.timestamp)})}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("div",{className:"text-sm text-gray-900",children:P.title}),p.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="new"?"bg-gray-100 text-gray-800":P.status==="in_progress"?"bg-yellow-100 text-yellow-800":P.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="new"?"":P.status==="in_progress"?" ":P.status==="resolved"?" ":""})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[p.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>C(P.id,"feedbacks"),children:""}),p.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"feedbacks"),children:""}),p.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>O(P.id,"feedbacks"),children:""})]})]},P.id))})]})}),re=()=>_&&v&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),p.jsxs("div",{className:"space-y-4",children:[v.collectionName==="feedbacks"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:D.type||"complaint",onChange:P=>A({...D,type:P.target.value}),children:[p.jsx("option",{value:"complaint",children:""}),p.jsx("option",{value:"suggestion",children:""})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:D.status||"new",onChange:P=>A({...D,status:P.target.value}),children:[p.jsx("option",{value:"new",children:""}),p.jsx("option",{value:"in_progress",children:" "}),p.jsx("option",{value:"resolved",children:" "}),p.jsx("option",{value:"rejected",children:""})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:D.title||"",onChange:P=>A({...D,title:P.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:D.response||"",onChange:P=>A({...D,response:P.target.value}),placeholder:"  ..."})]})]}),v.collectionName!=="feedbacks"&&Object.keys(D).filter(P=>typeof D[P]!="object"&&typeof D[P]!="function"&&!P.includes("Image")&&P!=="id").map(P=>p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:P}),P==="bio"||P==="message"||P==="comment"?p.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:D[P]||"",onChange:W=>A({...D,[P]:W.target.value})}):p.jsx("input",{type:P==="email"?"email":"text",className:"w-full p-2 border border-gray-300 rounded-md",value:D[P]||"",onChange:W=>A({...D,[P]:W.target.value})})]},P))]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[p.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>E(!1),children:""}),p.jsx("button",{className:"px-4 py-2 bg-cyan-600 text-white rounded-md",onClick:N,children:""})]})]})}),oe=()=>F&&k&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",dir:"rtl",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:""}),k.category&&p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[k.profileImage&&p.jsx("img",{src:k.profileImage,alt:"",className:"h-16 w-16 rounded-full object-cover ml-4"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold",children:k.name}),p.jsxs("p",{className:"text-gray-600",children:[k.profession," - ",k.category]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"text-gray-600",children:[" : ",k.email]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",k.password]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",k.phone]}),p.jsxs("p",{className:"text-gray-600",children:[": ",k.address]}),p.jsxs("p",{className:"text-gray-600",children:[": ",k.governorate]})]}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-gray-600",children:[" : ",k.subscriptionFee]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",k.averageRating?k.averageRating.toFixed(1):" "," (",k.totalRatings||0," )"]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",k.worksCount||0]})]})]}),k.bio&&p.jsxs("div",{className:"mb-4",children:[p.jsx("h4",{className:"font-semibold mb-1",children:":"}),p.jsx("p",{className:"text-gray-600",children:k.bio})]}),k.ratingsDetails&&k.ratingsDetails.length>0&&p.jsxs("div",{className:"mt-6",children:[p.jsxs("h4",{className:"text-lg font-semibold mb-2",children:[" (",k.ratingsDetails.length,")"]}),p.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:k.ratingsDetails.map((P,W)=>p.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3 last:border-0 last:mb-0 last:pb-0",children:[p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("div",{className:"font-medium",children:P.userName}),p.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((ue,de)=>p.jsxs("svg",{className:`h-4 w-4 ${de<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:["  ",p.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]},de)),p.jsxs("span",{className:"text-xs text-gray-600 mr-1",children:[P.rating,"/5"]})]})]}),p.jsx("p",{className:"text-sm text-gray-600",children:P.comment}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L(P.createdAt)})]},W))})]})]}),!k.category&&!k.providerId&&!k.title&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(k).filter(([P])=>P!=="id"&&typeof k[P]!="object"&&typeof k[P]!="function").map(([P,W])=>p.jsxs("div",{className:"mb-3",children:[p.jsxs("h4",{className:"font-semibold",children:[P,":"]}),p.jsx("p",{className:"text-gray-600",children:(W==null?void 0:W.toString())||" "})]},P))}),k.title&&p.jsxs("div",{children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),p.jsxs("p",{className:"text-gray-600",children:[": ",k.userName]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",k.userId]}),p.jsxs("p",{className:"text-gray-600",children:[": ",k.userRole]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",k.type==="complaint"?"":""]}),p.jsxs("p",{className:"text-gray-600",children:[":",p.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${k.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:k.type==="complaint"?"":""})]}),p.jsxs("p",{className:"text-gray-600",children:[": ",k.title]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",L(k.timestamp)]}),p.jsxs("p",{className:"text-gray-600",children:[":",p.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${k.status==="new"?"bg-gray-100 text-gray-800":k.status==="in_progress"?"bg-yellow-100 text-yellow-800":k.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="new"?"":k.status==="in_progress"?" ":k.status==="resolved"?" ":""})]}),p.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[p.jsx("h4",{className:"font-semibold mb-1",children:":"}),p.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:k.description})]})]}),k.response&&p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:""}),p.jsx("div",{className:"p-3 bg-blue-50 rounded",children:p.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:k.response})}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" : ",L(k.respondedAt)]})]})]}),k.providerId&&!k.title&&p.jsx("div",{children:p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),p.jsxs("p",{className:"text-gray-600",children:[": ",k.userName]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",k.providerName]}),p.jsxs("p",{className:"text-gray-600",children:[" : ",L(k.createdAt)]}),p.jsxs("div",{className:"flex items-center my-2",children:[p.jsx("span",{className:"ml-2",children:":"}),[...Array(5)].map((P,W)=>p.jsx("svg",{className:`h-5 w-5 ${W<k.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},W)),p.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[k.rating,"/5"]})]}),p.jsxs("div",{className:"mt-2",children:[p.jsx("h4",{className:"font-semibold mb-1",children:":"}),p.jsx("div",{className:"p-3 bg-gray-50 rounded",children:p.jsx("p",{className:"text-gray-800",children:k.comment})})]})]})}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>q(!1),children:""})})]})}),ve=()=>p.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-600"})});return p.jsxs(ee.div,{className:"container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[p.jsx("h1",{className:"text-3xl font-bold mb-6 text-right",children:"  "}),p.jsx(ee.button,{onClick:()=>{n("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:" "}),B(),j?ve():p.jsx(p.Fragment,{children:p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[e==="users"&&Ee(),e==="providers"&&be(),e==="complaints"&&G(),e==="reviews"&&z()]})}),re(),oe()]})},Vz=()=>{const{serviceType:n}=zm(),e=nr(),r={" ":[{name:"",icon:"",color:"bg-blue-500"},{name:"",icon:"",color:"bg-yellow-700"},{name:"",icon:"",color:"bg-yellow-500"},{name:"",icon:"",color:"bg-gray-700"},{name:"",icon:"",color:"bg-red-700"},{name:" ",icon:"",color:"bg-blue-300"},{name:"",icon:"",color:"bg-purple-500"},{name:"",icon:"",color:"bg-pink-500"}]," ":[{name:" ",icon:"",color:"bg-green-500"},{name:"",icon:"",color:"bg-red-500"},{name:"",icon:"",color:"bg-blue-400"},{name:" ",icon:"",color:"bg-green-300"},{name:"  ",icon:"",color:"bg-indigo-500"},{name:" ",icon:"",color:"bg-cyan-500"}]," ":[{name:" ",icon:"",color:"bg-orange-500"},{name:"",icon:"",color:"bg-red-600"},{name:"",icon:"",color:"bg-yellow-900"},{name:"",icon:"",color:"bg-purple-700"}]," ":[{name:"",icon:"",color:"bg-green-700"},{name:"",icon:"",color:"bg-red-800"},{name:"",icon:"",color:"bg-red-500"},{name:"",icon:"",color:"bg-green-500"},{name:" ",icon:"",color:"bg-white text-gray-800"}]}[n]||[],a={" ":"  "," ":"  "," ":"  "," ":"  "},o=l=>{e(`/nafany/services_jobs/${n}/${l.name}`)};return p.jsx(ee.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"flex items-center mb-6 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),""]}),p.jsx(ee.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:a[n]||n}),p.jsx(ee.p,{className:"text-lg text-center text-gray-600 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"      "}),p.jsx(ee.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.1}}},children:r.map((l,u)=>p.jsx(ee.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},className:`${l.color} rounded-xl shadow-lg p-6 cursor-pointer text-center transition-all`,onClick:()=>o(l),children:p.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[p.jsx("span",{className:"text-4xl mb-3",children:l.icon}),p.jsx("h3",{className:"text-xl font-bold text-white",children:l.name})]})},u))}),r.length===0&&p.jsx("div",{className:"text-center text-gray-600 text-xl mt-10",children:"       "})]})})},Lz=()=>{const n=$3(E3(p.jsxs(p.Fragment,{children:[p.jsx(Mr,{path:"/nafany/login",element:p.jsx(KL,{})}),p.jsx(Mr,{path:"/nafany/register",element:p.jsx(WL,{})}),p.jsx(Mr,{path:"/nafany/register_user",element:p.jsx(XL,{})}),p.jsx(Mr,{path:"/nafany/services_jobs/:serviceType/:professionType",element:p.jsx(y8,{})}),p.jsx(Mr,{path:"/nafany/servicer_page",element:p.jsx(x8,{})}),p.jsx(Mr,{path:"/nafany/book_page/:providerId",element:p.jsx(Nz,{})}),p.jsx(Mr,{path:"/nafany/",element:p.jsx(g8,{})}),p.jsx(Mr,{path:"/nafany/chat/:providerId",element:p.jsx(kz,{})}),p.jsx(Mr,{path:"/nafany/settings",element:p.jsx(Pz,{})}),p.jsx(Mr,{path:"/nafany/contact",element:p.jsx(jz,{})}),p.jsx(Mr,{path:"/nafany/complaints",element:p.jsx(Oz,{})}),p.jsx(Mr,{path:"/nafany/admin",element:p.jsx(Iz,{})}),p.jsx(Mr,{path:"/nafany/service_categories/:serviceType",element:p.jsx(Vz,{})})]})));return p.jsx(p.Fragment,{children:p.jsx(i6,{router:n})})};nM.createRoot(document.getElementById("root")).render(p.jsx(M.StrictMode,{children:p.jsx(Lz,{})}));
