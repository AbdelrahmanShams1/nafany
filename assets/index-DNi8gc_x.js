var fM=Object.defineProperty;var hM=(n,e,t)=>e in n?fM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Me=(n,e,t)=>hM(n,typeof e!="symbol"?e+"":e,t);function mM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function rD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fy={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function pM(){if(r1)return ku;r1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return ku.Fragment=e,ku.jsx=t,ku.jsxs=t,ku}var a1;function gM(){return a1||(a1=1,fy.exports=pM()),fy.exports}var y=gM(),hy={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function yM(){if(i1)return rt;i1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function T(U,X,be){this.props=U,this.context=X,this.refs=C,this.updater=be||w}T.prototype.isReactComponent={},T.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=T.prototype;function V(U,X,be){this.props=U,this.context=X,this.refs=C,this.updater=be||w}var L=V.prototype=new N;L.constructor=V,E(L,T.prototype),L.isPureReactComponent=!0;var F=Array.isArray,I={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function O(U,X,be,xe,ge,de){return be=de.ref,{$$typeof:n,type:U,key:X,ref:be!==void 0?be:null,props:de}}function A(U,X){return O(U.type,X,void 0,void 0,void 0,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(be){return X[be]})}var z=/\/+/g;function Y(U,X){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):X.toString(36)}function B(){}function Se(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(B,B):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function we(U,X,be,xe,ge){var de=typeof U;(de==="undefined"||de==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(de){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case n:case e:le=!0;break;case g:return le=U._init,we(le(U._payload),X,be,xe,ge)}}if(le)return ge=ge(U),le=xe===""?"."+Y(U,0):xe,F(ge)?(be="",le!=null&&(be=le.replace(z,"$&/")+"/"),we(ge,X,be,"",function(Ne){return Ne})):ge!=null&&(R(ge)&&(ge=A(ge,be+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(z,"$&/")+"/")+le)),X.push(ge)),1;le=0;var Ce=xe===""?".":xe+":";if(F(U))for(var Ee=0;Ee<U.length;Ee++)xe=U[Ee],de=Ce+Y(xe,Ee),le+=we(xe,X,be,de,ge);else if(Ee=x(U),typeof Ee=="function")for(U=Ee.call(U),Ee=0;!(xe=U.next()).done;)xe=xe.value,de=Ce+Y(xe,Ee++),le+=we(xe,X,be,de,ge);else if(de==="object"){if(typeof U.then=="function")return we(Se(U),X,be,xe,ge);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return le}function ie(U,X,be){if(U==null)return U;var xe=[],ge=0;return we(U,xe,"","",function(de){return X.call(be,de,ge++)}),xe}function ee(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(be){(U._status===0||U._status===-1)&&(U._status=1,U._result=be)},function(be){(U._status===0||U._status===-1)&&(U._status=2,U._result=be)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var re=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function q(){}return rt.Children={map:ie,forEach:function(U,X,be){ie(U,function(){X.apply(this,arguments)},be)},count:function(U){var X=0;return ie(U,function(){X++}),X},toArray:function(U){return ie(U,function(X){return X})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},rt.Component=T,rt.Fragment=t,rt.Profiler=a,rt.PureComponent=V,rt.StrictMode=r,rt.Suspense=f,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},rt.cache=function(U){return function(){return U.apply(null,arguments)}},rt.cloneElement=function(U,X,be){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var xe=E({},U.props),ge=U.key,de=void 0;if(X!=null)for(le in X.ref!==void 0&&(de=void 0),X.key!==void 0&&(ge=""+X.key),X)!Q.call(X,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&X.ref===void 0||(xe[le]=X[le]);var le=arguments.length-2;if(le===1)xe.children=be;else if(1<le){for(var Ce=Array(le),Ee=0;Ee<le;Ee++)Ce[Ee]=arguments[Ee+2];xe.children=Ce}return O(U.type,ge,void 0,void 0,de,xe)},rt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},rt.createElement=function(U,X,be){var xe,ge={},de=null;if(X!=null)for(xe in X.key!==void 0&&(de=""+X.key),X)Q.call(X,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(ge[xe]=X[xe]);var le=arguments.length-2;if(le===1)ge.children=be;else if(1<le){for(var Ce=Array(le),Ee=0;Ee<le;Ee++)Ce[Ee]=arguments[Ee+2];ge.children=Ce}if(U&&U.defaultProps)for(xe in le=U.defaultProps,le)ge[xe]===void 0&&(ge[xe]=le[xe]);return O(U,de,void 0,void 0,null,ge)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(U){return{$$typeof:u,render:U}},rt.isValidElement=R,rt.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ee}},rt.memo=function(U,X){return{$$typeof:h,type:U,compare:X===void 0?null:X}},rt.startTransition=function(U){var X=I.T,be={};I.T=be;try{var xe=U(),ge=I.S;ge!==null&&ge(be,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(q,re)}catch(de){re(de)}finally{I.T=X}},rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},rt.use=function(U){return I.H.use(U)},rt.useActionState=function(U,X,be){return I.H.useActionState(U,X,be)},rt.useCallback=function(U,X){return I.H.useCallback(U,X)},rt.useContext=function(U){return I.H.useContext(U)},rt.useDebugValue=function(){},rt.useDeferredValue=function(U,X){return I.H.useDeferredValue(U,X)},rt.useEffect=function(U,X){return I.H.useEffect(U,X)},rt.useId=function(){return I.H.useId()},rt.useImperativeHandle=function(U,X,be){return I.H.useImperativeHandle(U,X,be)},rt.useInsertionEffect=function(U,X){return I.H.useInsertionEffect(U,X)},rt.useLayoutEffect=function(U,X){return I.H.useLayoutEffect(U,X)},rt.useMemo=function(U,X){return I.H.useMemo(U,X)},rt.useOptimistic=function(U,X){return I.H.useOptimistic(U,X)},rt.useReducer=function(U,X,be){return I.H.useReducer(U,X,be)},rt.useRef=function(U){return I.H.useRef(U)},rt.useState=function(U){return I.H.useState(U)},rt.useSyncExternalStore=function(U,X,be){return I.H.useSyncExternalStore(U,X,be)},rt.useTransition=function(){return I.H.useTransition()},rt.version="19.0.0",rt}var s1;function uv(){return s1||(s1=1,hy.exports=yM()),hy.exports}var M=uv();const J=rD(M),vM=mM({__proto__:null,default:J},[M]);var my={exports:{}},Pu={},py={exports:{}},gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function bM(){return o1||(o1=1,function(n){function e(ie,ee){var re=ie.length;ie.push(ee);e:for(;0<re;){var q=re-1>>>1,U=ie[q];if(0<a(U,ee))ie[q]=ee,ie[re]=U,re=q;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ee=ie[0],re=ie.pop();if(re!==ee){ie[0]=re;e:for(var q=0,U=ie.length,X=U>>>1;q<X;){var be=2*(q+1)-1,xe=ie[be],ge=be+1,de=ie[ge];if(0>a(xe,re))ge<U&&0>a(de,xe)?(ie[q]=de,ie[ge]=re,q=ge):(ie[q]=xe,ie[be]=re,q=be);else if(ge<U&&0>a(de,re))ie[q]=de,ie[ge]=re,q=ge;else break e}}return ee}function a(ie,ee){var re=ie.sortIndex-ee.sortIndex;return re!==0?re:ie.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],h=[],g=1,v=null,x=3,w=!1,E=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function L(ie){for(var ee=t(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=ie)r(h),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=t(h)}}function F(ie){if(C=!1,L(ie),!E)if(t(f)!==null)E=!0,Se();else{var ee=t(h);ee!==null&&we(F,ee.startTime-ie)}}var I=!1,Q=-1,O=5,A=-1;function R(){return!(n.unstable_now()-A<O)}function k(){if(I){var ie=n.unstable_now();A=ie;var ee=!0;try{e:{E=!1,C&&(C=!1,N(Q),Q=-1),w=!0;var re=x;try{t:{for(L(ie),v=t(f);v!==null&&!(v.expirationTime>ie&&R());){var q=v.callback;if(typeof q=="function"){v.callback=null,x=v.priorityLevel;var U=q(v.expirationTime<=ie);if(ie=n.unstable_now(),typeof U=="function"){v.callback=U,L(ie),ee=!0;break t}v===t(f)&&r(f),L(ie)}else r(f);v=t(f)}if(v!==null)ee=!0;else{var X=t(h);X!==null&&we(F,X.startTime-ie),ee=!1}}break e}finally{v=null,x=re,w=!1}ee=void 0}}finally{ee?z():I=!1}}}var z;if(typeof V=="function")z=function(){V(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,B=Y.port2;Y.port1.onmessage=k,z=function(){B.postMessage(null)}}else z=function(){T(k,0)};function Se(){I||(I=!0,z())}function we(ie,ee){Q=T(function(){ie(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){E||w||(E=!0,Se())},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var re=x;x=ee;try{return ie()}finally{x=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ee){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var re=x;x=ie;try{return ee()}finally{x=re}},n.unstable_scheduleCallback=function(ie,ee,re){var q=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?q+re:q):re=q,ie){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=re+U,ie={id:g++,callback:ee,priorityLevel:ie,startTime:re,expirationTime:U,sortIndex:-1},re>q?(ie.sortIndex=re,e(h,ie),t(f)===null&&ie===t(h)&&(C?(N(Q),Q=-1):C=!0,we(F,re-q))):(ie.sortIndex=U,e(f,ie),E||w||(E=!0,Se())),ie},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ie){var ee=x;return function(){var re=x;x=ee;try{return ie.apply(this,arguments)}finally{x=re}}}}(gy)),gy}var l1;function xM(){return l1||(l1=1,py.exports=bM()),py.exports}var yy={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function _M(){if(c1)return tr;c1=1;var n=uv();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},tr.flushSync=function(f){var h=c.T,g=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=g,r.d.f()}},tr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},tr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=u(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},tr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=u(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},tr.requestFormReset=function(f){r.d.r(f)},tr.unstable_batchedUpdates=function(f,h){return f(h)},tr.useFormState=function(f,h,g){return c.H.useFormState(f,h,g)},tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},tr.version="19.0.0",tr}var u1;function aD(){if(u1)return yy.exports;u1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yy.exports=_M(),yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function wM(){if(d1)return Pu;d1=1;var n=xM(),e=uv(),t=aD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),F=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function A(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case u:return"Portal";case g:return"Profiler";case h:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case x:return(i._context.displayName||"Context")+".Consumer";case E:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:A(i.type)||"Memo";case V:s=i._payload,i=i._init;try{return A(i(s))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,z,Y;function B(i){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||"",Y=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+Y}var Se=!1;function we(i,s){if(!i||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var ae=ce}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(ce){ae=ce}i.call(ye.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),D=b[0],P=b[1];if(D&&P){var H=D.split(`
`),K=P.split(`
`);for(p=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(d===H.length||p===K.length)for(d=H.length-1,p=K.length-1;1<=d&&0<=p&&H[d]!==K[p];)p--;for(;1<=d&&0<=p;d--,p--)if(H[d]!==K[p]){if(d!==1||p!==1)do if(d--,p--,0>p||H[d]!==K[p]){var ue=`
`+H[d].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=d&&0<=p);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?B(l):""}function ie(i){switch(i.tag){case 26:case 27:case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function ee(i){try{var s="";do s+=ie(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function re(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function q(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function U(i){if(re(i)!==i)throw Error(r(188))}function X(i){var s=i.alternate;if(!s){if(s=re(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,d=s;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return U(p),i;if(b===d)return U(p),s;b=b.sibling}throw Error(r(188))}if(l.return!==d.return)l=p,d=b;else{for(var D=!1,P=p.child;P;){if(P===l){D=!0,l=p,d=b;break}if(P===d){D=!0,d=p,l=b;break}P=P.sibling}if(!D){for(P=b.child;P;){if(P===l){D=!0,l=b,d=p;break}if(P===d){D=!0,d=b,l=p;break}P=P.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function be(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=be(i),s!==null)return s;i=i.sibling}return null}var xe=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},le=[],Ce=-1;function Ee(i){return{current:i}}function Ne(i){0>Ce||(i.current=le[Ce],le[Ce]=null,Ce--)}function qe(i,s){Ce++,le[Ce]=i.current,i.current=s}var dt=Ee(null),nt=Ee(null),Xe=Ee(null),_e=Ee(null);function $e(i,s){switch(qe(Xe,s),qe(nt,i),qe(dt,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?kw(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=kw(i),s=Pw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ne(dt),qe(dt,s)}function ot(){Ne(dt),Ne(nt),Ne(Xe)}function Lt(i){i.memoizedState!==null&&qe(_e,i);var s=dt.current,l=Pw(s,i.type);s!==l&&(qe(nt,i),qe(dt,l))}function Yr(i){nt.current===i&&(Ne(dt),Ne(nt)),_e.current===i&&(Ne(_e),Au._currentValue=de)}var Er=Object.prototype.hasOwnProperty,fr=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,Mr=n.unstable_shouldYield,Tr=n.unstable_requestPaint,Nn=n.unstable_now,kr=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,cn=n.unstable_UserBlockingPriority,Pr=n.unstable_NormalPriority,ol=n.unstable_LowPriority,Sr=n.unstable_IdlePriority,ll=n.log,Pa=n.unstable_setDisableYieldValue,va=null,Mn=null;function es(i){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(va,i,void 0,(i.current.flags&128)===128)}catch{}}function hr(i){if(typeof ll=="function"&&Pa(i),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(va,i)}catch{}}var kn=Math.clz32?Math.clz32:no,mi=Math.log,cl=Math.LN2;function no(i){return i>>>=0,i===0?32:31-(mi(i)/cl|0)|0}var qr=128,ba=4194304;function Jn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,b=i.pingedLanes,D=i.warmLanes;i=i.finishedLanes!==0;var P=l&134217727;return P!==0?(l=P&~p,l!==0?d=Jn(l):(b&=P,b!==0?d=Jn(b):i||(D=P&~D,D!==0&&(d=Jn(D))))):(P=l&~p,P!==0?d=Jn(P):b!==0?d=Jn(b):i||(D=l&~D,D!==0&&(d=Jn(D)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,D=s&-s,p>=D||p===32&&(D&4194176)!==0)?s:d}function Oa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ts(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G(){var i=qr;return qr<<=1,(qr&4194176)===0&&(qr=128),i}function W(){var i=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),i}function se(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function fe(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function De(i,s,l,d,p,b){var D=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,H=i.expirationTimes,K=i.hiddenUpdates;for(l=D&~l;0<l;){var ue=31-kn(l),ye=1<<ue;P[ue]=0,H[ue]=-1;var ae=K[ue];if(ae!==null)for(K[ue]=null,ue=0;ue<ae.length;ue++){var ce=ae[ue];ce!==null&&(ce.lane&=-536870913)}l&=~ye}d!==0&&ze(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(D&~s))}function ze(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-kn(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|l&4194218}function Fe(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-kn(l),p=1<<d;p&s|i[d]&s&&(i[d]|=s),l&=~p}}function Ve(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ue(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:Xw(i.type))}function Ae(i,s){var l=ge.p;try{return ge.p=i,s()}finally{ge.p=l}}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,Ge="__reactProps$"+Oe,Et="__reactContainer$"+Oe,Kt="__reactEvents$"+Oe,Ut="__reactListeners$"+Oe,xt="__reactHandles$"+Oe,qt="__reactResources$"+Oe,mr="__reactMarker$"+Oe;function Or(i){delete i[Ie],delete i[Ge],delete i[Kt],delete i[Ut],delete i[xt]}function un(i){var s=i[Ie];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Et]||l[Ie]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=jw(i);i!==null;){if(l=i[Ie])return l;i=jw(i)}return s}i=l,l=i.parentNode}return null}function gn(i){if(i=i[Ie]||i[Et]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Gr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Dr(i){var s=i[qt];return s||(s=i[qt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[mr]=!0}var Ia=new Set,xa={};function at(i,s){Ct(i,s),Ct(i+"Capture",s)}function Ct(i,s){for(xa[i]=s,i=0;i<s.length;i++)Ia.add(s[i])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ft={},$r={};function ro(i){return Er.call($r,i)?!0:Er.call(Ft,i)?!1:pi.test(i)?$r[i]=!0:(Ft[i]=!0,!1)}function ja(i,s,l){if(ro(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ns(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Qr(i,s,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+d)}}function pr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $d(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yp(i){var s=$d(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,b=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(D){d=""+D,b.call(this,D)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ao(i){i._valueTracker||(i._valueTracker=yp(i))}function Vc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=$d(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function ul(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gi=/[\n"\\]/g;function nn(i){return i.replace(gi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rs(i,s,l,d,p,b,D,P){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),s!=null?D==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pr(s)):i.value!==""+pr(s)&&(i.value=""+pr(s)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),s!=null?dl(i,D,pr(s)):l!=null?dl(i,D,pr(l)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+pr(P):i.removeAttribute("name")}function io(i,s,l,d,p,b,D,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;l=l!=null?""+pr(l):"",s=s!=null?""+pr(s):l,P||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=P?i.checked:!!d,i.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function dl(i,s,l){s==="number"&&ul(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Tt(i,s,l,d){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+pr(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function so(i,s,l){if(s!=null&&(s=""+pr(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+pr(l):""}function as(i,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(r(92));if(xe(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=pr(s),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d)}function Kr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var vp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(i,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,l):typeof l!="number"||l===0||vp.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Qd(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&l[p]!==d&&Lc(i,p,d)}else for(var b in s)s.hasOwnProperty(b)&&Lc(i,b,s[b])}function Uc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return xp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wr=null;function fl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yi=null,vi=null;function bi(i){var s=gn(i);if(s&&(i=s.stateNode)){var l=i[Ge]||null;e:switch(i=s.stateNode,s.type){case"input":if(rs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var p=d[Ge]||null;if(!p)throw Error(r(90));rs(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===i.form&&Vc(d)}break e;case"textarea":so(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Tt(i,!!l.multiple,s,!1)}}}var Bc=!1;function Kd(i,s,l){if(Bc)return i(s,l);Bc=!0;try{var d=i(s);return d}finally{if(Bc=!1,(yi!==null||vi!==null)&&(Ff(),yi&&(s=yi,i=vi,vi=yi=null,bi(s),i)))for(s=0;s<i.length;s++)bi(i[s])}}function oo(i,s){var l=i.stateNode;if(l===null)return null;var d=l[Ge]||null;if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Xr=!1;if(Pn)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Xr=!1}var La=null,is=null,xi=null;function Fc(){if(xi)return xi;var i,s=is,l=s.length,d,p="value"in La?La.value:La.textContent,b=p.length;for(i=0;i<l&&s[i]===p[i];i++);var D=l-i;for(d=1;d<=D&&s[l-d]===p[b-d];d++);return xi=p.slice(i,1<d?1-d:void 0)}function Ua(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ba(){return!0}function zc(){return!1}function On(i){function s(l,d,p,b,D){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=D,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ba:zc,this.isPropagationStopped=zc,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),s}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=On(Nt),co=k({},Nt,{view:0,detail:0}),Wd=On(co),ml,pl,Fa,uo=k({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fa&&(Fa&&i.type==="mousemove"?(ml=i.screenX-Fa.screenX,pl=i.screenY-Fa.screenY):pl=ml=0,Fa=i),ml)},movementY:function(i){return"movementY"in i?i.movementY:pl}}),Zr=On(uo),Xd=k({},uo,{dataTransfer:0}),_p=On(Xd),fo=k({},co,{relatedTarget:0}),gl=On(fo),Hc=k({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=On(Hc),Zd=k({},Nt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vl=On(Zd),wp=k({},Nt,{data:0}),Yc=On(wp),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ef[i])?!!s[i]:!1}function mo(){return qc}var tf=k({},co,{key:function(i){if(i.key){var s=ho[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bl=On(tf),nf=k({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=On(nf),_i=k({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),rf=On(_i),af=k({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sf=On(af),of=k({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xl=On(of),gr=k({},Nt,{newState:0,oldState:0}),lf=On(gr),cf=[9,13,27,32],za=Pn&&"CompositionEvent"in window,m=null;Pn&&"documentMode"in document&&(m=document.documentMode);var _=Pn&&"TextEvent"in window&&!m,S=Pn&&(!za||m&&8<m&&11>=m),j=" ",te=!1;function oe(i,s){switch(i){case"keyup":return cf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pt=!1;function En(i,s){switch(i){case"compositionend":return Te(s);case"keypress":return s.which!==32?null:(te=!0,j);case"textInput":return i=s.data,i===j&&te?null:i;default:return null}}function gt(i,s){if(pt)return i==="compositionend"||!za&&oe(i,s)?(i=Fc(),xi=is=La=null,pt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return S&&s.locale!=="ko"?null:s.data;default:return null}}var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!In[i.type]:s==="textarea"}function wi(i,s,l,d){yi?vi?vi.push(d):vi=[d]:yi=d,s=Gf(s,"onChange"),0<s.length&&(l=new hl("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var Hn=null,Ha=null;function $c(i){Aw(i,0)}function uf(i){var s=Gr(i);if(Vc(s))return i}function nx(i,s){if(i==="change")return s}var rx=!1;if(Pn){var Ep;if(Pn){var Tp="oninput"in document;if(!Tp){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),Tp=typeof ax.oninput=="function"}Ep=Tp}else Ep=!1;rx=Ep&&(!document.documentMode||9<document.documentMode)}function ix(){Hn&&(Hn.detachEvent("onpropertychange",sx),Ha=Hn=null)}function sx(i){if(i.propertyName==="value"&&uf(Ha)){var s=[];wi(s,Ha,i,fl(i)),Kd($c,s)}}function zR(i,s,l){i==="focusin"?(ix(),Hn=s,Ha=l,Hn.attachEvent("onpropertychange",sx)):i==="focusout"&&ix()}function HR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uf(Ha)}function YR(i,s){if(i==="click")return uf(s)}function qR(i,s){if(i==="input"||i==="change")return uf(s)}function GR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ir=typeof Object.is=="function"?Object.is:GR;function Qc(i,s){if(Ir(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Er.call(s,p)||!Ir(i[p],s[p]))return!1}return!0}function ox(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lx(i,s){var l=ox(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ox(l)}}function cx(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?cx(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ux(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ul(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ul(i.document)}return s}function Sp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function $R(i,s){var l=ux(s);s=i.focusedElem;var d=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&cx(s.ownerDocument.documentElement,s)){if(d!==null&&Sp(s)){if(i=d.start,l=d.end,l===void 0&&(l=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(l,s.value.length);else if(l=(i=s.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=s.textContent.length,b=Math.min(d.start,p);d=d.end===void 0?b:Math.min(d.end,p),!l.extend&&b>d&&(p=d,d=b,b=p),p=lx(s,b);var D=lx(s,d);p&&D&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==D.node||l.focusOffset!==D.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),b>d?(l.addRange(i),l.extend(D.node,D.offset)):(i.setEnd(D.node,D.offset),l.addRange(i)))}}for(i=[],l=s;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)l=i[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var QR=Pn&&"documentMode"in document&&11>=document.documentMode,_l=null,Dp=null,Kc=null,Ap=!1;function dx(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ap||_l==null||_l!==ul(d)||(d=_l,"selectionStart"in d&&Sp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Kc&&Qc(Kc,d)||(Kc=d,d=Gf(Dp,"onSelect"),0<d.length&&(s=new hl("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=_l)))}function po(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var wl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},Cp={},fx={};Pn&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function go(i){if(Cp[i])return Cp[i];if(!wl[i])return i;var s=wl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in fx)return Cp[i]=s[l];return i}var hx=go("animationend"),mx=go("animationiteration"),px=go("animationstart"),KR=go("transitionrun"),WR=go("transitionstart"),XR=go("transitioncancel"),gx=go("transitionend"),yx=new Map,vx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _a(i,s){yx.set(i,s),at(s,[i])}var Jr=[],El=0,Rp=0;function df(){for(var i=El,s=Rp=El=0;s<i;){var l=Jr[s];Jr[s++]=null;var d=Jr[s];Jr[s++]=null;var p=Jr[s];Jr[s++]=null;var b=Jr[s];if(Jr[s++]=null,d!==null&&p!==null){var D=d.pending;D===null?p.next=p:(p.next=D.next,D.next=p),d.pending=p}b!==0&&bx(l,p,b)}}function ff(i,s,l,d){Jr[El++]=i,Jr[El++]=s,Jr[El++]=l,Jr[El++]=d,Rp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Np(i,s,l,d){return ff(i,s,l,d),hf(i)}function ss(i,s){return ff(i,null,null,s),hf(i)}function bx(i,s,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var p=!1,b=i.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;p&&s!==null&&i.tag===3&&(b=i.stateNode,p=31-kn(l),b=b.hiddenUpdates,i=b[p],i===null?b[p]=[s]:i.push(s),s.lane=l|536870912)}function hf(i){if(50<xu)throw xu=0,jg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Tl={},xx=new WeakMap;function ea(i,s){if(typeof i=="object"&&i!==null){var l=xx.get(i);return l!==void 0?l:(s={value:i,source:s,stack:ee(s)},xx.set(i,s),s)}return{value:i,source:s,stack:ee(s)}}var Sl=[],Dl=0,mf=null,pf=0,ta=[],na=0,yo=null,Ei=1,Ti="";function vo(i,s){Sl[Dl++]=pf,Sl[Dl++]=mf,mf=i,pf=s}function _x(i,s,l){ta[na++]=Ei,ta[na++]=Ti,ta[na++]=yo,yo=i;var d=Ei;i=Ti;var p=32-kn(d)-1;d&=~(1<<p),l+=1;var b=32-kn(s)+p;if(30<b){var D=p-p%5;b=(d&(1<<D)-1).toString(32),d>>=D,p-=D,Ei=1<<32-kn(s)+p|l<<p|d,Ti=b+i}else Ei=1<<b|l<<p|d,Ti=i}function Mp(i){i.return!==null&&(vo(i,1),_x(i,1,0))}function kp(i){for(;i===mf;)mf=Sl[--Dl],Sl[Dl]=null,pf=Sl[--Dl],Sl[Dl]=null;for(;i===yo;)yo=ta[--na],ta[na]=null,Ti=ta[--na],ta[na]=null,Ei=ta[--na],ta[na]=null}var yr=null,Yn=null,St=!1,wa=null,Ya=!1,Pp=Error(r(519));function bo(i){var s=Error(r(418,""));throw Zc(ea(s,i)),Pp}function wx(i){var s=i.stateNode,l=i.type,d=i.memoizedProps;switch(s[Ie]=i,s[Ge]=d,l){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(l=0;l<wu.length;l++)mt(wu[l],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),io(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ao(s);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),as(s,d.value,d.defaultValue,d.children),ao(s)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||Mw(s.textContent,l)?(d.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),d.onScroll!=null&&mt("scroll",s),d.onScrollEnd!=null&&mt("scrollend",s),d.onClick!=null&&(s.onclick=$f),s=!0):s=!1,s||bo(i)}function Ex(i){for(yr=i.return;yr;)switch(yr.tag){case 3:case 27:Ya=!0;return;case 5:case 13:Ya=!1;return;default:yr=yr.return}}function Wc(i){if(i!==yr)return!1;if(!St)return Ex(i),St=!0,!1;var s=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Jg(i.type,i.memoizedProps)),l=!l),l&&(s=!0),s&&Yn&&bo(i),Ex(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Yn=Ta(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Yn=null}}else Yn=yr?Ta(i.stateNode.nextSibling):null;return!0}function Xc(){Yn=yr=null,St=!1}function Zc(i){wa===null?wa=[i]:wa.push(i)}var Jc=Error(r(460)),Tx=Error(r(474)),Op={then:function(){}};function Sx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gf(){}function Dx(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(gf,gf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Jc?Error(r(483)):i;default:if(typeof s.status=="string")s.then(gf,gf);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Jc?Error(r(483)):i}throw eu=s,Jc}}var eu=null;function Ax(){if(eu===null)throw Error(r(459));var i=eu;return eu=null,i}var Al=null,tu=0;function yf(i){var s=tu;return tu+=1,Al===null&&(Al=[]),Dx(Al,i,s)}function nu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vf(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Cx(i){var s=i._init;return s(i._payload)}function Rx(i){function s(Z,$){if(i){var ne=Z.deletions;ne===null?(Z.deletions=[$],Z.flags|=16):ne.push($)}}function l(Z,$){if(!i)return null;for(;$!==null;)s(Z,$),$=$.sibling;return null}function d(Z){for(var $=new Map;Z!==null;)Z.key!==null?$.set(Z.key,Z):$.set(Z.index,Z),Z=Z.sibling;return $}function p(Z,$){return Z=vs(Z,$),Z.index=0,Z.sibling=null,Z}function b(Z,$,ne){return Z.index=ne,i?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<$?(Z.flags|=33554434,$):ne):(Z.flags|=33554434,$)):(Z.flags|=1048576,$)}function D(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function P(Z,$,ne,he){return $===null||$.tag!==6?($=Cg(ne,Z.mode,he),$.return=Z,$):($=p($,ne),$.return=Z,$)}function H(Z,$,ne,he){var je=ne.type;return je===f?ue(Z,$,ne.props.children,he,ne.key):$!==null&&($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===V&&Cx(je)===$.type)?($=p($,ne.props),nu($,ne),$.return=Z,$):($=jf(ne.type,ne.key,ne.props,null,Z.mode,he),nu($,ne),$.return=Z,$)}function K(Z,$,ne,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==ne.containerInfo||$.stateNode.implementation!==ne.implementation?($=Rg(ne,Z.mode,he),$.return=Z,$):($=p($,ne.children||[]),$.return=Z,$)}function ue(Z,$,ne,he,je){return $===null||$.tag!==7?($=Ro(ne,Z.mode,he,je),$.return=Z,$):($=p($,ne),$.return=Z,$)}function ye(Z,$,ne){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Cg(""+$,Z.mode,ne),$.return=Z,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return ne=jf($.type,$.key,$.props,null,Z.mode,ne),nu(ne,$),ne.return=Z,ne;case u:return $=Rg($,Z.mode,ne),$.return=Z,$;case V:var he=$._init;return $=he($._payload),ye(Z,$,ne)}if(xe($)||Q($))return $=Ro($,Z.mode,ne,null),$.return=Z,$;if(typeof $.then=="function")return ye(Z,yf($),ne);if($.$$typeof===w)return ye(Z,Pf(Z,$),ne);vf(Z,$)}return null}function ae(Z,$,ne,he){var je=$!==null?$.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return je!==null?null:P(Z,$,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:return ne.key===je?H(Z,$,ne,he):null;case u:return ne.key===je?K(Z,$,ne,he):null;case V:return je=ne._init,ne=je(ne._payload),ae(Z,$,ne,he)}if(xe(ne)||Q(ne))return je!==null?null:ue(Z,$,ne,he,null);if(typeof ne.then=="function")return ae(Z,$,yf(ne),he);if(ne.$$typeof===w)return ae(Z,$,Pf(Z,ne),he);vf(Z,ne)}return null}function ce(Z,$,ne,he,je){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Z=Z.get(ne)||null,P($,Z,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case c:return Z=Z.get(he.key===null?ne:he.key)||null,H($,Z,he,je);case u:return Z=Z.get(he.key===null?ne:he.key)||null,K($,Z,he,je);case V:var lt=he._init;return he=lt(he._payload),ce(Z,$,ne,he,je)}if(xe(he)||Q(he))return Z=Z.get(ne)||null,ue($,Z,he,je,null);if(typeof he.then=="function")return ce(Z,$,ne,yf(he),je);if(he.$$typeof===w)return ce(Z,$,ne,Pf($,he),je);vf($,he)}return null}function Be(Z,$,ne,he){for(var je=null,lt=null,He=$,Qe=$=0,Ln=null;He!==null&&Qe<ne.length;Qe++){He.index>Qe?(Ln=He,He=null):Ln=He.sibling;var Dt=ae(Z,He,ne[Qe],he);if(Dt===null){He===null&&(He=Ln);break}i&&He&&Dt.alternate===null&&s(Z,He),$=b(Dt,$,Qe),lt===null?je=Dt:lt.sibling=Dt,lt=Dt,He=Ln}if(Qe===ne.length)return l(Z,He),St&&vo(Z,Qe),je;if(He===null){for(;Qe<ne.length;Qe++)He=ye(Z,ne[Qe],he),He!==null&&($=b(He,$,Qe),lt===null?je=He:lt.sibling=He,lt=He);return St&&vo(Z,Qe),je}for(He=d(He);Qe<ne.length;Qe++)Ln=ce(He,Z,Qe,ne[Qe],he),Ln!==null&&(i&&Ln.alternate!==null&&He.delete(Ln.key===null?Qe:Ln.key),$=b(Ln,$,Qe),lt===null?je=Ln:lt.sibling=Ln,lt=Ln);return i&&He.forEach(function(Ss){return s(Z,Ss)}),St&&vo(Z,Qe),je}function Je(Z,$,ne,he){if(ne==null)throw Error(r(151));for(var je=null,lt=null,He=$,Qe=$=0,Ln=null,Dt=ne.next();He!==null&&!Dt.done;Qe++,Dt=ne.next()){He.index>Qe?(Ln=He,He=null):Ln=He.sibling;var Ss=ae(Z,He,Dt.value,he);if(Ss===null){He===null&&(He=Ln);break}i&&He&&Ss.alternate===null&&s(Z,He),$=b(Ss,$,Qe),lt===null?je=Ss:lt.sibling=Ss,lt=Ss,He=Ln}if(Dt.done)return l(Z,He),St&&vo(Z,Qe),je;if(He===null){for(;!Dt.done;Qe++,Dt=ne.next())Dt=ye(Z,Dt.value,he),Dt!==null&&($=b(Dt,$,Qe),lt===null?je=Dt:lt.sibling=Dt,lt=Dt);return St&&vo(Z,Qe),je}for(He=d(He);!Dt.done;Qe++,Dt=ne.next())Dt=ce(He,Z,Qe,Dt.value,he),Dt!==null&&(i&&Dt.alternate!==null&&He.delete(Dt.key===null?Qe:Dt.key),$=b(Dt,$,Qe),lt===null?je=Dt:lt.sibling=Dt,lt=Dt);return i&&He.forEach(function(dM){return s(Z,dM)}),St&&vo(Z,Qe),je}function sn(Z,$,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===f&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:e:{for(var je=ne.key;$!==null;){if($.key===je){if(je=ne.type,je===f){if($.tag===7){l(Z,$.sibling),he=p($,ne.props.children),he.return=Z,Z=he;break e}}else if($.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===V&&Cx(je)===$.type){l(Z,$.sibling),he=p($,ne.props),nu(he,ne),he.return=Z,Z=he;break e}l(Z,$);break}else s(Z,$);$=$.sibling}ne.type===f?(he=Ro(ne.props.children,Z.mode,he,ne.key),he.return=Z,Z=he):(he=jf(ne.type,ne.key,ne.props,null,Z.mode,he),nu(he,ne),he.return=Z,Z=he)}return D(Z);case u:e:{for(je=ne.key;$!==null;){if($.key===je)if($.tag===4&&$.stateNode.containerInfo===ne.containerInfo&&$.stateNode.implementation===ne.implementation){l(Z,$.sibling),he=p($,ne.children||[]),he.return=Z,Z=he;break e}else{l(Z,$);break}else s(Z,$);$=$.sibling}he=Rg(ne,Z.mode,he),he.return=Z,Z=he}return D(Z);case V:return je=ne._init,ne=je(ne._payload),sn(Z,$,ne,he)}if(xe(ne))return Be(Z,$,ne,he);if(Q(ne)){if(je=Q(ne),typeof je!="function")throw Error(r(150));return ne=je.call(ne),Je(Z,$,ne,he)}if(typeof ne.then=="function")return sn(Z,$,yf(ne),he);if(ne.$$typeof===w)return sn(Z,$,Pf(Z,ne),he);vf(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,$!==null&&$.tag===6?(l(Z,$.sibling),he=p($,ne),he.return=Z,Z=he):(l(Z,$),he=Cg(ne,Z.mode,he),he.return=Z,Z=he),D(Z)):l(Z,$)}return function(Z,$,ne,he){try{tu=0;var je=sn(Z,$,ne,he);return Al=null,je}catch(He){if(He===Jc)throw He;var lt=sa(29,He,null,Z.mode);return lt.lanes=he,lt.return=Z,lt}finally{}}}var xo=Rx(!0),Nx=Rx(!1),Cl=Ee(null),bf=Ee(0);function Mx(i,s){i=Ii,qe(bf,i),qe(Cl,s),Ii=i|s.baseLanes}function Ip(){qe(bf,Ii),qe(Cl,Cl.current)}function jp(){Ii=bf.current,Ne(Cl),Ne(bf)}var ra=Ee(null),qa=null;function os(i){var s=i.alternate;qe(Sn,Sn.current&1),qe(ra,i),qa===null&&(s===null||Cl.current!==null||s.memoizedState!==null)&&(qa=i)}function kx(i){if(i.tag===22){if(qe(Sn,Sn.current),qe(ra,i),qa===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qa=i)}}else ls()}function ls(){qe(Sn,Sn.current),qe(ra,ra.current)}function Si(i){Ne(ra),qa===i&&(qa=null),Ne(Sn)}var Sn=Ee(0);function xf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ZR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},JR=n.unstable_scheduleCallback,eN=n.unstable_NormalPriority,Dn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vp(){return{controller:new ZR,data:new Map,refCount:0}}function ru(i){i.refCount--,i.refCount===0&&JR(eN,function(){i.controller.abort()})}var au=null,Lp=0,Rl=0,Nl=null;function tN(i,s){if(au===null){var l=au=[];Lp=0,Rl=Yg(),Nl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Lp++,s.then(Px,Px),s}function Px(){if(--Lp===0&&au!==null){Nl!==null&&(Nl.status="fulfilled");var i=au;au=null,Rl=0,Nl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function nN(i,s){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var Ox=R.S;R.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tN(i,s),Ox!==null&&Ox(i,s)};var _o=Ee(null);function Up(){var i=_o.current;return i!==null?i:zt.pooledCache}function _f(i,s){s===null?qe(_o,_o.current):qe(_o,s.pool)}function Ix(){var i=Up();return i===null?null:{parent:Dn._currentValue,pool:i}}var cs=0,it=null,jt=null,yn=null,wf=!1,Ml=!1,wo=!1,Ef=0,iu=0,kl=null,rN=0;function dn(){throw Error(r(321))}function Bp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ir(i[l],s[l]))return!1;return!0}function Fp(i,s,l,d,p,b){return cs=b,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=i===null||i.memoizedState===null?Eo:us,wo=!1,b=l(d,p),wo=!1,Ml&&(b=Vx(s,l,d,p)),jx(i),b}function jx(i){R.H=Ga;var s=jt!==null&&jt.next!==null;if(cs=0,yn=jt=it=null,wf=!1,iu=0,kl=null,s)throw Error(r(300));i===null||jn||(i=i.dependencies,i!==null&&kf(i)&&(jn=!0))}function Vx(i,s,l,d){it=i;var p=0;do{if(Ml&&(kl=null),iu=0,Ml=!1,25<=p)throw Error(r(301));if(p+=1,yn=jt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=To,b=s(l,d)}while(Ml);return b}function aN(){var i=R.H,s=i.useState()[0];return s=typeof s.then=="function"?su(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(it.flags|=1024),s}function zp(){var i=Ef!==0;return Ef=0,i}function Hp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Yp(i){if(wf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wf=!1}cs=0,yn=jt=it=null,Ml=!1,iu=Ef=0,kl=null}function Ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?it.memoizedState=yn=i:yn=yn.next=i,yn}function vn(){if(jt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=yn===null?it.memoizedState:yn.next;if(s!==null)yn=s,jt=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},yn===null?it.memoizedState=yn=i:yn=yn.next=i}return yn}var Tf;Tf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function su(i){var s=iu;return iu+=1,kl===null&&(kl=[]),i=Dx(kl,i,s),s=it,(yn===null?s.memoizedState:yn.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Eo:us),i}function Sf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return su(i);if(i.$$typeof===w)return er(i)}throw Error(r(438,String(i)))}function qp(i){var s=null,l=it.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=it.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Tf(),it.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),d=0;d<i;d++)l[d]=F;return s.index++,l}function Di(i,s){return typeof s=="function"?s(i):s}function Df(i){var s=vn();return Gp(s,jt,i)}function Gp(i,s,l){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var D=p.next;p.next=b.next,b.next=D}s.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var P=D=null,H=null,K=s,ue=!1;do{var ye=K.lane&-536870913;if(ye!==K.lane?(yt&ye)===ye:(cs&ye)===ye){var ae=K.revertLane;if(ae===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ye===Rl&&(ue=!0);else if((cs&ae)===ae){K=K.next,ae===Rl&&(ue=!0);continue}else ye={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(P=H=ye,D=b):H=H.next=ye,it.lanes|=ae,bs|=ae;ye=K.action,wo&&l(b,ye),b=K.hasEagerState?K.eagerState:l(b,ye)}else ae={lane:ye,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(P=H=ae,D=b):H=H.next=ae,it.lanes|=ye,bs|=ye;K=K.next}while(K!==null&&K!==s);if(H===null?D=b:H.next=P,!Ir(b,i.memoizedState)&&(jn=!0,ue&&(l=Nl,l!==null)))throw l;i.memoizedState=b,i.baseState=D,i.baseQueue=H,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function $p(i){var s=vn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,b=s.memoizedState;if(p!==null){l.pending=null;var D=p=p.next;do b=i(b,D.action),D=D.next;while(D!==p);Ir(b,s.memoizedState)||(jn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,d]}function Lx(i,s,l){var d=it,p=vn(),b=St;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var D=!Ir((jt||p).memoizedState,l);if(D&&(p.memoizedState=l,jn=!0),p=p.queue,Wp(Fx.bind(null,d,p,i),[i]),p.getSnapshot!==s||D||yn!==null&&yn.memoizedState.tag&1){if(d.flags|=2048,Pl(9,Bx.bind(null,d,p,l,s),{destroy:void 0},null),zt===null)throw Error(r(349));b||(cs&60)!==0||Ux(d,s,l)}return l}function Ux(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s=Tf(),it.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Bx(i,s,l,d){s.value=l,s.getSnapshot=d,zx(s)&&Hx(i)}function Fx(i,s,l){return l(function(){zx(s)&&Hx(i)})}function zx(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ir(i,l)}catch{return!0}}function Hx(i){var s=ss(i,2);s!==null&&vr(s,i,2)}function Qp(i){var s=Ar();if(typeof i=="function"){var l=i;if(i=l(),wo){hr(!0);try{l()}finally{hr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},s}function Yx(i,s,l,d){return i.baseState=l,Gp(i,jt,typeof d=="function"?d:Di)}function iN(i,s,l,d,p){if(Rf(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){b.listeners.push(D)}};R.T!==null?l(!0):b.isTransition=!1,d(b),l=s.pending,l===null?(b.next=s.pending=b,qx(s,b)):(b.next=l.next,s.pending=l.next=b)}}function qx(i,s){var l=s.action,d=s.payload,p=i.state;if(s.isTransition){var b=R.T,D={};R.T=D;try{var P=l(p,d),H=R.S;H!==null&&H(D,P),Gx(i,s,P)}catch(K){Kp(i,s,K)}finally{R.T=b}}else try{b=l(p,d),Gx(i,s,b)}catch(K){Kp(i,s,K)}}function Gx(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){$x(i,s,d)},function(d){return Kp(i,s,d)}):$x(i,s,l)}function $x(i,s,l){s.status="fulfilled",s.value=l,Qx(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,qx(i,l)))}function Kp(i,s,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,Qx(s),s=s.next;while(s!==d)}i.action=null}function Qx(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Kx(i,s){return s}function Wx(i,s){if(St){var l=zt.formState;if(l!==null){e:{var d=it;if(St){if(Yn){t:{for(var p=Yn,b=Ya;p.nodeType!==8;){if(!b){p=null;break t}if(p=Ta(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Yn=Ta(p.nextSibling),d=p.data==="F!";break e}}bo(d)}d=!1}d&&(s=l[0])}}return l=Ar(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:s},l.queue=d,l=m_.bind(null,it,d),d.dispatch=l,d=Qp(!1),b=tg.bind(null,it,!1,d.queue),d=Ar(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,l=iN.bind(null,it,p,b,l),p.dispatch=l,d.memoizedState=i,[s,l,!1]}function Xx(i){var s=vn();return Zx(s,jt,i)}function Zx(i,s,l){s=Gp(i,s,Kx)[0],i=Df(Di)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?su(s):s;var d=vn(),p=d.queue,b=p.dispatch;return l!==d.memoizedState&&(it.flags|=2048,Pl(9,sN.bind(null,p,l),{destroy:void 0},null)),[s,b,i]}function sN(i,s){i.action=s}function Jx(i){var s=vn(),l=jt;if(l!==null)return Zx(s,l,i);vn(),s=s.memoizedState,l=vn();var d=l.queue.dispatch;return l.memoizedState=i,[s,d,!1]}function Pl(i,s,l,d){return i={tag:i,create:s,inst:l,deps:d,next:null},s=it.updateQueue,s===null&&(s=Tf(),it.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i),i}function e_(){return vn().memoizedState}function Af(i,s,l,d){var p=Ar();it.flags|=i,p.memoizedState=Pl(1|s,l,{destroy:void 0},d===void 0?null:d)}function Cf(i,s,l,d){var p=vn();d=d===void 0?null:d;var b=p.memoizedState.inst;jt!==null&&d!==null&&Bp(d,jt.memoizedState.deps)?p.memoizedState=Pl(s,l,b,d):(it.flags|=i,p.memoizedState=Pl(1|s,l,b,d))}function t_(i,s){Af(8390656,8,i,s)}function Wp(i,s){Cf(2048,8,i,s)}function n_(i,s){return Cf(4,2,i,s)}function r_(i,s){return Cf(4,4,i,s)}function a_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function i_(i,s,l){l=l!=null?l.concat([i]):null,Cf(4,4,a_.bind(null,s,i),l)}function Xp(){}function s_(i,s){var l=vn();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&Bp(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function o_(i,s){var l=vn();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&Bp(s,d[1]))return d[0];if(d=i(),wo){hr(!0);try{i()}finally{hr(!1)}}return l.memoizedState=[d,s],d}function Zp(i,s,l){return l===void 0||(cs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=cw(),it.lanes|=i,bs|=i,l)}function l_(i,s,l,d){return Ir(l,s)?l:Cl.current!==null?(i=Zp(i,l,d),Ir(i,s)||(jn=!0),i):(cs&42)===0?(jn=!0,i.memoizedState=l):(i=cw(),it.lanes|=i,bs|=i,s)}function c_(i,s,l,d,p){var b=ge.p;ge.p=b!==0&&8>b?b:8;var D=R.T,P={};R.T=P,tg(i,!1,s,l);try{var H=p(),K=R.S;if(K!==null&&K(P,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=nN(H,d);ou(i,s,ue,Ur(i))}else ou(i,s,d,Ur(i))}catch(ye){ou(i,s,{then:function(){},status:"rejected",reason:ye},Ur())}finally{ge.p=b,R.T=D}}function oN(){}function Jp(i,s,l,d){if(i.tag!==5)throw Error(r(476));var p=u_(i).queue;c_(i,p,s,de,l===null?oN:function(){return d_(i),l(d)})}function u_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:de},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function d_(i){var s=u_(i).next.queue;ou(i,s,{},Ur())}function eg(){return er(Au)}function f_(){return vn().memoizedState}function h_(){return vn().memoizedState}function lN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Ur();i=hs(l);var d=ms(s,i,l);d!==null&&(vr(d,s,l),uu(d,s,l)),s={cache:Vp()},i.payload=s;return}s=s.return}}function cN(i,s,l){var d=Ur();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Rf(i)?p_(s,l):(l=Np(i,s,l,d),l!==null&&(vr(l,i,d),g_(l,s,d)))}function m_(i,s,l){var d=Ur();ou(i,s,l,d)}function ou(i,s,l,d){var p={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rf(i))p_(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var D=s.lastRenderedState,P=b(D,l);if(p.hasEagerState=!0,p.eagerState=P,Ir(P,D))return ff(i,s,p,0),zt===null&&df(),!1}catch{}finally{}if(l=Np(i,s,p,d),l!==null)return vr(l,i,d),g_(l,s,d),!0}return!1}function tg(i,s,l,d){if(d={lane:2,revertLane:Yg(),action:d,hasEagerState:!1,eagerState:null,next:null},Rf(i)){if(s)throw Error(r(479))}else s=Np(i,l,d,2),s!==null&&vr(s,i,2)}function Rf(i){var s=i.alternate;return i===it||s!==null&&s===it}function p_(i,s){Ml=wf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function g_(i,s,l){if((l&4194176)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Fe(i,l)}}var Ga={readContext:er,use:Sf,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn};Ga.useCacheRefresh=dn,Ga.useMemoCache=dn,Ga.useHostTransitionStatus=dn,Ga.useFormState=dn,Ga.useActionState=dn,Ga.useOptimistic=dn;var Eo={readContext:er,use:Sf,useCallback:function(i,s){return Ar().memoizedState=[i,s===void 0?null:s],i},useContext:er,useEffect:t_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Af(4194308,4,a_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Af(4194308,4,i,s)},useInsertionEffect:function(i,s){Af(4,2,i,s)},useMemo:function(i,s){var l=Ar();s=s===void 0?null:s;var d=i();if(wo){hr(!0);try{i()}finally{hr(!1)}}return l.memoizedState=[d,s],d},useReducer:function(i,s,l){var d=Ar();if(l!==void 0){var p=l(s);if(wo){hr(!0);try{l(s)}finally{hr(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=cN.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var s=Ar();return i={current:i},s.memoizedState=i},useState:function(i){i=Qp(i);var s=i.queue,l=m_.bind(null,it,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Xp,useDeferredValue:function(i,s){var l=Ar();return Zp(l,i,s)},useTransition:function(){var i=Qp(!1);return i=c_.bind(null,it,i.queue,!0,!1),Ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var d=it,p=Ar();if(St){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),zt===null)throw Error(r(349));(yt&60)!==0||Ux(d,s,l)}p.memoizedState=l;var b={value:l,getSnapshot:s};return p.queue=b,t_(Fx.bind(null,d,b,i),[i]),d.flags|=2048,Pl(9,Bx.bind(null,d,b,l,s),{destroy:void 0},null),l},useId:function(){var i=Ar(),s=zt.identifierPrefix;if(St){var l=Ti,d=Ei;l=(d&~(1<<32-kn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ef++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=rN++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Ar().memoizedState=lN.bind(null,it)}};Eo.useMemoCache=qp,Eo.useHostTransitionStatus=eg,Eo.useFormState=Wx,Eo.useActionState=Wx,Eo.useOptimistic=function(i){var s=Ar();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=tg.bind(null,it,!0,l),l.dispatch=s,[i,s]};var us={readContext:er,use:Sf,useCallback:s_,useContext:er,useEffect:Wp,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:Df,useRef:e_,useState:function(){return Df(Di)},useDebugValue:Xp,useDeferredValue:function(i,s){var l=vn();return l_(l,jt.memoizedState,i,s)},useTransition:function(){var i=Df(Di)[0],s=vn().memoizedState;return[typeof i=="boolean"?i:su(i),s]},useSyncExternalStore:Lx,useId:f_};us.useCacheRefresh=h_,us.useMemoCache=qp,us.useHostTransitionStatus=eg,us.useFormState=Xx,us.useActionState=Xx,us.useOptimistic=function(i,s){var l=vn();return Yx(l,jt,i,s)};var To={readContext:er,use:Sf,useCallback:s_,useContext:er,useEffect:Wp,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:$p,useRef:e_,useState:function(){return $p(Di)},useDebugValue:Xp,useDeferredValue:function(i,s){var l=vn();return jt===null?Zp(l,i,s):l_(l,jt.memoizedState,i,s)},useTransition:function(){var i=$p(Di)[0],s=vn().memoizedState;return[typeof i=="boolean"?i:su(i),s]},useSyncExternalStore:Lx,useId:f_};To.useCacheRefresh=h_,To.useMemoCache=qp,To.useHostTransitionStatus=eg,To.useFormState=Jx,To.useActionState=Jx,To.useOptimistic=function(i,s){var l=vn();return jt!==null?Yx(l,jt,i,s):(l.baseState=i,[i,l.queue.dispatch])};function ng(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:k({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var rg={isMounted:function(i){return(i=i._reactInternals)?re(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Ur(),p=hs(d);p.payload=s,l!=null&&(p.callback=l),s=ms(i,p,d),s!==null&&(vr(s,i,d),uu(s,i,d))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Ur(),p=hs(d);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=ms(i,p,d),s!==null&&(vr(s,i,d),uu(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Ur(),d=hs(l);d.tag=2,s!=null&&(d.callback=s),s=ms(i,d,l),s!==null&&(vr(s,i,l),uu(s,i,l))}};function y_(i,s,l,d,p,b,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,D):s.prototype&&s.prototype.isPureReactComponent?!Qc(l,d)||!Qc(p,b):!0}function v_(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&rg.enqueueReplaceState(s,s.state,null)}function So(i,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(i=i.defaultProps){l===s&&(l=k({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Nf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function b_(i){Nf(i)}function x_(i){console.error(i)}function __(i){Nf(i)}function Mf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function w_(i,s,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ag(i,s,l){return l=hs(l),l.tag=3,l.payload={element:null},l.callback=function(){Mf(i,s)},l}function E_(i){return i=hs(i),i.tag=3,i}function T_(i,s,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){w_(s,l,d)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){w_(s,l,d),typeof p!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function uN(i,s,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&cu(s,l,p,!0),l=ra.current,l!==null){switch(l.tag){case 13:return qa===null?Ug():l.alternate===null&&an===0&&(an=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===Op?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),Fg(i,d,p)),!1;case 22:return l.flags|=65536,d===Op?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),Fg(i,d,p)),!1}throw Error(r(435,l.tag))}return Fg(i,d,p),Ug(),!1}if(St)return s=ra.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==Pp&&(i=Error(r(422),{cause:d}),Zc(ea(i,l)))):(d!==Pp&&(s=Error(r(423),{cause:d}),Zc(ea(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=ea(d,l),p=ag(i.stateNode,d,p),bg(i,p),an!==4&&(an=2)),!1;var b=Error(r(520),{cause:d});if(b=ea(b,l),vu===null?vu=[b]:vu.push(b),an!==4&&(an=2),s===null)return!0;d=ea(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ag(l.stateNode,d,i),bg(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xs===null||!xs.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=E_(p),T_(p,i,l,d),bg(l,p),!1}l=l.return}while(l!==null);return!1}var S_=Error(r(461)),jn=!1;function qn(i,s,l,d){s.child=i===null?Nx(s,null,l,d):xo(s,i.child,l,d)}function D_(i,s,l,d,p){l=l.render;var b=s.ref;if("ref"in d){var D={};for(var P in d)P!=="ref"&&(D[P]=d[P])}else D=d;return Ao(s),d=Fp(i,s,l,D,b,p),P=zp(),i!==null&&!jn?(Hp(i,s,p),Ai(i,s,p)):(St&&P&&Mp(s),s.flags|=1,qn(i,s,d,p),s.child)}function A_(i,s,l,d,p){if(i===null){var b=l.type;return typeof b=="function"&&!Ag(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,C_(i,s,b,d,p)):(i=jf(l.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!hg(i,p)){var D=b.memoizedProps;if(l=l.compare,l=l!==null?l:Qc,l(D,d)&&i.ref===s.ref)return Ai(i,s,p)}return s.flags|=1,i=vs(b,d),i.ref=s.ref,i.return=s,s.child=i}function C_(i,s,l,d,p){if(i!==null){var b=i.memoizedProps;if(Qc(b,d)&&i.ref===s.ref)if(jn=!1,s.pendingProps=d=b,hg(i,p))(i.flags&131072)!==0&&(jn=!0);else return s.lanes=i.lanes,Ai(i,s,p)}return ig(i,s,l,d,p)}function R_(i,s,l){var d=s.pendingProps,p=d.children,b=(s.stateNode._pendingVisibility&2)!==0,D=i!==null?i.memoizedState:null;if(lu(i,s),d.mode==="hidden"||b){if((s.flags&128)!==0){if(d=D!==null?D.baseLanes|l:l,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return N_(i,s,d,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&_f(s,D!==null?D.cachePool:null),D!==null?Mx(s,D):Ip(),kx(s);else return s.lanes=s.childLanes=536870912,N_(i,s,D!==null?D.baseLanes|l:l,l)}else D!==null?(_f(s,D.cachePool),Mx(s,D),ls(),s.memoizedState=null):(i!==null&&_f(s,null),Ip(),ls());return qn(i,s,p,l),s.child}function N_(i,s,l,d){var p=Up();return p=p===null?null:{parent:Dn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&_f(s,null),Ip(),kx(s),i!==null&&cu(i,s,d,!0),null}function lu(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=2097664)}}function ig(i,s,l,d,p){return Ao(s),l=Fp(i,s,l,d,void 0,p),d=zp(),i!==null&&!jn?(Hp(i,s,p),Ai(i,s,p)):(St&&d&&Mp(s),s.flags|=1,qn(i,s,l,p),s.child)}function M_(i,s,l,d,p,b){return Ao(s),s.updateQueue=null,l=Vx(s,d,l,p),jx(i),d=zp(),i!==null&&!jn?(Hp(i,s,b),Ai(i,s,b)):(St&&d&&Mp(s),s.flags|=1,qn(i,s,l,b),s.child)}function k_(i,s,l,d,p){if(Ao(s),s.stateNode===null){var b=Tl,D=l.contextType;typeof D=="object"&&D!==null&&(b=er(D)),b=new l(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=rg,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},yg(s),D=l.contextType,b.context=typeof D=="object"&&D!==null?er(D):Tl,b.state=s.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(ng(s,l,D,d),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(D=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),D!==b.state&&rg.enqueueReplaceState(b,b.state,null),fu(s,d,b,p),du(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){b=s.stateNode;var P=s.memoizedProps,H=So(l,P);b.props=H;var K=b.context,ue=l.contextType;D=Tl,typeof ue=="object"&&ue!==null&&(D=er(ue));var ye=l.getDerivedStateFromProps;ue=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,ue||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||K!==D)&&v_(s,b,d,D),fs=!1;var ae=s.memoizedState;b.state=ae,fu(s,d,b,p),du(),K=s.memoizedState,P||ae!==K||fs?(typeof ye=="function"&&(ng(s,l,ye,d),K=s.memoizedState),(H=fs||y_(s,l,H,d,ae,K,D))?(ue||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=K),b.props=d,b.state=K,b.context=D,d=H):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,vg(i,s),D=s.memoizedProps,ue=So(l,D),b.props=ue,ye=s.pendingProps,ae=b.context,K=l.contextType,H=Tl,typeof K=="object"&&K!==null&&(H=er(K)),P=l.getDerivedStateFromProps,(K=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==ye||ae!==H)&&v_(s,b,d,H),fs=!1,ae=s.memoizedState,b.state=ae,fu(s,d,b,p),du();var ce=s.memoizedState;D!==ye||ae!==ce||fs||i!==null&&i.dependencies!==null&&kf(i.dependencies)?(typeof P=="function"&&(ng(s,l,P,d),ce=s.memoizedState),(ue=fs||y_(s,l,ue,d,ae,ce,H)||i!==null&&i.dependencies!==null&&kf(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,H)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ce),b.props=d,b.state=ce,b.context=H,d=ue):(typeof b.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(s.flags|=1024),d=!1)}return b=d,lu(i,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&d?(s.child=xo(s,i.child,null,p),s.child=xo(s,null,l,p)):qn(i,s,l,p),s.memoizedState=b.state,i=s.child):i=Ai(i,s,p),i}function P_(i,s,l,d){return Xc(),s.flags|=256,qn(i,s,l,d),s.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function og(i){return{baseLanes:i,cachePool:Ix()}}function lg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=oa),i}function O_(i,s,l){var d=s.pendingProps,p=!1,b=(s.flags&128)!==0,D;if((D=b)||(D=i!==null&&i.memoizedState===null?!1:(Sn.current&2)!==0),D&&(p=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,i===null){if(St){if(p?os(s):ls(),St){var P=Yn,H;if(H=P){e:{for(H=P,P=Ya;H.nodeType!==8;){if(!P){P=null;break e}if(H=Ta(H.nextSibling),H===null){P=null;break e}}P=H}P!==null?(s.memoizedState={dehydrated:P,treeContext:yo!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},H=sa(18,null,null,0),H.stateNode=P,H.return=s,s.child=H,yr=s,Yn=null,H=!0):H=!1}H||bo(s)}if(P=s.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return P.data==="$!"?s.lanes=16:s.lanes=536870912,null;Si(s)}return P=d.children,d=d.fallback,p?(ls(),p=s.mode,P=ug({mode:"hidden",children:P},p),d=Ro(d,p,l,null),P.return=s,d.return=s,P.sibling=d,s.child=P,p=s.child,p.memoizedState=og(l),p.childLanes=lg(i,D,l),s.memoizedState=sg,d):(os(s),cg(s,P))}if(H=i.memoizedState,H!==null&&(P=H.dehydrated,P!==null)){if(b)s.flags&256?(os(s),s.flags&=-257,s=dg(i,s,l)):s.memoizedState!==null?(ls(),s.child=i.child,s.flags|=128,s=null):(ls(),p=d.fallback,P=s.mode,d=ug({mode:"visible",children:d.children},P),p=Ro(p,P,l,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,xo(s,i.child,null,l),d=s.child,d.memoizedState=og(l),d.childLanes=lg(i,D,l),s.memoizedState=sg,s=p);else if(os(s),P.data==="$!"){if(D=P.nextSibling&&P.nextSibling.dataset,D)var K=D.dgst;D=K,d=Error(r(419)),d.stack="",d.digest=D,Zc({value:d,source:null,stack:null}),s=dg(i,s,l)}else if(jn||cu(i,s,l,!1),D=(l&i.childLanes)!==0,jn||D){if(D=zt,D!==null){if(d=l&-l,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(D.suspendedLanes|l))!==0?0:d,d!==0&&d!==H.retryLane)throw H.retryLane=d,ss(i,d),vr(D,i,d),S_}P.data==="$?"||Ug(),s=dg(i,s,l)}else P.data==="$?"?(s.flags|=128,s.child=i.child,s=SN.bind(null,i),P._reactRetry=s,s=null):(i=H.treeContext,Yn=Ta(P.nextSibling),yr=s,St=!0,wa=null,Ya=!1,i!==null&&(ta[na++]=Ei,ta[na++]=Ti,ta[na++]=yo,Ei=i.id,Ti=i.overflow,yo=s),s=cg(s,d.children),s.flags|=4096);return s}return p?(ls(),p=d.fallback,P=s.mode,H=i.child,K=H.sibling,d=vs(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&31457280,K!==null?p=vs(K,p):(p=Ro(p,P,l,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,P=i.child.memoizedState,P===null?P=og(l):(H=P.cachePool,H!==null?(K=Dn._currentValue,H=H.parent!==K?{parent:K,pool:K}:H):H=Ix(),P={baseLanes:P.baseLanes|l,cachePool:H}),p.memoizedState=P,p.childLanes=lg(i,D,l),s.memoizedState=sg,d):(os(s),l=i.child,i=l.sibling,l=vs(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,i!==null&&(D=s.deletions,D===null?(s.deletions=[i],s.flags|=16):D.push(i)),s.child=l,s.memoizedState=null,l)}function cg(i,s){return s=ug({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ug(i,s){return sw(i,s,0,null)}function dg(i,s,l){return xo(s,i.child,null,l),i=cg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function I_(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),pg(i.return,s,l)}function fg(i,s,l,d,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=l,b.tailMode=p)}function j_(i,s,l){var d=s.pendingProps,p=d.revealOrder,b=d.tail;if(qn(i,s,d.children,l),d=Sn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I_(i,l,s);else if(i.tag===19)I_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(qe(Sn,d),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&xf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),fg(s,!1,p,l,b);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&xf(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}fg(s,!0,l,null,b);break;case"together":fg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ai(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(cu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=vs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=vs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function hg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&kf(i)))}function dN(i,s,l){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),ds(s,Dn,i.memoizedState.cache),Xc();break;case 27:case 5:Lt(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:ds(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(os(s),s.flags|=128,null):(l&s.child.childLanes)!==0?O_(i,s,l):(os(s),i=Ai(i,s,l),i!==null?i.sibling:null);os(s);break;case 19:var p=(i.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(cu(i,s,l,!1),d=(l&s.childLanes)!==0),p){if(d)return j_(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(Sn,Sn.current),d)break;return null;case 22:case 23:return s.lanes=0,R_(i,s,l);case 24:ds(s,Dn,i.memoizedState.cache)}return Ai(i,s,l)}function V_(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)jn=!0;else{if(!hg(i,l)&&(s.flags&128)===0)return jn=!1,dN(i,s,l);jn=(i.flags&131072)!==0}else jn=!1,St&&(s.flags&1048576)!==0&&_x(s,pf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")Ag(d)?(i=So(d,i),s.tag=1,s=k_(null,s,d,i,l)):(s.tag=0,s=ig(null,s,d,i,l));else{if(d!=null){if(p=d.$$typeof,p===E){s.tag=11,s=D_(null,s,d,i,l);break e}else if(p===N){s.tag=14,s=A_(null,s,d,i,l);break e}}throw s=A(d)||d,Error(r(306,s,""))}}return s;case 0:return ig(i,s,s.type,s.pendingProps,l);case 1:return d=s.type,p=So(d,s.pendingProps),k_(i,s,d,p,l);case 3:e:{if($e(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var b=s.pendingProps;p=s.memoizedState,d=p.element,vg(i,s),fu(s,b,null,l);var D=s.memoizedState;if(b=D.cache,ds(s,Dn,b),b!==p.cache&&gg(s,[Dn],l,!0),du(),b=D.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=P_(i,s,b,l);break e}else if(b!==d){d=ea(Error(r(424)),s),Zc(d),s=P_(i,s,b,l);break e}else for(Yn=Ta(s.stateNode.containerInfo.firstChild),yr=s,St=!0,wa=null,Ya=!0,l=Nx(s,null,b,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xc(),b===d){s=Ai(i,s,l);break e}qn(i,s,b,l)}s=s.child}return s;case 26:return lu(i,s),i===null?(l=Bw(s.type,null,s.pendingProps,null))?s.memoizedState=l:St||(l=s.type,i=s.pendingProps,d=Qf(Xe.current).createElement(l),d[Ie]=s,d[Ge]=i,Gn(d,l,i),At(d),s.stateNode=d):s.memoizedState=Bw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Lt(s),i===null&&St&&(d=s.stateNode=Vw(s.type,s.pendingProps,Xe.current),yr=s,Ya=!0,Yn=Ta(d.firstChild)),d=s.pendingProps.children,i!==null||St?qn(i,s,d,l):s.child=xo(s,null,d,l),lu(i,s),s.child;case 5:return i===null&&St&&((p=d=Yn)&&(d=FN(d,s.type,s.pendingProps,Ya),d!==null?(s.stateNode=d,yr=s,Yn=Ta(d.firstChild),Ya=!1,p=!0):p=!1),p||bo(s)),Lt(s),p=s.type,b=s.pendingProps,D=i!==null?i.memoizedProps:null,d=b.children,Jg(p,b)?d=null:D!==null&&Jg(p,D)&&(s.flags|=32),s.memoizedState!==null&&(p=Fp(i,s,aN,null,null,l),Au._currentValue=p),lu(i,s),qn(i,s,d,l),s.child;case 6:return i===null&&St&&((i=l=Yn)&&(l=zN(l,s.pendingProps,Ya),l!==null?(s.stateNode=l,yr=s,Yn=null,i=!0):i=!1),i||bo(s)),null;case 13:return O_(i,s,l);case 4:return $e(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=xo(s,null,d,l):qn(i,s,d,l),s.child;case 11:return D_(i,s,s.type,s.pendingProps,l);case 7:return qn(i,s,s.pendingProps,l),s.child;case 8:return qn(i,s,s.pendingProps.children,l),s.child;case 12:return qn(i,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,ds(s,s.type,d.value),qn(i,s,d.children,l),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ao(s),p=er(p),d=d(p),s.flags|=1,qn(i,s,d,l),s.child;case 14:return A_(i,s,s.type,s.pendingProps,l);case 15:return C_(i,s,s.type,s.pendingProps,l);case 19:return j_(i,s,l);case 22:return R_(i,s,l);case 24:return Ao(s),d=er(Dn),i===null?(p=Up(),p===null&&(p=zt,b=Vp(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),s.memoizedState={parent:d,cache:p},yg(s),ds(s,Dn,p)):((i.lanes&l)!==0&&(vg(i,s),fu(s,null,null,l),du()),p=i.memoizedState,b=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ds(s,Dn,d)):(d=b.cache,ds(s,Dn,d),d!==p.cache&&gg(s,[Dn],l,!0))),qn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var mg=Ee(null),Do=null,Ci=null;function ds(i,s,l){qe(mg,s._currentValue),s._currentValue=l}function Ri(i){i._currentValue=mg.current,Ne(mg)}function pg(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function gg(i,s,l,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var D=p.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=p;for(var H=0;H<s.length;H++)if(P.context===s[H]){b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),pg(b.return,l,i),d||(D=null);break e}b=P.next}}else if(p.tag===18){if(D=p.return,D===null)throw Error(r(341));D.lanes|=l,b=D.alternate,b!==null&&(b.lanes|=l),pg(D,l,i),D=null}else D=p.child;if(D!==null)D.return=p;else for(D=p;D!==null;){if(D===i){D=null;break}if(p=D.sibling,p!==null){p.return=D.return,D=p;break}D=D.return}p=D}}function cu(i,s,l,d){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var D=p.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var P=p.type;Ir(p.pendingProps.value,D.value)||(i!==null?i.push(P):i=[P])}}else if(p===_e.current){if(D=p.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Au):i=[Au])}p=p.return}i!==null&&gg(s,i,l,d),s.flags|=262144}function kf(i){for(i=i.firstContext;i!==null;){if(!Ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ao(i){Do=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function er(i){return L_(Do,i)}function Pf(i,s){return Do===null&&Ao(i),L_(i,s)}function L_(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ci===null){if(i===null)throw Error(r(308));Ci=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ci=Ci.next=s;return l}var fs=!1;function yg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ms(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Zt&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=hf(i),bx(i,null,l),s}return ff(i,d,s,l),hf(i)}function uu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Fe(i,l)}}function bg(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=D:b=b.next=D,l=l.next}while(l!==null);b===null?p=b=s:b=b.next=s}else p=b=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var xg=!1;function du(){if(xg){var i=Nl;if(i!==null)throw i}}function fu(i,s,l,d){xg=!1;var p=i.updateQueue;fs=!1;var b=p.firstBaseUpdate,D=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var H=P,K=H.next;H.next=null,D===null?b=K:D.next=K,D=H;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,P=ue.lastBaseUpdate,P!==D&&(P===null?ue.firstBaseUpdate=K:P.next=K,ue.lastBaseUpdate=H))}if(b!==null){var ye=p.baseState;D=0,ue=K=H=null,P=b;do{var ae=P.lane&-536870913,ce=ae!==P.lane;if(ce?(yt&ae)===ae:(d&ae)===ae){ae!==0&&ae===Rl&&(xg=!0),ue!==null&&(ue=ue.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Be=i,Je=P;ae=s;var sn=l;switch(Je.tag){case 1:if(Be=Je.payload,typeof Be=="function"){ye=Be.call(sn,ye,ae);break e}ye=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Je.payload,ae=typeof Be=="function"?Be.call(sn,ye,ae):Be,ae==null)break e;ye=k({},ye,ae);break e;case 2:fs=!0}}ae=P.callback,ae!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=p.callbacks,ce===null?p.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ue===null?(K=ue=ce,H=ye):ue=ue.next=ce,D|=ae;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ce=P,P=ce.next,ce.next=null,p.lastBaseUpdate=ce,p.shared.pending=null}}while(!0);ue===null&&(H=ye),p.baseState=H,p.firstBaseUpdate=K,p.lastBaseUpdate=ue,b===null&&(p.shared.lanes=0),bs|=D,i.lanes=D,i.memoizedState=ye}}function U_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function B_(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)U_(l[i],s)}function hu(i,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&i)===i){d=void 0;var b=l.create,D=l.inst;d=b(),D.destroy=d}l=l.next}while(l!==p)}}catch(P){Bt(s,s.return,P)}}function ps(i,s,l){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var D=d.inst,P=D.destroy;if(P!==void 0){D.destroy=void 0,p=s;var H=l;try{P()}catch(K){Bt(p,H,K)}}}d=d.next}while(d!==b)}}catch(K){Bt(s,s.return,K)}}function F_(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{B_(s,l)}catch(d){Bt(i,i.return,d)}}}function z_(i,s,l){l.props=So(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){Bt(i,s,d)}}function Co(i,s){try{var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=d;break;default:p=d}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(b){Bt(i,s,b)}}function jr(i,s){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){Bt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Bt(i,s,p)}else l.current=null}function H_(i){var s=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){Bt(i,i.return,p)}}function Y_(i,s,l){try{var d=i.stateNode;jN(d,i.type,l,s),d[Ge]=s}catch(p){Bt(i,i.return,p)}}function q_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function _g(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||q_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wg(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$f));else if(d!==4&&d!==27&&(i=i.child,i!==null))for(wg(i,s,l),i=i.sibling;i!==null;)wg(i,s,l),i=i.sibling}function Of(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Of(i,s,l),i=i.sibling;i!==null;)Of(i,s,l),i=i.sibling}var Ni=!1,rn=!1,Eg=!1,G_=typeof WeakSet=="function"?WeakSet:Set,Vn=null,$_=!1;function fN(i,s){if(i=i.containerInfo,Xg=eh,i=ux(i),Sp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var D=0,P=-1,H=-1,K=0,ue=0,ye=i,ae=null;t:for(;;){for(var ce;ye!==l||p!==0&&ye.nodeType!==3||(P=D+p),ye!==b||d!==0&&ye.nodeType!==3||(H=D+d),ye.nodeType===3&&(D+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)ae=ye,ye=ce;for(;;){if(ye===i)break t;if(ae===l&&++K===p&&(P=D),ae===b&&++ue===d&&(H=D),(ce=ye.nextSibling)!==null)break;ye=ae,ae=ye.parentNode}ye=ce}l=P===-1||H===-1?null:{start:P,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Zg={focusedElem:i,selectionRange:l},eh=!1,Vn=s;Vn!==null;)if(s=Vn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Vn=i;else for(;Vn!==null;){switch(s=Vn,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,p=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Be=So(l.type,p,l.elementType===l.type);i=d.getSnapshotBeforeUpdate(Be,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(Je){Bt(l,l.return,Je)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)ny(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ny(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Vn=i;break}Vn=s.return}return Be=$_,$_=!1,Be}function Q_(i,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:ki(i,l),d&4&&hu(5,l);break;case 1:if(ki(i,l),d&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(P){Bt(l,l.return,P)}else{var p=So(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(P){Bt(l,l.return,P)}}d&64&&F_(l),d&512&&Co(l,l.return);break;case 3:if(ki(i,l),d&64&&(d=l.updateQueue,d!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{B_(d,i)}catch(P){Bt(l,l.return,P)}}break;case 26:ki(i,l),d&512&&Co(l,l.return);break;case 27:case 5:ki(i,l),s===null&&d&4&&H_(l),d&512&&Co(l,l.return);break;case 12:ki(i,l);break;case 13:ki(i,l),d&4&&X_(i,l);break;case 22:if(p=l.memoizedState!==null||Ni,!p){s=s!==null&&s.memoizedState!==null||rn;var b=Ni,D=rn;Ni=p,(rn=s)&&!D?gs(i,l,(l.subtreeFlags&8772)!==0):ki(i,l),Ni=b,rn=D}d&512&&(l.memoizedProps.mode==="manual"?Co(l,l.return):jr(l,l.return));break;default:ki(i,l)}}function K_(i){var s=i.alternate;s!==null&&(i.alternate=null,K_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Or(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bn=null,Vr=!1;function Mi(i,s,l){for(l=l.child;l!==null;)W_(i,s,l),l=l.sibling}function W_(i,s,l){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(va,l)}catch{}switch(l.tag){case 26:rn||jr(l,s),Mi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rn||jr(l,s);var d=bn,p=Vr;for(bn=l.stateNode,Mi(i,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);Or(l),bn=d,Vr=p;break;case 5:rn||jr(l,s);case 6:p=bn;var b=Vr;if(bn=null,Mi(i,s,l),bn=p,Vr=b,bn!==null)if(Vr)try{i=bn,d=l.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(D){Bt(l,s,D)}else try{bn.removeChild(l.stateNode)}catch(D){Bt(l,s,D)}break;case 18:bn!==null&&(Vr?(s=bn,l=l.stateNode,s.nodeType===8?ty(s.parentNode,l):s.nodeType===1&&ty(s,l),Mu(s)):ty(bn,l.stateNode));break;case 4:d=bn,p=Vr,bn=l.stateNode.containerInfo,Vr=!0,Mi(i,s,l),bn=d,Vr=p;break;case 0:case 11:case 14:case 15:rn||ps(2,l,s),rn||ps(4,l,s),Mi(i,s,l);break;case 1:rn||(jr(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&z_(l,s,d)),Mi(i,s,l);break;case 21:Mi(i,s,l);break;case 22:rn||jr(l,s),rn=(d=rn)||l.memoizedState!==null,Mi(i,s,l),rn=d;break;default:Mi(i,s,l)}}function X_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mu(i)}catch(l){Bt(s,s.return,l)}}function hN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new G_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new G_),s;default:throw Error(r(435,i.tag))}}function Tg(i,s){var l=hN(i);s.forEach(function(d){var p=DN.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}function aa(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],b=i,D=s,P=D;e:for(;P!==null;){switch(P.tag){case 27:case 5:bn=P.stateNode,Vr=!1;break e;case 3:bn=P.stateNode.containerInfo,Vr=!0;break e;case 4:bn=P.stateNode.containerInfo,Vr=!0;break e}P=P.return}if(bn===null)throw Error(r(160));W_(b,D,p),bn=null,Vr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Z_(s,i),s=s.sibling}var Ea=null;function Z_(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:aa(s,i),ia(i),d&4&&(ps(3,i,i.return),hu(3,i),ps(5,i,i.return));break;case 1:aa(s,i),ia(i),d&512&&(rn||l===null||jr(l,l.return)),d&64&&Ni&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Ea;if(aa(s,i),ia(i),d&512&&(rn||l===null||jr(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[mr]||b[Ie]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Gn(b,d,l),b[Ie]=i,At(b),d=b;break e;case"link":var D=Hw("link","href",p).get(d+(l.href||""));if(D){for(var P=0;P<D.length;P++)if(b=D[P],b.getAttribute("href")===(l.href==null?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(P,1);break t}}b=p.createElement(d),Gn(b,d,l),p.head.appendChild(b);break;case"meta":if(D=Hw("meta","content",p).get(d+(l.content||""))){for(P=0;P<D.length;P++)if(b=D[P],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(P,1);break t}}b=p.createElement(d),Gn(b,d,l),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[Ie]=i,At(b),d=b}i.stateNode=d}else Yw(p,i.type,i.stateNode);else i.stateNode=zw(p,d,i.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Yw(p,i.type,i.stateNode):zw(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Y_(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){p=i.stateNode,b=i.memoizedProps;try{for(var H=p.firstChild;H;){var K=H.nextSibling,ue=H.nodeName;H[mr]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&H.rel.toLowerCase()==="stylesheet"||p.removeChild(H),H=K}for(var ye=i.type,ae=p.attributes;ae.length;)p.removeAttributeNode(ae[0]);Gn(p,ye,b),p[Ie]=i,p[Ge]=b}catch(Be){Bt(i,i.return,Be)}}case 5:if(aa(s,i),ia(i),d&512&&(rn||l===null||jr(l,l.return)),i.flags&32){p=i.stateNode;try{Kr(p,"")}catch(Be){Bt(i,i.return,Be)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,Y_(i,p,l!==null?l.memoizedProps:p)),d&1024&&(Eg=!0);break;case 6:if(aa(s,i),ia(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(Be){Bt(i,i.return,Be)}}break;case 3:if(Xf=null,p=Ea,Ea=Kf(s.containerInfo),aa(s,i),Ea=p,ia(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Mu(s.containerInfo)}catch(Be){Bt(i,i.return,Be)}Eg&&(Eg=!1,J_(i));break;case 4:d=Ea,Ea=Kf(i.stateNode.containerInfo),aa(s,i),ia(i),Ea=d;break;case 12:aa(s,i),ia(i);break;case 13:aa(s,i),ia(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Pg=Nn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Tg(i,d)));break;case 22:if(d&512&&(rn||l===null||jr(l,l.return)),H=i.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ue=Ni,ye=rn,Ni=ue||H,rn=ye||K,aa(s,i),rn=ye,Ni=ue,ia(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,d&8192&&(s._visibility=H?s._visibility&-2:s._visibility|1,H&&(s=Ni||rn,l===null||K||s||Ol(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){K=l=s;try{if(p=K.stateNode,H)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=K.stateNode,P=K.memoizedProps.style;var ce=P!=null&&P.hasOwnProperty("display")?P.display:null;D.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Be){Bt(K,K.return,Be)}}}else if(s.tag===6){if(l===null){K=s;try{K.stateNode.nodeValue=H?"":K.memoizedProps}catch(Be){Bt(K,K.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Tg(i,l))));break;case 19:aa(s,i),ia(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Tg(i,d)));break;case 21:break;default:aa(s,i),ia(i)}}function ia(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(q_(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 27:var p=d.stateNode,b=_g(i);Of(i,b,p);break;case 5:var D=d.stateNode;d.flags&32&&(Kr(D,""),d.flags&=-33);var P=_g(i);Of(i,P,D);break;case 3:case 4:var H=d.stateNode.containerInfo,K=_g(i);wg(i,K,H);break;default:throw Error(r(161))}}}catch(ue){Bt(i,i.return,ue)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function J_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;J_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ki(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q_(i,s.alternate,s),s=s.sibling}function Ol(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Ol(s);break;case 1:jr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&z_(s,s.return,l),Ol(s);break;case 26:case 27:case 5:jr(s,s.return),Ol(s);break;case 22:jr(s,s.return),s.memoizedState===null&&Ol(s);break;default:Ol(s)}i=i.sibling}}function gs(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,b=s,D=b.flags;switch(b.tag){case 0:case 11:case 15:gs(p,b,l),hu(4,b);break;case 1:if(gs(p,b,l),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){Bt(d,d.return,K)}if(d=b,p=d.updateQueue,p!==null){var P=d.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)U_(H[p],P)}catch(K){Bt(d,d.return,K)}}l&&D&64&&F_(b),Co(b,b.return);break;case 26:case 27:case 5:gs(p,b,l),l&&d===null&&D&4&&H_(b),Co(b,b.return);break;case 12:gs(p,b,l);break;case 13:gs(p,b,l),l&&D&4&&X_(p,b);break;case 22:b.memoizedState===null&&gs(p,b,l),Co(b,b.return);break;default:gs(p,b,l)}s=s.sibling}}function Sg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ru(l))}function Dg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ru(i))}function ys(i,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ew(i,s,l,d),s=s.sibling}function ew(i,s,l,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ys(i,s,l,d),p&2048&&hu(9,s);break;case 3:ys(i,s,l,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ru(i)));break;case 12:if(p&2048){ys(i,s,l,d),i=s.stateNode;try{var b=s.memoizedProps,D=b.id,P=b.onPostCommit;typeof P=="function"&&P(D,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Bt(s,s.return,H)}}else ys(i,s,l,d);break;case 23:break;case 22:b=s.stateNode,s.memoizedState!==null?b._visibility&4?ys(i,s,l,d):mu(i,s):b._visibility&4?ys(i,s,l,d):(b._visibility|=4,Il(i,s,l,d,(s.subtreeFlags&10256)!==0)),p&2048&&Sg(s.alternate,s);break;case 24:ys(i,s,l,d),p&2048&&Dg(s.alternate,s);break;default:ys(i,s,l,d)}}function Il(i,s,l,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,D=s,P=l,H=d,K=D.flags;switch(D.tag){case 0:case 11:case 15:Il(b,D,P,H,p),hu(8,D);break;case 23:break;case 22:var ue=D.stateNode;D.memoizedState!==null?ue._visibility&4?Il(b,D,P,H,p):mu(b,D):(ue._visibility|=4,Il(b,D,P,H,p)),p&&K&2048&&Sg(D.alternate,D);break;case 24:Il(b,D,P,H,p),p&&K&2048&&Dg(D.alternate,D);break;default:Il(b,D,P,H,p)}s=s.sibling}}function mu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,d=s,p=d.flags;switch(d.tag){case 22:mu(l,d),p&2048&&Sg(d.alternate,d);break;case 24:mu(l,d),p&2048&&Dg(d.alternate,d);break;default:mu(l,d)}s=s.sibling}}var pu=8192;function jl(i){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)tw(i),i=i.sibling}function tw(i){switch(i.tag){case 26:jl(i),i.flags&pu&&i.memoizedState!==null&&tM(Ea,i.memoizedState,i.memoizedProps);break;case 5:jl(i);break;case 3:case 4:var s=Ea;Ea=Kf(i.stateNode.containerInfo),jl(i),Ea=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=pu,pu=16777216,jl(i),pu=s):jl(i));break;default:jl(i)}}function nw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function gu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];Vn=d,aw(d,i)}nw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rw(i),i=i.sibling}function rw(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&ps(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,If(i)):gu(i);break;default:gu(i)}}function If(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];Vn=d,aw(d,i)}nw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ps(8,s,s.return),If(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,If(s));break;default:If(s)}i=i.sibling}}function aw(i,s){for(;Vn!==null;){var l=Vn;switch(l.tag){case 0:case 11:case 15:ps(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ru(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Vn=d;else e:for(l=i;Vn!==null;){d=Vn;var p=d.sibling,b=d.return;if(K_(d),d===l){Vn=null;break e}if(p!==null){p.return=b,Vn=p;break e}Vn=b}}}function mN(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,s,l,d){return new mN(i,s,l,d)}function Ag(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vs(i,s){var l=i.alternate;return l===null?(l=sa(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function iw(i,s){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function jf(i,s,l,d,p,b){var D=0;if(d=i,typeof i=="function")Ag(i)&&(D=1);else if(typeof i=="string")D=JN(i,l,dt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Ro(l.children,p,b,s);case h:D=8,p|=24;break;case g:return i=sa(12,l,s,p|2),i.elementType=g,i.lanes=b,i;case C:return i=sa(13,l,s,p),i.elementType=C,i.lanes=b,i;case T:return i=sa(19,l,s,p),i.elementType=T,i.lanes=b,i;case L:return sw(l,p,b,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case w:D=10;break e;case x:D=9;break e;case E:D=11;break e;case N:D=14;break e;case V:D=16,d=null;break e}D=29,l=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=sa(D,l,s,p),s.elementType=i,s.type=d,s.lanes=b,s}function Ro(i,s,l,d){return i=sa(7,i,d,s),i.lanes=l,i}function sw(i,s,l,d){i=sa(22,i,d,s),i.elementType=L,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var D=ss(b,2);D!==null&&(p._pendingVisibility|=2,vr(D,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var D=ss(b,2);D!==null&&(p._pendingVisibility&=-3,vr(D,b,2))}}};return i.stateNode=p,i}function Cg(i,s,l){return i=sa(6,i,null,s),i.lanes=l,i}function Rg(i,s,l){return s=sa(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Pi(i){i.flags|=4}function ow(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qw(s)){if(s=ra.current,s!==null&&((yt&4194176)===yt?qa!==null:(yt&62914560)!==yt&&(yt&536870912)===0||s!==qa))throw eu=Op,Tx;i.flags|=8192}}function Vf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?W():536870912,i.lanes|=s,Ll|=s)}function yu(i,s){if(!St)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&31457280,d|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function pN(i,s,l){var d=s.pendingProps;switch(kp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return Xt(s),null;case 3:return l=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ri(Dn),ot(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Wc(s)?Pi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wa!==null&&(Vg(wa),wa=null))),Xt(s),null;case 26:return l=s.memoizedState,i===null?(Pi(s),l!==null?(Xt(s),ow(s,l)):(Xt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Pi(s),Xt(s),ow(s,l)):(Xt(s),s.flags&=-16777217):(i.memoizedProps!==d&&Pi(s),Xt(s),s.flags&=-16777217),null;case 27:Yr(s),l=Xe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}i=dt.current,Wc(s)?wx(s):(i=Vw(p,d,l),s.stateNode=i,Pi(s))}return Xt(s),null;case 5:if(Yr(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}if(i=dt.current,Wc(s))wx(s);else{switch(p=Qf(Xe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(l,{is:d.is}):p.createElement(l)}}i[Ie]=s,i[Ge]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Gn(i,l,d),l){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pi(s)}}return Xt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xe.current,Wc(s)){if(i=s.stateNode,l=s.memoizedProps,d=null,p=yr,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Ie]=s,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Mw(i.nodeValue,l)),i||bo(s)}else i=Qf(i).createTextNode(d),i[Ie]=s,s.stateNode=i}return Xt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Wc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ie]=s}else Xc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),p=!1}else wa!==null&&(Vg(wa),wa=null),p=!0;if(!p)return s.flags&256?(Si(s),s):(Si(s),null)}if(Si(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=d!==null,i=i!==null&&i.memoizedState!==null,l){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Vf(s,s.updateQueue),Xt(s),null;case 4:return ot(),i===null&&Qg(s.stateNode.containerInfo),Xt(s),null;case 10:return Ri(s.type),Xt(s),null;case 19:if(Ne(Sn),p=s.memoizedState,p===null)return Xt(s),null;if(d=(s.flags&128)!==0,b=p.rendering,b===null)if(d)yu(p,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=xf(i),b!==null){for(s.flags|=128,yu(p,!1),i=b.updateQueue,s.updateQueue=i,Vf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)iw(l,i),l=l.sibling;return qe(Sn,Sn.current&1|2),s.child}i=i.sibling}p.tail!==null&&Nn()>Lf&&(s.flags|=128,d=!0,yu(p,!1),s.lanes=4194304)}else{if(!d)if(i=xf(b),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Vf(s,i),yu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!St)return Xt(s),null}else 2*Nn()-p.renderingStartTime>Lf&&l!==536870912&&(s.flags|=128,d=!0,yu(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(i=p.last,i!==null?i.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Nn(),s.sibling=null,i=Sn.current,qe(Sn,d?i&1|2:i&1),s):(Xt(s),null);case 22:case 23:return Si(s),jp(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),l=s.updateQueue,l!==null&&Vf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),i!==null&&Ne(_o),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ri(Dn),Xt(s),null;case 25:return null}throw Error(r(156,s.tag))}function gN(i,s){switch(kp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ri(Dn),ot(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Yr(s),null;case 13:if(Si(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ne(Sn),null;case 4:return ot(),null;case 10:return Ri(s.type),null;case 22:case 23:return Si(s),jp(),i!==null&&Ne(_o),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ri(Dn),null;case 25:return null;default:return null}}function lw(i,s){switch(kp(s),s.tag){case 3:Ri(Dn),ot();break;case 26:case 27:case 5:Yr(s);break;case 4:ot();break;case 13:Si(s);break;case 19:Ne(Sn);break;case 10:Ri(s.type);break;case 22:case 23:Si(s),jp(),i!==null&&Ne(_o);break;case 24:Ri(Dn)}}var yN={getCacheForType:function(i){var s=er(Dn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},vN=typeof WeakMap=="function"?WeakMap:Map,Zt=0,zt=null,ft=null,yt=0,Ht=0,Lr=null,Oi=!1,Vl=!1,Ng=!1,Ii=0,an=0,bs=0,No=0,Mg=0,oa=0,Ll=0,vu=null,$a=null,kg=!1,Pg=0,Lf=1/0,Uf=null,xs=null,Bf=!1,Mo=null,bu=0,Og=0,Ig=null,xu=0,jg=null;function Ur(){if((Zt&2)!==0&&yt!==0)return yt&-yt;if(R.T!==null){var i=Rl;return i!==0?i:Yg()}return Ue()}function cw(){oa===0&&(oa=(yt&536870912)===0||St?G():536870912);var i=ra.current;return i!==null&&(i.flags|=32),oa}function vr(i,s,l){(i===zt&&Ht===2||i.cancelPendingCommit!==null)&&(Ul(i,0),ji(i,yt,oa,!1)),fe(i,l),((Zt&2)===0||i!==zt)&&(i===zt&&((Zt&2)===0&&(No|=l),an===4&&ji(i,yt,oa,!1)),Qa(i))}function uw(i,s,l){if((Zt&6)!==0)throw Error(r(327));var d=!l&&(s&60)===0&&(s&i.expiredLanes)===0||Oa(i,s),p=d?_N(i,s):Bg(i,s,!0),b=d;do{if(p===0){Vl&&!d&&ji(i,s,0,!1);break}else if(p===6)ji(i,s,0,!Oi);else{if(l=i.current.alternate,b&&!bN(l)){p=Bg(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;e:{var P=i;p=vu;var H=P.current.memoizedState.isDehydrated;if(H&&(Ul(P,D).flags|=256),D=Bg(P,D,!1),D!==2){if(Ng&&!H){P.errorRecoveryDisabledLanes|=b,No|=b,p=4;break e}b=$a,$a=p,b!==null&&Vg(b)}p=D}if(b=!1,p!==2)continue}}if(p===1){Ul(i,0),ji(i,s,0,!0);break}e:{switch(d=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){ji(d,s,oa,!Oi);break e}break;case 2:$a=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=l,d.finishedLanes=s,(s&62914560)===s&&(b=Pg+300-Nn(),10<b)){if(ji(d,s,oa,!Oi),zn(d,0)!==0)break e;d.timeoutHandle=Ow(dw.bind(null,d,l,$a,Uf,kg,s,oa,No,Ll,Oi,2,-0,0),b);break e}dw(d,l,$a,Uf,kg,s,oa,No,Ll,Oi,0,-0,0)}}break}while(!0);Qa(i)}function Vg(i){$a===null?$a=i:$a.push.apply($a,i)}function dw(i,s,l,d,p,b,D,P,H,K,ue,ye,ae){var ce=s.subtreeFlags;if((ce&8192||(ce&16785408)===16785408)&&(Du={stylesheets:null,count:0,unsuspend:eM},tw(s),s=nM(),s!==null)){i.cancelPendingCommit=s(vw.bind(null,i,l,d,p,D,P,H,1,ye,ae)),ji(i,b,D,!K);return}vw(i,l,d,p,D,P,H,ue,ye,ae)}function bN(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],b=p.getSnapshot;p=p.value;try{if(!Ir(b(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(i,s,l,d){s&=~Mg,s&=~No,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var b=31-kn(p),D=1<<b;d[b]=-1,p&=~D}l!==0&&ze(i,l,s)}function Ff(){return(Zt&6)===0?(_u(0),!1):!0}function Lg(){if(ft!==null){if(Ht===0)var i=ft.return;else i=ft,Ci=Do=null,Yp(i),Al=null,tu=0,i=ft;for(;i!==null;)lw(i.alternate,i),i=i.return;ft=null}}function Ul(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,LN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Lg(),zt=i,ft=l=vs(i.current,null),yt=s,Ht=0,Lr=null,Oi=!1,Vl=Oa(i,s),Ng=!1,Ll=oa=Mg=No=bs=an=0,$a=vu=null,kg=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-kn(d),b=1<<p;s|=i[p],d&=~b}return Ii=s,df(),l}function fw(i,s){it=null,R.H=Ga,s===Jc?(s=Ax(),Ht=3):s===Tx?(s=Ax(),Ht=4):Ht=s===S_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lr=s,ft===null&&(an=1,Mf(i,ea(s,i.current)))}function hw(){var i=R.H;return R.H=Ga,i===null?Ga:i}function mw(){var i=R.A;return R.A=yN,i}function Ug(){an=4,Oi||(yt&4194176)!==yt&&ra.current!==null||(Vl=!0),(bs&134217727)===0&&(No&134217727)===0||zt===null||ji(zt,yt,oa,!1)}function Bg(i,s,l){var d=Zt;Zt|=2;var p=hw(),b=mw();(zt!==i||yt!==s)&&(Uf=null,Ul(i,s)),s=!1;var D=an;e:do try{if(Ht!==0&&ft!==null){var P=ft,H=Lr;switch(Ht){case 8:Lg(),D=6;break e;case 3:case 2:case 6:ra.current===null&&(s=!0);var K=Ht;if(Ht=0,Lr=null,Bl(i,P,H,K),l&&Vl){D=0;break e}break;default:K=Ht,Ht=0,Lr=null,Bl(i,P,H,K)}}xN(),D=an;break}catch(ue){fw(i,ue)}while(!0);return s&&i.shellSuspendCounter++,Ci=Do=null,Zt=d,R.H=p,R.A=b,ft===null&&(zt=null,yt=0,df()),D}function xN(){for(;ft!==null;)pw(ft)}function _N(i,s){var l=Zt;Zt|=2;var d=hw(),p=mw();zt!==i||yt!==s?(Uf=null,Lf=Nn()+500,Ul(i,s)):Vl=Oa(i,s);e:do try{if(Ht!==0&&ft!==null){s=ft;var b=Lr;t:switch(Ht){case 1:Ht=0,Lr=null,Bl(i,s,b,1);break;case 2:if(Sx(b)){Ht=0,Lr=null,gw(s);break}s=function(){Ht===2&&zt===i&&(Ht=7),Qa(i)},b.then(s,s);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:Sx(b)?(Ht=0,Lr=null,gw(s)):(Ht=0,Lr=null,Bl(i,s,b,7));break;case 5:var D=null;switch(ft.tag){case 26:D=ft.memoizedState;case 5:case 27:var P=ft;if(!D||qw(D)){Ht=0,Lr=null;var H=P.sibling;if(H!==null)ft=H;else{var K=P.return;K!==null?(ft=K,zf(K)):ft=null}break t}}Ht=0,Lr=null,Bl(i,s,b,5);break;case 6:Ht=0,Lr=null,Bl(i,s,b,6);break;case 8:Lg(),an=6;break e;default:throw Error(r(462))}}wN();break}catch(ue){fw(i,ue)}while(!0);return Ci=Do=null,R.H=d,R.A=p,Zt=l,ft!==null?0:(zt=null,yt=0,df(),an)}function wN(){for(;ft!==null&&!Mr();)pw(ft)}function pw(i){var s=V_(i.alternate,i,Ii);i.memoizedProps=i.pendingProps,s===null?zf(i):ft=s}function gw(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=M_(l,s,s.pendingProps,s.type,void 0,yt);break;case 11:s=M_(l,s,s.pendingProps,s.type.render,s.ref,yt);break;case 5:Yp(s);default:lw(l,s),s=ft=iw(s,Ii),s=V_(l,s,Ii)}i.memoizedProps=i.pendingProps,s===null?zf(i):ft=s}function Bl(i,s,l,d){Ci=Do=null,Yp(s),Al=null,tu=0;var p=s.return;try{if(uN(i,p,s,l,yt)){an=1,Mf(i,ea(l,i.current)),ft=null;return}}catch(b){if(p!==null)throw ft=p,b;an=1,Mf(i,ea(l,i.current)),ft=null;return}s.flags&32768?(St||d===1?i=!0:Vl||(yt&536870912)!==0?i=!1:(Oi=i=!0,(d===2||d===3||d===6)&&(d=ra.current,d!==null&&d.tag===13&&(d.flags|=16384))),yw(s,i)):zf(s)}function zf(i){var s=i;do{if((s.flags&32768)!==0){yw(s,Oi);return}i=s.return;var l=pN(s.alternate,s,Ii);if(l!==null){ft=l;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=i}while(s!==null);an===0&&(an=5)}function yw(i,s){do{var l=gN(i.alternate,i);if(l!==null){l.flags&=32767,ft=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ft=i;return}ft=i=l}while(i!==null);an=6,ft=null}function vw(i,s,l,d,p,b,D,P,H,K){var ue=R.T,ye=ge.p;try{ge.p=2,R.T=null,EN(i,s,l,d,ye,p,b,D,P,H,K)}finally{R.T=ue,ge.p=ye}}function EN(i,s,l,d,p,b,D,P){do Fl();while(Mo!==null);if((Zt&6)!==0)throw Error(r(327));var H=i.finishedWork;if(d=i.finishedLanes,H===null)return null;if(i.finishedWork=null,i.finishedLanes=0,H===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=H.lanes|H.childLanes;if(K|=Rp,De(i,d,K,b,D,P),i===zt&&(ft=zt=null,yt=0),(H.subtreeFlags&10256)===0&&(H.flags&10256)===0||Bf||(Bf=!0,Og=K,Ig=l,AN(Pr,function(){return Fl(),null})),l=(H.flags&15990)!==0,(H.subtreeFlags&15990)!==0||l?(l=R.T,R.T=null,b=ge.p,ge.p=2,D=Zt,Zt|=4,fN(i,H),Z_(H,i),$R(Zg,i.containerInfo),eh=!!Xg,Zg=Xg=null,i.current=H,Q_(i,H.alternate,H),Tr(),Zt=D,ge.p=b,R.T=l):i.current=H,Bf?(Bf=!1,Mo=i,bu=d):bw(i,K),K=i.pendingLanes,K===0&&(xs=null),es(H.stateNode),Qa(i),s!==null)for(p=i.onRecoverableError,H=0;H<s.length;H++)K=s[H],p(K.value,{componentStack:K.stack});return(bu&3)!==0&&Fl(),K=i.pendingLanes,(d&4194218)!==0&&(K&42)!==0?i===jg?xu++:(xu=0,jg=i):xu=0,_u(0),null}function bw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ru(s)))}function Fl(){if(Mo!==null){var i=Mo,s=Og;Og=0;var l=Ve(bu),d=R.T,p=ge.p;try{if(ge.p=32>l?32:l,R.T=null,Mo===null)var b=!1;else{l=Ig,Ig=null;var D=Mo,P=bu;if(Mo=null,bu=0,(Zt&6)!==0)throw Error(r(331));var H=Zt;if(Zt|=4,rw(D.current),ew(D,D.current,P,l),Zt=H,_u(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(va,D)}catch{}b=!0}return b}finally{ge.p=p,R.T=d,bw(i,s)}}return!1}function xw(i,s,l){s=ea(l,s),s=ag(i.stateNode,s,2),i=ms(i,s,2),i!==null&&(fe(i,2),Qa(i))}function Bt(i,s,l){if(i.tag===3)xw(i,i,l);else for(;s!==null;){if(s.tag===3){xw(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xs===null||!xs.has(d))){i=ea(l,i),l=E_(2),d=ms(s,l,2),d!==null&&(T_(l,d,s,i),fe(d,2),Qa(d));break}}s=s.return}}function Fg(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new vN;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(Ng=!0,p.add(l),i=TN.bind(null,i,s,l),s.then(i,i))}function TN(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,zt===i&&(yt&l)===l&&(an===4||an===3&&(yt&62914560)===yt&&300>Nn()-Pg?(Zt&2)===0&&Ul(i,0):Mg|=l,Ll===yt&&(Ll=0)),Qa(i)}function _w(i,s){s===0&&(s=W()),i=ss(i,s),i!==null&&(fe(i,s),Qa(i))}function SN(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),_w(i,l)}function DN(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),_w(i,l)}function AN(i,s){return fr(i,s)}var Hf=null,zl=null,zg=!1,Yf=!1,Hg=!1,ko=0;function Qa(i){i!==zl&&i.next===null&&(zl===null?Hf=zl=i:zl=zl.next=i),Yf=!0,zg||(zg=!0,RN(CN))}function _u(i,s){if(!Hg&&Yf){Hg=!0;do for(var l=!1,d=Hf;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var D=d.suspendedLanes,P=d.pingedLanes;b=(1<<31-kn(42|i)+1)-1,b&=p&~(D&~P),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(l=!0,Tw(d,b))}else b=yt,b=zn(d,d===zt?b:0),(b&3)===0||Oa(d,b)||(l=!0,Tw(d,b));d=d.next}while(l);Hg=!1}}function CN(){Yf=zg=!1;var i=0;ko!==0&&(VN()&&(i=ko),ko=0);for(var s=Nn(),l=null,d=Hf;d!==null;){var p=d.next,b=ww(d,s);b===0?(d.next=null,l===null?Hf=p:l.next=p,p===null&&(zl=l)):(l=d,(i!==0||(b&3)!==0)&&(Yf=!0)),d=p}_u(i)}function ww(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var D=31-kn(b),P=1<<D,H=p[D];H===-1?((P&l)===0||(P&d)!==0)&&(p[D]=ts(P,s)):H<=s&&(i.expiredLanes|=P),b&=~P}if(s=zt,l=yt,l=zn(i,i===s?l:0),d=i.callbackNode,l===0||i===s&&Ht===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Qt(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Oa(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(d!==null&&Qt(d),Ve(l)){case 2:case 8:l=cn;break;case 32:l=Pr;break;case 268435456:l=Sr;break;default:l=Pr}return d=Ew.bind(null,i),l=fr(l,d),i.callbackPriority=s,i.callbackNode=l,s}return d!==null&&d!==null&&Qt(d),i.callbackPriority=2,i.callbackNode=null,2}function Ew(i,s){var l=i.callbackNode;if(Fl()&&i.callbackNode!==l)return null;var d=yt;return d=zn(i,i===zt?d:0),d===0?null:(uw(i,d,s),ww(i,Nn()),i.callbackNode!=null&&i.callbackNode===l?Ew.bind(null,i):null)}function Tw(i,s){if(Fl())return null;uw(i,s,!0)}function RN(i){UN(function(){(Zt&6)!==0?fr(Pt,i):i()})}function Yg(){return ko===0&&(ko=G()),ko}function Sw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function Dw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function NN(i,s,l,d,p){if(s==="submit"&&l&&l.stateNode===p){var b=Sw((p[Ge]||null).action),D=d.submitter;D&&(s=(s=D[Ge]||null)?Sw(s.formAction):D.getAttribute("formAction"),s!==null&&(b=s,D=null));var P=new hl("action","action",null,d,p);i.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ko!==0){var H=D?Dw(p,D):new FormData(p);Jp(l,{pending:!0,data:H,method:p.method,action:b},null,H)}}else typeof b=="function"&&(P.preventDefault(),H=D?Dw(p,D):new FormData(p),Jp(l,{pending:!0,data:H,method:p.method,action:b},b,H))},currentTarget:p}]})}}for(var qg=0;qg<vx.length;qg++){var Gg=vx[qg],MN=Gg.toLowerCase(),kN=Gg[0].toUpperCase()+Gg.slice(1);_a(MN,"on"+kN)}_a(hx,"onAnimationEnd"),_a(mx,"onAnimationIteration"),_a(px,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(KR,"onTransitionRun"),_a(WR,"onTransitionStart"),_a(XR,"onTransitionCancel"),_a(gx,"onTransitionEnd"),Ct("onMouseEnter",["mouseout","mouseover"]),Ct("onMouseLeave",["mouseout","mouseover"]),Ct("onPointerEnter",["pointerout","pointerover"]),Ct("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function Aw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var D=d.length-1;0<=D;D--){var P=d[D],H=P.instance,K=P.currentTarget;if(P=P.listener,H!==b&&p.isPropagationStopped())break e;b=P,p.currentTarget=K;try{b(p)}catch(ue){Nf(ue)}p.currentTarget=null,b=H}else for(D=0;D<d.length;D++){if(P=d[D],H=P.instance,K=P.currentTarget,P=P.listener,H!==b&&p.isPropagationStopped())break e;b=P,p.currentTarget=K;try{b(p)}catch(ue){Nf(ue)}p.currentTarget=null,b=H}}}}function mt(i,s){var l=s[Kt];l===void 0&&(l=s[Kt]=new Set);var d=i+"__bubble";l.has(d)||(Cw(s,i,2,!1),l.add(d))}function $g(i,s,l){var d=0;s&&(d|=4),Cw(l,i,d,s)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Qg(i){if(!i[qf]){i[qf]=!0,Ia.forEach(function(l){l!=="selectionchange"&&(PN.has(l)||$g(l,!1,i),$g(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[qf]||(s[qf]=!0,$g("selectionchange",!1,s))}}function Cw(i,s,l,d){switch(Xw(s)){case 2:var p=iM;break;case 8:p=sM;break;default:p=oy}l=p.bind(null,s,l,i),p=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Kg(i,s,l,d,p){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var P=d.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(D===4)for(D=d.return;D!==null;){var H=D.tag;if((H===3||H===4)&&(H=D.stateNode.containerInfo,H===p||H.nodeType===8&&H.parentNode===p))return;D=D.return}for(;P!==null;){if(D=un(P),D===null)return;if(H=D.tag,H===5||H===6||H===26||H===27){d=b=D;continue e}P=P.parentNode}}d=d.return}Kd(function(){var K=b,ue=fl(l),ye=[];e:{var ae=yx.get(i);if(ae!==void 0){var ce=hl,Be=i;switch(i){case"keypress":if(Ua(l)===0)break e;case"keydown":case"keyup":ce=bl;break;case"focusin":Be="focus",ce=gl;break;case"focusout":Be="blur",ce=gl;break;case"beforeblur":case"afterblur":ce=gl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=rf;break;case hx:case mx:case px:ce=yl;break;case gx:ce=sf;break;case"scroll":case"scrollend":ce=Wd;break;case"wheel":ce=xl;break;case"copy":case"cut":case"paste":ce=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Gc;break;case"toggle":case"beforetoggle":ce=lf}var Je=(s&4)!==0,sn=!Je&&(i==="scroll"||i==="scrollend"),Z=Je?ae!==null?ae+"Capture":null:ae;Je=[];for(var $=K,ne;$!==null;){var he=$;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||Z===null||(he=oo($,Z),he!=null&&Je.push(Eu($,he,ne))),sn)break;$=$.return}0<Je.length&&(ae=new ce(ae,Be,null,l,ue),ye.push({event:ae,listeners:Je}))}}if((s&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ae&&l!==Wr&&(Be=l.relatedTarget||l.fromElement)&&(un(Be)||Be[Et]))break e;if((ce||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(Be=l.relatedTarget||l.toElement,ce=K,Be=Be?un(Be):null,Be!==null&&(sn=re(Be),Je=Be.tag,Be!==sn||Je!==5&&Je!==27&&Je!==6)&&(Be=null)):(ce=null,Be=K),ce!==Be)){if(Je=Zr,he="onMouseLeave",Z="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Je=Gc,he="onPointerLeave",Z="onPointerEnter",$="pointer"),sn=ce==null?ae:Gr(ce),ne=Be==null?ae:Gr(Be),ae=new Je(he,$+"leave",ce,l,ue),ae.target=sn,ae.relatedTarget=ne,he=null,un(ue)===K&&(Je=new Je(Z,$+"enter",Be,l,ue),Je.target=ne,Je.relatedTarget=sn,he=Je),sn=he,ce&&Be)t:{for(Je=ce,Z=Be,$=0,ne=Je;ne;ne=Hl(ne))$++;for(ne=0,he=Z;he;he=Hl(he))ne++;for(;0<$-ne;)Je=Hl(Je),$--;for(;0<ne-$;)Z=Hl(Z),ne--;for(;$--;){if(Je===Z||Z!==null&&Je===Z.alternate)break t;Je=Hl(Je),Z=Hl(Z)}Je=null}else Je=null;ce!==null&&Rw(ye,ae,ce,Je,!1),Be!==null&&sn!==null&&Rw(ye,sn,Be,Je,!0)}}e:{if(ae=K?Gr(K):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var je=nx;else if(Tn(ae))if(rx)je=qR;else{je=HR;var lt=zR}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?K&&Uc(K.elementType)&&(je=nx):je=YR;if(je&&(je=je(i,K))){wi(ye,je,l,ue);break e}lt&&lt(i,ae,K),i==="focusout"&&K&&ae.type==="number"&&K.memoizedProps.value!=null&&dl(ae,"number",ae.value)}switch(lt=K?Gr(K):window,i){case"focusin":(Tn(lt)||lt.contentEditable==="true")&&(_l=lt,Dp=K,Kc=null);break;case"focusout":Kc=Dp=_l=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,dx(ye,l,ue);break;case"selectionchange":if(QR)break;case"keydown":case"keyup":dx(ye,l,ue)}var He;if(za)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else pt?oe(i,l)&&(Qe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(S&&l.locale!=="ko"&&(pt||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&pt&&(He=Fc()):(La=ue,is="value"in La?La.value:La.textContent,pt=!0)),lt=Gf(K,Qe),0<lt.length&&(Qe=new Yc(Qe,i,null,l,ue),ye.push({event:Qe,listeners:lt}),He?Qe.data=He:(He=Te(l),He!==null&&(Qe.data=He)))),(He=_?En(i,l):gt(i,l))&&(Qe=Gf(K,"onBeforeInput"),0<Qe.length&&(lt=new Yc("onBeforeInput","beforeinput",null,l,ue),ye.push({event:lt,listeners:Qe}),lt.data=He)),NN(ye,i,K,l,ue)}Aw(ye,s)})}function Eu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Gf(i,s){for(var l=s+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=oo(i,l),p!=null&&d.unshift(Eu(i,p,b)),p=oo(i,s),p!=null&&d.push(Eu(i,p,b))),i=i.return}return d}function Hl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Rw(i,s,l,d,p){for(var b=s._reactName,D=[];l!==null&&l!==d;){var P=l,H=P.alternate,K=P.stateNode;if(P=P.tag,H!==null&&H===d)break;P!==5&&P!==26&&P!==27||K===null||(H=K,p?(K=oo(l,b),K!=null&&D.unshift(Eu(l,K,H))):p||(K=oo(l,b),K!=null&&D.push(Eu(l,K,H)))),l=l.return}D.length!==0&&i.push({event:s,listeners:D})}var ON=/\r\n?/g,IN=/\u0000|\uFFFD/g;function Nw(i){return(typeof i=="string"?i:""+i).replace(ON,`
`).replace(IN,"")}function Mw(i,s){return s=Nw(s),Nw(i)===s}function $f(){}function Vt(i,s,l,d,p,b){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Kr(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Kr(i,""+d);break;case"className":ns(i,"class",d);break;case"tabIndex":ns(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(i,l,d);break;case"style":Qd(i,d,b);break;case"data":if(s!=="object"){ns(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=Va(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&Vt(i,s,"name",p.name,p,null),Vt(i,s,"formEncType",p.formEncType,p,null),Vt(i,s,"formMethod",p.formMethod,p,null),Vt(i,s,"formTarget",p.formTarget,p,null)):(Vt(i,s,"encType",p.encType,p,null),Vt(i,s,"method",p.method,p,null),Vt(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=Va(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=$f);break;case"onScroll":d!=null&&mt("scroll",i);break;case"onScrollEnd":d!=null&&mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=Va(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":mt("beforetoggle",i),mt("toggle",i),ja(i,"popover",d);break;case"xlinkActuate":Qr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Qr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Qr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Qr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Qr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Qr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ja(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bp.get(l)||l,ja(i,l,d))}}function Wg(i,s,l,d,p,b){switch(l){case"style":Qd(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Kr(i,d):(typeof d=="number"||typeof d=="bigint")&&Kr(i,""+d);break;case"onScroll":d!=null&&mt("scroll",i);break;case"onScrollEnd":d!=null&&mt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=$f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),b=i[Ge]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,d,p);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):ja(i,l,d)}}}function Gn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",i),mt("load",i);var d=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var D=l[b];if(D!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vt(i,s,b,D,l,null)}}p&&Vt(i,s,"srcSet",l.srcSet,l,null),d&&Vt(i,s,"src",l.src,l,null);return;case"input":mt("invalid",i);var P=b=D=p=null,H=null,K=null;for(d in l)if(l.hasOwnProperty(d)){var ue=l[d];if(ue!=null)switch(d){case"name":p=ue;break;case"type":D=ue;break;case"checked":H=ue;break;case"defaultChecked":K=ue;break;case"value":b=ue;break;case"defaultValue":P=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:Vt(i,s,d,ue,l,null)}}io(i,b,P,H,K,D,p,!1),ao(i);return;case"select":mt("invalid",i),d=D=b=null;for(p in l)if(l.hasOwnProperty(p)&&(P=l[p],P!=null))switch(p){case"value":b=P;break;case"defaultValue":D=P;break;case"multiple":d=P;default:Vt(i,s,p,P,l,null)}s=b,l=D,i.multiple=!!d,s!=null?Tt(i,!!d,s,!1):l!=null&&Tt(i,!!d,l,!0);return;case"textarea":mt("invalid",i),b=p=d=null;for(D in l)if(l.hasOwnProperty(D)&&(P=l[D],P!=null))switch(D){case"value":d=P;break;case"defaultValue":p=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Vt(i,s,D,P,l,null)}as(i,d,p,b),ao(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(d=l[H],d!=null))switch(H){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Vt(i,s,H,d,l,null)}return;case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":mt("load",i);break;case"video":case"audio":for(d=0;d<wu.length;d++)mt(wu[d],i);break;case"image":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"embed":case"source":case"link":mt("error",i),mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(d=l[K],d!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vt(i,s,K,d,l,null)}return;default:if(Uc(s)){for(ue in l)l.hasOwnProperty(ue)&&(d=l[ue],d!==void 0&&Wg(i,s,ue,d,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(d=l[P],d!=null&&Vt(i,s,P,d,l,null))}function jN(i,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,D=null,P=null,H=null,K=null,ue=null;for(ce in l){var ye=l[ce];if(l.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":H=ye;default:d.hasOwnProperty(ce)||Vt(i,s,ce,null,d,ye)}}for(var ae in d){var ce=d[ae];if(ye=l[ae],d.hasOwnProperty(ae)&&(ce!=null||ye!=null))switch(ae){case"type":b=ce;break;case"name":p=ce;break;case"checked":K=ce;break;case"defaultChecked":ue=ce;break;case"value":D=ce;break;case"defaultValue":P=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:ce!==ye&&Vt(i,s,ae,ce,d,ye)}}rs(i,D,P,H,K,ue,b,p);return;case"select":ce=D=P=ae=null;for(b in l)if(H=l[b],l.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":ce=H;default:d.hasOwnProperty(b)||Vt(i,s,b,null,d,H)}for(p in d)if(b=d[p],H=l[p],d.hasOwnProperty(p)&&(b!=null||H!=null))switch(p){case"value":ae=b;break;case"defaultValue":P=b;break;case"multiple":D=b;default:b!==H&&Vt(i,s,p,b,d,H)}s=P,l=D,d=ce,ae!=null?Tt(i,!!l,ae,!1):!!d!=!!l&&(s!=null?Tt(i,!!l,s,!0):Tt(i,!!l,l?[]:"",!1));return;case"textarea":ce=ae=null;for(P in l)if(p=l[P],l.hasOwnProperty(P)&&p!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Vt(i,s,P,null,d,p)}for(D in d)if(p=d[D],b=l[D],d.hasOwnProperty(D)&&(p!=null||b!=null))switch(D){case"value":ae=p;break;case"defaultValue":ce=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&Vt(i,s,D,p,d,b)}so(i,ae,ce);return;case"option":for(var Be in l)if(ae=l[Be],l.hasOwnProperty(Be)&&ae!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:Vt(i,s,Be,null,d,ae)}for(H in d)if(ae=d[H],ce=l[H],d.hasOwnProperty(H)&&ae!==ce&&(ae!=null||ce!=null))switch(H){case"selected":i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Vt(i,s,H,ae,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in l)ae=l[Je],l.hasOwnProperty(Je)&&ae!=null&&!d.hasOwnProperty(Je)&&Vt(i,s,Je,null,d,ae);for(K in d)if(ae=d[K],ce=l[K],d.hasOwnProperty(K)&&ae!==ce&&(ae!=null||ce!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:Vt(i,s,K,ae,d,ce)}return;default:if(Uc(s)){for(var sn in l)ae=l[sn],l.hasOwnProperty(sn)&&ae!==void 0&&!d.hasOwnProperty(sn)&&Wg(i,s,sn,void 0,d,ae);for(ue in d)ae=d[ue],ce=l[ue],!d.hasOwnProperty(ue)||ae===ce||ae===void 0&&ce===void 0||Wg(i,s,ue,ae,d,ce);return}}for(var Z in l)ae=l[Z],l.hasOwnProperty(Z)&&ae!=null&&!d.hasOwnProperty(Z)&&Vt(i,s,Z,null,d,ae);for(ye in d)ae=d[ye],ce=l[ye],!d.hasOwnProperty(ye)||ae===ce||ae==null&&ce==null||Vt(i,s,ye,ae,d,ce)}var Xg=null,Zg=null;function Qf(i){return i.nodeType===9?i:i.ownerDocument}function kw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Jg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ey=null;function VN(){var i=window.event;return i&&i.type==="popstate"?i===ey?!1:(ey=i,!0):(ey=null,!1)}var Ow=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,UN=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw<"u"?function(i){return Iw.resolve(null).then(i).catch(BN)}:Ow;function BN(i){setTimeout(function(){throw i})}function ty(i,s){var l=s,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),Mu(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Mu(s)}function ny(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ny(l),Or(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function FN(i,s,l,d){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[mr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ta(i.nextSibling),i===null)break}return null}function zN(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ta(i.nextSibling),i===null))return null;return i}function Ta(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function jw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function Vw(i,s,l){switch(s=Qf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var la=new Map,Lw=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Vi=ge.d;ge.d={f:HN,r:YN,D:qN,C:GN,L:$N,m:QN,X:WN,S:KN,M:XN};function HN(){var i=Vi.f(),s=Ff();return i||s}function YN(i){var s=gn(i);s!==null&&s.tag===5&&s.type==="form"?d_(s):Vi.r(i)}var Yl=typeof document>"u"?null:document;function Uw(i,s,l){var d=Yl;if(d&&typeof s=="string"&&s){var p=nn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Lw.has(p)||(Lw.add(p),i={rel:i,crossOrigin:l,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Gn(s,"link",i),At(s),d.head.appendChild(s)))}}function qN(i){Vi.D(i),Uw("dns-prefetch",i,null)}function GN(i,s){Vi.C(i,s),Uw("preconnect",i,s)}function $N(i,s,l){Vi.L(i,s,l);var d=Yl;if(d&&i&&s){var p='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+nn(l.imageSizes)+'"]')):p+='[href="'+nn(i)+'"]';var b=p;switch(s){case"style":b=ql(i);break;case"script":b=Gl(i)}la.has(b)||(i=k({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),la.set(b,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Tu(b))||s==="script"&&d.querySelector(Su(b))||(s=d.createElement("link"),Gn(s,"link",i),At(s),d.head.appendChild(s)))}}function QN(i,s){Vi.m(i,s);var l=Yl;if(l&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+nn(d)+'"][href="'+nn(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Gl(i)}if(!la.has(b)&&(i=k({rel:"modulepreload",href:i},s),la.set(b,i),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Su(b)))return}d=l.createElement("link"),Gn(d,"link",i),At(d),l.head.appendChild(d)}}}function KN(i,s,l){Vi.S(i,s,l);var d=Yl;if(d&&i){var p=Dr(d).hoistableStyles,b=ql(i);s=s||"default";var D=p.get(b);if(!D){var P={loading:0,preload:null};if(D=d.querySelector(Tu(b)))P.loading=5;else{i=k({rel:"stylesheet",href:i,"data-precedence":s},l),(l=la.get(b))&&ry(i,l);var H=D=d.createElement("link");At(H),Gn(H,"link",i),H._p=new Promise(function(K,ue){H.onload=K,H.onerror=ue}),H.addEventListener("load",function(){P.loading|=1}),H.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Wf(D,s,d)}D={type:"stylesheet",instance:D,count:1,state:P},p.set(b,D)}}}function WN(i,s){Vi.X(i,s);var l=Yl;if(l&&i){var d=Dr(l).hoistableScripts,p=Gl(i),b=d.get(p);b||(b=l.querySelector(Su(p)),b||(i=k({src:i,async:!0},s),(s=la.get(p))&&ay(i,s),b=l.createElement("script"),At(b),Gn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function XN(i,s){Vi.M(i,s);var l=Yl;if(l&&i){var d=Dr(l).hoistableScripts,p=Gl(i),b=d.get(p);b||(b=l.querySelector(Su(p)),b||(i=k({src:i,async:!0,type:"module"},s),(s=la.get(p))&&ay(i,s),b=l.createElement("script"),At(b),Gn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function Bw(i,s,l,d){var p=(p=Xe.current)?Kf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ql(l.href),l=Dr(p).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ql(l.href);var b=Dr(p).hoistableStyles,D=b.get(i);if(D||(p=p.ownerDocument||p,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,D),(b=p.querySelector(Tu(i)))&&!b._p&&(D.instance=b,D.state.loading=5),la.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},la.set(i,l),b||ZN(p,i,l,D.state))),s&&d===null)throw Error(r(528,""));return D}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Gl(l),l=Dr(p).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ql(i){return'href="'+nn(i)+'"'}function Tu(i){return'link[rel="stylesheet"]['+i+"]"}function Fw(i){return k({},i,{"data-precedence":i.precedence,precedence:null})}function ZN(i,s,l,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Gn(s,"link",l),At(s),i.head.appendChild(s))}function Gl(i){return'[src="'+nn(i)+'"]'}function Su(i){return"script[async]"+i}function zw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+nn(l.href)+'"]');if(d)return s.instance=d,At(d),d;var p=k({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),At(d),Gn(d,"style",p),Wf(d,l.precedence,i),s.instance=d;case"stylesheet":p=ql(l.href);var b=i.querySelector(Tu(p));if(b)return s.state.loading|=4,s.instance=b,At(b),b;d=Fw(l),(p=la.get(p))&&ry(d,p),b=(i.ownerDocument||i).createElement("link"),At(b);var D=b;return D._p=new Promise(function(P,H){D.onload=P,D.onerror=H}),Gn(b,"link",d),s.state.loading|=4,Wf(b,l.precedence,i),s.instance=b;case"script":return b=Gl(l.src),(p=i.querySelector(Su(b)))?(s.instance=p,At(p),p):(d=l,(p=la.get(b))&&(d=k({},l),ay(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),Gn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Wf(d,l.precedence,i));return s.instance}function Wf(i,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,D=0;D<d.length;D++){var P=d[D];if(P.dataset.precedence===s)b=P;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function ry(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ay(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function Hw(i,s,l){if(Xf===null){var d=new Map,p=Xf=new Map;p.set(l,d)}else p=Xf,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var b=l[p];if(!(b[mr]||b[Ie]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var D=b.getAttribute(s)||"";D=i+D;var P=d.get(D);P?P.push(b):d.set(D,[b])}}return d}function Yw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function JN(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Du=null;function eM(){}function tM(i,s,l){if(Du===null)throw Error(r(475));var d=Du;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ql(l.href),b=i.querySelector(Tu(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Zf.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=b,At(b);return}b=i.ownerDocument||i,l=Fw(l),(p=la.get(p))&&ry(l,p),b=b.createElement("link"),At(b);var D=b;D._p=new Promise(function(P,H){D.onload=P,D.onerror=H}),Gn(b,"link",l),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Zf.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function nM(){if(Du===null)throw Error(r(475));var i=Du;return i.stylesheets&&i.count===0&&iy(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&iy(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)iy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jf=null;function iy(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jf=new Map,s.forEach(rM,i),Jf=null,Zf.call(i))}function rM(i,s){if(!(s.state.loading&4)){var l=Jf.get(i);if(l)var d=l.get(null);else{l=new Map,Jf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var D=p[b];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),d=D)}d&&l.set(null,d)}p=s.instance,D=p.getAttribute("data-precedence"),b=l.get(D)||d,b===d&&l.set(null,p),l.set(D,p),this.count++,d=Zf.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Au={$$typeof:w,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function aM(i,s,l,d,p,b,D,P){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Gw(i,s,l,d,p,b,D,P,H,K,ue,ye){return i=new aM(i,s,l,D,P,H,K,ye),s=1,b===!0&&(s|=24),b=sa(3,null,null,s),i.current=b,b.stateNode=i,s=Vp(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:s},yg(b),i}function $w(i){return i?(i=Tl,i):Tl}function Qw(i,s,l,d,p,b){p=$w(p),d.context===null?d.context=p:d.pendingContext=p,d=hs(s),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=ms(i,d,s),l!==null&&(vr(l,i,s),uu(l,i,s))}function Kw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function sy(i,s){Kw(i,s),(i=i.alternate)&&Kw(i,s)}function Ww(i){if(i.tag===13){var s=ss(i,67108864);s!==null&&vr(s,i,67108864),sy(i,67108864)}}var eh=!0;function iM(i,s,l,d){var p=R.T;R.T=null;var b=ge.p;try{ge.p=2,oy(i,s,l,d)}finally{ge.p=b,R.T=p}}function sM(i,s,l,d){var p=R.T;R.T=null;var b=ge.p;try{ge.p=8,oy(i,s,l,d)}finally{ge.p=b,R.T=p}}function oy(i,s,l,d){if(eh){var p=ly(d);if(p===null)Kg(i,s,d,th,l),Zw(i,d);else if(lM(p,i,s,l,d))d.stopPropagation();else if(Zw(i,d),s&4&&-1<oM.indexOf(i)){for(;p!==null;){var b=gn(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var D=Jn(b.pendingLanes);if(D!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;D;){var H=1<<31-kn(D);P.entanglements[1]|=H,D&=~H}Qa(b),(Zt&6)===0&&(Lf=Nn()+500,_u(0))}}break;case 13:P=ss(b,2),P!==null&&vr(P,b,2),Ff(),sy(b,2)}if(b=ly(d),b===null&&Kg(i,s,d,th,l),b===p)break;p=b}p!==null&&d.stopPropagation()}else Kg(i,s,d,null,l)}}function ly(i){return i=fl(i),cy(i)}var th=null;function cy(i){if(th=null,i=un(i),i!==null){var s=re(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=q(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return th=i,null}function Xw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kr()){case Pt:return 2;case cn:return 8;case Pr:case ol:return 32;case Sr:return 268435456;default:return 32}default:return 32}}var uy=!1,_s=null,ws=null,Es=null,Cu=new Map,Ru=new Map,Ts=[],oM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zw(i,s){switch(i){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(s.pointerId)}}function Nu(i,s,l,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},s!==null&&(s=gn(s),s!==null&&Ww(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function lM(i,s,l,d,p){switch(s){case"focusin":return _s=Nu(_s,i,s,l,d,p),!0;case"dragenter":return ws=Nu(ws,i,s,l,d,p),!0;case"mouseover":return Es=Nu(Es,i,s,l,d,p),!0;case"pointerover":var b=p.pointerId;return Cu.set(b,Nu(Cu.get(b)||null,i,s,l,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Ru.set(b,Nu(Ru.get(b)||null,i,s,l,d,p)),!0}return!1}function Jw(i){var s=un(i.target);if(s!==null){var l=re(s);if(l!==null){if(s=l.tag,s===13){if(s=q(l),s!==null){i.blockedOn=s,Ae(i.priority,function(){if(l.tag===13){var d=Ur(),p=ss(l,d);p!==null&&vr(p,l,d),sy(l,d)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ly(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Wr=d,l.target.dispatchEvent(d),Wr=null}else return s=gn(l),s!==null&&Ww(s),i.blockedOn=l,!1;s.shift()}return!0}function e1(i,s,l){nh(i)&&l.delete(s)}function cM(){uy=!1,_s!==null&&nh(_s)&&(_s=null),ws!==null&&nh(ws)&&(ws=null),Es!==null&&nh(Es)&&(Es=null),Cu.forEach(e1),Ru.forEach(e1)}function rh(i,s){i.blockedOn===s&&(i.blockedOn=null,uy||(uy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cM)))}var ah=null;function t1(i){ah!==i&&(ah=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ah===i&&(ah=null);for(var s=0;s<i.length;s+=3){var l=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(cy(d||l)===null)continue;break}var b=gn(l);b!==null&&(i.splice(s,3),s-=3,Jp(b,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Mu(i){function s(H){return rh(H,i)}_s!==null&&rh(_s,i),ws!==null&&rh(ws,i),Es!==null&&rh(Es,i),Cu.forEach(s),Ru.forEach(s);for(var l=0;l<Ts.length;l++){var d=Ts[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ts.length&&(l=Ts[0],l.blockedOn===null);)Jw(l),l.blockedOn===null&&Ts.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],D=p[Ge]||null;if(typeof b=="function")D||t1(l);else if(D){var P=null;if(b&&b.hasAttribute("formAction")){if(p=b,D=b[Ge]||null)P=D.formAction;else if(cy(p)!==null)continue}else P=D.action;typeof P=="function"?l[d+1]=P:(l.splice(d,3),d-=3),t1(l)}}}function dy(i){this._internalRoot=i}ih.prototype.render=dy.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,d=Ur();Qw(l,d,i,s,null,null)},ih.prototype.unmount=dy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Fl(),Qw(i.current,2,null,i,null,null),Ff(),s[Et]=null}};function ih(i){this._internalRoot=i}ih.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ue();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ts.length&&s!==0&&s<Ts[l].priority;l++);Ts.splice(l,0,i),l===0&&Jw(i)}};var n1=e.version;if(n1!=="19.0.0")throw Error(r(527,n1,"19.0.0"));ge.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=X(s),i=i!==null?be(i):null,i=i===null?null:i.stateNode,i};var uM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{va=sh.inject(uM),Mn=sh}catch{}}return Pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,d="",p=b_,b=x_,D=__,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks)),s=Gw(i,1,!1,null,null,l,d,p,b,D,P,null),i[Et]=s.current,Qg(i.nodeType===8?i.parentNode:i),new dy(s)},Pu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var d=!1,p="",b=b_,D=x_,P=__,H=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),s=Gw(i,1,!0,s,l??null,d,p,b,D,P,H,K),s.context=$w(null),l=s.current,d=Ur(),p=hs(d),p.callback=null,ms(l,p,d),s.current.lanes=d,fe(s,d),Qa(s),i[Et]=s.current,Qg(i),new ih(s)},Pu.version="19.0.0",Pu}var f1;function EM(){if(f1)return my.exports;f1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),my.exports=wM(),my.exports}var TM=EM(),Ou={},h1;function SM(){if(h1)return Ou;h1=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.parse=c,Ou.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,w){const E=new o,C=x.length;if(C<2)return E;const T=(w==null?void 0:w.decode)||g;let N=0;do{const V=x.indexOf("=",N);if(V===-1)break;const L=x.indexOf(";",N),F=L===-1?C:L;if(V>F){N=x.lastIndexOf(";",V-1)+1;continue}const I=u(x,N,V),Q=f(x,V,I),O=x.slice(I,Q);if(E[O]===void 0){let A=u(x,V+1,F),R=f(x,F,A);const k=T(x.slice(A,R));E[O]=k}N=F+1}while(N<C);return E}function u(x,w,E){do{const C=x.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<E);return E}function f(x,w,E){for(;w>E;){const C=x.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return E}function h(x,w,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const T=C(w);if(!e.test(T))throw new TypeError(`argument val is invalid: ${w}`);let N=x+"="+T;if(!E)return N;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);N+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);N+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);N+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);N+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(N+="; HttpOnly"),E.secure&&(N+="; Secure"),E.partitioned&&(N+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return N}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return a.call(x)==="[object Date]"}return Ou}SM();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iD=n=>{throw TypeError(n)},DM=(n,e,t)=>e.has(n)||iD("Cannot "+t),vy=(n,e,t)=>(DM(n,e,"read from private field"),t?t.call(n):e.get(n)),AM=(n,e,t)=>e.has(n)?iD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),m1="popstate";function CM(n={}){function e(r,a){let{pathname:o,search:c,hash:u}=r.location;return od("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Bs(a)}return NM(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RM(){return Math.random().toString(36).substring(2,10)}function p1(n,e){return{usr:n.state,key:n.key,idx:e}}function od(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||RM()}}function Bs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function NM(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,u="POP",f=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function v(){u="POP";let T=g(),N=T==null?null:T-h;h=T,f&&f({action:u,location:C.location,delta:N})}function x(T,N){u="PUSH";let V=od(C.location,T,N);h=g()+1;let L=p1(V,h),F=C.createHref(V);try{c.pushState(L,"",F)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(F)}o&&f&&f({action:u,location:C.location,delta:1})}function w(T,N){u="REPLACE";let V=od(C.location,T,N);h=g();let L=p1(V,h),F=C.createHref(V);c.replaceState(L,"",F),o&&f&&f({action:u,location:C.location,delta:0})}function E(T){let N=a.location.origin!=="null"?a.location.origin:a.location.href,V=typeof T=="string"?T:Bs(T);return V=V.replace(/ $/,"%20"),ut(N,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,N)}let C={get action(){return u},get location(){return n(a,c)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(m1,v),f=T,()=>{a.removeEventListener(m1,v),f=null}},createHref(T){return e(a,T)},createURL:E,encodeLocation(T){let N=E(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(T){return c.go(T)}};return C}var Hu,g1=class{constructor(n){if(AM(this,Hu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(vy(this,Hu).has(n))return vy(this,Hu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){vy(this,Hu).set(n,e)}};Hu=new WeakMap;var MM=new Set(["lazy","caseSensitive","path","id","index","children"]);function kM(n){return n.index===!0}function Yh(n,e,t=[],r={}){return n.map((a,o)=>{let c=[...t,String(o)],u=typeof a.id=="string"?a.id:c.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),kM(a)){let f={...a,...e(a),id:u};return r[u]=f,f}else{let f={...a,...e(a),id:u,children:void 0};return r[u]=f,a.children&&(f.children=Yh(a.children,e,c,r)),f}})}function Ns(n,e,t="/"){return Sh(n,e,t,!1)}function Sh(n,e,t,r){let a=typeof e=="string"?Xs(e):e,o=ga(a.pathname||"/",t);if(o==null)return null;let c=sD(n);OM(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=qM(o);u=HM(c[f],h,r)}return u}function PM(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function sD(n,e=[],t=[],r=""){let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=ti([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),sD(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:FM(h,o.index),routesMeta:g})};return n.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of oD(o.path))a(o,c,f)}),e}function oD(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=oD(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function OM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var IM=/^:[\w-]+$/,jM=3,VM=2,LM=1,UM=10,BM=-2,y1=n=>n==="*";function FM(n,e){let t=n.split("/"),r=t.length;return t.some(y1)&&(r+=BM),e&&(r+=VM),t.filter(a=>!y1(a)).reduce((a,o)=>a+(IM.test(o)?jM:o===""?LM:UM),r)}function zM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function HM(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ti([o,v.pathname]),pathnameBase:QM(ti([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ti([o,v.pathnameBase]))}return c}function qh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YM(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},x)=>{if(g==="*"){let E=u[x]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:n}}function YM(n,e=!1,t=!0){Xn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function qM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function GM(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:$M(t,e):e,search:KM(r),hash:WM(a)}}function $M(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function by(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dv(n){let e=lD(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function fv(n,e,t,r=!1){let a;typeof n=="string"?a=Xs(n):(a={...n},ut(!a.pathname||!a.pathname.includes("?"),by("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),by("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),by("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=GM(a,u),h=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),QM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Gh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ld(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cD=["POST","PUT","PATCH","DELETE"],XM=new Set(cD),ZM=["GET",...cD],JM=new Set(ZM),e4=new Set([301,302,303,307,308]),t4=new Set([307,308]),xy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},n4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Iu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r4=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),uD="remix-router-transitions",dD=Symbol("ResetLoaderData");function a4(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||r4,a={},o=Yh(n.routes,r,void 0,a),c,u=n.basename||"/",f=n.dataStrategy||c4,h={unstable_middleware:!1,...n.future},g=null,v=new Set,x=null,w=null,E=null,C=n.hydrationData!=null,T=Ns(o,n.history.location,u),N=!1,V=null;if(T==null&&!n.patchRoutesOnNavigation){let G=da(404,{pathname:n.history.location.pathname}),{matches:W,route:se}=R1(o);T=W,V={[se.id]:G}}T&&!n.hydrationData&&Jn(T,o,n.history.location.pathname).active&&(T=null);let L;if(T)if(T.some(G=>G.route.lazy))L=!1;else if(!T.some(G=>G.route.loader))L=!0;else{let G=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let se=T.findIndex(fe=>W[fe.route.id]!==void 0);L=T.slice(0,se+1).every(fe=>!n0(fe.route,G,W))}else L=T.every(se=>!n0(se.route,G,W))}else{L=!1,T=[];let G=Jn(null,o,n.history.location.pathname);G.active&&G.matches&&(N=!0,T=G.matches)}let F,I={historyAction:n.history.action,location:n.history.location,matches:T,initialized:L,navigation:xy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||V,fetchers:new Map,blockers:new Map},Q="POP",O=!1,A,R=!1,k=new Map,z=null,Y=!1,B=!1,Se=new Set,we=new Map,ie=0,ee=-1,re=new Map,q=new Set,U=new Map,X=new Map,be=new Set,xe=new Map,ge,de=null;function le(){if(g=n.history.listen(({action:G,location:W,delta:se})=>{if(ge){ge(),ge=void 0;return}Xn(xe.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=kn({currentLocation:I.location,nextLocation:W,historyAction:G});if(fe&&se!=null){let De=new Promise(ze=>{ge=ze});n.history.go(se*-1),hr(fe,{state:"blocked",location:W,proceed(){hr(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),De.then(()=>n.history.go(se))},reset(){let ze=new Map(I.blockers);ze.set(fe,Iu),Ne({blockers:ze})}});return}return Xe(G,W)}),t){_4(e,k);let G=()=>w4(e,k);e.addEventListener("pagehide",G),z=()=>e.removeEventListener("pagehide",G)}return I.initialized||Xe("POP",I.location,{initialHydration:!0}),F}function Ce(){g&&g(),z&&z(),v.clear(),A&&A.abort(),I.fetchers.forEach((G,W)=>Pr(W)),I.blockers.forEach((G,W)=>es(W))}function Ee(G){return v.add(G),()=>v.delete(G)}function Ne(G,W={}){I={...I,...G};let se=[],fe=[];I.fetchers.forEach((De,ze)=>{De.state==="idle"&&(be.has(ze)?se.push(ze):fe.push(ze))}),be.forEach(De=>{!I.fetchers.has(De)&&!we.has(De)&&se.push(De)}),[...v].forEach(De=>De(I,{deletedFetchers:se,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),se.forEach(De=>Pr(De)),fe.forEach(De=>I.fetchers.delete(De))}function qe(G,W,{flushSync:se}={}){var Ae,Oe;let fe=I.actionData!=null&&I.navigation.formMethod!=null&&Da(I.navigation.formMethod)&&I.navigation.state==="loading"&&((Ae=G.state)==null?void 0:Ae._isRedirect)!==!0,De;W.actionData?Object.keys(W.actionData).length>0?De=W.actionData:De=null:fe?De=I.actionData:De=null;let ze=W.loaderData?A1(I.loaderData,W.loaderData,W.matches||[],W.errors):I.loaderData,Fe=I.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((Ie,Ge)=>Fe.set(Ge,Iu)));let Ve=O===!0||I.navigation.formMethod!=null&&Da(I.navigation.formMethod)&&((Oe=G.state)==null?void 0:Oe._isRedirect)!==!0;c&&(o=c,c=void 0),Y||Q==="POP"||(Q==="PUSH"?n.history.push(G,G.state):Q==="REPLACE"&&n.history.replace(G,G.state));let Ue;if(Q==="POP"){let Ie=k.get(I.location.pathname);Ie&&Ie.has(G.pathname)?Ue={currentLocation:I.location,nextLocation:G}:k.has(G.pathname)&&(Ue={currentLocation:G,nextLocation:I.location})}else if(R){let Ie=k.get(I.location.pathname);Ie?Ie.add(G.pathname):(Ie=new Set([G.pathname]),k.set(I.location.pathname,Ie)),Ue={currentLocation:I.location,nextLocation:G}}Ne({...W,actionData:De,loaderData:ze,historyAction:Q,location:G,initialized:!0,navigation:xy,revalidation:"idle",restoreScrollPosition:ba(G,W.matches||I.matches),preventScrollReset:Ve,blockers:Fe},{viewTransitionOpts:Ue,flushSync:se===!0}),Q="POP",O=!1,R=!1,Y=!1,B=!1,de==null||de.resolve(),de=null}async function dt(G,W){if(typeof G=="number"){n.history.go(G);return}let se=t0(I.location,I.matches,u,G,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:De,error:ze}=v1(!1,se,W),Fe=I.location,Ve=od(I.location,fe,W&&W.state);Ve={...Ve,...n.history.encodeLocation(Ve)};let Ue=W&&W.replace!=null?W.replace:void 0,Ae="PUSH";Ue===!0?Ae="REPLACE":Ue===!1||De!=null&&Da(De.formMethod)&&De.formAction===I.location.pathname+I.location.search&&(Ae="REPLACE");let Oe=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ie=(W&&W.flushSync)===!0,Ge=kn({currentLocation:Fe,nextLocation:Ve,historyAction:Ae});if(Ge){hr(Ge,{state:"blocked",location:Ve,proceed(){hr(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),dt(G,W)},reset(){let Et=new Map(I.blockers);Et.set(Ge,Iu),Ne({blockers:Et})}});return}await Xe(Ae,Ve,{submission:De,pendingError:ze,preventScrollReset:Oe,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Ie})}function nt(){de||(de=E4()),Nn(),Ne({revalidation:"loading"});let G=de.promise;return I.navigation.state==="submitting"?G:I.navigation.state==="idle"?(Xe(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),G):(Xe(Q||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:R===!0}),G)}async function Xe(G,W,se){A&&A.abort(),A=null,Q=G,Y=(se&&se.startUninterruptedRevalidation)===!0,qr(I.location,I.matches),O=(se&&se.preventScrollReset)===!0,R=(se&&se.enableViewTransition)===!0;let fe=c||o,De=se&&se.overrideNavigation,ze=se!=null&&se.initialHydration&&I.matches&&I.matches.length>0&&!N?I.matches:Ns(fe,W,u),Fe=(se&&se.flushSync)===!0;if(ze&&I.initialized&&!B&&g4(I.location,W)&&!(se&&se.submission&&Da(se.submission.formMethod))){qe(W,{matches:ze},{flushSync:Fe});return}let Ve=Jn(ze,fe,W.pathname);if(Ve.active&&Ve.matches&&(ze=Ve.matches),!ze){let{error:Ut,notFoundMatches:xt,route:qt}=mi(W.pathname);qe(W,{matches:xt,loaderData:{},errors:{[qt.id]:Ut}},{flushSync:Fe});return}A=new AbortController;let Ue=$l(n.history,W,A.signal,se&&se.submission),Ae=new g1(n.unstable_getContext?await n.unstable_getContext():void 0),Oe;if(se&&se.pendingError)Oe=[Vo(ze).route.id,{type:"error",error:se.pendingError}];else if(se&&se.submission&&Da(se.submission.formMethod)){let Ut=await _e(Ue,W,se.submission,ze,Ae,Ve.active,{replace:se.replace,flushSync:Fe});if(Ut.shortCircuited)return;if(Ut.pendingActionResult){let[xt,qt]=Ut.pendingActionResult;if(Br(qt)&&ld(qt.error)&&qt.error.status===404){A=null,qe(W,{matches:Ut.matches,loaderData:{},errors:{[xt]:qt.error}});return}}ze=Ut.matches||ze,Oe=Ut.pendingActionResult,De=_y(W,se.submission),Fe=!1,Ve.active=!1,Ue=$l(n.history,Ue.url,Ue.signal)}let{shortCircuited:Ie,matches:Ge,loaderData:Et,errors:Kt}=await $e(Ue,W,ze,Ae,Ve.active,De,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,Fe,Oe);Ie||(A=null,qe(W,{matches:Ge||ze,...C1(Oe),loaderData:Et,errors:Kt}))}async function _e(G,W,se,fe,De,ze,Fe={}){Nn();let Ve=b4(W,se);if(Ne({navigation:Ve},{flushSync:Fe.flushSync===!0}),ze){let Oe=await zn(fe,W.pathname,G.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let Ie=Vo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ie,{type:"error",error:Oe.error}]}}else if(Oe.matches)fe=Oe.matches;else{let{notFoundMatches:Ie,error:Ge,route:Et}=mi(W.pathname);return{matches:Ie,pendingActionResult:[Et.id,{type:"error",error:Ge}]}}}let Ue,Ae=Yu(fe,W);if(!Ae.route.action&&!Ae.route.lazy)Ue={type:"error",error:da(405,{method:G.method,pathname:W.pathname,routeId:Ae.route.id})};else{let Oe=await Mr("action",G,[Ae],fe,De,null);if(Ue=Oe[Ae.route.id],!Ue){for(let Ie of fe)if(Oe[Ie.route.id]){Ue=Oe[Ie.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(Lo(Ue)){let Oe;return Fe&&Fe.replace!=null?Oe=Fe.replace:Oe=T1(Ue.response.headers.get("Location"),new URL(G.url),u)===I.location.pathname+I.location.search,await Qt(G,Ue,!0,{submission:se,replace:Oe}),{shortCircuited:!0}}if(Br(Ue)){let Oe=Vo(fe,Ae.route.id);return(Fe&&Fe.replace)!==!0&&(Q="PUSH"),{matches:fe,pendingActionResult:[Oe.route.id,Ue]}}return{matches:fe,pendingActionResult:[Ae.route.id,Ue]}}async function $e(G,W,se,fe,De,ze,Fe,Ve,Ue,Ae,Oe,Ie){let Ge=ze||_y(W,Fe),Et=Fe||Ve||M1(Ge),Kt=!Y&&!Ae;if(De){if(Kt){let Ct=ot(Ie);Ne({navigation:Ge,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Oe})}let at=await zn(se,W.pathname,G.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){let Ct=Vo(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[Ct]:at.error}}}else if(at.matches)se=at.matches;else{let{error:Ct,notFoundMatches:Pn,route:pi}=mi(W.pathname);return{matches:Pn,loaderData:{},errors:{[pi.id]:Ct}}}}let Ut=c||o,[xt,qt]=x1(n.history,I,se,Et,W,Ae===!0,B,Se,be,U,q,Ut,u,Ie);if(ee=++ie,xt.length===0&&qt.length===0){let at=Pa();return qe(W,{matches:se,loaderData:{},errors:Ie&&Br(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...C1(Ie),...at?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(Kt){let at={};if(!De){at.navigation=Ge;let Ct=ot(Ie);Ct!==void 0&&(at.actionData=Ct)}qt.length>0&&(at.fetchers=Lt(qt)),Ne(at,{flushSync:Oe})}qt.forEach(at=>{Sr(at.key),at.controller&&we.set(at.key,at.controller)});let mr=()=>qt.forEach(at=>Sr(at.key));A&&A.signal.addEventListener("abort",mr);let{loaderResults:Or,fetcherResults:un}=await Tr(se,xt,qt,G,fe);if(G.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",mr),qt.forEach(at=>we.delete(at.key));let gn=oh(Or);if(gn)return await Qt(G,gn.result,!0,{replace:Ue}),{shortCircuited:!0};if(gn=oh(un),gn)return q.add(gn.key),await Qt(G,gn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Gr,errors:Dr}=D1(I,se,Or,Ie,qt,un);Ae&&I.errors&&(Dr={...I.errors,...Dr});let At=Pa(),Ia=va(ee),xa=At||Ia||qt.length>0;return{matches:se,loaderData:Gr,errors:Dr,...xa?{fetchers:new Map(I.fetchers)}:{}}}function ot(G){if(G&&!Br(G[1]))return{[G[0]]:G[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Lt(G){return G.forEach(W=>{let se=I.fetchers.get(W.key),fe=ju(void 0,se?se.data:void 0);I.fetchers.set(W.key,fe)}),new Map(I.fetchers)}async function Yr(G,W,se,fe){Sr(G);let De=(fe&&fe.flushSync)===!0,ze=c||o,Fe=t0(I.location,I.matches,u,se,W,fe==null?void 0:fe.relative),Ve=Ns(ze,Fe,u),Ue=Jn(Ve,ze,Fe);if(Ue.active&&Ue.matches&&(Ve=Ue.matches),!Ve){Pt(G,W,da(404,{pathname:Fe}),{flushSync:De});return}let{path:Ae,submission:Oe,error:Ie}=v1(!0,Fe,fe);if(Ie){Pt(G,W,Ie,{flushSync:De});return}let Ge=Yu(Ve,Ae),Et=new g1(n.unstable_getContext?await n.unstable_getContext():void 0),Kt=(fe&&fe.preventScrollReset)===!0;if(Oe&&Da(Oe.formMethod)){await Er(G,W,Ae,Ge,Ve,Et,Ue.active,De,Kt,Oe);return}U.set(G,{routeId:W,path:Ae}),await fr(G,W,Ae,Ge,Ve,Et,Ue.active,De,Kt,Oe)}async function Er(G,W,se,fe,De,ze,Fe,Ve,Ue,Ae){Nn(),U.delete(G);function Oe(Ft){if(!Ft.route.action&&!Ft.route.lazy){let $r=da(405,{method:Ae.formMethod,pathname:se,routeId:W});return Pt(G,W,$r,{flushSync:Ve}),!0}return!1}if(!Fe&&Oe(fe))return;let Ie=I.fetchers.get(G);kr(G,x4(Ae,Ie),{flushSync:Ve});let Ge=new AbortController,Et=$l(n.history,se,Ge.signal,Ae);if(Fe){let Ft=await zn(De,se,Et.signal,G);if(Ft.type==="aborted")return;if(Ft.type==="error"){Pt(G,W,Ft.error,{flushSync:Ve});return}else if(Ft.matches){if(De=Ft.matches,fe=Yu(De,se),Oe(fe))return}else{Pt(G,W,da(404,{pathname:se}),{flushSync:Ve});return}}we.set(G,Ge);let Kt=ie,xt=(await Mr("action",Et,[fe],De,ze,G))[fe.route.id];if(Et.signal.aborted){we.get(G)===Ge&&we.delete(G);return}if(be.has(G)){if(Lo(xt)||Br(xt)){kr(G,Cs(void 0));return}}else{if(Lo(xt))if(we.delete(G),ee>Kt){kr(G,Cs(void 0));return}else return q.add(G),kr(G,ju(Ae)),Qt(Et,xt,!1,{fetcherSubmission:Ae,preventScrollReset:Ue});if(Br(xt)){Pt(G,W,xt.error);return}}let qt=I.navigation.location||I.location,mr=$l(n.history,qt,Ge.signal),Or=c||o,un=I.navigation.state!=="idle"?Ns(Or,I.navigation.location,u):I.matches;ut(un,"Didn't find any matches after fetcher action");let gn=++ie;re.set(G,gn);let Gr=ju(Ae,xt.data);I.fetchers.set(G,Gr);let[Dr,At]=x1(n.history,I,un,Ae,qt,!1,B,Se,be,U,q,Or,u,[fe.route.id,xt]);At.filter(Ft=>Ft.key!==G).forEach(Ft=>{let $r=Ft.key,ro=I.fetchers.get($r),ja=ju(void 0,ro?ro.data:void 0);I.fetchers.set($r,ja),Sr($r),Ft.controller&&we.set($r,Ft.controller)}),Ne({fetchers:new Map(I.fetchers)});let Ia=()=>At.forEach(Ft=>Sr(Ft.key));Ge.signal.addEventListener("abort",Ia);let{loaderResults:xa,fetcherResults:at}=await Tr(un,Dr,At,mr,ze);if(Ge.signal.aborted)return;Ge.signal.removeEventListener("abort",Ia),re.delete(G),we.delete(G),At.forEach(Ft=>we.delete(Ft.key));let Ct=oh(xa);if(Ct)return Qt(mr,Ct.result,!1,{preventScrollReset:Ue});if(Ct=oh(at),Ct)return q.add(Ct.key),Qt(mr,Ct.result,!1,{preventScrollReset:Ue});let{loaderData:Pn,errors:pi}=D1(I,un,xa,void 0,At,at);if(I.fetchers.has(G)){let Ft=Cs(xt.data);I.fetchers.set(G,Ft)}va(gn),I.navigation.state==="loading"&&gn>ee?(ut(Q,"Expected pending action"),A&&A.abort(),qe(I.navigation.location,{matches:un,loaderData:Pn,errors:pi,fetchers:new Map(I.fetchers)})):(Ne({errors:pi,loaderData:A1(I.loaderData,Pn,un,pi),fetchers:new Map(I.fetchers)}),B=!1)}async function fr(G,W,se,fe,De,ze,Fe,Ve,Ue,Ae){let Oe=I.fetchers.get(G);kr(G,ju(Ae,Oe?Oe.data:void 0),{flushSync:Ve});let Ie=new AbortController,Ge=$l(n.history,se,Ie.signal);if(Fe){let xt=await zn(De,se,Ge.signal,G);if(xt.type==="aborted")return;if(xt.type==="error"){Pt(G,W,xt.error,{flushSync:Ve});return}else if(xt.matches)De=xt.matches,fe=Yu(De,se);else{Pt(G,W,da(404,{pathname:se}),{flushSync:Ve});return}}we.set(G,Ie);let Et=ie,Ut=(await Mr("loader",Ge,[fe],De,ze,G))[fe.route.id];if(we.get(G)===Ie&&we.delete(G),!Ge.signal.aborted){if(be.has(G)){kr(G,Cs(void 0));return}if(Lo(Ut))if(ee>Et){kr(G,Cs(void 0));return}else{q.add(G),await Qt(Ge,Ut,!1,{preventScrollReset:Ue});return}if(Br(Ut)){Pt(G,W,Ut.error);return}kr(G,Cs(Ut.data))}}async function Qt(G,W,se,{submission:fe,fetcherSubmission:De,preventScrollReset:ze,replace:Fe}={}){W.response.headers.has("X-Remix-Revalidate")&&(B=!0);let Ve=W.response.headers.get("Location");ut(Ve,"Expected a Location header on the redirect Response"),Ve=T1(Ve,new URL(G.url),u);let Ue=od(I.location,Ve,{_isRedirect:!0});if(t){let Kt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Kt=!0;else if(hv.test(Ve)){const Ut=n.history.createURL(Ve);Kt=Ut.origin!==e.location.origin||ga(Ut.pathname,u)==null}if(Kt){Fe?e.location.replace(Ve):e.location.assign(Ve);return}}A=null;let Ae=Fe===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Ie,formEncType:Ge}=I.navigation;!fe&&!De&&Oe&&Ie&&Ge&&(fe=M1(I.navigation));let Et=fe||De;if(t4.has(W.response.status)&&Et&&Da(Et.formMethod))await Xe(Ae,Ue,{submission:{...Et,formAction:Ve},preventScrollReset:ze||O,enableViewTransition:se?R:void 0});else{let Kt=_y(Ue,fe);await Xe(Ae,Ue,{overrideNavigation:Kt,fetcherSubmission:De,preventScrollReset:ze||O,enableViewTransition:se?R:void 0})}}async function Mr(G,W,se,fe,De,ze){let Fe,Ve={};try{Fe=await d4(f,G,W,se,fe,ze,a,r,De,h.unstable_middleware)}catch(Ue){return se.forEach(Ae=>{Ve[Ae.route.id]={type:"error",error:Ue}}),Ve}for(let[Ue,Ae]of Object.entries(Fe))if(y4(Ae)){let Oe=Ae.result;Ve[Ue]={type:"redirect",response:m4(Oe,W,Ue,fe,u)}}else Ve[Ue]=await h4(Ae);return Ve}async function Tr(G,W,se,fe,De){let ze=Mr("loader",fe,W,G,De,null),Fe=Promise.all(se.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let Ie=(await Mr("loader",$l(n.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,De,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ie}}else return Promise.resolve({[Ae.key]:{type:"error",error:da(404,{pathname:Ae.path})}})})),Ve=await ze,Ue=(await Fe).reduce((Ae,Oe)=>Object.assign(Ae,Oe),{});return{loaderResults:Ve,fetcherResults:Ue}}function Nn(){B=!0,U.forEach((G,W)=>{we.has(W)&&Se.add(W),Sr(W)})}function kr(G,W,se={}){I.fetchers.set(G,W),Ne({fetchers:new Map(I.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Pt(G,W,se,fe={}){let De=Vo(I.matches,W);Pr(G),Ne({errors:{[De.route.id]:se},fetchers:new Map(I.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function cn(G){return X.set(G,(X.get(G)||0)+1),be.has(G)&&be.delete(G),I.fetchers.get(G)||n4}function Pr(G){let W=I.fetchers.get(G);we.has(G)&&!(W&&W.state==="loading"&&re.has(G))&&Sr(G),U.delete(G),re.delete(G),q.delete(G),be.delete(G),Se.delete(G),I.fetchers.delete(G)}function ol(G){let W=(X.get(G)||0)-1;W<=0?(X.delete(G),be.add(G)):X.set(G,W),Ne({fetchers:new Map(I.fetchers)})}function Sr(G){let W=we.get(G);W&&(W.abort(),we.delete(G))}function ll(G){for(let W of G){let se=cn(W),fe=Cs(se.data);I.fetchers.set(W,fe)}}function Pa(){let G=[],W=!1;for(let se of q){let fe=I.fetchers.get(se);ut(fe,`Expected fetcher: ${se}`),fe.state==="loading"&&(q.delete(se),G.push(se),W=!0)}return ll(G),W}function va(G){let W=[];for(let[se,fe]of re)if(fe<G){let De=I.fetchers.get(se);ut(De,`Expected fetcher: ${se}`),De.state==="loading"&&(Sr(se),re.delete(se),W.push(se))}return ll(W),W.length>0}function Mn(G,W){let se=I.blockers.get(G)||Iu;return xe.get(G)!==W&&xe.set(G,W),se}function es(G){I.blockers.delete(G),xe.delete(G)}function hr(G,W){let se=I.blockers.get(G)||Iu;ut(se.state==="unblocked"&&W.state==="blocked"||se.state==="blocked"&&W.state==="blocked"||se.state==="blocked"&&W.state==="proceeding"||se.state==="blocked"&&W.state==="unblocked"||se.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${se.state} -> ${W.state}`);let fe=new Map(I.blockers);fe.set(G,W),Ne({blockers:fe})}function kn({currentLocation:G,nextLocation:W,historyAction:se}){if(xe.size===0)return;xe.size>1&&Xn(!1,"A router only supports one blocker at a time");let fe=Array.from(xe.entries()),[De,ze]=fe[fe.length-1],Fe=I.blockers.get(De);if(!(Fe&&Fe.state==="proceeding")&&ze({currentLocation:G,nextLocation:W,historyAction:se}))return De}function mi(G){let W=da(404,{pathname:G}),se=c||o,{matches:fe,route:De}=R1(se);return{notFoundMatches:fe,route:De,error:W}}function cl(G,W,se){if(x=G,E=W,w=se||null,!C&&I.navigation===xy){C=!0;let fe=ba(I.location,I.matches);fe!=null&&Ne({restoreScrollPosition:fe})}return()=>{x=null,E=null,w=null}}function no(G,W){return w&&w(G,W.map(fe=>PM(fe,I.loaderData)))||G.key}function qr(G,W){if(x&&E){let se=no(G,W);x[se]=E()}}function ba(G,W){if(x){let se=no(G,W),fe=x[se];if(typeof fe=="number")return fe}return null}function Jn(G,W,se){if(n.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:Sh(W,se,u,!0)}}else return{active:!0,matches:Sh(W,se,u,!0)||[]};return{active:!1,matches:null}}async function zn(G,W,se,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:G};let De=G;for(;;){let ze=c==null,Fe=c||o,Ve=a;try{await n.patchRoutesOnNavigation({signal:se,path:W,matches:De,fetcherKey:fe,patch:(Oe,Ie)=>{se.aborted||w1(Oe,Ie,Fe,Ve,r)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:De}}finally{ze&&!se.aborted&&(o=[...o])}if(se.aborted)return{type:"aborted"};let Ue=Ns(Fe,W,u);if(Ue)return{type:"success",matches:Ue};let Ae=Sh(Fe,W,u,!0);if(!Ae||De.length===Ae.length&&De.every((Oe,Ie)=>Oe.route.id===Ae[Ie].route.id))return{type:"success",matches:null};De=Ae}}function Oa(G){a={},c=Yh(G,r,void 0,a)}function ts(G,W){let se=c==null;w1(G,W,c||o,a,r),se&&(o=[...o],Ne({}))}return F={get basename(){return u},get future(){return h},get state(){return I},get routes(){return o},get window(){return e},initialize:le,subscribe:Ee,enableScrollRestoration:cl,navigate:dt,fetch:Yr,revalidate:nt,createHref:G=>n.history.createHref(G),encodeLocation:G=>n.history.encodeLocation(G),getFetcher:cn,deleteFetcher:ol,dispose:Ce,getBlocker:Mn,deleteBlocker:es,patchRoutes:ts,_internalFetchControllers:we,_internalSetRoutes:Oa},F}function i4(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function t0(n,e,t,r,a,o){let c,u;if(a){c=[];for(let h of e)if(c.push(h),h.route.id===a){u=h;break}}else c=e,u=e[e.length-1];let f=fv(r||".",dv(c),ga(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&u){let h=mv(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let x=g.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:ti([t,f.pathname])),Bs(f)}function v1(n,e,t){if(!t||!i4(t))return{path:e};if(t.formMethod&&!v4(t.formMethod))return{path:e,error:da(405,{method:t.formMethod})};let r=()=>({path:e,error:da(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=mD(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Da(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[w,E])=>`${x}${w}=${E}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Da(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let u,f;if(t.formData)u=r0(t.formData),f=t.formData;else if(t.body instanceof FormData)u=r0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)u=t.body,f=S1(u);else if(t.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(t.body),f=S1(u)}catch{return r()}let h={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Da(h.formMethod))return{path:e,submission:h};let g=Xs(e);return n&&g.search&&mv(g.search)&&u.append("index",""),g.search=`?${u}`,{path:Bs(g),submission:h}}function b1(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function x1(n,e,t,r,a,o,c,u,f,h,g,v,x,w){let E=w?Br(w[1])?w[1].error:w[1].data:void 0,C=n.createURL(e.location),T=n.createURL(a),N=t;o&&e.errors?N=b1(t,Object.keys(e.errors)[0],!0):w&&Br(w[1])&&(N=b1(t,w[0]));let V=w?w[1].statusCode:void 0,L=V&&V>=400,F=N.filter((Q,O)=>{let{route:A}=Q;if(A.lazy)return!0;if(A.loader==null)return!1;if(o)return n0(A,e.loaderData,e.errors);if(s4(e.loaderData,e.matches[O],Q))return!0;let R=e.matches[O],k=Q;return _1(Q,{currentUrl:C,currentParams:R.params,nextUrl:T,nextParams:k.params,...r,actionResult:E,actionStatus:V,defaultShouldRevalidate:L?!1:c||C.pathname+C.search===T.pathname+T.search||C.search!==T.search||o4(R,k)})}),I=[];return h.forEach((Q,O)=>{if(o||!t.some(Y=>Y.route.id===Q.routeId)||f.has(O))return;let A=Ns(v,Q.path,x);if(!A){I.push({key:O,routeId:Q.routeId,path:Q.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(O),k=Yu(A,Q.path),z=!1;g.has(O)?z=!1:u.has(O)?(u.delete(O),z=!0):R&&R.state!=="idle"&&R.data===void 0?z=c:z=_1(k,{currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:t[t.length-1].params,...r,actionResult:E,actionStatus:V,defaultShouldRevalidate:L?!1:c}),z&&I.push({key:O,routeId:Q.routeId,path:Q.path,matches:A,match:k,controller:new AbortController})}),[F,I]}function n0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function s4(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function o4(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function _1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function w1(n,e,t,r,a){let o;if(n){let f=r[n];ut(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let c=e.filter(f=>!o.some(h=>fD(f,h))),u=Yh(c,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function fD(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>fD(t,o))}):!1}async function l4(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];ut(a,"No route found in manifest");let o={};for(let c in r){let f=a[c]!==void 0&&c!=="hasErrorBoundary";Xn(!f,`Route "${a.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!f&&!MM.has(c)&&(o[c]=r[c])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function E1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function c4(n){return n.matches.some(e=>e.route.unstable_middleware)?u4(n,!1,()=>E1(n),(e,t)=>({[t]:{type:"error",result:e}})):E1(n)}async function u4(n,e,t,r){let{matches:a,request:o,params:c,context:u}=n,f={handlerResult:void 0};try{let h=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),g=await hD({request:o,params:c,context:u},h,e,f,t);return e?g:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function hD(n,e,t,r,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let u=e[o];if(!u)return r.handlerResult=await a(),r.handlerResult;let[f,h]=u,g=!1,v,x=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await hD(n,e,t,r,a,o+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},x);return g?w===void 0?v:w:x()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}async function d4(n,e,t,r,a,o,c,u,f,h){let g=a.map(w=>w.route.lazy?l4(w.route,u,c):void 0);h&&await Promise.all(g);let v=a.map((w,E)=>{let C=g[E],T=r.some(V=>V.route.id===w.route.id);return{...w,shouldLoad:T,resolve:async V=>(V&&t.method==="GET"&&(w.route.lazy||w.route.loader)&&(T=!0),T?f4(e,t,w,C,V,f):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:v,request:t,params:a[0].params,fetcherKey:o,context:f});try{await Promise.all(g)}catch{}return x}async function f4(n,e,t,r,a,o){let c,u,f=h=>{let g,v=new Promise((E,C)=>g=C);u=()=>g(),e.signal.addEventListener("abort",u);let x=E=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:o},...E!==void 0?[E]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(C=>x(C)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([w,v])};try{let h=t.route[n];if(r)if(h){let g,[v]=await Promise.all([f(h).catch(x=>{g=x}),r]);if(g!==void 0)throw g;c=v}else if(await r,h=t.route[n],h)c=await f(h);else if(n==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw da(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(h)c=await f(h);else{let g=new URL(e.url),v=g.pathname+g.search;throw da(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function h4(n){var r,a,o,c,u,f;let{result:e,type:t}=n;if(pD(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Gh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?N1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Gh(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:ld(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ld(e)?e.status:void 0}:N1(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function m4(n,e,t,r,a){let o=n.headers.get("Location");if(ut(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!hv.test(o)){let c=r.slice(0,r.findIndex(u=>u.route.id===t)+1);o=t0(new URL(e.url),c,a,o),n.headers.set("Location",o)}return n}function T1(n,e,t){if(hv.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ga(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function $l(n,e,t,r){let a=n.createURL(mD(e)).toString(),o={signal:t};if(r&&Da(r.formMethod)){let{formMethod:c,formEncType:u}=r;o.method=c.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=r0(r.formData):o.body=r.formData}return new Request(a,o)}function r0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function S1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function p4(n,e,t,r=!1,a=!1){let o={},c=null,u,f=!1,h={},g=t&&Br(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(ut(!Lo(w),"Cannot handle redirect results in processLoaderData"),Br(w)){let E=w.error;if(g!==void 0&&(E=g,g=void 0),c=c||{},a)c[x]=E;else{let C=Vo(n,x);c[C.route.id]==null&&(c[C.route.id]=E)}r||(o[x]=dD),f||(f=!0,u=ld(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else o[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(h[x]=w.headers)}),g!==void 0&&t&&(c={[t[0]]:g},o[t[0]]=void 0),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:h}}function D1(n,e,t,r,a,o){let{loaderData:c,errors:u}=p4(e,t,r);return a.forEach(f=>{let{key:h,match:g,controller:v}=f,x=o[h];if(ut(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Br(x)){let w=Vo(n.matches,g==null?void 0:g.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:x.error}),n.fetchers.delete(h)}else if(Lo(x))ut(!1,"Unhandled fetcher revalidation redirect");else{let w=Cs(x.data);n.fetchers.set(h,w)}}),{loaderData:c,errors:u}}function A1(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==dD).reduce((o,[c,u])=>(o[c]=u,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(a[c]=n[c]),r&&r.hasOwnProperty(c))break}return a}function C1(n){return n?Br(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Vo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function R1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function da(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):n===403?(c="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",u=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Gh(n||500,c,new Error(u),!0)}function oh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Lo(a))return{key:r,result:a}}}function mD(n){let e=typeof n=="string"?Xs(n):n;return Bs({...e,hash:""})}function g4(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function y4(n){return pD(n.result)&&e4.has(n.result.status)}function Br(n){return n.type==="error"}function Lo(n){return(n&&n.type)==="redirect"}function N1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function pD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function v4(n){return JM.has(n.toUpperCase())}function Da(n){return XM.has(n.toUpperCase())}function mv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Yu(n,e){let t=typeof e=="string"?Xs(e).search:e.search;if(n[n.length-1].route.index&&mv(t||""))return n[n.length-1];let r=lD(n);return r[r.length-1]}function M1(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:c}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:c,text:void 0}}}function _y(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function b4(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ju(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function x4(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Cs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function _4(n,e){try{let t=n.sessionStorage.getItem(uD);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function w4(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(uD,JSON.stringify(t))}catch(r){Xn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function E4(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var tl=M.createContext(null);tl.displayName="DataRouter";var Md=M.createContext(null);Md.displayName="DataRouterState";var pv=M.createContext({isTransitioning:!1});pv.displayName="ViewTransition";var gD=M.createContext(new Map);gD.displayName="Fetchers";var T4=M.createContext(null);T4.displayName="Await";var ui=M.createContext(null);ui.displayName="Navigation";var Om=M.createContext(null);Om.displayName="Location";var di=M.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var gv=M.createContext(null);gv.displayName="RouteError";function S4(n,{relative:e}={}){ut(kd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(ui),{hash:a,pathname:o,search:c}=Pd(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ti([t,o])),r.createHref({pathname:u,search:c,hash:a})}function kd(){return M.useContext(Om)!=null}function ka(){return ut(kd(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Om).location}var yD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vD(n){M.useContext(ui).static||M.useLayoutEffect(n)}function Bn(){let{isDataRoute:n}=M.useContext(di);return n?L4():D4()}function D4(){ut(kd(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(tl),{basename:e,navigator:t}=M.useContext(ui),{matches:r}=M.useContext(di),{pathname:a}=ka(),o=JSON.stringify(dv(r)),c=M.useRef(!1);return vD(()=>{c.current=!0}),M.useCallback((f,h={})=>{if(Xn(c.current,yD),!c.current)return;if(typeof f=="number"){t.go(f);return}let g=fv(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ti([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,a,n])}M.createContext(null);function yv(){let{matches:n}=M.useContext(di),e=n[n.length-1];return e?e.params:{}}function Pd(n,{relative:e}={}){let{matches:t}=M.useContext(di),{pathname:r}=ka(),a=JSON.stringify(dv(t));return M.useMemo(()=>fv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function A4(n,e,t,r){ut(kd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=M.useContext(ui),{matches:c}=M.useContext(di),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let V=v&&v.path||"";bD(h,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let x=ka(),w;w=x;let E=w.pathname||"/",C=E;if(g!=="/"){let V=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(V.length).join("/")}let T=!o&&t&&t.matches&&t.matches.length>0?t.matches:Ns(n,{pathname:C});return Xn(v||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Xn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),k4(T&&T.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:ti([g,a.encodeLocation?a.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:ti([g,a.encodeLocation?a.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,t,r)}function C4(){let n=V4(),e=ld(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,c)}var R4=M.createElement(C4,null),N4=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(di.Provider,{value:this.props.routeContext},M.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M4({routeContext:n,match:e,children:t}){let r=M.useContext(tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(di.Provider,{value:n},t)}function k4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ut(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:v}=t,x=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let v,x=!1,w=null,E=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||R4,c&&(u<0&&g===0?(bD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===g&&(x=!0,E=h.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),T=()=>{let N;return v?N=w:x?N=E:h.route.Component?N=M.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,M.createElement(M4,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:N})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?M.createElement(N4,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}function vv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P4(n){let e=M.useContext(tl);return ut(e,vv(n)),e}function O4(n){let e=M.useContext(Md);return ut(e,vv(n)),e}function I4(n){let e=M.useContext(di);return ut(e,vv(n)),e}function bv(n){let e=I4(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function j4(){return bv("useRouteId")}function V4(){var r;let n=M.useContext(gv),e=O4("useRouteError"),t=bv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function L4(){let{router:n}=P4("useNavigate"),e=bv("useNavigate"),t=M.useRef(!1);return vD(()=>{t.current=!0}),M.useCallback(async(a,o={})=>{Xn(t.current,yD),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var k1={};function bD(n,e,t){!e&&!k1[n]&&(k1[n]=!0,Xn(!1,t))}var P1={};function O1(n,e){!n&&!P1[e]&&(P1[e]=!0,console.warn(e))}function U4(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Xn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Xn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Xn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var B4=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function F4({router:n,flushSync:e}){let[t,r]=M.useState(n.state),[a,o]=M.useState(),[c,u]=M.useState({isTransitioning:!1}),[f,h]=M.useState(),[g,v]=M.useState(),[x,w]=M.useState(),E=M.useRef(new Map),C=M.useCallback((L,{deletedFetchers:F,flushSync:I,viewTransitionOpts:Q})=>{L.fetchers.forEach((A,R)=>{A.data!==void 0&&E.current.set(R,A.data)}),F.forEach(A=>E.current.delete(A)),O1(I===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(O1(Q==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Q||!O){e&&I?e(()=>r(L)):M.startTransition(()=>r(L));return}if(e&&I){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>r(L))});A.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(A));return}g?(f&&f.resolve(),g.skipTransition(),w({state:L,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(o(L),u({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[n.window,e,g,f]);M.useLayoutEffect(()=>n.subscribe(C),[n,C]),M.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new B4)},[c]),M.useEffect(()=>{if(f&&a&&n.window){let L=a,F=f.promise,I=n.window.document.startViewTransition(async()=>{M.startTransition(()=>r(L)),await F});I.finished.finally(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(I)}},[a,f,n.window]),M.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,g,t.location,a]),M.useEffect(()=>{!c.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),w(void 0))},[c.isTransitioning,x]);let T=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:L=>n.navigate(L),push:(L,F,I)=>n.navigate(L,{state:F,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(L,F,I)=>n.navigate(L,{replace:!0,state:F,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),N=n.basename||"/",V=M.useMemo(()=>({router:n,navigator:T,static:!1,basename:N}),[n,T,N]);return M.createElement(M.Fragment,null,M.createElement(tl.Provider,{value:V},M.createElement(Md.Provider,{value:t},M.createElement(gD.Provider,{value:E.current},M.createElement(pv.Provider,{value:c},M.createElement(Y4,{basename:N,location:t.location,navigationType:t.historyAction,navigator:T},M.createElement(z4,{routes:n.routes,future:n.future,state:t})))))),null)}var z4=M.memo(H4);function H4({routes:n,future:e,state:t}){return A4(n,void 0,t,e)}function rr(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ut(!kd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=Xs(t));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:x="default"}=t,w=M.useMemo(()=>{let E=ga(f,c);return E==null?null:{location:{pathname:E,search:h,hash:g,state:v,key:x},navigationType:r}},[c,f,h,g,v,x,r]);return Xn(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(ui.Provider,{value:u},M.createElement(Om.Provider,{children:e,value:w}))}function a0(n,e=[]){let t=[];return M.Children.forEach(n,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){t.push.apply(t,a0(r.props.children,o));return}ut(r.type===rr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=a0(r.props.children,o)),t.push(c)}),t}var q4=a0,Dh="get",Ah="application/x-www-form-urlencoded";function Im(n){return n!=null&&typeof n.tagName=="string"}function G4(n){return Im(n)&&n.tagName.toLowerCase()==="button"}function $4(n){return Im(n)&&n.tagName.toLowerCase()==="form"}function Q4(n){return Im(n)&&n.tagName.toLowerCase()==="input"}function K4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function W4(n,e){return n.button===0&&(!e||e==="_self")&&!K4(n)}var lh=null;function X4(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var Z4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wy(n){return n!=null&&!Z4.has(n)?(Xn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):n}function J4(n,e){let t,r,a,o,c;if($4(n)){let u=n.getAttribute("action");r=u?ga(u,e):null,t=n.getAttribute("method")||Dh,a=wy(n.getAttribute("enctype"))||Ah,o=new FormData(n)}else if(G4(n)||Q4(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?ga(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Dh,a=wy(n.getAttribute("formenctype"))||wy(u.getAttribute("enctype"))||Ah,o=new FormData(u,n),!X4()){let{name:h,type:g,value:v}=n;if(g==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,v)}}else{if(Im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dh,r=null,a=Ah,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}function xv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ek(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nk(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await ek(o,t);return c.links?c.links():[]}return[]}));return sk(r.flat(1).filter(tk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I1(n,e,t,r,a,o){let c=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var g;return t[h].pathname!==f.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>c(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function rk(n,e,{includeHydrateFallback:t}={}){return ak(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function ak(n){return[...new Set(n)]}function ik(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function sk(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(ik(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function ok(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function xD(){let n=M.useContext(tl);return xv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lk(){let n=M.useContext(Md);return xv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _v=M.createContext(void 0);_v.displayName="FrameworkContext";function _D(){let n=M.useContext(_v);return xv(n,"You must render this element inside a <HydratedRouter> element"),n}function ck(n,e){let t=M.useContext(_v),[r,a]=M.useState(!1),[o,c]=M.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,x=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=N=>{N.forEach(V=>{c(V.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[n]),M.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Vu(u,w),onBlur:Vu(f,E),onMouseEnter:Vu(h,w),onMouseLeave:Vu(g,E),onTouchStart:Vu(v,w)}]:[!1,x,{}]}function Vu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uk({page:n,...e}){let{router:t}=xD(),r=M.useMemo(()=>Ns(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(fk,{page:n,matches:r,...e}):null}function dk(n){let{manifest:e,routeModules:t}=_D(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return nk(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function fk({page:n,matches:e,...t}){let r=ka(),{manifest:a,routeModules:o}=_D(),{basename:c}=xD(),{loaderData:u,matches:f}=lk(),h=M.useMemo(()=>I1(n,e,f,a,r,"data"),[n,e,f,a,r]),g=M.useMemo(()=>I1(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(e.forEach(N=>{var L;let V=a.routes[N.route.id];!V||!V.hasLoader||(!h.some(F=>F.route.id===N.route.id)&&N.route.id in u&&((L=o[N.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?C=!0:E.add(N.route.id))}),E.size===0)return[];let T=ok(n,c);return C&&E.size>0&&T.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[c,u,r,a,h,e,n,o]),x=M.useMemo(()=>rk(g,a),[g,a]),w=dk(g);return M.createElement(M.Fragment,null,v.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),x.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:C})=>M.createElement("link",{key:E,...C})))}function hk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wD&&(window.__reactRouterVersion="7.4.0")}catch{}function mk(n,e){return a4({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:CM({window:e==null?void 0:e.window}),hydrationData:pk(),routes:n,mapRouteProperties:U4,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function pk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:gk(n.errors)}),n}function gk(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Gh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",t[r]=c}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var ED=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:u,target:f,to:h,preventScrollReset:g,viewTransition:v,...x},w){let{basename:E}=M.useContext(ui),C=typeof h=="string"&&ED.test(h),T,N=!1;if(typeof h=="string"&&C&&(T=h,wD))try{let R=new URL(window.location.href),k=h.startsWith("//")?new URL(R.protocol+h):new URL(h),z=ga(k.pathname,E);k.origin===R.origin&&z!=null?h=z+k.search+k.hash:N=!0}catch{Xn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=S4(h,{relative:a}),[L,F,I]=ck(r,x),Q=xk(h,{replace:c,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function O(R){e&&e(R),R.defaultPrevented||Q(R)}let A=M.createElement("a",{...x,...I,href:T||V,onClick:N||o?e:O,ref:hk(w,F),target:f,"data-discover":!C&&t==="render"?"true":void 0});return L&&!C?M.createElement(M.Fragment,null,A,M.createElement(uk,{page:V})):A});lc.displayName="Link";var yk=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:u,children:f,...h},g){let v=Pd(c,{relative:h.relative}),x=ka(),w=M.useContext(Md),{navigator:E,basename:C}=M.useContext(ui),T=w!=null&&Sk(v)&&u===!0,N=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,V=x.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(V=V.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&C&&(L=ga(L,C)||L);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let I=V===N||!a&&V.startsWith(N)&&V.charAt(F)==="/",Q=L!=null&&(L===N||!a&&L.startsWith(N)&&L.charAt(N.length)==="/"),O={isActive:I,isPending:Q,isTransitioning:T},A=I?e:void 0,R;typeof r=="function"?R=r(O):R=[r,I?"active":null,Q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(O):o;return M.createElement(lc,{...h,"aria-current":A,className:R,ref:g,style:k,to:c,viewTransition:u},typeof f=="function"?f(O):f)});yk.displayName="NavLink";var vk=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=Dh,action:u,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,...x},w)=>{let E=Ek(),C=Tk(u,{relative:h}),T=c.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&ED.test(u),V=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let F=L.nativeEvent.submitter,I=(F==null?void 0:F.getAttribute("formmethod"))||c;E(F||L.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return M.createElement("form",{ref:w,method:T,action:C,onSubmit:r?f:V,...x,"data-discover":!N&&n==="render"?"true":void 0})});vk.displayName="Form";function bk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TD(n){let e=M.useContext(tl);return ut(e,bk(n)),e}function xk(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let u=Bn(),f=ka(),h=Pd(n,{relative:o});return M.useCallback(g=>{if(W4(g,e)){g.preventDefault();let v=t!==void 0?t:Bs(f)===Bs(h);u(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[f,u,h,t,r,e,n,a,o,c])}var _k=0,wk=()=>`__${String(++_k)}__`;function Ek(){let{router:n}=TD("useSubmit"),{basename:e}=M.useContext(ui),t=j4();return M.useCallback(async(r,a={})=>{let{action:o,method:c,encType:u,formData:f,body:h}=J4(r,e);if(a.navigate===!1){let g=a.fetcherKey||wk();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Tk(n,{relative:e}={}){let{basename:t}=M.useContext(ui),r=M.useContext(di);ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Pd(n||".",{relative:e})},c=ka();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ti([t,o.pathname])),Bs(o)}function Sk(n,e={}){let t=M.useContext(pv);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TD("useViewTransitionState"),a=Pd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return qh(a.pathname,c)!=null||qh(a.pathname,o)!=null}new TextEncoder;var wv=aD();const Dk=rD(wv);/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ak(n){return M.createElement(F4,{flushSync:wv.flushSync,...n})}const SD=M.createContext({});function Ck(n){const e=M.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ev=typeof window<"u",Rk=Ev?M.useLayoutEffect:M.useEffect,Tv=M.createContext(null),DD=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Nk(n=!0){const e=M.useContext(Tv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,o=M.useId();M.useEffect(()=>{if(n)return a(o)},[n]);const c=M.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,c]:[!0]}function Sv(n,e){n.indexOf(e)===-1&&n.push(e)}function Dv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const zr=n=>n;let AD=zr;const Mk={useManualTiming:!1};function Av(n){let e;return()=>(e===void 0&&(e=n()),e)}const cc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Cv{constructor(){this.subscriptions=[]}add(e){return Sv(this.subscriptions,e),()=>Dv(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ui=n=>n*1e3,Bi=n=>n/1e3;function CD(n,e){return e?n*(1e3/e):0}const kk=Av(()=>window.ScrollTimeline!==void 0);class Pk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(kk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ok extends Pk{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Rv(n,e){return n?n[e]||n.default||n:void 0}const i0=2e4;function RD(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<i0;)e+=t,r=n.next(e);return e>=i0?1/0:e}function Nv(n){return typeof n=="function"}function j1(n,e){n.timeline=e,n.onfinish=null}const Mv=n=>Array.isArray(n)&&typeof n[0]=="number",Ik={linearEasing:void 0};function jk(n,e){const t=Av(n);return()=>{var r;return(r=Ik[e])!==null&&r!==void 0?r:t()}}const $h=jk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ND=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)r+=n(cc(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function MD(n){return!!(typeof n=="function"&&$h()||!n||typeof n=="string"&&(n in s0||$h())||Mv(n)||Array.isArray(n)&&n.every(MD))}const qu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,s0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function kD(n,e){if(n)return typeof n=="function"&&$h()?ND(n,e):Mv(n)?qu(n):Array.isArray(n)?n.map(t=>kD(t,e)||s0.easeOut):s0[n]}const ch=["read","resolveKeyframes","update","preRender","render","postRender"],V1={value:null};function Vk(n,e){let t=new Set,r=new Set,a=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function h(v){c.has(v)&&(g.schedule(v),n()),f++,v(u)}const g={schedule:(v,x=!1,w=!1)=>{const C=w&&a?t:r;return x&&c.add(v),C.has(v)||C.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(u=v,a){o=!0;return}a=!0,[t,r]=[r,t],t.forEach(h),e&&V1.value&&V1.value.frameloop[e].push(f),f=0,t.clear(),a=!1,o&&(o=!1,g.process(v))}};return g}const Lk=40;function PD(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=ch.reduce((N,V)=>(N[V]=Vk(o,e?V:void 0),N),{}),{read:u,resolveKeyframes:f,update:h,preRender:g,render:v,postRender:x}=c,w=()=>{const N=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,Lk),1),a.timestamp=N,a.isProcessing=!0,u.process(a),f.process(a),h.process(a),g.process(a),v.process(a),x.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(w))},E=()=>{t=!0,r=!0,a.isProcessing||n(w)};return{schedule:ch.reduce((N,V)=>{const L=c[V];return N[V]=(F,I=!1,Q=!1)=>(t||E(),L.schedule(F,I,Q)),N},{}),cancel:N=>{for(let V=0;V<ch.length;V++)c[ch[V]].cancel(N)},state:a,steps:c}}const{schedule:Yt,cancel:Fs,state:$n,steps:Ey}=PD(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),{schedule:kv}=PD(queueMicrotask,!1);let Ch;function Uk(){Ch=void 0}const ni={now:()=>(Ch===void 0&&ni.set($n.isProcessing||Mk.useManualTiming?$n.timestamp:performance.now()),Ch),set:n=>{Ch=n,queueMicrotask(Uk)}},Sa={x:!1,y:!1};function OD(){return Sa.x||Sa.y}function Bk(n){return n==="x"||n==="y"?Sa[n]?null:(Sa[n]=!0,()=>{Sa[n]=!1}):Sa.x||Sa.y?null:(Sa.x=Sa.y=!0,()=>{Sa.x=Sa.y=!1})}function Fk(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function ID(n,e){const t=Fk(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function L1(n){return!(n.pointerType==="touch"||OD())}function zk(n,e,t={}){const[r,a,o]=ID(n,t),c=u=>{if(!L1(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const g=v=>{L1(v)&&(h(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return r.forEach(u=>{u.addEventListener("pointerenter",c,a)}),o}function U1(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const jD=(n,e)=>e?n===e?!0:jD(n,e.parentElement):!1,Pv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Hk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yk(n){return Hk.has(n.tagName)||n.tabIndex!==-1}const Gu=new WeakSet;function B1(n){return e=>{e.key==="Enter"&&n(e)}}function Ty(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qk=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=B1(()=>{if(Gu.has(t))return;Ty(t,"down");const a=B1(()=>{Ty(t,"up")}),o=()=>Ty(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function F1(n){return Pv(n)&&!OD()}function Gk(n,e,t={}){const[r,a,o]=ID(n,t),c=u=>{const f=u.currentTarget;if(!f||!F1(u)||Gu.has(f))return;Gu.add(f),U1(u,"set");const h=e(f,u),g=(w,E)=>{f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",x),U1(w,"release"),!(!F1(w)||!Gu.has(f))&&(Gu.delete(f),typeof h=="function"&&h(w,{success:E}))},v=w=>{(w.isTrusted?$k(w,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(w,!1):g(w,!(f instanceof Element)||jD(f,w.target))},x=w=>{g(w,!1)};f.addEventListener("pointerup",v,a),f.addEventListener("pointercancel",x,a),f.addEventListener("lostpointercapture",x,a)};return r.forEach(u=>{u=t.useGlobalTarget?window:u;let f=!1;u instanceof HTMLElement&&(f=!0,!Yk(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0)),u.addEventListener("pointerdown",c,a),f&&u.addEventListener("focus",h=>qk(h,a),a)}),o}function $k(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const z1=30,Qk=n=>!isNaN(parseFloat(n));class Kk{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=ni.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Cv);const r=this.events[e].add(t);return e==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,z1);return CD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cd(n,e){return new Kk(n,e)}const VD=M.createContext({strict:!1}),H1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uc={};for(const n in H1)uc[n]={isEnabled:e=>H1[n].some(t=>!!e[t])};function Wk(n){for(const e in n)uc[e]={...uc[e],...n[e]}}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Xk.has(n)}let LD=n=>!Qh(n);function Zk(n){n&&(LD=e=>e.startsWith("on")?!Qh(e):n(e))}try{Zk(require("@emotion/is-prop-valid").default)}catch{}function Jk(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(LD(a)||t===!0&&Qh(a)||!e&&!Qh(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function eP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const jm=M.createContext({});function Vm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ud(n){return typeof n=="string"||Array.isArray(n)}const Ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iv=["initial",...Ov];function Lm(n){return Vm(n.animate)||Iv.some(e=>ud(n[e]))}function UD(n){return!!(Lm(n)||n.variants)}function tP(n,e){if(Lm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ud(t)?t:void 0,animate:ud(r)?r:void 0}}return n.inherit!==!1?e:{}}function nP(n){const{initial:e,animate:t}=tP(n,M.useContext(jm));return M.useMemo(()=>({initial:e,animate:t}),[Y1(e),Y1(t)])}function Y1(n){return Array.isArray(n)?n.join(" "):n}const rP=Symbol.for("motionComponentSymbol");function ec(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function aP(n,e,t){return M.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ec(t)&&(t.current=r))},[e])}const jv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iP="framerAppearId",BD="data-"+jv(iP),FD=M.createContext({});function sP(n,e,t,r,a){var o,c;const{visualElement:u}=M.useContext(jm),f=M.useContext(VD),h=M.useContext(Tv),g=M.useContext(DD).reducedMotion,v=M.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,w=M.useContext(FD);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&oP(v.current,t,a,w);const E=M.useRef(!1);M.useInsertionEffect(()=>{x&&E.current&&x.update(t,h)});const C=t[BD],T=M.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,C)));return Rk(()=>{x&&(E.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),kv.render(x.render),T.current&&x.animationState&&x.animationState.animateChanges())}),M.useEffect(()=>{x&&(!T.current&&x.animationState&&x.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,C)}),T.current=!1))}),x}function oP(n,e,t,r){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:zD(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&ec(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:h})}function zD(n){if(n)return n.options.allowProjection!==!1?n.projection:zD(n.parent)}function lP({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var o,c;n&&Wk(n);function u(h,g){let v;const x={...M.useContext(DD),...h,layoutId:cP(h)},{isStatic:w}=x,E=nP(h),C=r(h,w);if(!w&&Ev){uP();const T=dP(x);v=T.MeasureLayout,E.visualElement=sP(a,C,x,e,T.ProjectionNode)}return y.jsxs(jm.Provider,{value:E,children:[v&&E.visualElement?y.jsx(v,{visualElement:E.visualElement,...x}):null,t(a,h,aP(C,E.visualElement,g),C,w,E.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(c=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&c!==void 0?c:""})`}`;const f=M.forwardRef(u);return f[rP]=a,f}function cP({layoutId:n}){const e=M.useContext(SD).id;return e&&n!==void 0?e+"-"+n:n}function uP(n,e){M.useContext(VD).strict}function dP(n){const{drag:e,layout:t}=uc;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const HD=n=>e=>typeof e=="string"&&e.startsWith(n),Vv=HD("--"),fP=HD("var(--"),Lv=n=>fP(n)?hP.test(n.split("/*")[0].trim()):!1,hP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dd={};function mP(n){for(const e in n)dd[e]=n[e],Vv(e)&&(dd[e].isCSSVariable=!0)}const Cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(Cc);function YD(n,{layout:e,layoutId:t}){return nl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!dd[n]||n==="opacity")}const ur=n=>!!(n&&n.getVelocity),qD=(n,e)=>e&&typeof n=="number"?e.transform(n):n,$i=(n,e,t)=>t>e?e:t<n?n:t,Rc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fd={...Rc,transform:n=>$i(0,1,n)},uh={...Rc,default:1},Od=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Rs=Od("deg"),ri=Od("%"),Ke=Od("px"),pP=Od("vh"),gP=Od("vw"),q1={...ri,parse:n=>ri.parse(n)/100,transform:n=>ri.transform(n*100)},yP={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},vP={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:uh,scaleX:uh,scaleY:uh,scaleZ:uh,skew:Rs,skewX:Rs,skewY:Rs,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:fd,originX:q1,originY:q1,originZ:Ke},G1={...Rc,transform:Math.round},Uv={...yP,...vP,zIndex:G1,size:Ke,fillOpacity:fd,strokeOpacity:fd,numOctaves:G1},bP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xP=Cc.length;function _P(n,e,t){let r="",a=!0;for(let o=0;o<xP;o++){const c=Cc[o],u=n[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const h=qD(u,Uv[c]);if(!f){a=!1;const g=bP[c]||c;r+=`${g}(${h}) `}t&&(e[c]=h)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function Bv(n,e,t){const{style:r,vars:a,transformOrigin:o}=n;let c=!1,u=!1;for(const f in e){const h=e[f];if(nl.has(f)){c=!0;continue}else if(Vv(f)){a[f]=h;continue}else{const g=qD(h,Uv[f]);f.startsWith("origin")?(u=!0,o[f]=g):r[f]=g}}if(e.transform||(c||t?r.transform=_P(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:g=0}=o;r.transformOrigin=`${f} ${h} ${g}`}}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GD(n,e,t){for(const r in e)!ur(e[r])&&!YD(r,t)&&(n[r]=e[r])}function wP({transformTemplate:n},e){return M.useMemo(()=>{const t=Fv();return Bv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function EP(n,e){const t=n.style||{},r={};return GD(r,t,n),Object.assign(r,wP(n,e)),r}function TP(n,e){const t={},r=EP(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const SP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zv(n){return typeof n!="string"||n.includes("-")?!1:!!(SP.indexOf(n)>-1||/[A-Z]/u.test(n))}const DP={offset:"stroke-dashoffset",array:"stroke-dasharray"},AP={offset:"strokeDashoffset",array:"strokeDasharray"};function CP(n,e,t=1,r=0,a=!0){n.pathLength=1;const o=a?DP:AP;n[o.offset]=Ke.transform(-r);const c=Ke.transform(e),u=Ke.transform(t);n[o.array]=`${c} ${u}`}function $1(n,e,t){return typeof n=="string"?n:Ke.transform(e+t*n)}function RP(n,e,t){const r=$1(e,n.x,n.width),a=$1(t,n.y,n.height);return`${r} ${a}`}function Hv(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:o,pathLength:c,pathSpacing:u=1,pathOffset:f=0,...h},g,v){if(Bv(n,h,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:w,dimensions:E}=n;x.transform&&(E&&(w.transform=x.transform),delete x.transform),E&&(a!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=RP(E,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),c!==void 0&&CP(x,c,u,f,!1)}const $D=()=>({...Fv(),attrs:{}}),Yv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function NP(n,e,t,r){const a=M.useMemo(()=>{const o=$D();return Hv(o,e,Yv(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};GD(o,n.style,n),a.style={...o,...a.style}}return a}function MP(n=!1){return(t,r,a,{latestValues:o},c)=>{const f=(zv(t)?NP:TP)(r,o,c,t),h=Jk(r,typeof t=="string",n),g=t!==M.Fragment?{...h,...f,ref:a}:{},{children:v}=r,x=M.useMemo(()=>ur(v)?v.get():v,[v]);return M.createElement(t,{...g,children:x})}}function Q1(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function qv(n,e,t,r){if(typeof e=="function"){const[a,o]=Q1(r);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=Q1(r);e=e(t!==void 0?t:n.custom,a,o)}return e}const o0=n=>Array.isArray(n),kP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),PP=n=>o0(n)?n[n.length-1]||0:n;function Rh(n){const e=ur(n)?n.get():n;return kP(e)?e.toValue():e}function OP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,o){const c={latestValues:IP(r,a,o,n),renderState:e()};return t&&(c.onMount=u=>t({props:r,current:u,...c}),c.onUpdate=u=>t(u)),c}const QD=n=>(e,t)=>{const r=M.useContext(jm),a=M.useContext(Tv),o=()=>OP(n,e,r,a);return t?o():Ck(o)};function IP(n,e,t,r){const a={},o=r(n,{});for(const x in o)a[x]=Rh(o[x]);let{initial:c,animate:u}=n;const f=Lm(n),h=UD(n);e&&h&&!f&&n.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||c===!1;const v=g?u:c;if(v&&typeof v!="boolean"&&!Vm(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const E=qv(n,x[w]);if(E){const{transitionEnd:C,transition:T,...N}=E;for(const V in N){let L=N[V];if(Array.isArray(L)){const F=g?L.length-1:0;L=L[F]}L!==null&&(a[V]=L)}for(const V in C)a[V]=C[V]}}}return a}function Gv(n,e,t){var r;const{style:a}=n,o={};for(const c in a)(ur(a[c])||e.style&&ur(e.style[c])||YD(c,n)||((r=t==null?void 0:t.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[c]=a[c]);return o}const jP={useVisualState:QD({scrapeMotionValuesFromProps:Gv,createRenderState:Fv})};function KD(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function WD(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const XD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZD(n,e,t,r){WD(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(XD.has(a)?a:jv(a),e.attrs[a])}function JD(n,e,t){const r=Gv(n,e,t);for(const a in n)if(ur(n[a])||ur(e[a])){const o=Cc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=n[a]}return r}const K1=["x","y","width","height","cx","cy","r"],VP={useVisualState:QD({scrapeMotionValuesFromProps:JD,createRenderState:$D,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in a)if(nl.has(u)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let u=0;u<K1.length;u++){const f=K1[u];n[f]!==e[f]&&(c=!0)}c&&Yt.read(()=>{KD(t,r),Yt.render(()=>{Hv(r,a,Yv(t.tagName),n.transformTemplate),ZD(t,r)})})}})};function LP(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...zv(r)?VP:jP,preloadedFeatures:n,useRender:MP(a),createVisualElement:e,Component:r};return lP(c)}}function hd(n,e,t){const r=n.getProps();return qv(r,e,t!==void 0?t:r.custom,n)}const e2=new Set(["width","height","top","left","right","bottom",...Cc]);function UP(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,cd(t))}function BP(n,e){const t=hd(n,e);let{transitionEnd:r={},transition:a={},...o}=t||{};o={...o,...r};for(const c in o){const u=PP(o[c]);UP(n,c,u)}}function FP(n){return!!(ur(n)&&n.add)}function l0(n,e){const t=n.getValue("willChange");if(FP(t))return t.add(e)}function t2(n){return n.props[BD]}const n2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,zP=1e-7,HP=12;function YP(n,e,t,r,a){let o,c,u=0;do c=e+(t-e)/2,o=n2(c,r,a)-n,o>0?t=c:e=c;while(Math.abs(o)>zP&&++u<HP);return c}function Id(n,e,t,r){if(n===e&&t===r)return zr;const a=o=>YP(o,0,1,n,t);return o=>o===0||o===1?o:n2(a(o),e,r)}const r2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,a2=n=>e=>1-n(1-e),i2=Id(.33,1.53,.69,.99),$v=a2(i2),s2=r2($v),o2=n=>(n*=2)<1?.5*$v(n):.5*(2-Math.pow(2,-10*(n-1))),Qv=n=>1-Math.sin(Math.acos(n)),l2=a2(Qv),c2=r2(Qv),u2=n=>/^0[^.\s]+$/u.test(n);function qP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||u2(n):!0}const Ju=n=>Math.round(n*1e5)/1e5,Kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GP(n){return n==null}const $P=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wv=(n,e)=>t=>!!(typeof t=="string"&&$P.test(t)&&t.startsWith(n)||e&&!GP(t)&&Object.prototype.hasOwnProperty.call(t,e)),d2=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,o,c,u]=r.match(Kv);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},QP=n=>$i(0,255,n),Sy={...Rc,transform:n=>Math.round(QP(n))},Uo={test:Wv("rgb","red"),parse:d2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Sy.transform(n)+", "+Sy.transform(e)+", "+Sy.transform(t)+", "+Ju(fd.transform(r))+")"};function KP(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const c0={test:Wv("#"),parse:KP,transform:Uo.transform},tc={test:Wv("hsl","hue"),parse:d2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ri.transform(Ju(e))+", "+ri.transform(Ju(t))+", "+Ju(fd.transform(r))+")"},ar={test:n=>Uo.test(n)||c0.test(n)||tc.test(n),parse:n=>Uo.test(n)?Uo.parse(n):tc.test(n)?tc.parse(n):c0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Uo.transform(n):tc.transform(n)},WP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XP(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Kv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(WP))===null||t===void 0?void 0:t.length)||0)>0}const f2="number",h2="color",ZP="var",JP="var(",W1="${}",eO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(eO,f=>(ar.test(f)?(r.color.push(o),a.push(h2),t.push(ar.parse(f))):f.startsWith(JP)?(r.var.push(o),a.push(ZP),t.push(f)):(r.number.push(o),a.push(f2),t.push(parseFloat(f))),++o,W1)).split(W1);return{values:t,split:u,indexes:r,types:a}}function m2(n){return md(n).values}function p2(n){const{split:e,types:t}=md(n),r=e.length;return a=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],a[c]!==void 0){const u=t[c];u===f2?o+=Ju(a[c]):u===h2?o+=ar.transform(a[c]):o+=a[c]}return o}}const tO=n=>typeof n=="number"?0:n;function nO(n){const e=m2(n);return p2(n)(e.map(tO))}const zs={test:XP,parse:m2,createTransformer:p2,getAnimatableNone:nO},rO=new Set(["brightness","contrast","saturate","opacity"]);function aO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Kv)||[];if(!r)return n;const a=t.replace(r,"");let o=rO.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+a+")"}const iO=/\b([a-z-]*)\(.*?\)/gu,u0={...zs,getAnimatableNone:n=>{const e=n.match(iO);return e?e.map(aO).join(" "):n}},sO={...Uv,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:u0,WebkitFilter:u0},g2=n=>sO[n];function y2(n,e){let t=g2(n);return t!==u0&&(t=zs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const oO=new Set(["auto","none","0"]);function lO(n,e,t){let r=0,a;for(;r<n.length&&!a;){const o=n[r];typeof o=="string"&&!oO.has(o)&&md(o).values.length&&(a=n[r]),r++}if(a&&t)for(const o of e)n[o]=y2(t,a)}const Bo=n=>n*180/Math.PI,d0=n=>{const e=Bo(Math.atan2(n[1],n[0]));return f0(e)},cO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:d0,rotateZ:d0,skewX:n=>Bo(Math.atan(n[1])),skewY:n=>Bo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},f0=n=>(n=n%360,n<0&&(n+=360),n),X1=d0,Z1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),J1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),uO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Z1,scaleY:J1,scale:n=>(Z1(n)+J1(n))/2,rotateX:n=>f0(Bo(Math.atan2(n[6],n[5]))),rotateY:n=>f0(Bo(Math.atan2(-n[2],n[0]))),rotateZ:X1,rotate:X1,skewX:n=>Bo(Math.atan(n[4])),skewY:n=>Bo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function eE(n){return n.includes("scale")?1:0}function h0(n,e){if(!n||n==="none")return eE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=uO,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cO,a=u}if(!a)return eE(e);const o=r[e],c=a[1].split(",").map(fO);return typeof o=="function"?o(c):c[o]}const dO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return h0(t,e)};function fO(n){return parseFloat(n.trim())}const tE=n=>n===Rc||n===Ke,hO=new Set(["x","y","z"]),mO=Cc.filter(n=>!hO.has(n));function pO(n){const e=[];return mO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const dc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>h0(e,"x"),y:(n,{transform:e})=>h0(e,"y")};dc.translateX=dc.x;dc.translateY=dc.y;const Ho=new Set;let m0=!1,p0=!1;function v2(){if(p0){const n=Array.from(Ho).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=pO(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([o,c])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}p0=!1,m0=!1,Ho.forEach(n=>n.complete()),Ho.clear()}function b2(){Ho.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(p0=!0)})}function gO(){b2(),v2()}class Xv{constructor(e,t,r,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ho.add(this),m0||(m0=!0,Yt.read(b2),Yt.resolveKeyframes(v2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=a==null?void 0:a.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&t){const f=r.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),yO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vO(n){const e=yO.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function _2(n,e,t=1){const[r,a]=vO(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return x2(c)?parseFloat(c):c}return Lv(a)?_2(a,e,t+1):a}const w2=n=>e=>e.test(n),bO={test:n=>n==="auto",parse:n=>n},E2=[Rc,Ke,ri,Rs,gP,pP,bO],nE=n=>E2.find(w2(n));class T2 extends Xv{constructor(e,t,r,a,o){super(e,t,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),Lv(h))){const g=_2(h,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!e2.has(r)||e.length!==2)return;const[a,o]=e,c=nE(a),u=nE(o);if(c!==u)if(tE(c)&&tE(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)qP(e[a])&&r.push(a);r.length&&lO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=dc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const rE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zs.test(n)||n==="0")&&!n.startsWith("url("));function xO(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function _O(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=rE(a,e),u=rE(o,e);return!c||!u?!1:xO(n)||(t==="spring"||Nv(t))&&r}const wO=n=>n!==null;function Um(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(wO),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const EO=40;class S2{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:o,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>EO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gO(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:c,onComplete:u,onUpdate:f,isGenerator:h}=this.options;if(!h&&!_O(e,r,a,o))if(c)this.options.duration=0;else{f&&f(Um(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Jt=(n,e,t)=>n+(e-n)*t;function Dy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function TO({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,o=0,c=0;if(!e)a=o=c=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;a=Dy(f,u,n+1/3),o=Dy(f,u,n),c=Dy(f,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function Kh(n,e){return t=>t>0?e:n}const Ay=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},SO=[c0,Uo,tc],DO=n=>SO.find(e=>e.test(n));function aE(n){const e=DO(n);if(!e)return!1;let t=e.parse(n);return e===tc&&(t=TO(t)),t}const iE=(n,e)=>{const t=aE(n),r=aE(e);if(!t||!r)return Kh(n,e);const a={...t};return o=>(a.red=Ay(t.red,r.red,o),a.green=Ay(t.green,r.green,o),a.blue=Ay(t.blue,r.blue,o),a.alpha=Jt(t.alpha,r.alpha,o),Uo.transform(a))},AO=(n,e)=>t=>e(n(t)),jd=(...n)=>n.reduce(AO),g0=new Set(["none","hidden"]);function CO(n,e){return g0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function RO(n,e){return t=>Jt(n,e,t)}function Zv(n){return typeof n=="number"?RO:typeof n=="string"?Lv(n)?Kh:ar.test(n)?iE:kO:Array.isArray(n)?D2:typeof n=="object"?ar.test(n)?iE:NO:Kh}function D2(n,e){const t=[...n],r=t.length,a=n.map((o,c)=>Zv(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)t[c]=a[c](o);return t}}function NO(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=Zv(n[a])(n[a],e[a]));return a=>{for(const o in r)t[o]=r[o](a);return t}}function MO(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=n.indexes[c][a[c]],f=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=f,a[c]++}return r}const kO=(n,e)=>{const t=zs.createTransformer(e),r=md(n),a=md(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?g0.has(n)&&!a.values.length||g0.has(e)&&!r.values.length?CO(n,e):jd(D2(MO(r,a),a.values),t):Kh(n,e)};function A2(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jt(n,e,t):Zv(n)(n,e)}const PO=5;function C2(n,e,t){const r=Math.max(e-PO,0);return CD(t-n(r),e-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sE=.001;function OO({duration:n=on.duration,bounce:e=on.bounce,velocity:t=on.velocity,mass:r=on.mass}){let a,o,c=1-e;c=$i(on.minDamping,on.maxDamping,c),n=$i(on.minDuration,on.maxDuration,Bi(n)),c<1?(a=h=>{const g=h*c,v=g*n,x=g-t,w=y0(h,c),E=Math.exp(-v);return sE-x/w*E},o=h=>{const v=h*c*n,x=v*t+t,w=Math.pow(c,2)*Math.pow(h,2)*n,E=Math.exp(-v),C=y0(Math.pow(h,2),c);return(-a(h)+sE>0?-1:1)*((x-w)*E)/C}):(a=h=>{const g=Math.exp(-h*n),v=(h-t)*n+1;return-.001+g*v},o=h=>{const g=Math.exp(-h*n),v=(t-h)*(n*n);return g*v});const u=5/n,f=jO(a,o,u);if(n=Ui(n),isNaN(f))return{stiffness:on.stiffness,damping:on.damping,duration:n};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:n}}}const IO=12;function jO(n,e,t){let r=t;for(let a=1;a<IO;a++)r=r-n(r)/e(r);return r}function y0(n,e){return n*Math.sqrt(1-e*e)}const VO=["duration","bounce"],LO=["stiffness","damping","mass"];function oE(n,e){return e.some(t=>n[t]!==void 0)}function UO(n){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...n};if(!oE(n,LO)&&oE(n,VO))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,o=2*$i(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:on.mass,stiffness:a,damping:o}}else{const t=OO(n);e={...e,...t,mass:on.mass},e.isResolvedFromDuration=!0}return e}function R2(n=on.visualDuration,e=on.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:h,mass:g,duration:v,velocity:x,isResolvedFromDuration:w}=UO({...t,velocity:-Bi(t.velocity||0)}),E=x||0,C=h/(2*Math.sqrt(f*g)),T=c-o,N=Bi(Math.sqrt(f/g)),V=Math.abs(T)<5;r||(r=V?on.restSpeed.granular:on.restSpeed.default),a||(a=V?on.restDelta.granular:on.restDelta.default);let L;if(C<1){const I=y0(N,C);L=Q=>{const O=Math.exp(-C*N*Q);return c-O*((E+C*N*T)/I*Math.sin(I*Q)+T*Math.cos(I*Q))}}else if(C===1)L=I=>c-Math.exp(-N*I)*(T+(E+N*T)*I);else{const I=N*Math.sqrt(C*C-1);L=Q=>{const O=Math.exp(-C*N*Q),A=Math.min(I*Q,300);return c-O*((E+C*N*T)*Math.sinh(A)+I*T*Math.cosh(A))/I}}const F={calculatedDuration:w&&v||null,next:I=>{const Q=L(I);if(w)u.done=I>=v;else{let O=0;C<1&&(O=I===0?Ui(E):C2(L,I,Q));const A=Math.abs(O)<=r,R=Math.abs(c-Q)<=a;u.done=A&&R}return u.value=u.done?c:Q,u},toString:()=>{const I=Math.min(RD(F),i0),Q=ND(O=>F.next(I*O).value,I,30);return I+"ms "+Q}};return F}function lE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:g}){const v=n[0],x={done:!1,value:v},w=A=>u!==void 0&&A<u||f!==void 0&&A>f,E=A=>u===void 0?f:f===void 0||Math.abs(u-A)<Math.abs(f-A)?u:f;let C=t*e;const T=v+C,N=c===void 0?T:c(T);N!==T&&(C=N-v);const V=A=>-C*Math.exp(-A/r),L=A=>N+V(A),F=A=>{const R=V(A),k=L(A);x.done=Math.abs(R)<=h,x.value=x.done?N:k};let I,Q;const O=A=>{w(x.value)&&(I=A,Q=R2({keyframes:[x.value,E(x.value)],velocity:C2(L,A,x.value),damping:a,stiffness:o,restDelta:h,restSpeed:g}))};return O(0),{calculatedDuration:null,next:A=>{let R=!1;return!Q&&I===void 0&&(R=!0,F(A),O(A)),I!==void 0&&A>=I?Q.next(A-I):(!R&&F(A),x)}}}const BO=Id(.42,0,1,1),FO=Id(0,0,.58,1),N2=Id(.42,0,.58,1),zO=n=>Array.isArray(n)&&typeof n[0]!="number",HO={linear:zr,easeIn:BO,easeInOut:N2,easeOut:FO,circIn:Qv,circInOut:c2,circOut:l2,backIn:$v,backInOut:s2,backOut:i2,anticipate:o2},cE=n=>{if(Mv(n)){AD(n.length===4);const[e,t,r,a]=n;return Id(e,t,r,a)}else if(typeof n=="string")return HO[n];return n};function YO(n,e,t){const r=[],a=t||A2,o=n.length-1;for(let c=0;c<o;c++){let u=a(n[c],n[c+1]);if(e){const f=Array.isArray(e)?e[c]||zr:e;u=jd(f,u)}r.push(u)}return r}function qO(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const o=n.length;if(AD(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=YO(e,r,a),f=u.length,h=g=>{if(c&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const x=cc(n[v],n[v+1],g);return u[v](x)};return t?g=>h($i(n[0],n[o-1],g)):h}function GO(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=cc(0,e,r);n.push(Jt(t,1,a))}}function $O(n){const e=[0];return GO(e,n.length-1),e}function QO(n,e){return n.map(t=>t*e)}function KO(n,e){return n.map(()=>e||N2).splice(0,n.length-1)}function Wh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=zO(r)?r.map(cE):cE(r),o={done:!1,value:e[0]},c=QO(t&&t.length===e.length?t:$O(e),n),u=qO(c,e,{ease:Array.isArray(a)?a:KO(e,a)});return{calculatedDuration:n,next:f=>(o.value=u(f),o.done=f>=n,o)}}const WO=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Yt.update(e,!0),stop:()=>Fs(e),now:()=>$n.isProcessing?$n.timestamp:ni.now()}},XO={decay:lE,inertia:lE,tween:Wh,keyframes:Wh,spring:R2},ZO=n=>n/100;class Jv extends S2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:a,keyframes:o}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Xv,u=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new c(o,u,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,u=Nv(t)?t:XO[t]||Wh;let f,h;u!==Wh&&typeof e[0]!="number"&&(f=jd(ZO,A2(e[0],e[1])),e=[0,100]);const g=u({...this.options,keyframes:e});o==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=RD(g));const{calculatedDuration:v}=g,x=v+a,w=x*(r+1)-a;return{generator:g,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:h,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:x,repeat:w,repeatType:E,repeatDelay:C,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-x*(this.speed>=0?1:-1),V=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,F=o;if(w){const A=Math.min(this.currentTime,g)/v;let R=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(E==="reverse"?(k=1-k,C&&(k-=C/v)):E==="mirror"&&(F=c)),L=$i(0,1,k)*v}const I=V?{done:!1,value:f[0]}:F.next(L);u&&(I.value=u(I.value));let{done:Q}=I;!V&&h!==null&&(Q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return O&&a!==void 0&&(I.value=Um(f,this.options,a)),T&&T(I.value),O&&this.finish(),I}get duration(){const{resolved:e}=this;return e?Bi(e.calculatedDuration):0}get time(){return Bi(this.currentTime)}set time(e){e=Ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WO,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JO=new Set(["opacity","clipPath","filter","transform"]);function eI(n,e,t,{delay:r=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeInOut",times:f}={}){const h={[e]:t};f&&(h.offset=f);const g=kD(u,a);return Array.isArray(g)&&(h.easing=g),n.animate(h,{delay:r,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const tI=Av(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xh=10,nI=2e4;function rI(n){return Nv(n.type)||n.type==="spring"||!MD(n.ease)}function aI(n,e){const t=new Jv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let o=0;for(;!r.done&&o<nI;)r=t.sample(o),a.push(r.value),o+=Xh;return{times:void 0,keyframes:a,duration:o-Xh,ease:"linear"}}const M2={anticipate:o2,backInOut:s2,circInOut:c2};function iI(n){return n in M2}class uE extends S2{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new T2(o,(c,u)=>this.onKeyframesResolved(c,u),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:o,type:c,motionValue:u,name:f,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&$h()&&iI(o)&&(o=M2[o]),rI(this.options)){const{onComplete:v,onUpdate:x,motionValue:w,element:E,...C}=this.options,T=aI(e,C);e=T.keyframes,e.length===1&&(e[1]=e[0]),r=T.duration,a=T.times,o=T.ease,c="keyframes"}const g=eI(u.owner.current,f,e,{...this.options,duration:r,times:a,ease:o});return g.startTime=h??this.calcStartTime(),this.pendingTimeline?(j1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;u.set(Um(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:a,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Bi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Bi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return zr;const{animation:r}=t;j1(r,e)}return zr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:o,ease:c,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:g,onComplete:v,element:x,...w}=this.options,E=new Jv({...w,keyframes:r,duration:a,type:o,ease:c,times:u,isGenerator:!0}),C=Ui(this.time);h.setWithVelocity(E.sample(C-Xh).value,E.sample(C).value,Xh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:o,damping:c,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return tI()&&r&&JO.has(r)&&!f&&!h&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}}const sI={type:"spring",stiffness:500,damping:25,restSpeed:10},oI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),lI={type:"keyframes",duration:.8},cI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uI=(n,{keyframes:e})=>e.length>2?lI:nl.has(n)?n.startsWith("scale")?oI(e[1]):sI:cI;function dI({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:h,...g}){return!!Object.keys(g).length}const eb=(n,e,t,r={},a,o)=>c=>{const u=Rv(r,n)||{},f=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ui(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:a};dI(u)||(g={...g,...uI(n,g)}),g.duration&&(g.duration=Ui(g.duration)),g.repeatDelay&&(g.repeatDelay=Ui(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),g.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=Um(g.keyframes,u);if(x!==void 0)return Yt.update(()=>{g.onUpdate(x),g.onComplete()}),new Ok([])}return!o&&uE.supports(g)?new uE(g):new Jv(g)};function fI({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function k2(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var o;let{transition:c=n.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(c=r);const h=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in f){const x=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),w=f[v];if(w===void 0||g&&fI(g,v))continue;const E={delay:t,...Rv(c||{},v)};let C=!1;if(window.MotionHandoffAnimation){const N=t2(n);if(N){const V=window.MotionHandoffAnimation(N,v,Yt);V!==null&&(E.startTime=V,C=!0)}}l0(n,v),x.start(eb(v,x,w,n.shouldReduceMotion&&e2.has(v)?{type:!1}:E,n,C));const T=x.animation;T&&h.push(T)}return u&&Promise.all(h).then(()=>{Yt.update(()=>{u&&BP(n,u)})}),h}function v0(n,e,t={}){var r;const a=hd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(o=t.transitionOverride);const c=a?()=>Promise.all(k2(n,a,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=o;return hI(n,e,g+h,v,x,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[c,u]:[u,c];return h().then(()=>g())}else return Promise.all([c(),u(t.delay)])}function hI(n,e,t=0,r=0,a=1,o){const c=[],u=(n.variantChildren.size-1)*r,f=a===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(mI).forEach((h,g)=>{h.notify("AnimationStart",e),c.push(v0(h,e,{...o,delay:t+f(g)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(c)}function mI(n,e){return n.sortNodePosition(e)}function pI(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>v0(n,o,t));r=Promise.all(a)}else if(typeof e=="string")r=v0(n,e,t);else{const a=typeof e=="function"?hd(n,e,t.custom):e;r=Promise.all(k2(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function P2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const gI=Iv.length;function O2(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?O2(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<gI;t++){const r=Iv[t],a=n.props[r];(ud(a)||a===!1)&&(e[r]=a)}return e}const yI=[...Ov].reverse(),vI=Ov.length;function bI(n){return e=>Promise.all(e.map(({animation:t,options:r})=>pI(n,t,r)))}function xI(n){let e=bI(n),t=dE(),r=!0;const a=f=>(h,g)=>{var v;const x=hd(n,g,f==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:w,transitionEnd:E,...C}=x;h={...h,...C,...E}}return h};function o(f){e=f(n)}function c(f){const{props:h}=n,g=O2(n.parent)||{},v=[],x=new Set;let w={},E=1/0;for(let T=0;T<vI;T++){const N=yI[T],V=t[N],L=h[N]!==void 0?h[N]:g[N],F=ud(L),I=N===f?V.isActive:null;I===!1&&(E=T);let Q=L===g[N]&&L!==h[N]&&F;if(Q&&r&&n.manuallyAnimateOnMount&&(Q=!1),V.protectedKeys={...w},!V.isActive&&I===null||!L&&!V.prevProp||Vm(L)||typeof L=="boolean")continue;const O=_I(V.prevProp,L);let A=O||N===f&&V.isActive&&!Q&&F||T>E&&F,R=!1;const k=Array.isArray(L)?L:[L];let z=k.reduce(a(N),{});I===!1&&(z={});const{prevResolvedValues:Y={}}=V,B={...Y,...z},Se=ee=>{A=!0,x.has(ee)&&(R=!0,x.delete(ee)),V.needsAnimating[ee]=!0;const re=n.getValue(ee);re&&(re.liveStyle=!1)};for(const ee in B){const re=z[ee],q=Y[ee];if(w.hasOwnProperty(ee))continue;let U=!1;o0(re)&&o0(q)?U=!P2(re,q):U=re!==q,U?re!=null?Se(ee):x.add(ee):re!==void 0&&x.has(ee)?Se(ee):V.protectedKeys[ee]=!0}V.prevProp=L,V.prevResolvedValues=z,V.isActive&&(w={...w,...z}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(Q&&O)||R)&&v.push(...k.map(ee=>({animation:ee,options:{type:N}})))}if(x.size){const T={};if(typeof h.initial!="boolean"){const N=hd(n,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(T.transition=N.transition)}x.forEach(N=>{const V=n.getBaseTarget(N),L=n.getValue(N);L&&(L.liveStyle=!0),T[N]=V??null}),v.push({animation:T})}let C=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(v):Promise.resolve()}function u(f,h){var g;if(t[f].isActive===h)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(f,h)}),t[f].isActive=h;const v=c(f);for(const x in t)t[x].protectedKeys={};return v}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=dE(),r=!0}}}function _I(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!P2(e,n):!1}function Po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dE(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class Zs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wI extends Zs{constructor(e){super(e),e.animationState||(e.animationState=xI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let EI=0;class TI extends Zs{constructor(){super(...arguments),this.id=EI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SI={animation:{Feature:wI},exit:{Feature:TI}};function pd(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Vd(n){return{point:{x:n.pageX,y:n.pageY}}}const DI=n=>e=>Pv(e)&&n(e,Vd(e));function ed(n,e,t,r){return pd(n,e,DI(t),r)}function I2({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function AI({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function CI(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const j2=1e-4,RI=1-j2,NI=1+j2,V2=.01,MI=0-V2,kI=0+V2;function xr(n){return n.max-n.min}function PI(n,e,t){return Math.abs(n-e)<=t}function fE(n,e,t,r=.5){n.origin=r,n.originPoint=Jt(e.min,e.max,n.origin),n.scale=xr(t)/xr(e),n.translate=Jt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=RI&&n.scale<=NI||isNaN(n.scale))&&(n.scale=1),(n.translate>=MI&&n.translate<=kI||isNaN(n.translate))&&(n.translate=0)}function td(n,e,t,r){fE(n.x,e.x,t.x,r?r.originX:void 0),fE(n.y,e.y,t.y,r?r.originY:void 0)}function hE(n,e,t){n.min=t.min+e.min,n.max=n.min+xr(e)}function OI(n,e,t){hE(n.x,e.x,t.x),hE(n.y,e.y,t.y)}function mE(n,e,t){n.min=e.min-t.min,n.max=n.min+xr(e)}function nd(n,e,t){mE(n.x,e.x,t.x),mE(n.y,e.y,t.y)}const pE=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:pE(),y:pE()}),gE=()=>({min:0,max:0}),fn=()=>({x:gE(),y:gE()});function ua(n){return[n("x"),n("y")]}function Cy(n){return n===void 0||n===1}function b0({scale:n,scaleX:e,scaleY:t}){return!Cy(n)||!Cy(e)||!Cy(t)}function Oo(n){return b0(n)||L2(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function L2(n){return yE(n.x)||yE(n.y)}function yE(n){return n&&n!=="0%"}function Zh(n,e,t){const r=n-t,a=e*r;return t+a}function vE(n,e,t,r,a){return a!==void 0&&(n=Zh(n,a,r)),Zh(n,t,r)+e}function x0(n,e=0,t=1,r,a){n.min=vE(n.min,e,t,r,a),n.max=vE(n.max,e,t,r,a)}function U2(n,{x:e,y:t}){x0(n.x,e.translate,e.scale,e.originPoint),x0(n.y,t.translate,t.scale,t.originPoint)}const bE=.999999999999,xE=1.0000000000001;function II(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,c;for(let u=0;u<a;u++){o=t[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ac(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,U2(n,c)),r&&Oo(o.latestValues)&&ac(n,o.latestValues))}e.x<xE&&e.x>bE&&(e.x=1),e.y<xE&&e.y>bE&&(e.y=1)}function rc(n,e){n.min=n.min+e,n.max=n.max+e}function _E(n,e,t,r,a=.5){const o=Jt(n.min,n.max,a);x0(n,e,t,o,r)}function ac(n,e){_E(n.x,e.x,e.scaleX,e.scale,e.originX),_E(n.y,e.y,e.scaleY,e.scale,e.originY)}function B2(n,e){return I2(CI(n.getBoundingClientRect(),e))}function jI(n,e,t){const r=B2(n,t),{scroll:a}=e;return a&&(rc(r.x,a.offset.x),rc(r.y,a.offset.y)),r}const F2=({current:n})=>n?n.ownerDocument.defaultView:null,wE=(n,e)=>Math.abs(n-e);function VI(n,e){const t=wE(n.x,e.x),r=wE(n.y,e.y);return Math.sqrt(t**2+r**2)}class z2{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ny(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=VI(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:E}=v,{timestamp:C}=$n;this.history.push({...E,timestamp:C});const{onStart:T,onMove:N}=this.handlers;x||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ry(x,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ny(v.type==="pointercancel"?this.lastMoveEventInfo:Ry(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,T),E&&E(v,T)},!Pv(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const c=Vd(e),u=Ry(c,this.transformPagePoint),{point:f}=u,{timestamp:h}=$n;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=t;g&&g(e,Ny(u,this.history)),this.removeListeners=jd(ed(this.contextWindow,"pointermove",this.handlePointerMove),ed(this.contextWindow,"pointerup",this.handlePointerUp),ed(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fs(this.updatePoint)}}function Ry(n,e){return e?{point:e(n.point)}:n}function EE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Ny({point:n},e){return{point:n,delta:EE(n,H2(e)),offset:EE(n,LI(e)),velocity:UI(e,.1)}}function LI(n){return n[0]}function H2(n){return n[n.length-1]}function UI(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=H2(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Ui(e)));)t--;if(!r)return{x:0,y:0};const o=Bi(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function BI(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jt(t,n,r.max):Math.min(n,t)),n}function TE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function FI(n,{top:e,left:t,bottom:r,right:a}){return{x:TE(n.x,t,a),y:TE(n.y,e,r)}}function SE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function zI(n,e){return{x:SE(n.x,e.x),y:SE(n.y,e.y)}}function HI(n,e){let t=.5;const r=xr(n),a=xr(e);return a>r?t=cc(e.min,e.max-r,n.min):r>a&&(t=cc(n.min,n.max-a,e.min)),$i(0,1,t)}function YI(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const _0=.35;function qI(n=_0){return n===!1?n=0:n===!0&&(n=_0),{x:DE(n,"left","right"),y:DE(n,"top","bottom")}}function DE(n,e,t){return{min:AE(n,e),max:AE(n,t)}}function AE(n,e){return typeof n=="number"?n:n[e]||0}const GI=new WeakMap;class $I{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vd(g).point)},o=(g,v)=>{const{drag:x,dragPropagation:w,onDragStart:E}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bk(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ua(T=>{let N=this.getAxisMotionValue(T).get()||0;if(ri.test(N)){const{projection:V}=this.visualElement;if(V&&V.layout){const L=V.layout.layoutBox[T];L&&(N=xr(L)*(parseFloat(N)/100))}}this.originPoint[T]=N}),E&&Yt.postRender(()=>E(g,v)),l0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:E,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=v;if(w&&this.currentDirection===null){this.currentDirection=QI(T),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),C&&C(g,v)},u=(g,v)=>this.stop(g,v),f=()=>ua(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new z2(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:F2(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Yt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!dh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=BI(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&ec(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=FI(a.layoutBox,t):this.constraints=!1,this.elastic=qI(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ua(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=YI(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ec(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=jI(r,a.root,this.visualElement.getTransformPagePoint());let c=zI(a.layout.layoutBox,o);if(t){const u=t(AI(c));this.hasMutatedConstraints=!!u,u&&(c=I2(u))}return c}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=ua(g=>{if(!dh(g,t,this.currentDirection))return;let v=f&&f[g]||{};c&&(v={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,E={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return l0(this.visualElement,e),r.start(eb(e,r,0,t,this.visualElement,!1))}stopAnimation(){ua(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ua(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ua(t=>{const{drag:r}=this.getProps();if(!dh(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[t];o.set(e[t]-Jt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ec(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ua(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();a[c]=HI({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ua(c=>{if(!dh(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Jt(f,h,a[c]))})}addListeners(){if(!this.visualElement.current)return;GI.set(this.visualElement,this);const e=this.visualElement.current,t=ed(e,"pointerdown",f=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ec(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Yt.read(r);const c=pd(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(ua(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{c(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=_0,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function dh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function QI(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class KI extends Zs{constructor(e){super(e),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new $I(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const CE=n=>(e,t)=>{n&&Yt.postRender(()=>n(e,t))};class WI extends Zs{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(e){this.session=new z2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:CE(e),onStart:CE(t),onMove:r,onEnd:(o,c)=>{delete this.session,a&&Yt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=ed(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Lu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ke.test(n))n=parseFloat(n);else return n;const t=RE(n,e.target.x),r=RE(n,e.target.y);return`${t}% ${r}%`}},XI={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=zs.parse(n);if(a.length>5)return r;const o=zs.createTransformer(n),c=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;a[0+c]/=u,a[1+c]/=f;const h=Jt(u,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=h),typeof a[3+c]=="number"&&(a[3+c]/=h),o(a)}};class ZI extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;mP(JI),o&&(t.group&&t.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Nh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:o}=this.props,c=r.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Yt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y2(n){const[e,t]=Nk(),r=M.useContext(SD);return y.jsx(ZI,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(FD),isPresent:e,safeToRemove:t})}const JI={borderRadius:{...Lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lu,borderTopRightRadius:Lu,borderBottomLeftRadius:Lu,borderBottomRightRadius:Lu,boxShadow:XI};function e3(n,e,t){const r=ur(n)?n:cd(n);return r.start(eb("",r,e,t)),r.animation}function t3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const n3=(n,e)=>n.depth-e.depth;class r3{constructor(){this.children=[],this.isDirty=!1}add(e){Sv(this.children,e),this.isDirty=!0}remove(e){Dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n3),this.isDirty=!1,this.children.forEach(e)}}function a3(n,e){const t=ni.now(),r=({timestamp:a})=>{const o=a-t;o>=e&&(Fs(r),n(o-e))};return Yt.read(r,!0),()=>Fs(r)}const q2=["TopLeft","TopRight","BottomLeft","BottomRight"],i3=q2.length,NE=n=>typeof n=="string"?parseFloat(n):n,ME=n=>typeof n=="number"||Ke.test(n);function s3(n,e,t,r,a,o){a?(n.opacity=Jt(0,t.opacity!==void 0?t.opacity:1,o3(r)),n.opacityExit=Jt(e.opacity!==void 0?e.opacity:1,0,l3(r))):o&&(n.opacity=Jt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let c=0;c<i3;c++){const u=`border${q2[c]}Radius`;let f=kE(e,u),h=kE(t,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||ME(f)===ME(h)?(n[u]=Math.max(Jt(NE(f),NE(h),r),0),(ri.test(h)||ri.test(f))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=Jt(e.rotate||0,t.rotate||0,r))}function kE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const o3=G2(0,.5,l2),l3=G2(.5,.95,zr);function G2(n,e,t){return r=>r<n?0:r>e?1:t(cc(n,e,r))}function PE(n,e){n.min=e.min,n.max=e.max}function ca(n,e){PE(n.x,e.x),PE(n.y,e.y)}function OE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function IE(n,e,t,r,a){return n-=e,n=Zh(n,1/t,r),a!==void 0&&(n=Zh(n,1/a,r)),n}function c3(n,e=0,t=1,r=.5,a,o=n,c=n){if(ri.test(e)&&(e=parseFloat(e),e=Jt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Jt(o.min,o.max,r);n===o&&(u-=e),n.min=IE(n.min,e,t,u,a),n.max=IE(n.max,e,t,u,a)}function jE(n,e,[t,r,a],o,c){c3(n,e[t],e[r],e[a],e.scale,o,c)}const u3=["x","scaleX","originX"],d3=["y","scaleY","originY"];function VE(n,e,t,r){jE(n.x,e,u3,t?t.x:void 0,r?r.x:void 0),jE(n.y,e,d3,t?t.y:void 0,r?r.y:void 0)}function LE(n){return n.translate===0&&n.scale===1}function $2(n){return LE(n.x)&&LE(n.y)}function UE(n,e){return n.min===e.min&&n.max===e.max}function f3(n,e){return UE(n.x,e.x)&&UE(n.y,e.y)}function BE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Q2(n,e){return BE(n.x,e.x)&&BE(n.y,e.y)}function FE(n){return xr(n.x)/xr(n.y)}function zE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class h3{constructor(){this.members=[]}add(e){Sv(this.members,e),e.scheduleRender()}remove(e){if(Dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m3(n,e,t){let r="";const a=n.x.translate/e.x,o=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((a||o||c)&&(r=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:x,skewX:w,skewY:E}=t;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const My=["","X","Y","Z"],p3={visibility:"hidden"},HE=1e3;let g3=0;function ky(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function K2(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=t2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Yt,!(a||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&K2(r)}function W2({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},u=e==null?void 0:e()){this.id=g3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(b3),this.nodes.forEach(T3),this.nodes.forEach(S3),this.nodes.forEach(x3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new r3)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t3(c),this.instance=c;const{layoutId:f,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=a3(x,250),Nh.hasAnimatedSinceResize&&(Nh.hasAnimatedSinceResize=!1,this.nodes.forEach(qE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||N3,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=g.getProps(),V=!this.targetLayout||!Q2(this.targetLayout,E),L=!x&&w;if(this.options.layoutRoot||this.resumeFrom||L||x&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,L);const F={...Rv(C,"layout"),onPlay:T,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else x||qE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YE);return}this.isUpdating||this.nodes.forEach(w3),this.isUpdating=!1,this.nodes.forEach(E3),this.nodes.forEach(y3),this.nodes.forEach(v3),this.clearAllSnapshots();const u=ni.now();$n.delta=$i(0,1e3/60,u-$n.timestamp),$n.timestamp=u,$n.isProcessing=!0,Ey.update.process($n),Ey.preRender.process($n),Ey.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_3),this.sharedNodes.forEach(A3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xr(this.snapshot.measuredBox.x)&&!xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!$2(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;c&&(u||Oo(this.latestValues)||g)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),M3(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return fn();const f=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(k3))){const{scroll:g}=this.root;g&&(rc(f.x,g.offset.x),rc(f.y,g.offset.y))}return f}removeElementScroll(c){var u;const f=fn();if(ca(f,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ca(f,c),rc(f.x,v.offset.x),rc(f.y,v.offset.y))}return f}applyTransform(c,u=!1){const f=fn();ca(f,c);for(let h=0;h<this.path.length;h++){const g=this.path[h];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ac(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Oo(g.latestValues)&&ac(f,g.latestValues)}return Oo(this.latestValues)&&ac(f,this.latestValues),f}removeTransform(c){const u=fn();ca(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Oo(h.latestValues))continue;b0(h.latestValues)&&h.updateSnapshot();const g=fn(),v=h.measurePageBox();ca(g,v),VE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Oo(this.latestValues)&&VE(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),nd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ca(this.target,this.layout.layoutBox),U2(this.target,this.targetDelta)):ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),nd(this.relativeTargetOrigin,this.target,w.target),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||b0(this.parent.latestValues)||L2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(h=!1),h)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ca(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;II(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=fn());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OE(this.prevProjectionDelta.x,this.projectionDelta.x),OE(this.prevProjectionDelta.y,this.projectionDelta.y)),td(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!zE(this.projectionDelta.x,this.prevProjectionDelta.x)||!zE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},g={...this.latestValues},v=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=fn(),w=f?f.source:void 0,E=this.layout?this.layout.source:void 0,C=w!==E,T=this.getStack(),N=!T||T.members.length<=1,V=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(R3));this.animationProgress=0;let L;this.mixTargetDelta=F=>{const I=F/1e3;GE(v.x,c.x,I),GE(v.y,c.y,I),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C3(this.relativeTarget,this.relativeTargetOrigin,x,I),L&&f3(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=fn()),ca(L,this.relativeTarget)),C&&(this.animationValues=g,s3(g,h,this.latestValues,I,V,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{Nh.hasAnimatedSinceResize=!0,this.currentAnimation=e3(0,HE,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:g}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&X2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||fn();const v=xr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const x=xr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}ca(u,f),ac(u,g),td(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new h3),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&ky("z",c,h,this.animationValues);for(let g=0;g<My.length;g++)ky(`rotate${My[g]}`,c,h,this.animationValues),ky(`skew${My[g]}`,c,h,this.animationValues);c.render();for(const g in h)c.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);c.scheduleRender()}getProjectionStyles(c){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return p3;const h={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Rh(c==null?void 0:c.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none",h;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Rh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),h.transform=m3(this.projectionDeltaWithTransform,this.treeScale,x),g&&(h.transform=g(x,h.transform));const{x:w,y:E}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,v.animationValues?h.opacity=v===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in dd){if(x[C]===void 0)continue;const{correct:T,applyTo:N,isCSSVariable:V}=dd[C],L=h.transform==="none"?x[C]:T(x[C],v);if(N){const F=N.length;for(let I=0;I<F;I++)h[N[I]]=L}else V?this.options.visualElement.renderState.vars[C]=L:h[C]=L}return this.options.layoutId&&(h.pointerEvents=v===this?Rh(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(YE),this.root.sharedNodes.clear()}}}function y3(n){n.updateLayout()}function v3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:o}=n.options,c=t.source!==n.layout.source;o==="size"?ua(v=>{const x=c?t.measuredBox[v]:t.layoutBox[v],w=xr(x);x.min=r[v].min,x.max=x.min+w}):X2(o,t.layoutBox,r)&&ua(v=>{const x=c?t.measuredBox[v]:t.layoutBox[v],w=xr(r[v]);x.max=x.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+w)});const u=nc();td(u,r,t.layoutBox);const f=nc();c?td(f,n.applyTransform(a,!0),t.measuredBox):td(f,r,t.layoutBox);const h=!$2(u);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const E=fn();nd(E,t.layoutBox,x.layoutBox);const C=fn();nd(C,r,w.layoutBox),Q2(E,C)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=E,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function b3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function x3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _3(n){n.clearSnapshot()}function YE(n){n.clearMeasurements()}function w3(n){n.isLayoutDirty=!1}function E3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function T3(n){n.resolveTargetDelta()}function S3(n){n.calcProjection()}function D3(n){n.resetSkewAndRotation()}function A3(n){n.removeLeadSnapshot()}function GE(n,e,t){n.translate=Jt(e.translate,0,t),n.scale=Jt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $E(n,e,t,r){n.min=Jt(e.min,t.min,r),n.max=Jt(e.max,t.max,r)}function C3(n,e,t,r){$E(n.x,e.x,t.x,r),$E(n.y,e.y,t.y,r)}function R3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const N3={duration:.45,ease:[.4,0,.1,1]},QE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),KE=QE("applewebkit/")&&!QE("chrome/")?Math.round:zr;function WE(n){n.min=KE(n.min),n.max=KE(n.max)}function M3(n){WE(n.x),WE(n.y)}function X2(n,e,t){return n==="position"||n==="preserve-aspect"&&!PI(FE(e),FE(t),.2)}function k3(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const P3=W2({attachResizeListener:(n,e)=>pd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Py={current:void 0},Z2=W2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Py.current){const n=new P3({});n.mount(window),n.setOptions({layoutScroll:!0}),Py.current=n}return Py.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),O3={pan:{Feature:WI},drag:{Feature:KI,ProjectionNode:Z2,MeasureLayout:Y2}};function XE(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=r[a];o&&Yt.postRender(()=>o(e,Vd(e)))}class I3 extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=zk(e,(t,r)=>(XE(this.node,r,"Start"),a=>XE(this.node,a,"End"))))}unmount(){}}class j3 extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jd(pd(this.node.current,"focus",()=>this.onFocus()),pd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZE(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=r[a];o&&Yt.postRender(()=>o(e,Vd(e)))}class V3 extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=Gk(e,(t,r)=>(ZE(this.node,r,"Start"),(a,{success:o})=>ZE(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const w0=new WeakMap,Oy=new WeakMap,L3=n=>{const e=w0.get(n.target);e&&e(n)},U3=n=>{n.forEach(L3)};function B3({root:n,...e}){const t=n||document;Oy.has(t)||Oy.set(t,{});const r=Oy.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(U3,{root:n,...e})),r[a]}function F3(n,e,t){const r=B3(e);return w0.set(n,t),r.observe(n),()=>{w0.delete(n),r.unobserve(n)}}const z3={some:0,all:1};class H3 extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:z3[a]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=h?g:v;x&&x(f)};return F3(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Y3(e,t))&&this.startObserver()}unmount(){}}function Y3({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const q3={inView:{Feature:H3},tap:{Feature:V3},focus:{Feature:j3},hover:{Feature:I3}},G3={layout:{ProjectionNode:Z2,MeasureLayout:Y2}},E0={current:null},J2={current:!1};function $3(){if(J2.current=!0,!!Ev)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>E0.current=n.matches;n.addListener(e),e()}else E0.current=!1}const Q3=[...E2,ar,zs],K3=n=>Q3.find(w2(n)),W3=new WeakMap;function X3(n,e,t){for(const r in e){const a=e[r],o=t[r];if(ur(a))n.addValue(r,a);else if(ur(o))n.addValue(r,cd(a,{owner:n}));else if(o!==a)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(r);n.addValue(r,cd(c!==void 0?c:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const JE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z3{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ni.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Yt.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Lm(t),this.isVariantNode=UD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in x){const E=x[w];f[w]!==void 0&&ur(E)&&E.set(f[w],!1)}}mount(e){this.current=e,W3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),J2.current||$3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fs(this.notifyUpdate),Fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uc){const t=uc[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<JE.length;r++){const a=JE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=X3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=cd(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(x2(a)||u2(a))?a=parseFloat(a):!K3(a)&&zs.test(t)&&(a=y2(e,t)),this.setBaseTarget(e,ur(a)?a.get():a)),ur(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const c=qv(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(a=c[e])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ur(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Cv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class eA extends Z3{constructor(){super(...arguments),this.KeyframeResolver=T2}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function J3(n){return window.getComputedStyle(n)}class ej extends eA{constructor(){super(...arguments),this.type="html",this.renderInstance=WD}readValueFromInstance(e,t){if(nl.has(t))return dO(e,t);{const r=J3(e),a=(Vv(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return B2(e,t)}build(e,t,r){Bv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Gv(e,t,r)}}class tj extends eA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&KD(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(nl.has(t)){const r=g2(t);return r&&r.default||0}return t=XD.has(t)?t:jv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return JD(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Yt.postRender(this.updateDimensions)}build(e,t,r){Hv(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){ZD(e,t,r,a)}mount(e){this.isSVGTag=Yv(e.tagName),super.mount(e)}}const nj=(n,e)=>zv(n)?new tj(e):new ej(e,{allowProjection:n!==M.Fragment}),rj=LP({...SI,...q3,...O3,...G3},nj),ve=eP(rj),aj={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeInOut"}}},eT={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delay:.3,duration:.5}}},ij=()=>{const[n,e]=M.useState(null),t=Bn(),r=()=>{n==="user"?t("/nafany/register_user"):n==="provider"?t("/nafany/register"):alert("الرجاء اختيار نوع الحساب")};return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:y.jsxs(ve.div,{variants:aj,initial:"hidden",animate:"visible",className:"p-6 bg-white rounded-lg shadow-md text-right w-full max-w-[40rem] border border-cyan-100 dark:bg-gray-800",dir:"rtl",children:[y.jsx(ve.h2,{variants:eT,className:"text-2xl font-bold text-cyan-900 mb-8 text-center dark:text-cyan-300",children:"تسجيل حساب جديد"}),y.jsx("h3",{className:"text-xl text-gray-700 mb-4 text-center dark:text-gray-300",children:"اختر نوع الحساب"}),y.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-center mb-8",children:[{type:"user",label:"مستخدم خدمة",desc:"أبحث عن مقدمي الخدمات"},{type:"provider",label:"مقدم خدمة",desc:"أقدم خدماتي للعملاء"}].map(({type:a,label:o,desc:c})=>y.jsxs(ve.div,{variants:eT,whileHover:{scale:1.05},whileTap:{scale:.95},className:`border-2 p-4 rounded-lg cursor-pointer transition-all ${n===a?"border-cyan-600 bg-cyan-50":"border-gray-200"}`,onClick:()=>e(a),children:[y.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[y.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${n===a?"border-cyan-600":"border-gray-300"}`,children:n===a&&y.jsx("div",{className:"w-3 h-3 bg-cyan-600 rounded-full"})}),y.jsx("h4",{className:"text-lg font-medium dark:text-gray-200",children:o})]}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mr-10",children:c})]},a))}),y.jsxs("div",{className:"flex justify-center gap-4",children:[y.jsx(ve.button,{onClick:r,whileHover:{scale:n?1.05:1},whileTap:{scale:.95},className:`px-8 py-3 rounded-full font-bold transition-all ${n?"bg-cyan-600 hover:bg-cyan-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!n,children:"متابعة"}),y.jsx(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"px-8 py-3 rounded-full font-bold bg-gray-500 hover:bg-gray-600 text-white",children:"رجوع"})]})]})})},sj={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},exit:{opacity:0,y:-20}},oj={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.3,duration:.5}}},lj={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{delay:.5,duration:.5}}},cj=()=>y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:y.jsxs(ve.div,{variants:sj,initial:"hidden",animate:"visible",exit:"exit",className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100 dark:bg-gray-800",dir:"rtl",children:[y.jsx(ve.h2,{variants:oj,initial:"hidden",animate:"visible",className:"text-2xl font-bold text-cyan-800 mb-6 text-center dark:text-cyan-300",children:"تسجيل حساب جديد"}),y.jsxs(ve.div,{variants:lj,initial:"hidden",animate:"visible",className:"bg-gradient-to-r from-cyan-50 to-blue-50 p-6 rounded-lg mb-6 border border-cyan-100 dark:bg-gray-700",children:[y.jsx("h3",{className:"text-xl text-gray-700 mb-6 text-center font-medium dark:text-gray-300",children:"هل سبق لك التسجيل في الموقع؟"}),y.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[y.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsx(lc,{to:"/nafany/login",className:"inline-block px-8 py-3 text-white rounded-lg bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 transition-colors duration-300 font-medium shadow-md cursor-pointer",children:"نعم"})}),y.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsx(lc,{to:"/nafany/check_user",className:"inline-block px-8 py-3 border-2 border-cyan-600 text-cyan-600 rounded-lg hover:bg-cyan-50 transition-colors duration-300 font-medium cursor-pointer",children:"لا"})})]})]})]})}),uj=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},dj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],u=n[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,u=c?n[a+1]:0,f=a+2<n.length,h=f?n[a+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;f||(w=64,c||(x=64)),r.push(t[g],t[v],t[x],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const h=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||h==null||v==null)throw new fj;const x=o<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const E=h<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hj=function(n){const e=tA(n);return nA.encodeByteArray(e,!0)},Jh=function(n){return hj(n).replace(/\./g,"")},mj=function(n){try{return nA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=()=>pj().__FIREBASE_DEFAULTS__,yj=()=>{if(typeof process>"u"||typeof tT>"u")return;const n=tT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mj(n[1]);return e&&JSON.parse(e)},tb=()=>{try{return uj()||gj()||yj()||vj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bj=n=>{var e,t;return(t=(e=tb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rA=n=>{const e=bj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aA=()=>{var n;return(n=tb())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jh(JSON.stringify(t)),Jh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wj(){var n;const e=(n=tb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ej(){return!wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tj(){try{return typeof indexedDB=="object"}catch{return!1}}function Sj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="FirebaseError";class rl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Dj,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sA.prototype.create)}}class sA{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?Aj(o,r):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new rl(a,u,r)}}function Aj(n,e){return n.replace(Cj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Cj=/\{\$([^}]+)}/g;function gd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(nT(o)&&nT(c)){if(!gd(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function nT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n){return n&&n._delegate?n._delegate:n}class fc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mj(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nj(n){return n===Io?void 0:n}function Mj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Rj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bt||(bt={}));const Pj={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},Oj=bt.INFO,Ij={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},jj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Ij[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oA{constructor(e){this.name=e,this._logLevel=Oj,this._logHandler=jj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const Vj=(n,e)=>e.some(t=>n instanceof t);let rT,aT;function Lj(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uj(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lA=new WeakMap,T0=new WeakMap,cA=new WeakMap,Iy=new WeakMap,nb=new WeakMap;function Bj(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ps(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lA.set(t,n)}).catch(()=>{}),nb.set(e,n),e}function Fj(n){if(T0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});T0.set(n,e)}let S0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return T0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zj(n){S0=n(S0)}function Hj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(jy(this),e,...t);return cA.set(r,e.sort?e.sort():[e]),Ps(r)}:Uj().includes(n)?function(...e){return n.apply(jy(this),e),Ps(lA.get(this))}:function(...e){return Ps(n.apply(jy(this),e))}}function Yj(n){return typeof n=="function"?Hj(n):(n instanceof IDBTransaction&&Fj(n),Vj(n,Lj())?new Proxy(n,S0):n)}function Ps(n){if(n instanceof IDBRequest)return Bj(n);if(Iy.has(n))return Iy.get(n);const e=Yj(n);return e!==n&&(Iy.set(n,e),nb.set(e,n)),e}const jy=n=>nb.get(n);function qj(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),u=Ps(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Ps(c.result),f.oldVersion,f.newVersion,Ps(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Gj=["get","getKey","getAll","getAllKeys","count"],$j=["put","add","delete","clear"],Vy=new Map;function iT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vy.get(e))return Vy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=$j.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Gj.includes(t)))return;const o=async function(c,...u){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),a&&f.done]))[0]};return Vy.set(e,o),o}zj(n=>({...n,get:(e,t,r)=>iT(e,t)||n.get(e,t,r),has:(e,t)=>!!iT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Kj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D0="@firebase/app",sT="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new oA("@firebase/app"),Wj="@firebase/app-compat",Xj="@firebase/analytics-compat",Zj="@firebase/analytics",Jj="@firebase/app-check-compat",e6="@firebase/app-check",t6="@firebase/auth",n6="@firebase/auth-compat",r6="@firebase/database",a6="@firebase/data-connect",i6="@firebase/database-compat",s6="@firebase/functions",o6="@firebase/functions-compat",l6="@firebase/installations",c6="@firebase/installations-compat",u6="@firebase/messaging",d6="@firebase/messaging-compat",f6="@firebase/performance",h6="@firebase/performance-compat",m6="@firebase/remote-config",p6="@firebase/remote-config-compat",g6="@firebase/storage",y6="@firebase/storage-compat",v6="@firebase/firestore",b6="@firebase/vertexai",x6="@firebase/firestore-compat",_6="firebase",w6="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="[DEFAULT]",E6={[D0]:"fire-core",[Wj]:"fire-core-compat",[Zj]:"fire-analytics",[Xj]:"fire-analytics-compat",[e6]:"fire-app-check",[Jj]:"fire-app-check-compat",[t6]:"fire-auth",[n6]:"fire-auth-compat",[r6]:"fire-rtdb",[a6]:"fire-data-connect",[i6]:"fire-rtdb-compat",[s6]:"fire-fn",[o6]:"fire-fn-compat",[l6]:"fire-iid",[c6]:"fire-iid-compat",[u6]:"fire-fcm",[d6]:"fire-fcm-compat",[f6]:"fire-perf",[h6]:"fire-perf-compat",[m6]:"fire-rc",[p6]:"fire-rc-compat",[g6]:"fire-gcs",[y6]:"fire-gcs-compat",[v6]:"fire-fst",[x6]:"fire-fst-compat",[b6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,T6=new Map,C0=new Map;function oT(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yd(n){const e=n.name;if(C0.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,n);for(const t of em.values())oT(t,n);for(const t of T6.values())oT(t,n);return!0}function uA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new sA("app","Firebase",S6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=w6;function hA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:A0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=aA()),!t)throw Os.create("no-options");const o=em.get(a);if(o){if(gd(t,o.options)&&gd(r,o.config))return o;throw Os.create("duplicate-app",{appName:a})}const c=new kj(a);for(const f of C0.values())c.addComponent(f);const u=new D6(t,r,c);return em.set(a,u),u}function mA(n=A0){const e=em.get(n);if(!e&&n===A0&&aA())return hA();if(!e)throw Os.create("no-app",{appName:n});return e}function Is(n,e,t){var r;let a=(r=E6[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(u.join(" "));return}yd(new fc(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-heartbeat-database",C6=1,vd="firebase-heartbeat-store";let Ly=null;function pA(){return Ly||(Ly=qj(A6,C6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),Ly}async function R6(n){try{const t=(await pA()).transaction(vd),r=await t.objectStore(vd).get(gA(n));return await t.done,r}catch(e){if(e instanceof rl)Qi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(t.message)}}}async function lT(n,e){try{const r=(await pA()).transaction(vd,"readwrite");await r.objectStore(vd).put(e,gA(n)),await r.done}catch(t){if(t instanceof rl)Qi.warn(t.message);else{const r=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qi.warn(r.message)}}}function gA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1024,M6=30;class k6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new O6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>M6){const c=I6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cT(),{heartbeatsToSend:r,unsentEntries:a}=P6(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}}}function cT(){return new Date().toISOString().substring(0,10)}function P6(n,e=N6){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),uT(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),uT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class O6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tj()?Sj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return lT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return lT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function uT(n){return Jh(JSON.stringify({version:2,heartbeats:n})).length}function I6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(n){yd(new fc("platform-logger",e=>new Qj(e),"PRIVATE")),yd(new fc("heartbeat",e=>new k6(e),"PRIVATE")),Is(D0,sT,n),Is(D0,sT,"esm2017"),Is("fire-js","")}j6("");var V6="firebase",L6="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(V6,L6,"app");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,yA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(k,z,Y){for(var B=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)B[Se-2]=arguments[Se];return A.prototype[z].apply(k,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,A,R){R||(R=0);var k=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)k[z]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(z=0;16>z;++z)k[z]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],z=O.g[2];var Y=O.g[3],B=A+(Y^R&(z^Y))+k[0]+3614090360&4294967295;A=R+(B<<7&4294967295|B>>>25),B=Y+(z^A&(R^z))+k[1]+3905402710&4294967295,Y=A+(B<<12&4294967295|B>>>20),B=z+(R^Y&(A^R))+k[2]+606105819&4294967295,z=Y+(B<<17&4294967295|B>>>15),B=R+(A^z&(Y^A))+k[3]+3250441966&4294967295,R=z+(B<<22&4294967295|B>>>10),B=A+(Y^R&(z^Y))+k[4]+4118548399&4294967295,A=R+(B<<7&4294967295|B>>>25),B=Y+(z^A&(R^z))+k[5]+1200080426&4294967295,Y=A+(B<<12&4294967295|B>>>20),B=z+(R^Y&(A^R))+k[6]+2821735955&4294967295,z=Y+(B<<17&4294967295|B>>>15),B=R+(A^z&(Y^A))+k[7]+4249261313&4294967295,R=z+(B<<22&4294967295|B>>>10),B=A+(Y^R&(z^Y))+k[8]+1770035416&4294967295,A=R+(B<<7&4294967295|B>>>25),B=Y+(z^A&(R^z))+k[9]+2336552879&4294967295,Y=A+(B<<12&4294967295|B>>>20),B=z+(R^Y&(A^R))+k[10]+4294925233&4294967295,z=Y+(B<<17&4294967295|B>>>15),B=R+(A^z&(Y^A))+k[11]+2304563134&4294967295,R=z+(B<<22&4294967295|B>>>10),B=A+(Y^R&(z^Y))+k[12]+1804603682&4294967295,A=R+(B<<7&4294967295|B>>>25),B=Y+(z^A&(R^z))+k[13]+4254626195&4294967295,Y=A+(B<<12&4294967295|B>>>20),B=z+(R^Y&(A^R))+k[14]+2792965006&4294967295,z=Y+(B<<17&4294967295|B>>>15),B=R+(A^z&(Y^A))+k[15]+1236535329&4294967295,R=z+(B<<22&4294967295|B>>>10),B=A+(z^Y&(R^z))+k[1]+4129170786&4294967295,A=R+(B<<5&4294967295|B>>>27),B=Y+(R^z&(A^R))+k[6]+3225465664&4294967295,Y=A+(B<<9&4294967295|B>>>23),B=z+(A^R&(Y^A))+k[11]+643717713&4294967295,z=Y+(B<<14&4294967295|B>>>18),B=R+(Y^A&(z^Y))+k[0]+3921069994&4294967295,R=z+(B<<20&4294967295|B>>>12),B=A+(z^Y&(R^z))+k[5]+3593408605&4294967295,A=R+(B<<5&4294967295|B>>>27),B=Y+(R^z&(A^R))+k[10]+38016083&4294967295,Y=A+(B<<9&4294967295|B>>>23),B=z+(A^R&(Y^A))+k[15]+3634488961&4294967295,z=Y+(B<<14&4294967295|B>>>18),B=R+(Y^A&(z^Y))+k[4]+3889429448&4294967295,R=z+(B<<20&4294967295|B>>>12),B=A+(z^Y&(R^z))+k[9]+568446438&4294967295,A=R+(B<<5&4294967295|B>>>27),B=Y+(R^z&(A^R))+k[14]+3275163606&4294967295,Y=A+(B<<9&4294967295|B>>>23),B=z+(A^R&(Y^A))+k[3]+4107603335&4294967295,z=Y+(B<<14&4294967295|B>>>18),B=R+(Y^A&(z^Y))+k[8]+1163531501&4294967295,R=z+(B<<20&4294967295|B>>>12),B=A+(z^Y&(R^z))+k[13]+2850285829&4294967295,A=R+(B<<5&4294967295|B>>>27),B=Y+(R^z&(A^R))+k[2]+4243563512&4294967295,Y=A+(B<<9&4294967295|B>>>23),B=z+(A^R&(Y^A))+k[7]+1735328473&4294967295,z=Y+(B<<14&4294967295|B>>>18),B=R+(Y^A&(z^Y))+k[12]+2368359562&4294967295,R=z+(B<<20&4294967295|B>>>12),B=A+(R^z^Y)+k[5]+4294588738&4294967295,A=R+(B<<4&4294967295|B>>>28),B=Y+(A^R^z)+k[8]+2272392833&4294967295,Y=A+(B<<11&4294967295|B>>>21),B=z+(Y^A^R)+k[11]+1839030562&4294967295,z=Y+(B<<16&4294967295|B>>>16),B=R+(z^Y^A)+k[14]+4259657740&4294967295,R=z+(B<<23&4294967295|B>>>9),B=A+(R^z^Y)+k[1]+2763975236&4294967295,A=R+(B<<4&4294967295|B>>>28),B=Y+(A^R^z)+k[4]+1272893353&4294967295,Y=A+(B<<11&4294967295|B>>>21),B=z+(Y^A^R)+k[7]+4139469664&4294967295,z=Y+(B<<16&4294967295|B>>>16),B=R+(z^Y^A)+k[10]+3200236656&4294967295,R=z+(B<<23&4294967295|B>>>9),B=A+(R^z^Y)+k[13]+681279174&4294967295,A=R+(B<<4&4294967295|B>>>28),B=Y+(A^R^z)+k[0]+3936430074&4294967295,Y=A+(B<<11&4294967295|B>>>21),B=z+(Y^A^R)+k[3]+3572445317&4294967295,z=Y+(B<<16&4294967295|B>>>16),B=R+(z^Y^A)+k[6]+76029189&4294967295,R=z+(B<<23&4294967295|B>>>9),B=A+(R^z^Y)+k[9]+3654602809&4294967295,A=R+(B<<4&4294967295|B>>>28),B=Y+(A^R^z)+k[12]+3873151461&4294967295,Y=A+(B<<11&4294967295|B>>>21),B=z+(Y^A^R)+k[15]+530742520&4294967295,z=Y+(B<<16&4294967295|B>>>16),B=R+(z^Y^A)+k[2]+3299628645&4294967295,R=z+(B<<23&4294967295|B>>>9),B=A+(z^(R|~Y))+k[0]+4096336452&4294967295,A=R+(B<<6&4294967295|B>>>26),B=Y+(R^(A|~z))+k[7]+1126891415&4294967295,Y=A+(B<<10&4294967295|B>>>22),B=z+(A^(Y|~R))+k[14]+2878612391&4294967295,z=Y+(B<<15&4294967295|B>>>17),B=R+(Y^(z|~A))+k[5]+4237533241&4294967295,R=z+(B<<21&4294967295|B>>>11),B=A+(z^(R|~Y))+k[12]+1700485571&4294967295,A=R+(B<<6&4294967295|B>>>26),B=Y+(R^(A|~z))+k[3]+2399980690&4294967295,Y=A+(B<<10&4294967295|B>>>22),B=z+(A^(Y|~R))+k[10]+4293915773&4294967295,z=Y+(B<<15&4294967295|B>>>17),B=R+(Y^(z|~A))+k[1]+2240044497&4294967295,R=z+(B<<21&4294967295|B>>>11),B=A+(z^(R|~Y))+k[8]+1873313359&4294967295,A=R+(B<<6&4294967295|B>>>26),B=Y+(R^(A|~z))+k[15]+4264355552&4294967295,Y=A+(B<<10&4294967295|B>>>22),B=z+(A^(Y|~R))+k[6]+2734768916&4294967295,z=Y+(B<<15&4294967295|B>>>17),B=R+(Y^(z|~A))+k[13]+1309151649&4294967295,R=z+(B<<21&4294967295|B>>>11),B=A+(z^(R|~Y))+k[4]+4149444226&4294967295,A=R+(B<<6&4294967295|B>>>26),B=Y+(R^(A|~z))+k[11]+3174756917&4294967295,Y=A+(B<<10&4294967295|B>>>22),B=z+(A^(Y|~R))+k[2]+718787259&4294967295,z=Y+(B<<15&4294967295|B>>>17),B=R+(Y^(z|~A))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(z+(B<<21&4294967295|B>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+Y&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,k=this.B,z=this.h,Y=0;Y<A;){if(z==0)for(;Y<=R;)a(this,O,Y),Y+=this.blockSize;if(typeof O=="string"){for(;Y<A;)if(k[z++]=O.charCodeAt(Y++),z==this.blockSize){a(this,k),z=0;break}}else for(;Y<A;)if(k[z++]=O[Y++],z==this.blockSize){a(this,k),z=0;break}}this.h=z,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var k=0;32>k;k+=8)O[R++]=this.g[A]>>>k&255;return O};function o(O,A){var R=u;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function c(O,A){this.h=A;for(var R=[],k=!0,z=O.length-1;0<=z;z--){var Y=O[z]|0;k&&Y==A||(R[z]=Y,k=!1)}this.g=R}var u={};function f(O){return-128<=O&&128>O?o(O,function(A){return new c([A|0],0>A?-1:0)}):new c([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return T(h(-O));for(var A=[],R=1,k=0;O>=R;k++)A[k]=O/R|0,R*=4294967296;return new c(A,0)}function g(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return T(g(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(A,8)),k=v,z=0;z<O.length;z+=8){var Y=Math.min(8,O.length-z),B=parseInt(O.substring(z,z+Y),A);8>Y?(Y=h(Math.pow(A,Y)),k=k.j(Y).add(h(B))):(k=k.j(R),k=k.add(h(B)))}return k}var v=f(0),x=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-T(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var k=this.i(R);O+=(0<=k?k:4294967296+k)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(C(this))return"-"+T(this).toString(O);for(var A=h(Math.pow(O,6)),R=this,k="";;){var z=F(R,A).g;R=N(R,z.j(A));var Y=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=z,E(R))return Y+k;for(;6>Y.length;)Y="0"+Y;k=Y+k}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function C(O){return O.h==-1}n.l=function(O){return O=N(this,O),C(O)?-1:E(O)?0:1};function T(O){for(var A=O.g.length,R=[],k=0;k<A;k++)R[k]=~O.g[k];return new c(R,~O.h).add(x)}n.abs=function(){return C(this)?T(this):this},n.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],k=0,z=0;z<=A;z++){var Y=k+(this.i(z)&65535)+(O.i(z)&65535),B=(Y>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);k=B>>>16,Y&=65535,B&=65535,R[z]=B<<16|Y}return new c(R,R[R.length-1]&-2147483648?-1:0)};function N(O,A){return O.add(T(A))}n.j=function(O){if(E(this)||E(O))return v;if(C(this))return C(O)?T(this).j(T(O)):T(T(this).j(O));if(C(O))return T(this.j(T(O)));if(0>this.l(w)&&0>O.l(w))return h(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var z=0;z<O.g.length;z++){var Y=this.i(k)>>>16,B=this.i(k)&65535,Se=O.i(z)>>>16,we=O.i(z)&65535;R[2*k+2*z]+=B*we,V(R,2*k+2*z),R[2*k+2*z+1]+=Y*we,V(R,2*k+2*z+1),R[2*k+2*z+1]+=B*Se,V(R,2*k+2*z+1),R[2*k+2*z+2]+=Y*Se,V(R,2*k+2*z+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new c(R,0)};function V(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function L(O,A){this.g=O,this.h=A}function F(O,A){if(E(A))throw Error("division by zero");if(E(O))return new L(v,v);if(C(O))return A=F(T(O),A),new L(T(A.g),T(A.h));if(C(A))return A=F(O,T(A)),new L(T(A.g),A.h);if(30<O.g.length){if(C(O)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,k=A;0>=k.l(O);)R=I(R),k=I(k);var z=Q(R,1),Y=Q(k,1);for(k=Q(k,2),R=Q(R,2);!E(k);){var B=Y.add(k);0>=B.l(O)&&(z=z.add(R),Y=B),k=Q(k,1),R=Q(R,1)}return A=N(O,z.j(A)),new L(z,A)}for(z=v;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),Y=h(R),B=Y.j(A);C(B)||0<B.l(O);)R-=k,Y=h(R),B=Y.j(A);E(Y)&&(Y=x),z=z.add(Y),O=N(O,B)}return new L(z,O)}n.A=function(O){return F(this,O).h},n.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)&O.i(k);return new c(R,this.h&O.h)},n.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)|O.i(k);return new c(R,this.h|O.h)},n.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)^O.i(k);return new c(R,this.h^O.h)};function I(O){for(var A=O.g.length+1,R=[],k=0;k<A;k++)R[k]=O.i(k)<<1|O.i(k-1)>>>31;return new c(R,O.h)}function Q(O,A){var R=A>>5;A%=32;for(var k=O.g.length-R,z=[],Y=0;Y<k;Y++)z[Y]=0<A?O.i(Y+R)>>>A|O.i(Y+R+1)<<32-A:O.i(Y+R);return new c(z,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=g,js=c}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vA,$u,bA,Mh,R0,xA,_A,wA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,S){return m==Array.prototype||m==Object.prototype||(m[_]=S.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var _=0;_<m.length;++_){var S=m[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var S=r;m=m.split(".");for(var j=0;j<m.length-1;j++){var te=m[j];if(!(te in S))break e;S=S[te]}m=m[m.length-1],j=S[m],_=_(j),_!=j&&_!=null&&e(S,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var S=0,j=!1,te={next:function(){if(!j&&S<m.length){var oe=S++;return{value:_(oe,m[oe]),done:!1}}return j=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}a("Array.prototype.values",function(m){return m||function(){return o(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function g(m,_,S){return m.call.apply(m.bind,arguments)}function v(m,_,S){if(!m)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,j),m.apply(_,te)}}return function(){return m.apply(_,arguments)}}function x(m,_,S){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,x.apply(null,arguments)}function w(m,_){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),m.apply(this,j)}}function E(m,_){function S(){}S.prototype=_.prototype,m.aa=_.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(j,te,oe){for(var Te=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Te[pt-2]=arguments[pt];return _.prototype[te].apply(j,Te)}}function C(m){const _=m.length;if(0<_){const S=Array(_);for(let j=0;j<_;j++)S[j]=m[j];return S}return[]}function T(m,_){for(let S=1;S<arguments.length;S++){const j=arguments[S];if(f(j)){const te=m.length||0,oe=j.length||0;m.length=te+oe;for(let Te=0;Te<oe;Te++)m[te+Te]=j[Te]}else m.push(j)}}class N{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(m){return/^[\s\xa0]*$/.test(m)}function L(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function F(m){return F[" "](m),m}F[" "]=function(){};var I=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Q(m,_,S){for(const j in m)_.call(S,m[j],j,m)}function O(m,_){for(const S in m)_.call(void 0,m[S],S,m)}function A(m){const _={};for(const S in m)_[S]=m[S];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,_){let S,j;for(let te=1;te<arguments.length;te++){j=arguments[te];for(S in j)m[S]=j[S];for(let oe=0;oe<R.length;oe++)S=R[oe],Object.prototype.hasOwnProperty.call(j,S)&&(m[S]=j[S])}}function z(m){var _=1;m=m.split(":");const S=[];for(;0<_&&m.length;)S.push(m.shift()),_--;return m.length&&S.push(m.join(":")),S}function Y(m){u.setTimeout(()=>{throw m},0)}function B(){var m=q;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Se{constructor(){this.h=this.g=null}add(_,S){const j=we.get();j.set(_,S),this.h?this.h.next=j:this.g=j,this.h=j}}var we=new N(()=>new ie,m=>m.reset());class ie{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,q=new Se,U=()=>{const m=u.Promise.resolve(void 0);ee=()=>{m.then(X)}};var X=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch(S){Y(S)}var _=we;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}re=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return m}();function de(m,_){if(xe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,j=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(I){e:{try{F(_.nodeName);var te=!0;break e}catch{}te=!1}te||(_=null)}}else S=="mouseover"?_=m.fromElement:S=="mouseout"&&(_=m.toElement);this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&de.aa.h.call(this)}}E(de,xe);var le={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ne(m,_,S,j,te){this.listener=m,this.proxy=null,this.src=_,this.type=S,this.capture=!!j,this.ha=te,this.key=++Ee,this.da=this.fa=!1}function qe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function dt(m){this.src=m,this.g={},this.h=0}dt.prototype.add=function(m,_,S,j,te){var oe=m.toString();m=this.g[oe],m||(m=this.g[oe]=[],this.h++);var Te=Xe(m,_,j,te);return-1<Te?(_=m[Te],S||(_.fa=!1)):(_=new Ne(_,this.src,oe,!!j,te),_.fa=S,m.push(_)),_};function nt(m,_){var S=_.type;if(S in m.g){var j=m.g[S],te=Array.prototype.indexOf.call(j,_,void 0),oe;(oe=0<=te)&&Array.prototype.splice.call(j,te,1),oe&&(qe(_),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Xe(m,_,S,j){for(var te=0;te<m.length;++te){var oe=m[te];if(!oe.da&&oe.listener==_&&oe.capture==!!S&&oe.ha==j)return te}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),$e={};function ot(m,_,S,j,te){if(Array.isArray(_)){for(var oe=0;oe<_.length;oe++)ot(m,_[oe],S,j,te);return null}return S=kr(S),m&&m[Ce]?m.K(_,S,h(j)?!!j.capture:!1,te):Lt(m,_,S,!1,j,te)}function Lt(m,_,S,j,te,oe){if(!_)throw Error("Invalid event type");var Te=h(te)?!!te.capture:!!te,pt=Tr(m);if(pt||(m[_e]=pt=new dt(m)),S=pt.add(_,S,j,Te,oe),S.proxy)return S;if(j=Yr(),S.proxy=j,j.src=m,j.listener=S,m.addEventListener)ge||(te=Te),te===void 0&&(te=!1),m.addEventListener(_.toString(),j,te);else if(m.attachEvent)m.attachEvent(Qt(_.toString()),j);else if(m.addListener&&m.removeListener)m.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Yr(){function m(S){return _.call(m.src,m.listener,S)}const _=Mr;return m}function Er(m,_,S,j,te){if(Array.isArray(_))for(var oe=0;oe<_.length;oe++)Er(m,_[oe],S,j,te);else j=h(j)?!!j.capture:!!j,S=kr(S),m&&m[Ce]?(m=m.i,_=String(_).toString(),_ in m.g&&(oe=m.g[_],S=Xe(oe,S,j,te),-1<S&&(qe(oe[S]),Array.prototype.splice.call(oe,S,1),oe.length==0&&(delete m.g[_],m.h--)))):m&&(m=Tr(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Xe(_,S,j,te)),(S=-1<m?_[m]:null)&&fr(S))}function fr(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ce])nt(_.i,m);else{var S=m.type,j=m.proxy;_.removeEventListener?_.removeEventListener(S,j,m.capture):_.detachEvent?_.detachEvent(Qt(S),j):_.addListener&&_.removeListener&&_.removeListener(j),(S=Tr(_))?(nt(S,m),S.h==0&&(S.src=null,_[_e]=null)):qe(m)}}}function Qt(m){return m in $e?$e[m]:$e[m]="on"+m}function Mr(m,_){if(m.da)m=!0;else{_=new de(_,this);var S=m.listener,j=m.ha||m.src;m.fa&&fr(m),m=S.call(j,_)}return m}function Tr(m){return m=m[_e],m instanceof dt?m:null}var Nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(m){return typeof m=="function"?m:(m[Nn]||(m[Nn]=function(_){return m.handleEvent(_)}),m[Nn])}function Pt(){be.call(this),this.i=new dt(this),this.M=this,this.F=null}E(Pt,be),Pt.prototype[Ce]=!0,Pt.prototype.removeEventListener=function(m,_,S,j){Er(this,m,_,S,j)};function cn(m,_){var S,j=m.F;if(j)for(S=[];j;j=j.F)S.push(j);if(m=m.M,j=_.type||_,typeof _=="string")_=new xe(_,m);else if(_ instanceof xe)_.target=_.target||m;else{var te=_;_=new xe(j,m),k(_,te)}if(te=!0,S)for(var oe=S.length-1;0<=oe;oe--){var Te=_.g=S[oe];te=Pr(Te,j,!0,_)&&te}if(Te=_.g=m,te=Pr(Te,j,!0,_)&&te,te=Pr(Te,j,!1,_)&&te,S)for(oe=0;oe<S.length;oe++)Te=_.g=S[oe],te=Pr(Te,j,!1,_)&&te}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var S=m.g[_],j=0;j<S.length;j++)qe(S[j]);delete m.g[_],m.h--}}this.F=null},Pt.prototype.K=function(m,_,S,j){return this.i.add(String(m),_,!1,S,j)},Pt.prototype.L=function(m,_,S,j){return this.i.add(String(m),_,!0,S,j)};function Pr(m,_,S,j){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var te=!0,oe=0;oe<_.length;++oe){var Te=_[oe];if(Te&&!Te.da&&Te.capture==S){var pt=Te.listener,En=Te.ha||Te.src;Te.fa&&nt(m.i,Te),te=pt.call(En,j)!==!1&&te}}return te&&!j.defaultPrevented}function ol(m,_,S){if(typeof m=="function")S&&(m=x(m,S));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Sr(m){m.g=ol(()=>{m.g=null,m.i&&(m.i=!1,Sr(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class ll extends be{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(m){be.call(this),this.h=m,this.g={}}E(Pa,be);var va=[];function Mn(m){Q(m.g,function(_,S){this.g.hasOwnProperty(S)&&fr(_)},m),m.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Mn(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=u.JSON.stringify,hr=u.JSON.parse,kn=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function mi(){}mi.prototype.h=null;function cl(m){return m.h||(m.h=m.i())}function no(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ba(){xe.call(this,"d")}E(ba,xe);function Jn(){xe.call(this,"c")}E(Jn,xe);var zn={},Oa=null;function ts(){return Oa=Oa||new Pt}zn.La="serverreachability";function G(m){xe.call(this,zn.La,m)}E(G,xe);function W(m){const _=ts();cn(_,new G(_))}zn.STAT_EVENT="statevent";function se(m,_){xe.call(this,zn.STAT_EVENT,m),this.stat=_}E(se,xe);function fe(m){const _=ts();cn(_,new se(_,m))}zn.Ma="timingevent";function De(m,_){xe.call(this,zn.Ma,m),this.size=_}E(De,xe);function ze(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Ve(m,_,S,j,te,oe){m.info(function(){if(m.g)if(oe)for(var Te="",pt=oe.split("&"),En=0;En<pt.length;En++){var gt=pt[En].split("=");if(1<gt.length){var In=gt[0];gt=gt[1];var Tn=In.split("_");Te=2<=Tn.length&&Tn[1]=="type"?Te+(In+"="+gt+"&"):Te+(In+"=redacted&")}}else Te=null;else Te=oe;return"XMLHTTP REQ ("+j+") [attempt "+te+"]: "+_+`
`+S+`
`+Te})}function Ue(m,_,S,j,te,oe,Te){m.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+te+"]: "+_+`
`+S+`
`+oe+" "+Te})}function Ae(m,_,S,j){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ie(m,S)+(j?" "+j:"")})}function Oe(m,_){m.info(function(){return"TIMEOUT: "+_})}Fe.prototype.info=function(){};function Ie(m,_){if(!m.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var j=S[m];if(!(2>j.length)){var te=j[1];if(Array.isArray(te)&&!(1>te.length)){var oe=te[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Te=1;Te<te.length;Te++)te[Te]=""}}}}return es(S)}catch{return _}}var Ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Et={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kt;function Ut(){}E(Ut,mi),Ut.prototype.g=function(){return new XMLHttpRequest},Ut.prototype.i=function(){return{}},Kt=new Ut;function xt(m,_,S,j){this.j=m,this.i=_,this.l=S,this.R=j||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var mr={},Or={};function un(m,_,S){m.L=1,m.v=so(nn(_)),m.m=S,m.P=!0,gn(m,null)}function gn(m,_){m.F=Date.now(),At(m),m.A=nn(m.v);var S=m.A,j=m.R;Array.isArray(j)||(j=[String(j)]),vi(S.i,"t",j),m.C=0,S=m.j.J,m.h=new qt,m.g=sf(m.j,S?_:null,!m.m),0<m.O&&(m.M=new ll(x(m.Y,m,m.g),m.O)),_=m.U,S=m.g,j=m.ca;var te="readystatechange";Array.isArray(te)||(te&&(va[0]=te.toString()),te=va);for(var oe=0;oe<te.length;oe++){var Te=ot(S,te[oe],j||_.handleEvent,!1,_.h||_);if(!Te)break;_.g[Te.key]=Te}_=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),W(),Ve(m.i,m.u,m.A,m.l,m.R,m.m)}xt.prototype.ca=function(m){m=m.target;const _=this.M;_&&Zr(m)==3?_.j():this.Y(m)},xt.prototype.Y=function(m){try{if(m==this.g)e:{const Tn=Zr(this.g);var _=this.g.Ba();const wi=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||Xd(this.g)))){this.J||Tn!=4||_==7||(_==8||0>=wi?W(3):W(2)),xa(this);var S=this.g.Z();this.X=S;t:if(Gr(this)){var j=Xd(this.g);m="";var te=j.length,oe=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),at(this);var Te="";break t}this.h.i=new u.TextDecoder}for(_=0;_<te;_++)this.h.h=!0,m+=this.h.i.decode(j[_],{stream:!(oe&&_==te-1)});j.length=0,this.h.g+=m,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=S==200,Ue(this.i,this.u,this.A,this.l,this.R,Tn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,En=this.g;if((pt=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(pt)){var gt=pt;break t}}gt=null}if(S=gt)Ae(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pn(this,S);else{this.o=!1,this.s=3,fe(12),Ct(this),at(this);break e}}if(this.P){S=!0;let Hn;for(;!this.J&&this.C<Te.length;)if(Hn=Dr(this,Te),Hn==Or){Tn==4&&(this.s=4,fe(14),S=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==mr){this.s=4,fe(15),Ae(this.i,this.l,Te,"[Invalid Chunk]"),S=!1;break}else Ae(this.i,this.l,Hn,null),Pn(this,Hn);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||Te.length!=0||this.h.h||(this.s=1,fe(16),S=!1),this.o=this.o&&S,!S)Ae(this.i,this.l,Te,"[Invalid Chunked Response]"),Ct(this),at(this);else if(0<Te.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),mo(In),In.M=!0,fe(11))}}else Ae(this.i,this.l,Te,null),Pn(this,Te);Tn==4&&Ct(this),this.o&&!this.J&&(Tn==4?nf(this.j,this):(this.o=!1,At(this)))}else _p(this.g),S==400&&0<Te.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),Ct(this),at(this)}}}catch{}finally{}};function Gr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Dr(m,_){var S=m.C,j=_.indexOf(`
`,S);return j==-1?Or:(S=Number(_.substring(S,j)),isNaN(S)?mr:(j+=1,j+S>_.length?Or:(_=_.slice(j,j+S),m.C=j+S,_)))}xt.prototype.cancel=function(){this.J=!0,Ct(this)};function At(m){m.S=Date.now()+m.I,Ia(m,m.I)}function Ia(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ze(x(m.ba,m),_)}function xa(m){m.B&&(u.clearTimeout(m.B),m.B=null)}xt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Oe(this.i,this.A),this.L!=2&&(W(),fe(17)),Ct(this),this.s=2,at(this)):Ia(this,this.S-m)};function at(m){m.j.G==0||m.J||nf(m.j,m)}function Ct(m){xa(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Mn(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Pn(m,_){try{var S=m.j;if(S.G!=0&&(S.g==m||ja(S.h,m))){if(!m.K&&ja(S.h,m)&&S.G==3){try{var j=S.Da.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var te=j;if(te[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)bl(S),yl(S);else break e;qc(S),fe(18)}}else S.za=te[1],0<S.za-S.T&&37500>te[2]&&S.F&&S.v==0&&!S.C&&(S.C=ze(x(S.Za,S),6e3));if(1>=ro(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else _i(S,11)}else if((m.K||S.g==m)&&bl(S),!V(_))for(te=S.Da.g.parse(_),_=0;_<te.length;_++){let gt=te[_];if(S.T=gt[0],gt=gt[1],S.G==2)if(gt[0]=="c"){S.K=gt[1],S.ia=gt[2];const In=gt[3];In!=null&&(S.la=In,S.j.info("VER="+S.la));const Tn=gt[4];Tn!=null&&(S.Aa=Tn,S.j.info("SVER="+S.Aa));const wi=gt[5];wi!=null&&typeof wi=="number"&&0<wi&&(j=1.5*wi,S.L=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Hn=m.g;if(Hn){const Ha=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var oe=j.h;oe.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(ns(oe,oe.h),oe.h=null))}if(j.D){const $c=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(j.ya=$c,Tt(j.I,j.D,$c))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),j=S;var Te=m;if(j.qa=af(j,j.J?j.ia:null,j.W),Te.K){Qr(j.h,Te);var pt=Te,En=j.L;En&&(pt.I=En),pt.B&&(xa(pt),At(pt)),j.g=Te}else ef(j);0<S.i.length&&vl(S)}else gt[0]!="stop"&&gt[0]!="close"||_i(S,7);else S.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?_i(S,7):Hc(S):gt[0]!="noop"&&S.l&&S.l.ta(gt),S.v=0)}}W(4)}catch{}}var pi=class{constructor(m,_){this.g=m,this.map=_}};function Ft(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $r(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ro(m){return m.h?1:m.g?m.g.size:0}function ja(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function ns(m,_){m.g?m.g.add(_):m.h=_}function Qr(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Ft.prototype.cancel=function(){if(this.i=pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function pr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const S of m.g.values())_=_.concat(S.D);return _}return C(m.i)}function $d(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],S=m.length,j=0;j<S;j++)_.push(m[j]);return _}_=[],S=0;for(j in m)_[S++]=m[j];return _}function yp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var S=0;S<m;S++)_.push(S);return _}_=[],S=0;for(const j in m)_[S++]=j;return _}}}function ao(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var S=yp(m),j=$d(m),te=j.length,oe=0;oe<te;oe++)_.call(void 0,j[oe],S&&S[oe],m)}var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(m,_){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var j=m[S].indexOf("="),te=null;if(0<=j){var oe=m[S].substring(0,j);te=m[S].substring(j+1)}else oe=m[S];_(oe,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function gi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof gi){this.h=m.h,rs(this,m.j),this.o=m.o,this.g=m.g,io(this,m.s),this.l=m.l;var _=m.i,S=new Va;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),dl(this,S),this.m=m.m}else m&&(_=String(m).match(Vc))?(this.h=!1,rs(this,_[1]||"",!0),this.o=as(_[2]||""),this.g=as(_[3]||"",!0),io(this,_[4]),this.l=as(_[5]||"",!0),dl(this,_[6]||"",!0),this.m=as(_[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}gi.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Kr(_,Lc,!0),":");var S=this.g;return(S||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Kr(_,Lc,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Kr(S,S.charAt(0)=="/"?Uc:Qd,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Kr(S,xp)),m.join("")};function nn(m){return new gi(m)}function rs(m,_,S){m.j=S?as(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function io(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function dl(m,_,S){_ instanceof Va?(m.i=_,Bc(m.i,m.h)):(S||(_=Kr(_,bp)),m.i=new Va(_,m.h))}function Tt(m,_,S){m.i.set(_,S)}function so(m){return Tt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function as(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Kr(m,_,S){return typeof m=="string"?(m=encodeURI(m).replace(_,vp),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function vp(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Lc=/[#\/\?@]/g,Qd=/[#\?:]/g,Uc=/[#\?]/g,bp=/[#\?@]/g,xp=/#/g;function Va(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Wr(m){m.g||(m.g=new Map,m.h=0,m.i&&ul(m.i,function(_,S){m.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=Va.prototype,n.add=function(m,_){Wr(this),this.i=null,m=bi(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(_),this.h+=1,this};function fl(m,_){Wr(m),_=bi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function yi(m,_){return Wr(m),_=bi(m,_),m.g.has(_)}n.forEach=function(m,_){Wr(this),this.g.forEach(function(S,j){S.forEach(function(te){m.call(_,te,j,this)},this)},this)},n.na=function(){Wr(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let j=0;j<_.length;j++){const te=m[j];for(let oe=0;oe<te.length;oe++)S.push(_[j])}return S},n.V=function(m){Wr(this);let _=[];if(typeof m=="string")yi(this,m)&&(_=_.concat(this.g.get(bi(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)_=_.concat(m[S])}return _},n.set=function(m,_){return Wr(this),this.i=null,m=bi(this,m),yi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function vi(m,_,S){fl(m,_),0<S.length&&(m.i=null,m.g.set(bi(m,_),C(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var j=_[S];const oe=encodeURIComponent(String(j)),Te=this.V(j);for(j=0;j<Te.length;j++){var te=oe;Te[j]!==""&&(te+="="+encodeURIComponent(String(Te[j]))),m.push(te)}}return this.i=m.join("&")};function bi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Bc(m,_){_&&!m.j&&(Wr(m),m.i=null,m.g.forEach(function(S,j){var te=j.toLowerCase();j!=te&&(fl(this,j),vi(this,te,S))},m)),m.j=_}function Kd(m,_){const S=new Fe;if(u.Image){const j=new Image;j.onload=w(Xr,S,"TestLoadImage: loaded",!0,_,j),j.onerror=w(Xr,S,"TestLoadImage: error",!1,_,j),j.onabort=w(Xr,S,"TestLoadImage: abort",!1,_,j),j.ontimeout=w(Xr,S,"TestLoadImage: timeout",!1,_,j),u.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=m}else _(!1)}function oo(m,_){const S=new Fe,j=new AbortController,te=setTimeout(()=>{j.abort(),Xr(S,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:j.signal}).then(oe=>{clearTimeout(te),oe.ok?Xr(S,"TestPingServer: ok",!0,_):Xr(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(te),Xr(S,"TestPingServer: error",!1,_)})}function Xr(m,_,S,j,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),j(S)}catch{}}function lo(){this.g=new kn}function La(m,_,S){const j=S||"";try{ao(m,function(te,oe){let Te=te;h(te)&&(Te=es(te)),_.push(j+oe+"="+encodeURIComponent(Te))})}catch(te){throw _.push(j+"type="+encodeURIComponent("_badmap")),te}}function is(m){this.l=m.Ub||null,this.j=m.eb||!1}E(is,mi),is.prototype.g=function(){return new xi(this.l,this.j)},is.prototype.i=function(m){return function(){return m}}({});function xi(m,_){Pt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xi,Pt),n=xi.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Ba(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Ua(this):Ba(this),this.readyState==3&&Fc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ua(this))},n.Qa=function(m){this.g&&(this.response=m,Ua(this))},n.ga=function(){this.g&&Ua(this)};function Ua(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ba(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=_.next();return m.join(`\r
`)};function Ba(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function zc(m){let _="";return Q(m,function(S,j){_+=j,_+=":",_+=S,_+=`\r
`}),_}function On(m,_,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=zc(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):Tt(m,_,S))}function Nt(m){Pt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Nt,Pt);var hl=/^https?$/i,co=["POST","PUT"];n=Nt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kt.g(),this.v=this.o?cl(this.o):cl(Kt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(oe){Wd(this,oe);return}if(m=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var te in j)S.set(te,j[te]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const oe of j.keys())S.set(oe,j.get(oe));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(co,_,void 0))||j||te||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Te]of S)this.g.setRequestHeader(oe,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(m),this.u=!1}catch(oe){Wd(this,oe)}};function Wd(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,ml(m),Fa(m)}function ml(m){m.A||(m.A=!0,cn(m,"complete"),cn(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,cn(this,"complete"),cn(this,"abort"),Fa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pl(this):this.bb())},n.bb=function(){pl(this)};function pl(m){if(m.h&&typeof c<"u"&&(!m.v[1]||Zr(m)!=4||m.Z()!=2)){if(m.u&&Zr(m)==4)ol(m.Ea,0,m);else if(cn(m,"readystatechange"),Zr(m)==4){m.h=!1;try{const Te=m.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var j;if(j=Te===0){var te=String(m.D).match(Vc)[1]||null;!te&&u.self&&u.self.location&&(te=u.self.location.protocol.slice(0,-1)),j=!hl.test(te?te.toLowerCase():"")}S=j}if(S)cn(m,"complete"),cn(m,"success");else{m.m=6;try{var oe=2<Zr(m)?m.g.statusText:""}catch{oe=""}m.l=oe+" ["+m.Z()+"]",ml(m)}}finally{Fa(m)}}}}function Fa(m,_){if(m.g){uo(m);const S=m.g,j=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||cn(m,"ready");try{S.onreadystatechange=j}catch{}}}function uo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Zr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),hr(_)}};function Xd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function _p(m){const _={};m=(m.g&&2<=Zr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<m.length;j++){if(V(m[j]))continue;var S=z(m[j]);const te=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const oe=_[te]||[];_[te]=oe,oe.push(S)}O(_,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(m,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||_}function gl(m){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,m),this.cb=fo("retryDelaySeedMs",1e4,m),this.Wa=fo("forwardChannelMaxRetries",2,m),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ft(m&&m.concurrentRequestLimit),this.Da=new lo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gl.prototype,n.la=8,n.G=1,n.connect=function(m,_,S,j){fe(0),this.W=m,this.H=_||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.I=af(this,null,this.W),vl(this)};function Hc(m){if(Zd(m),m.G==3){var _=m.U++,S=nn(m.I);if(Tt(S,"SID",m.K),Tt(S,"RID",_),Tt(S,"TYPE","terminate"),ho(m,S),_=new xt(m,m.j,_),_.L=2,_.v=so(nn(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.v,S=!0),S||(_.g=sf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),At(_)}rf(m)}function yl(m){m.g&&(mo(m),m.g.cancel(),m.g=null)}function Zd(m){yl(m),m.u&&(u.clearTimeout(m.u),m.u=null),bl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function vl(m){if(!$r(m.h)&&!m.s){m.s=!0;var _=m.Ga;ee||U(),re||(ee(),re=!0),q.add(_,m),m.B=0}}function wp(m,_){return ro(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ze(x(m.Ga,m,_),Gc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const te=new xt(this,this.j,m);let oe=this.o;if(this.S&&(oe?(oe=A(oe),k(oe,this.S)):oe=this.S),this.m!==null||this.O||(te.H=oe,oe=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Jd(this,te,_),S=nn(this.I),Tt(S,"RID",m),Tt(S,"CVER",22),this.D&&Tt(S,"X-HTTP-Session-Id",this.D),ho(this,S),oe&&(this.O?_="headers="+encodeURIComponent(String(zc(oe)))+"&"+_:this.m&&On(S,this.m,oe)),ns(this.h,te),this.Ua&&Tt(S,"TYPE","init"),this.P?(Tt(S,"$req",_),Tt(S,"SID","null"),te.T=!0,un(te,S,null)):un(te,S,_),this.G=2}}else this.G==3&&(m?Yc(this,m):this.i.length==0||$r(this.h)||Yc(this))};function Yc(m,_){var S;_?S=_.l:S=m.U++;const j=nn(m.I);Tt(j,"SID",m.K),Tt(j,"RID",S),Tt(j,"AID",m.T),ho(m,j),m.m&&m.o&&On(j,m.m,m.o),S=new xt(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Jd(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ns(m.h,S),un(S,j,_)}function ho(m,_){m.H&&Q(m.H,function(S,j){Tt(_,j,S)}),m.l&&ao({},function(S,j){Tt(_,j,S)})}function Jd(m,_,S){S=Math.min(m.i.length,S);var j=m.l?x(m.l.Na,m.l,m):null;e:{var te=m.i;let oe=-1;for(;;){const Te=["count="+S];oe==-1?0<S?(oe=te[0].g,Te.push("ofs="+oe)):oe=0:Te.push("ofs="+oe);let pt=!0;for(let En=0;En<S;En++){let gt=te[En].g;const In=te[En].map;if(gt-=oe,0>gt)oe=Math.max(0,te[En].g-100),pt=!1;else try{La(In,Te,"req"+gt+"_")}catch{j&&j(In)}}if(pt){j=Te.join("&");break e}}}return m=m.i.splice(0,S),_.D=m,j}function ef(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;ee||U(),re||(ee(),re=!0),q.add(_,m),m.v=0}}function qc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ze(x(m.Fa,m),Gc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ze(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),yl(this),tf(this))};function mo(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function tf(m){m.g=new xt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=nn(m.qa);Tt(_,"RID","rpc"),Tt(_,"SID",m.K),Tt(_,"AID",m.T),Tt(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&Tt(_,"TO",m.ja),Tt(_,"TYPE","xmlhttp"),ho(m,_),m.m&&m.o&&On(_,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=so(nn(_)),S.m=null,S.P=!0,gn(S,m)}n.Za=function(){this.C!=null&&(this.C=null,yl(this),qc(this),fe(19))};function bl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function nf(m,_){var S=null;if(m.g==_){bl(m),mo(m),m.g=null;var j=2}else if(ja(m.h,_))S=_.D,Qr(m.h,_),j=1;else return;if(m.G!=0){if(_.o)if(j==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var te=m.B;j=ts(),cn(j,new De(j,S)),vl(m)}else ef(m);else if(te=_.s,te==3||te==0&&0<_.X||!(j==1&&wp(m,_)||j==2&&qc(m)))switch(S&&0<S.length&&(_=m.h,_.i=_.i.concat(S)),te){case 1:_i(m,5);break;case 4:_i(m,10);break;case 3:_i(m,6);break;default:_i(m,2)}}}function Gc(m,_){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*_}function _i(m,_){if(m.j.info("Error code "+_),_==2){var S=x(m.fb,m),j=m.Xa;const te=!j;j=new gi(j||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rs(j,"https"),so(j),te?Kd(j.toString(),S):oo(j.toString(),S)}else fe(2);m.G=0,m.l&&m.l.sa(_),rf(m),Zd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function rf(m){if(m.G=0,m.ka=[],m.l){const _=pr(m.h);(_.length!=0||m.i.length!=0)&&(T(m.ka,_),T(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function af(m,_,S){var j=S instanceof gi?nn(S):new gi(S);if(j.g!="")_&&(j.g=_+"."+j.g),io(j,j.s);else{var te=u.location;j=te.protocol,_=_?_+"."+te.hostname:te.hostname,te=+te.port;var oe=new gi(null);j&&rs(oe,j),_&&(oe.g=_),te&&io(oe,te),S&&(oe.l=S),j=oe}return S=m.D,_=m.ya,S&&_&&Tt(j,S,_),Tt(j,"VER",m.la),ho(m,j),j}function sf(m,_,S){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Nt(new is({eb:S})):new Nt(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function of(){}n=of.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xl(){}xl.prototype.g=function(m,_){return new gr(m,_)};function gr(m,_){Pt.call(this),this.g=new gl(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!V(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new za(this)}E(gr,Pt),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Hc(this.g)},gr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=es(m),m=S);_.i.push(new pi(_.Ya++,m)),_.G==3&&vl(_)},gr.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,gr.aa.N.call(this)};function lf(m){ba.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const S in _){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}E(lf,ba);function cf(){Jn.call(this),this.status=1}E(cf,Jn);function za(m){this.g=m}E(za,of),za.prototype.ua=function(){cn(this.g,"a")},za.prototype.ta=function(m){cn(this.g,new lf(m))},za.prototype.sa=function(m){cn(this.g,new cf)},za.prototype.ra=function(){cn(this.g,"b")},xl.prototype.createWebChannel=xl.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,wA=function(){return new xl},_A=function(){return ts()},xA=zn,R0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,Mh=Ge,Et.COMPLETE="complete",bA=Et,no.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,$u=no,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,vA=Nt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",hT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new oA("@firebase/firestore");function Kl(){return Qo.logLevel}function ke(n,...e){if(Qo.logLevel<=bt.DEBUG){const t=e.map(rb);Qo.debug(`Firestore (${Nc}): ${n}`,...t)}}function Ki(n,...e){if(Qo.logLevel<=bt.ERROR){const t=e.map(rb);Qo.error(`Firestore (${Nc}): ${n}`,...t)}}function hc(n,...e){if(Qo.logLevel<=bt.WARN){const t=e.map(rb);Qo.warn(`Firestore (${Nc}): ${n}`,...t)}}function rb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(n="Unexpected state"){const e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+n;throw Ki(e),new Error(e)}function kt(n,e){n||We()}function tt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends rl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ir.UNAUTHENTICATED))}shutdown(){}}class B6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},u=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new EA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new ir(e)}}class z6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class H6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new z6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new mT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=q6(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function N0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return st(r,a);{const o=TA(),c=G6(o.encode(pT(n,t)),o.encode(pT(e,t)));return c!==0?c:st(r,a)}}t+=r>65535?2:1}return st(n.length,e.length)}function pT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function G6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return st(n[t],e[t]);return st(n.length,e.length)}function mc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=-62135596800,yT=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yT);return new An(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gT)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yT}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new An(0,0))}static max(){return new Ze(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__name__";class Ka{constructor(e,t,r){t===void 0?t=0:t>e.length&&We(),r===void 0?r=e.length-t:r>e.length-t&&We(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ka.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return st(e.length,t.length)}static compareSegments(e,t){const r=Ka.isNumericId(e),a=Ka.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ka.extractNumericId(e).compare(Ka.extractNumericId(t)):N0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class $t extends Ka{construct(e,t,r){return new $t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new $t(t)}static emptyPath(){return new $t([])}}const $6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Ka{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vT}static keyField(){return new Kn([vT])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(c=!c,a++):u!=="."||c?(r+=u,a++):(o(),a++)}if(o(),c)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye($t.fromString(e))}static fromName(e){return new Ye($t.fromString(e).popFirst(5))}static empty(){return new Ye($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function Q6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(r===1e9?new An(t+1,0):new An(t,r));return new Hs(a,Ye.empty(),e)}function K6(n){return new Hs(n.readTime,n.key,bd)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(Ze.min(),Ye.empty(),bd)}static max(){return new Hs(Ze.max(),Ye.empty(),bd)}}function W6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ye.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==X6)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,c=!1;e.forEach(u=>{++a,u.next(()=>{++o,c&&o===a&&t()},f=>r(f))}),c=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(g=>{c[h]=g,++u,u===o&&r(c)},g=>a(g))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function J6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=-1;function Fm(n){return n==null}function tm(n){return n===0&&1/n==-1/0}function eV(n){return typeof n=="number"&&Number.isInteger(n)&&!tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="";function tV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bT(e)),e=nV(n.get(t),e);return bT(e)}function nV(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case DA:t+="";break;default:t+=o}}return t}function bT(n){return n+DA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Qn.RED,this.left=a??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Qn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Qn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,t,r,a,o){return this}insert(e,t,r){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new Cn(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CA("Invalid base64 string: "+o):o}}(e);return new Zn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new Zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const rV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(kt(!!n),typeof n=="string"){let e=0;const t=rV.exec(n);if(kt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(n.seconds),nanos:hn(n.nanos)}}function hn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?Zn.fromBase64String(n):Zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="server_timestamp",NA="__type__",MA="__previous_value__",kA="__local_write_time__";function ib(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[NA])===null||t===void 0?void 0:t.stringValue)===RA}function zm(n){const e=n.mapValue.fields[MA];return ib(e)?zm(e):e}function xd(n){const e=Ys(n.mapValue.fields[kA].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t,r,a,o,c,u,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h}}const nm="(default)";class _d{constructor(e,t){this.projectId=e,this.database=t||nm}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===nm}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="__type__",iV="__max__",mh={mapValue:{}},OA="__vector__",rm="value";function Gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ib(n)?4:oV(n)?9007199254740991:sV(n)?10:11:We()}function oi(n,e){if(n===e)return!0;const t=Gs(n);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xd(n).isEqual(xd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ys(a.timestampValue),u=Ys(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return qs(a.bytesValue).isEqual(qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return hn(a.geoPointValue.latitude)===hn(o.geoPointValue.latitude)&&hn(a.geoPointValue.longitude)===hn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return hn(a.integerValue)===hn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=hn(a.doubleValue),u=hn(o.doubleValue);return c===u?tm(c)===tm(u):isNaN(c)&&isNaN(u)}return!1}(n,e);case 9:return mc(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},u=o.mapValue.fields||{};if(xT(c)!==xT(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!oi(c[f],u[f])))return!1;return!0}(n,e);default:return We()}}function wd(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function pc(n,e){if(n===e)return 0;const t=Gs(n),r=Gs(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(o,c){const u=hn(o.integerValue||o.doubleValue),f=hn(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return wT(n.timestampValue,e.timestampValue);case 4:return wT(xd(n),xd(e));case 5:return N0(n.stringValue,e.stringValue);case 6:return function(o,c){const u=qs(o),f=qs(c);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const u=o.split("/"),f=c.split("/");for(let h=0;h<u.length&&h<f.length;h++){const g=st(u[h],f[h]);if(g!==0)return g}return st(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const u=st(hn(o.latitude),hn(c.latitude));return u!==0?u:st(hn(o.longitude),hn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ET(n.arrayValue,e.arrayValue);case 10:return function(o,c){var u,f,h,g;const v=o.fields||{},x=c.fields||{},w=(u=v[rm])===null||u===void 0?void 0:u.arrayValue,E=(f=x[rm])===null||f===void 0?void 0:f.arrayValue,C=st(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:ET(w,E)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===mh.mapValue&&c===mh.mapValue)return 0;if(o===mh.mapValue)return 1;if(c===mh.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),h=c.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const x=N0(f[v],g[v]);if(x!==0)return x;const w=pc(u[f[v]],h[g[v]]);if(w!==0)return w}return st(f.length,g.length)}(n.mapValue,e.mapValue);default:throw We()}}function wT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Ys(n),r=Ys(e),a=st(t.seconds,r.seconds);return a!==0?a:st(t.nanos,r.nanos)}function ET(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=pc(t[a],r[a]);if(o)return o}return st(t.length,r.length)}function gc(n){return M0(n)}function M0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=M0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${M0(t.fields[c])}`;return a+"}"}(n.mapValue):We()}function kh(n){switch(Gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zm(n);return e?16+kh(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+kh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Js(r.fields,(o,c)=>{a+=o.length+kh(c)}),a}(n.mapValue);default:throw We()}}function TT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function k0(n){return!!n&&"integerValue"in n}function sb(n){return!!n&&"arrayValue"in n}function ST(n){return!!n&&"nullValue"in n}function DT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function sV(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[PA])===null||t===void 0?void 0:t.stringValue)===OA}function rd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(t)}setAll(e){let t=Kn.emptyPath(),r={},a=[];e.forEach((c,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=u.popLast()}c?r[u.lastSegment()]=rd(c):a.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Js(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Rr(rd(this.value))}}function IA(n){const e=[];return Js(n.fields,(t,r)=>{const a=new Kn([t]);if(Ph(r)){const o=IA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t,r,a,o,c,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new sr(e,0,Ze.min(),Ze.min(),Ze.min(),Rr.empty(),0)}static newFoundDocument(e,t,r,a){return new sr(e,1,t,Ze.min(),r,a,0)}static newNoDocument(e,t){return new sr(e,2,t,Ze.min(),Ze.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,Ze.min(),Ze.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.position=e,this.inclusive=t}}function AT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Ye.comparator(Ye.fromName(c.referenceValue),t.key):r=pc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function lV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{}class _n extends jA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uV(e,t,r):t==="array-contains"?new hV(e,r):t==="in"?new mV(e,r):t==="not-in"?new pV(e,r):t==="array-contains-any"?new gV(e,r):new _n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dV(e,r):new fV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pc(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends jA{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Na(e,t)}matches(e){return VA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VA(n){return n.op==="and"}function LA(n){return cV(n)&&VA(n)}function cV(n){for(const e of n.filters)if(e instanceof Na)return!1;return!0}function P0(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+gc(n.value);if(LA(n))return n.filters.map(e=>P0(e)).join(",");{const e=n.filters.map(t=>P0(t)).join(",");return`${n.op}(${e})`}}function UA(n,e){return n instanceof _n?function(r,a){return a instanceof _n&&r.op===a.op&&r.field.isEqual(a.field)&&oi(r.value,a.value)}(n,e):n instanceof Na?function(r,a){return a instanceof Na&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,u)=>o&&UA(c,a.filters[u]),!0):!1}(n,e):void We()}function BA(n){return n instanceof _n?function(t){return`${t.field.canonicalString()} ${t.op} ${gc(t.value)}`}(n):n instanceof Na?function(t){return t.op.toString()+" {"+t.getFilters().map(BA).join(" ,")+"}"}(n):"Filter"}class uV extends _n{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class dV extends _n{constructor(e,t){super(e,"in",t),this.keys=FA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fV extends _n{constructor(e,t){super(e,"not-in",t),this.keys=FA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class hV extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sb(t)&&wd(t.arrayValue,this.value)}}class mV extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wd(this.value.arrayValue,t)}}class pV extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!wd(this.value.arrayValue,t)}}class gV extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t=null,r=[],a=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=u,this.le=null}}function RT(n,e=null,t=[],r=[],a=null,o=null,c=null){return new yV(n,e,t,r,a,o,c)}function ob(n){const e=tt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>P0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gc(r)).join(",")),e.le=t}return e.le}function lb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CT(n.startAt,e.startAt)&&CT(n.endAt,e.endAt)}function O0(n){return Ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t=null,r=[],a=[],o=null,c="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vV(n,e,t,r,a,o,c,u){return new Pc(n,e,t,r,a,o,c,u)}function Hm(n){return new Pc(n)}function NT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zA(n){return n.collectionGroup!==null}function ad(n){const e=tt(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Cn(Kn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ed(o,r))}),t.has(Kn.keyField().canonicalString())||e.he.push(new Ed(Kn.keyField(),r))}return e.he}function ai(n){const e=tt(n);return e.Pe||(e.Pe=bV(e,ad(n))),e.Pe}function bV(n,e){if(n.limitType==="F")return RT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Ed(a.field,o)});const t=n.endAt?new am(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new am(n.startAt.position,n.startAt.inclusive):null;return RT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function I0(n,e){const t=n.filters.concat([e]);return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function j0(n,e,t){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ym(n,e){return lb(ai(n),ai(e))&&n.limitType===e.limitType}function HA(n){return`${ob(ai(n))}|lt:${n.limitType}`}function Wl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>BA(a)).join(", ")}]`),Fm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>gc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>gc(a)).join(",")),`Target(${r})`}(ai(n))}; limitType=${n.limitType})`}function qm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of ad(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,u,f){const h=AT(c,u,f);return c.inclusive?h<=0:h<0}(r.startAt,ad(r),a)||r.endAt&&!function(c,u,f){const h=AT(c,u,f);return c.inclusive?h>=0:h>0}(r.endAt,ad(r),a))}(n,e)}function xV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YA(n){return(e,t)=>{let r=!1;for(const a of ad(n)){const o=_V(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function _V(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,c,u){const f=c.data.field(o),h=u.data.field(o);return f!==null&&h!==null?pc(f,h):We()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return AA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new tn(Ye.comparator);function Wi(){return wV}const qA=new tn(Ye.comparator);function Qu(...n){let e=qA;for(const t of n)e=e.insert(t.key,t);return e}function GA(n){let e=qA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return id()}function $A(){return id()}function id(){return new al(n=>n.toString(),(n,e)=>n.isEqual(e))}const EV=new tn(Ye.comparator),TV=new Cn(Ye.comparator);function ht(...n){let e=TV;for(const t of n)e=e.add(t);return e}const SV=new Cn(st);function DV(){return SV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function QA(n){return{integerValue:""+n}}function AV(n,e){return eV(e)?QA(e):cb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this._=void 0}}function CV(n,e,t){return n instanceof Td?function(a,o){const c={fields:{[NA]:{stringValue:RA},[kA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&ib(o)&&(o=zm(o)),o&&(c.fields[MA]=o),{mapValue:c}}(t,e):n instanceof yc?WA(n,e):n instanceof Sd?XA(n,e):function(a,o){const c=KA(a,o),u=MT(c)+MT(a.Ie);return k0(c)&&k0(a.Ie)?QA(u):cb(a.serializer,u)}(n,e)}function RV(n,e,t){return n instanceof yc?WA(n,e):n instanceof Sd?XA(n,e):t}function KA(n,e){return n instanceof im?function(r){return k0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Td extends Gm{}class yc extends Gm{constructor(e){super(),this.elements=e}}function WA(n,e){const t=ZA(e);for(const r of n.elements)t.some(a=>oi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Sd extends Gm{constructor(e){super(),this.elements=e}}function XA(n,e){let t=ZA(e);for(const r of n.elements)t=t.filter(a=>!oi(a,r));return{arrayValue:{values:t}}}class im extends Gm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function MT(n){return hn(n.integerValue||n.doubleValue)}function ZA(n){return sb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.field=e,this.transform=t}}function NV(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof yc&&a instanceof yc||r instanceof Sd&&a instanceof Sd?mc(r.elements,a.elements,oi):r instanceof im&&a instanceof im?oi(r.Ie,a.Ie):r instanceof Td&&a instanceof Td}(n.transform,e.transform)}class MV{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $m{}function eC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ub(n.key,pa.none()):new Ld(n.key,n.data,pa.none());{const t=n.data,r=Rr.empty();let a=new Cn(Kn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new eo(n.key,r,new Fr(a.toArray()),pa.none())}}function kV(n,e,t){n instanceof Ld?function(a,o,c){const u=a.value.clone(),f=PT(a.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):n instanceof eo?function(a,o,c){if(!Oh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const u=PT(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(tC(a)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function sd(n,e,t,r){return n instanceof Ld?function(o,c,u,f){if(!Oh(o.precondition,c))return u;const h=o.value.clone(),g=OT(o.fieldTransforms,f,c);return h.setAll(g),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof eo?function(o,c,u,f){if(!Oh(o.precondition,c))return u;const h=OT(o.fieldTransforms,f,c),g=c.data;return g.setAll(tC(o)),g.setAll(h),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,c,u){return Oh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(n,e,t)}function PV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=KA(r.transform,a||null);o!=null&&(t===null&&(t=Rr.empty()),t.set(r.field,o))}return t||null}function kT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&mc(r,a,(o,c)=>NV(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ld extends $m{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class eo extends $m{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function PT(n,e,t){const r=new Map;kt(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,u=e.data.field(o.field);r.set(o.field,RV(c,u,t[a]))}return r}function OT(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,CV(o,c,e))}return r}class ub extends $m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OV extends $m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&kV(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$A();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=t.has(a.key)?null:u;const f=eC(c,u);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(t,r)=>kT(t,r))&&mc(this.baseMutations,e.baseMutations,(t,r)=>kT(t,r))}}class db{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kt(e.mutations.length===r.length);let a=function(){return EV}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new db(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,vt;function LV(n){switch(n){case me.OK:return We();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return We()}}function nC(n){if(n===void 0)return Ki("GRPC error has no .code"),me.UNKNOWN;switch(n){case xn.OK:return me.OK;case xn.CANCELLED:return me.CANCELLED;case xn.UNKNOWN:return me.UNKNOWN;case xn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case xn.INTERNAL:return me.INTERNAL;case xn.UNAVAILABLE:return me.UNAVAILABLE;case xn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case xn.NOT_FOUND:return me.NOT_FOUND;case xn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case xn.ABORTED:return me.ABORTED;case xn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case xn.DATA_LOSS:return me.DATA_LOSS;default:return We()}}(vt=xn||(xn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new js([4294967295,4294967295],0);function IT(n){const e=TA().encode(n),t=new yA;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new js([t,r],0),new js([a,o],0)]}class fb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=js.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(js.fromNumber(r)));return a.compare(UV)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=IT(e),[r,a]=jT(t);for(let o=0;o<this.hashCount;o++){const c=this.Ae(r,a,o);if(!this.Re(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new fb(o,a,t);return r.forEach(u=>c.insert(u)),c}insert(e){if(this.Ee===0)return;const t=IT(e),[r,a]=jT(t);for(let o=0;o<this.hashCount;o++){const c=this.Ae(r,a,o);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Qm(Ze.min(),a,new tn(st),Wi(),ht())}}class Ud{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ud(r,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class rC{constructor(e,t){this.targetId=e,this.ge=t}}class aC{constructor(e,t,r=Zn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class VT{constructor(){this.pe=0,this.ye=LT(),this.we=Zn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ht(),t=ht(),r=ht();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:We()}}),new Ud(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=LT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wi(),this.$e=ph(),this.Ue=ph(),this.Ke=new tn(st)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:We()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(O0(o))if(r===0){const c=new Ye(o.path);this.ze(t,c,sr.newNoDocument(c,Ze.min()))}else kt(r===1);else{const c=this.et(t);if(c!==r){const u=this.tt(e),f=u?this.nt(u,e,c):1;if(f!==0){this.Ye(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,u;try{c=qs(r).toUint8Array()}catch(f){if(f instanceof CA)return hc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new fb(c,a,o)}catch(f){return hc(f instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const c=this.ke.it(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,c)=>{const u=this.Xe(c);if(u){if(o.current&&O0(u.target)){const f=new Ye(u.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,sr.newNoDocument(f,e))}o.ve&&(t.set(c,o.Fe()),o.Me())}});let r=ht();this.Ue.forEach((o,c)=>{let u=!0;c.forEachWhile(f=>{const h=this.Xe(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,c)=>c.setReadTime(e));const a=new Qm(e,t,this.Ke,this.Qe,r);return this.Qe=Wi(),this.$e=ph(),this.Ue=ph(),this.Ke=new tn(st),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new VT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Cn(st),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Cn(st),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new VT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ph(){return new tn(Ye.comparator)}function LT(){return new tn(Ye.comparator)}const FV={asc:"ASCENDING",desc:"DESCENDING"},zV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HV={and:"AND",or:"OR"};class YV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function V0(n,e){return n.useProto3Json||Fm(e)?e:{value:e}}function sm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qV(n,e){return sm(n,e.toTimestamp())}function ii(n){return kt(!!n),Ze.fromTimestamp(function(t){const r=Ys(t);return new An(r.seconds,r.nanos)}(n))}function hb(n,e){return L0(n,e).canonicalString()}function L0(n,e){const t=function(a){return new $t(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sC(n){const e=$t.fromString(n);return kt(dC(e)),e}function U0(n,e){return hb(n.databaseId,e.path)}function Uy(n,e){const t=sC(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(lC(t))}function oC(n,e){return hb(n.databaseId,e)}function GV(n){const e=sC(n);return e.length===4?$t.emptyPath():lC(e)}function B0(n){return new $t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lC(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function UT(n,e,t){return{name:U0(n,e),fields:t.value.mapValue.fields}}function $V(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(kt(g===void 0||typeof g=="string"),Zn.fromBase64String(g||"")):(kt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Zn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(h){const g=h.code===void 0?me.UNKNOWN:nC(h.code);return new Pe(g,h.message||"")}(c);t=new aC(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Uy(n,r.document.name),o=ii(r.document.updateTime),c=r.document.createTime?ii(r.document.createTime):Ze.min(),u=new Rr({mapValue:{fields:r.document.fields}}),f=sr.newFoundDocument(a,o,c,u),h=r.targetIds||[],g=r.removedTargetIds||[];t=new Ih(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Uy(n,r.document),o=r.readTime?ii(r.readTime):Ze.min(),c=sr.newNoDocument(a,o),u=r.removedTargetIds||[];t=new Ih([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Uy(n,r.document),o=r.removedTargetIds||[];t=new Ih([],o,a,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new VV(a,o),u=r.targetId;t=new rC(u,c)}}return t}function QV(n,e){let t;if(e instanceof Ld)t={update:UT(n,e.key,e.value)};else if(e instanceof ub)t={delete:U0(n,e.key)};else if(e instanceof eo)t={update:UT(n,e.key,e.data),updateMask:r5(e.fieldMask)};else{if(!(e instanceof OV))return We();t={verify:U0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const u=c.transform;if(u instanceof Td)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof im)return{fieldPath:c.field.canonicalString(),increment:u.Ie};throw We()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:qV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We()}(n,e.precondition)),t}function KV(n,e){return n&&n.length>0?(kt(e!==void 0),n.map(t=>function(a,o){let c=a.updateTime?ii(a.updateTime):ii(o);return c.isEqual(Ze.min())&&(c=ii(o)),new MV(c,a.transformResults||[])}(t,e))):[]}function WV(n,e){return{documents:[oC(n,e.path)]}}function XV(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=oC(n,a);const o=function(h){if(h.length!==0)return uC(Na.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(h){if(h.length!==0)return h.map(g=>function(x){return{field:Xl(x.field),direction:e5(x.dir)}}(g))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=V0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:a}}function ZV(n){let e=GV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kt(r===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const x=cC(v);return x instanceof Na&&LA(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(v){return v.map(x=>function(E){return new Ed(Zl(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Fm(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(v){const x=!!v.before,w=v.values||[];return new am(w,x)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const x=!v.before,w=v.values||[];return new am(w,x)}(t.endAt)),vV(e,a,c,o,u,"F",f,h)}function JV(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zl(t.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Zl(t.unaryFilter.field);return _n.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zl(t.unaryFilter.field);return _n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zl(t.unaryFilter.field);return _n.create(c,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(n):n.fieldFilter!==void 0?function(t){return _n.create(Zl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Na.create(t.compositeFilter.filters.map(r=>cC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return We()}}(t.compositeFilter.op))}(n):We()}function e5(n){return FV[n]}function t5(n){return zV[n]}function n5(n){return HV[n]}function Xl(n){return{fieldPath:n.canonicalString()}}function Zl(n){return Kn.fromServerFormat(n.fieldPath)}function uC(n){return n instanceof _n?function(t){if(t.op==="=="){if(DT(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NAN"}};if(ST(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DT(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NAN"}};if(ST(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(t.field),op:t5(t.op),value:t.value}}}(n):n instanceof Na?function(t){const r=t.getFilters().map(a=>uC(a));return r.length===1?r[0]:{compositeFilter:{op:n5(t.op),filters:r}}}(n):We()}function r5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r,a,o=Ze.min(),c=Ze.min(),u=Zn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.Tt=e}}function i5(n){const e=ZV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?j0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.Tn=new o5}addToCollectionParentIndex(e,t){return this.Tn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Hs.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class o5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Cn($t.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Cn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fC=41943040;class Cr{static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(fC,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vc(0)}static Kn(){return new vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="LruGarbageCollector",l5=1048576;function zT([n,e],[t,r]){const a=st(n,t);return a===0?st(e,r):a}class c5{constructor(e){this.Hn=e,this.buffer=new Cn(zT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class u5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(FT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kc(t)?ke(FT,"Ignoring IndexedDB error during garbage collection: ",t):await Mc(t)}await this.er(3e5)})}}class d5{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(Bm.ae);const r=new c5(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(BT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,o,c,u,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Kl()<=bt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function f5(n,e){return new d5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&sd(r.mutation,a,Fr.empty(),An.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ht()){const a=Fo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let c=Qu();return o.forEach((u,f)=>{c=c.insert(u,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ht()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,u)=>{t.set(c,u)})})}computeViews(e,t,r,a){let o=Wi();const c=id(),u=function(){return id()}();return t.forEach((f,h)=>{const g=r.get(h.key);a.has(h.key)&&(g===void 0||g.mutation instanceof eo)?o=o.insert(h.key,h):g!==void 0?(c.set(h.key,g.mutation.getFieldMask()),sd(g.mutation,h,g.mutation.getFieldMask(),An.now())):c.set(h.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,g)=>c.set(h,g)),t.forEach((h,g)=>{var v;return u.set(h,new m5(g,(v=c.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=id();let a=new tn((c,u)=>c-u),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const u of c)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let g=r.get(f)||Fr.empty();g=u.applyToLocalView(h,g),r.set(f,g);const v=(a.get(u.batchId)||ht()).add(f);a=a.insert(u.batchId,v)})}).next(()=>{const c=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,g=f.value,v=$A();g.forEach(x=>{if(!o.has(x)){const w=eC(t.get(x),r.get(x));w!==null&&v.set(x,w),o=o.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,h,v))}return pe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(Fo());let u=bd,f=o;return c.next(h=>pe.forEach(h,(g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{f=f.insert(g,x)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,ht())).next(g=>({batchId:u,changes:GA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let a=Qu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Qu();return this.indexManager.getCollectionParents(e,o).next(u=>pe.forEach(u,f=>{const h=function(v,x){return new Pc(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(g=>{g.forEach((v,x)=>{c=c.insert(v,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(c=>{o.forEach((f,h)=>{const g=h.getKey();c.get(g)===null&&(c=c.insert(g,sr.newInvalidDocument(g)))});let u=Qu();return c.forEach((f,h)=>{const g=o.get(f);g!==void 0&&sd(g.mutation,h,Fr.empty(),An.now()),qm(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:i5(a.bundledQuery),readTime:ii(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.overlays=new tn(Ye.comparator),this.Rr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.Et(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=Fo(),o=t.length+1,c=new Ye(t.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new tn((h,g)=>h-g);const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Fo(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=Fo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=a)););return pe.resolve(u)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jV(t,r));let o=this.Rr.get(t);o===void 0&&(o=ht(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.Vr=new Cn(Un.mr),this.gr=new Cn(Un.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Un(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Un(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ye(new $t([])),r=new Un(t,e),a=new Un(t,e+1),o=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),o.push(c.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ye(new $t([])),r=new Un(t,e),a=new Un(t,e+1);let o=ht();return this.gr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Un(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ye.comparator(e.key,t.key)||st(e.Cr,t.Cr)}static pr(e,t){return st(e.Cr,t.Cr)||Ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Cn(Un.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IV(o,t,r,a);this.mutationQueue.push(c);for(const u of a)this.Mr=this.Mr.add(new Un(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?ab:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Un(t,0),a=new Un(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],c=>{const u=this.Or(c.Cr);o.push(u)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(st);return t.forEach(a=>{const o=new Un(a,0),c=new Un(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,c],u=>{r=r.add(u.Cr)})}),pe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Ye.isDocumentKey(o)||(o=o.child(""));const c=new Un(new Ye(o),0);let u=new Cn(st);return this.Mr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(u=u.add(f.Cr)),!0)},c),pe.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return pe.forEach(t.mutations,a=>{const o=new Un(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Un(t,0),a=this.Mr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.kr=e,this.docs=function(){return new tn(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():sr.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Wi();const c=t.path,u=new Ye(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||W6(K6(g),r)<=0||(a.has(g.key)||qm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){We()}qr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _5(this)}getSize(e){return pe.resolve(this.size)}}class _5 extends h5{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.persistence=e,this.Qr=new al(t=>ob(t),lb),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mb,this.targetCount=0,this.Kr=vc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new vc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.zn(t),pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.Qr.forEach((c,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Bm(0),this.zr=!1,this.zr=!0,this.jr=new v5,this.referenceDelegate=e(this),this.Hr=new w5(this),this.indexManager=new s5,this.remoteDocumentCache=function(a){return new x5(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new a5(t),this.Yr=new g5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new b5(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const a=new E5(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return pe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class E5 extends Z6{constructor(e){super(),this.currentSequenceNumber=e}}class pb{constructor(e){this.persistence=e,this.ti=new mb,this.ni=null}static ri(e){return new pb(e)}get ii(){if(this.ni)return this.ni;throw We()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,r=>{const a=Ye.fromPath(r);return this.si(e,a).next(o=>{o||t.removeEntry(a,Ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return pe.or([()=>pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class om{constructor(e,t){this.persistence=e,this.oi=new al(r=>tV(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=f5(this,t)}static ri(e,t){return new om(e,t)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return pe.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(u=>{u||(r++,o.removeEntry(c,Ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}ar(e,t,r){return pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=ht(),a=ht();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new gb(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ej()?8:J6(_j())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.rs(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ss(e,t,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new T5;return this._s(e,t,c).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,c,u.size)})}).next(()=>o.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Kl()<=bt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(Kl()<=bt.DEBUG&&ke("QueryEngine","Query:",Wl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Kl()<=bt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):pe.resolve())}rs(e,t){if(NT(t))return pe.resolve(null);let r=ai(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=j0(t,null,"F"),r=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=ht(...o);return this.ns.getDocuments(e,c).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.cs(t,u);return this.ls(t,h,c,f.readTime)?this.rs(e,j0(t,null,"F")):this.hs(e,h,t,f)}))})))}ss(e,t,r,a){return NT(t)||a.isEqual(Ze.min())?pe.resolve(null):this.ns.getDocuments(e,r).next(o=>{const c=this.cs(t,o);return this.ls(t,c,r,a)?pe.resolve(null):(Kl()<=bt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wl(t)),this.hs(e,c,t,Q6(a,bd)).next(u=>u))})}cs(e,t){let r=new Cn(YA(e));return t.forEach((a,o)=>{qm(e,o)&&(r=r.add(o))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,r){return Kl()<=bt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.ns.getDocumentsMatchingQuery(e,t,Hs.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="LocalStore",D5=3e8;class A5{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new tn(st),this.Is=new al(o=>ob(o),lb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function C5(n,e,t,r){return new A5(n,e,t,r)}async function mC(n,e){const t=tt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],u=[];let f=ht();for(const h of a){c.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Rs:h,removedBatchIds:c,addedBatchIds:u}))})})}function R5(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,h,g){const v=h.batch,x=v.keys();let w=pe.resolve();return x.forEach(E=>{w=w.next(()=>g.getEntry(f,E)).next(C=>{const T=h.docVersions.get(E);kt(T!==null),C.version.compareTo(T)<0&&(v.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),g.addEntry(C)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=ht();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function pC(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function N5(n,e){const t=tt(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const u=[];e.targetChanges.forEach((g,v)=>{const x=a.get(v);if(!x)return;u.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,v)));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Zn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),a=a.insert(v,w),function(C,T,N){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=D5?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(x,w,g)&&u.push(t.Hr.updateTargetData(o,w))});let f=Wi(),h=ht();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(M5(o,c,e.documentUpdates).next(g=>{f=g.Vs,h=g.fs})),!r.isEqual(Ze.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(g)}return pe.waitFor(u).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ts=a,o))}function M5(n,e,t){let r=ht(),a=ht();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Wi();return t.forEach((u,f)=>{const h=o.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(Ze.min())?(e.removeEntry(u,f.readTime),c=c.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(u,f)):ke(yb,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{Vs:c,fs:a}})}function k5(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ab),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P5(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.Hr.allocateTargetId(r).next(c=>(a=new Ms(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function F0(n,e,t){const r=tt(n),a=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!kc(c))throw c;ke(yb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function HT(n,e,t){const r=tt(n);let a=Ze.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,h,g){const v=tt(f),x=v.Is.get(g);return x!==void 0?pe.resolve(v.Ts.get(x)):v.Hr.getTargetData(h,g)}(r,c,ai(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,u.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,t?a:Ze.min(),t?o:ht())).next(u=>(O5(r,xV(e),u),{documents:u,gs:o})))}function O5(n,e,t){let r=n.Es.get(e)||Ze.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class YT{constructor(){this.activeTargetIds=DV()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I5{constructor(){this.ho=new YT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new YT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="ConnectivityMonitor";class GT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(qT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(qT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function z0(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="RestConnection",V5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===nm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,o){const c=z0(),u=this.bo(e,t.toUriEncodedString());ke(By,`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,u,f,r).then(h=>(ke(By,`Received RPC '${e}' ${c}: `,h),h),h=>{throw hc(By,`RPC '${e}' ${c} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,a,o,c){return this.So(e,t,r,a,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const r=V5[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class B5 extends L5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const o=z0();return new Promise((c,u)=>{const f=new vA;f.setWithCredentials(!0),f.listenOnce(bA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Mh.NO_ERROR:const g=f.getResponseJson();ke(nr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case Mh.TIMEOUT:ke(nr,`RPC '${e}' ${o} timed out`),u(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const v=f.getStatus();if(ke(nr,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const E=function(T){const N=T.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(N)>=0?N:me.UNKNOWN}(w.status);u(new Pe(E,w.message))}else u(new Pe(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{ke(nr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(a);ke(nr,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",h,r,15)})}Wo(e,t,r){const a=z0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=wA(),u=_A(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");ke(nr,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=c.createWebChannel(g,f);let x=!1,w=!1;const E=new U5({Fo:T=>{w?ke(nr,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(x||(ke(nr,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ke(nr,`RPC '${e}' stream ${a} sending:`,T),v.send(T))},Mo:()=>v.close()}),C=(T,N,V)=>{T.listen(N,L=>{try{V(L)}catch(F){setTimeout(()=>{throw F},0)}})};return C(v,$u.EventType.OPEN,()=>{w||(ke(nr,`RPC '${e}' stream ${a} transport opened.`),E.Qo())}),C(v,$u.EventType.CLOSE,()=>{w||(w=!0,ke(nr,`RPC '${e}' stream ${a} transport closed`),E.Uo())}),C(v,$u.EventType.ERROR,T=>{w||(w=!0,hc(nr,`RPC '${e}' stream ${a} transport errored:`,T),E.Uo(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),C(v,$u.EventType.MESSAGE,T=>{var N;if(!w){const V=T.data[0];kt(!!V);const L=V,F=(L==null?void 0:L.error)||((N=L[0])===null||N===void 0?void 0:N.error);if(F){ke(nr,`RPC '${e}' stream ${a} received error:`,F);const I=F.status;let Q=function(R){const k=xn[R];if(k!==void 0)return nC(k)}(I),O=F.message;Q===void 0&&(Q=me.INTERNAL,O="Unknown error status: "+I+" with message "+F.message),w=!0,E.Uo(new Pe(Q,O)),v.close()}else ke(nr,`RPC '${e}' stream ${a} received:`,V),E.Ko(V)}}),C(u,xA.STAT_EVENT,T=>{T.stat===R0.PROXY?ke(nr,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===R0.NOPROXY&&ke(nr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function Fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n){return new YV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="PersistentStream";class yC{constructor(e,t,r,a,o,c,u,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gC(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Pe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke($T,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke($T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F5 extends yC{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$V(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ze.min():c.readTime?ii(c.readTime):Ze.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=B0(this.serializer),t.addTarget=function(o,c){let u;const f=c.target;if(u=O0(f)?{documents:WV(o,f)}:{query:XV(o,f).ht},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=iC(o,c.resumeToken);const h=V0(o,c.expectedCount);h!==null&&(u.expectedCount=h)}else if(c.snapshotVersion.compareTo(Ze.min())>0){u.readTime=sm(o,c.snapshotVersion.toTimestamp());const h=V0(o,c.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=JV(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=B0(this.serializer),t.removeTarget=e,this.I_(t)}}class z5 extends yC{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=KV(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=B0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>QV(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{}class Y5 extends H5{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.So(e,L0(t,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(me.UNKNOWN,o.toString())})}Co(e,t,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Co(e,L0(t,r),a,c,u,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(me.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class q5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ki(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class G5{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(c=>{r.enqueueAndForget(async()=>{il(this)&&(ke(Ko,"Restarting streams for network reachability change."),await async function(f){const h=tt(f);h.W_.add(4),await Bd(h),h.j_.set("Unknown"),h.W_.delete(4),await Wm(h)}(this))})}),this.j_=new q5(r,a)}}async function Wm(n){if(il(n))for(const e of n.G_)await e(!0)}async function Bd(n){for(const e of n.G_)await e(!1)}function vC(n,e){const t=tt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),_b(t)?xb(t):Oc(t).c_()&&bb(t,e))}function vb(n,e){const t=tt(n),r=Oc(t);t.K_.delete(e),r.c_()&&bC(t,e),t.K_.size===0&&(r.c_()?r.P_():il(t)&&t.j_.set("Unknown"))}function bb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oc(n).y_(e)}function bC(n,e){n.H_.Ne(e),Oc(n).w_(e)}function xb(n){n.H_=new BV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Oc(n).start(),n.j_.B_()}function _b(n){return il(n)&&!Oc(n).u_()&&n.K_.size>0}function il(n){return tt(n).W_.size===0}function xC(n){n.H_=void 0}async function $5(n){n.j_.set("Online")}async function Q5(n){n.K_.forEach((e,t)=>{bb(n,e)})}async function K5(n,e){xC(n),_b(n)?(n.j_.q_(e),xb(n)):n.j_.set("Unknown")}async function W5(n,e,t){if(n.j_.set("Online"),e instanceof aC&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const u of o.targetIds)a.K_.has(u)&&(await a.remoteSyncer.rejectListen(u,c),a.K_.delete(u),a.H_.removeTarget(u))}(n,e)}catch(r){ke(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(n,r)}else if(e instanceof Ih?n.H_.We(e):e instanceof rC?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ze.min()))try{const r=await pC(n.localStore);t.compareTo(r)>=0&&await function(o,c){const u=o.H_.ot(c);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.K_.get(h);g&&o.K_.set(h,g.withResumeToken(f.resumeToken,c))}}),u.targetMismatches.forEach((f,h)=>{const g=o.K_.get(f);if(!g)return;o.K_.set(f,g.withResumeToken(Zn.EMPTY_BYTE_STRING,g.snapshotVersion)),bC(o,f);const v=new Ms(g.target,f,h,g.sequenceNumber);bb(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ke(Ko,"Failed to raise snapshot:",r),await lm(n,r)}}async function lm(n,e,t){if(!kc(e))throw e;n.W_.add(1),await Bd(n),n.j_.set("Offline"),t||(t=()=>pC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(Ko,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Wm(n)})}function _C(n,e){return e().catch(t=>lm(n,t,e))}async function Xm(n){const e=tt(n),t=$s(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ab;for(;X5(e);)try{const a=await k5(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,Z5(e,a)}catch(a){await lm(e,a)}wC(e)&&EC(e)}function X5(n){return il(n)&&n.U_.length<10}function Z5(n,e){n.U_.push(e);const t=$s(n);t.c_()&&t.S_&&t.b_(e.mutations)}function wC(n){return il(n)&&!$s(n).u_()&&n.U_.length>0}function EC(n){$s(n).start()}async function J5(n){$s(n).C_()}async function eL(n){const e=$s(n);for(const t of n.U_)e.b_(t.mutations)}async function tL(n,e,t){const r=n.U_.shift(),a=db.from(r,e,t);await _C(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Xm(n)}async function nL(n,e){e&&$s(n).S_&&await async function(r,a){if(function(c){return LV(c)&&c!==me.ABORTED}(a.code)){const o=r.U_.shift();$s(r).h_(),await _C(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Xm(r)}}(n,e),wC(n)&&EC(n)}async function QT(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),ke(Ko,"RemoteStore received new credentials");const r=il(t);t.W_.add(3),await Bd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Wm(t)}async function rL(n,e){const t=tt(n);e?(t.W_.delete(2),await Wm(t)):e||(t.W_.add(2),await Bd(t),t.j_.set("Unknown"))}function Oc(n){return n.J_||(n.J_=function(t,r,a){const o=tt(t);return o.M_(),new F5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:$5.bind(null,n),No:Q5.bind(null,n),Lo:K5.bind(null,n),p_:W5.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),_b(n)?xb(n):n.j_.set("Unknown")):(await n.J_.stop(),xC(n))})),n.J_}function $s(n){return n.Y_||(n.Y_=function(t,r,a){const o=tt(t);return o.M_(),new z5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:J5.bind(null,n),Lo:nL.bind(null,n),D_:eL.bind(null,n),v_:tL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Xm(n)):(await n.Y_.stop(),n.U_.length>0&&(ke(Ko,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,u=new wb(e,t,c,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eb(n,e){if(Ki("AsyncQueue",`${e}: ${n}`),kc(n))return new Pe(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{static emptySet(e){return new ic(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Qu(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.Z_=new tn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):We():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class bc{constructor(e,t,r,a,o,c,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach(u=>{c.push({type:0,doc:u})}),new bc(e,t,ic.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class iL{constructor(){this.queries=WT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=tt(t),o=a.queries;a.queries=WT(),o.forEach((c,u)=>{for(const f of u.ta)f.onError(r)})})(this,new Pe(me.ABORTED,"Firestore shutting down"))}}function WT(){return new al(n=>HA(n),Ym)}async function Tb(n,e){const t=tt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new aL,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const u=Eb(c,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Db(t)}async function Sb(n,e){const t=tt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.ta.indexOf(e);c>=0&&(o.ta.splice(c,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sL(n,e){const t=tt(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const u of c.ta)u.oa(a)&&(r=!0);c.ea=a}}r&&Db(t)}function oL(n,e,t){const r=tt(n),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(t);r.queries.delete(e)}function Db(n){n.ia.forEach(e=>{e.next()})}var H0,XT;(XT=H0||(H0={}))._a="default",XT.Cache="cache";class Ab{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==H0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.key=e}}class SC{constructor(e){this.key=e}}class lL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ht(),this.mutatedKeys=ht(),this.ya=YA(e),this.wa=new ic(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new KT,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const x=a.get(g),w=qm(this.query,v)?v:null,E=!!x&&this.mutatedKeys.has(x.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;x&&w?x.data.isEqual(w.data)?E!==C&&(r.track({type:3,doc:w}),T=!0):this.va(x,w)||(r.track({type:2,doc:w}),T=!0,(f&&this.ya(w,f)>0||h&&this.ya(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),T=!0):x&&!w&&(r.track({type:1,doc:x}),T=!0,(f||h)&&(u=!0)),T&&(w?(c=c.add(w),o=C?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:c,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((g,v)=>function(w,E){const C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return C(w)-C(E)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),a=a!=null&&a;const u=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,h=f!==this.ga;return this.ga=f,c.length!==0||h?{snapshot:new bc(this.query,e.wa,o,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new KT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ht(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new SC(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new TC(r))}),t}Oa(e){this.fa=e.gs,this.pa=ht();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return bc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cb="SyncEngine";class cL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uL{constructor(e){this.key=e,this.Ba=!1}}class dL{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new al(u=>HA(u),Ym),this.qa=new Map,this.Qa=new Set,this.$a=new tn(Ye.comparator),this.Ua=new Map,this.Ka=new mb,this.Wa={},this.Ga=new Map,this.za=vc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fL(n,e,t=!0){const r=MC(n);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await DC(r,e,t,!0),a}async function hL(n,e){const t=MC(n);await DC(t,e,!0,!1)}async function DC(n,e,t,r){const a=await P5(n.localStore,ai(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await mL(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&vC(n.remoteStore,a),u}async function mL(n,e,t,r,a){n.Ha=(v,x,w)=>async function(C,T,N,V){let L=T.view.ba(N);L.ls&&(L=await HT(C.localStore,T.query,!1).then(({documents:O})=>T.view.ba(O,L)));const F=V&&V.targetChanges.get(T.targetId),I=V&&V.targetMismatches.get(T.targetId)!=null,Q=T.view.applyChanges(L,C.isPrimaryClient,F,I);return JT(C,T.targetId,Q.Ma),Q.snapshot}(n,v,x,w);const o=await HT(n.localStore,e,!0),c=new lL(e,o.gs),u=c.ba(o.documents),f=Ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),h=c.applyChanges(u,n.isPrimaryClient,f);JT(n,t,h.Ma);const g=new cL(e,t,c);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function pL(n,e,t){const r=tt(n),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(c=>!Ym(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await F0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&vb(r.remoteStore,a.targetId),Y0(r,a.targetId)}).catch(Mc)):(Y0(r,a.targetId),await F0(r.localStore,a.targetId,!0))}async function gL(n,e){const t=tt(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vb(t.remoteStore,r.targetId))}async function yL(n,e,t){const r=TL(n);try{const a=await function(c,u){const f=tt(c),h=An.now(),g=u.reduce((w,E)=>w.add(E.key),ht());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Wi(),C=ht();return f.ds.getEntries(w,g).next(T=>{E=T,E.forEach((N,V)=>{V.isValidDocument()||(C=C.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,E)).next(T=>{v=T;const N=[];for(const V of u){const L=PV(V,v.get(V.key).overlayedDocument);L!=null&&N.push(new eo(V.key,L,IA(L.value.mapValue),pa.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,N,u)}).next(T=>{x=T;const N=T.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(w,T.batchId,N)})}).then(()=>({batchId:x.batchId,changes:GA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,u,f){let h=c.Wa[c.currentUser.toKey()];h||(h=new tn(st)),h=h.insert(u,f),c.Wa[c.currentUser.toKey()]=h}(r,a.batchId,t),await Fd(r,a.changes),await Xm(r.remoteStore)}catch(a){const o=Eb(a,"Failed to persist write");t.reject(o)}}async function AC(n,e){const t=tt(n);try{const r=await N5(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t.Ua.get(o);c&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?kt(c.Ba):a.removedDocuments.size>0&&(kt(c.Ba),c.Ba=!1))}),await Fd(t,r,e)}catch(r){await Mc(r)}}function ZT(n,e,t){const r=tt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((o,c)=>{const u=c.view.sa(e);u.snapshot&&a.push(u.snapshot)}),function(c,u){const f=tt(c);f.onlineState=u;let h=!1;f.queries.forEach((g,v)=>{for(const x of v.ta)x.sa(u)&&(h=!0)}),h&&Db(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vL(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),o=a&&a.key;if(o){let c=new tn(Ye.comparator);c=c.insert(o,sr.newNoDocument(o,Ze.min()));const u=ht().add(o),f=new Qm(Ze.min(),new Map,new tn(st),c,u);await AC(r,f),r.$a=r.$a.remove(o),r.Ua.delete(e),Rb(r)}else await F0(r.localStore,e,!1).then(()=>Y0(r,e,t)).catch(Mc)}async function bL(n,e){const t=tt(n),r=e.batch.batchId;try{const a=await R5(t.localStore,e);RC(t,r,null),CC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fd(t,a)}catch(a){await Mc(a)}}async function xL(n,e,t){const r=tt(n);try{const a=await function(c,u){const f=tt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return f.mutationQueue.lookupMutationBatch(h,u).next(v=>(kt(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>f.localDocuments.getDocuments(h,g))})}(r.localStore,e);RC(r,e,t),CC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fd(r,a)}catch(a){await Mc(a)}}function CC(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function RC(n,e,t){const r=tt(n);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Y0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||NC(n,r)})}function NC(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(vb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Rb(n))}function JT(n,e,t){for(const r of t)r instanceof TC?(n.Ka.addReference(r.key,e),_L(n,r)):r instanceof SC?(ke(Cb,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||NC(n,r.key)):We()}function _L(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(Cb,"New document in limbo: "+t),n.Qa.add(r),Rb(n))}function Rb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ye($t.fromString(e)),r=n.za.next();n.Ua.set(r,new uL(t)),n.$a=n.$a.insert(t,r),vC(n.remoteStore,new Ms(ai(Hm(t.path)),r,"TargetPurposeLimboResolution",Bm.ae))}}async function Fd(n,e,t){const r=tt(n),a=[],o=[],c=[];r.ka.isEmpty()||(r.ka.forEach((u,f)=>{c.push(r.Ha(f,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){a.push(h);const v=gb.Yi(f.targetId,h);o.push(v)}}))}),await Promise.all(c),r.La.p_(a),await async function(f,h){const g=tt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>pe.forEach(h,x=>pe.forEach(x.Hi,w=>g.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>pe.forEach(x.Ji,w=>g.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!kc(v))throw v;ke(yb,"Failed to update sequence numbers: "+v)}for(const v of h){const x=v.targetId;if(!v.fromCache){const w=g.Ts.get(x),E=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(E);g.Ts=g.Ts.insert(x,C)}}}(r.localStore,o))}async function wL(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){ke(Cb,"User change. New user:",e.toKey());const r=await mC(t.localStore,e);t.currentUser=e,function(o,c){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Pe(me.CANCELLED,c))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fd(t,r.Rs)}}function EL(n,e){const t=tt(n),r=t.Ua.get(e);if(r&&r.Ba)return ht().add(r.key);{let a=ht();const o=t.qa.get(e);if(!o)return a;for(const c of o){const u=t.ka.get(c);a=a.unionWith(u.view.Sa)}return a}}function MC(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vL.bind(null,e),e.La.p_=sL.bind(null,e.eventManager),e.La.Ja=oL.bind(null,e.eventManager),e}function TL(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xL.bind(null,e),e}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Km(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return C5(this.persistence,new S5,e.initialUser,this.serializer)}Xa(e){return new hC(pb.ri,this.serializer)}Za(e){return new I5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class SL extends cm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof om);const r=this.persistence.referenceDelegate.garbageCollector;return new u5(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new hC(r=>om.ri(r,t),this.serializer)}}class q0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await rL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iL}()}createDatastore(e){const t=Km(e.databaseInfo.databaseId),r=function(o){return new B5(o)}(e.databaseInfo);return function(o,c,u,f){return new Y5(o,c,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,c,u){return new G5(r,a,o,c,u)}(this.localStore,this.datastore,e.asyncQueue,t=>ZT(this.syncEngine,t,0),function(){return GT.D()?new GT:new j5}())}createSyncEngine(e,t){return function(a,o,c,u,f,h,g){const v=new dL(a,o,c,u,f,h);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=tt(a);ke(Ko,"RemoteStore shutting down."),o.W_.add(5),await Bd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}q0.provider={build:()=>new q0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class DL{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ir.UNAUTHENTICATED,this.clientId=SA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{ke(Qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ke(Qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Eb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zy(n,e){n.asyncQueue.verifyOperationInProgress(),ke(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await mC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function eS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AL(n);ke(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>QT(e.remoteStore,a)),n._onlineComponents=e}async function AL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(Qs,"Using user provided OfflineComponentProvider");try{await zy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;hc("Error using user provided cache. Falling back to memory cache: "+t),await zy(n,new cm)}}else ke(Qs,"Using default OfflineComponentProvider"),await zy(n,new SL(void 0));return n._offlineComponents}async function kC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(Qs,"Using user provided OnlineComponentProvider"),await eS(n,n._uninitializedComponentsProvider._online)):(ke(Qs,"Using default OnlineComponentProvider"),await eS(n,new q0))),n._onlineComponents}function CL(n){return kC(n).then(e=>e.syncEngine)}async function um(n){const e=await kC(n),t=e.eventManager;return t.onListen=fL.bind(null,e.syncEngine),t.onUnlisten=pL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gL.bind(null,e.syncEngine),t}function RL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,u,f,h){const g=new Nb({next:x=>{g.su(),c.enqueueAndForget(()=>Sb(o,v));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new Ab(Hm(u.path),g,{includeMetadataChanges:!0,Ta:!0});return Tb(o,v)}(await um(n),n.asyncQueue,e,t,r)),r.promise}function NL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,u,f,h){const g=new Nb({next:x=>{g.su(),c.enqueueAndForget(()=>Sb(o,v)),x.fromCache&&f.source==="server"?h.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new Ab(u,g,{includeMetadataChanges:!0,Ta:!0});return Tb(o,v)}(await um(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e,t){if(!t)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ML(n,e,t,r){if(e===!0&&r===!0)throw new Pe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nS(n){if(!Ye.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rS(n){if(Ye.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":We()}function Nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zm(n);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firestore.googleapis.com",aS=!0;class iS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IC,this.ssl=aS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:aS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l5)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ML("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U6;switch(r.type){case"firstParty":return new H6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=tS.get(t);r&&(ke("ComponentProvider","Removing Datastore"),tS.delete(t),r.terminate())}(this),Promise.resolve()}}function kL(n,e,t,r={}){var a;const o=(n=Nr(n,Jm))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==IC&&o.host!==u&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!gd(f,c)&&(n._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=ir.MOCK_USER;else{h=iA(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ir(v)}n._authCredentials=new B6(new EA(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class Vs extends to{constructor(e,t,r){super(e,t,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Ye(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Gt(n,e,...t){if(n=Ra(n),OC("collection","path",e),n instanceof Jm){const r=$t.fromString(e,...t);return rS(r),new Vs(n,null,r)}{if(!(n instanceof dr||n instanceof Vs))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($t.fromString(e,...t));return rS(r),new Vs(n.firestore,null,r)}}function wn(n,e,...t){if(n=Ra(n),arguments.length===1&&(e=SA.newId()),OC("doc","path",e),n instanceof Jm){const r=$t.fromString(e,...t);return nS(r),new dr(n,null,new Ye(r))}{if(!(n instanceof dr||n instanceof Vs))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($t.fromString(e,...t));return nS(r),new dr(n.firestore,n instanceof Vs?n.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="AsyncQueue";class oS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gC(this,"async_queue_retry"),this.Su=()=>{const r=Fy();r&&ke(sS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Fy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Fy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!kc(e))throw e;ke(sS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),u}(r);throw Ki("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=wb.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&We()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function lS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Xi extends Jm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new oS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oS(e),this._firestoreClient=void 0,await e}}}function PL(n,e){const t=typeof n=="object"?n:mA(),r=typeof n=="string"?n:nm,a=uA(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=rA("firestore");o&&kL(a,...o)}return a}function ep(n){if(n._terminated)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OL(n),n._firestoreClient}function OL(n){var e,t,r;const a=n._freezeSettings(),o=function(u,f,h,g){return new aV(u,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,PC(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new DL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(Zn.fromBase64String(e))}catch(t){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xc(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=/^__.*__$/;class jL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ld(e,this.data,t,this.fieldTransforms)}}class jC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class np{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(VC(this.Lu)&&IL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Km(e)}ju(e,t,r,a=!1){return new np({Lu:e,methodName:t,zu:r,path:Kn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(n){const e=n._freezeSettings(),t=Km(n._databaseId);return new VL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LC(n,e,t,r,a,o={}){const c=n.ju(o.merge||o.mergeFields?2:0,e,t,a);Ib("Data must be an object, but it was:",c,r);const u=UC(r,c);let f,h;if(o.merge)f=new Fr(c.fieldMask),h=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const x=G0(e,v,t);if(!c.contains(x))throw new Pe(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);FC(g,x)||g.push(x)}f=new Fr(g),h=c.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=c.fieldTransforms;return new jL(new Rr(u),f,h)}class ap extends zd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}function LL(n,e,t){return new np({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pb extends zd{_toFieldTransform(e){return new JA(e.path,new Td)}isEqual(e){return e instanceof Pb}}class Ob extends zd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=LL(this,e,!0),r=this.Hu.map(o=>Ic(o,t)),a=new yc(r);return new JA(e.path,a)}isEqual(e){return e instanceof Ob&&gd(this.Hu,e.Hu)}}function UL(n,e,t,r){const a=n.ju(1,e,t);Ib("Data must be an object, but it was:",a,r);const o=[],c=Rr.empty();Js(r,(f,h)=>{const g=jb(e,f,t);h=Ra(h);const v=a.Uu(g);if(h instanceof ap)o.push(g);else{const x=Ic(h,v);x!=null&&(o.push(g),c.set(g,x))}});const u=new Fr(o);return new jC(c,u,a.fieldTransforms)}function BL(n,e,t,r,a,o){const c=n.ju(1,e,t),u=[G0(e,r,t)],f=[a];if(o.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(G0(e,o[x])),f.push(o[x+1]);const h=[],g=Rr.empty();for(let x=u.length-1;x>=0;--x)if(!FC(h,u[x])){const w=u[x];let E=f[x];E=Ra(E);const C=c.Uu(w);if(E instanceof ap)h.push(w);else{const T=Ic(E,C);T!=null&&(h.push(w),g.set(w,T))}}const v=new Fr(h);return new jC(g,v,c.fieldTransforms)}function FL(n,e,t,r=!1){return Ic(t,n.ju(r?4:3,e))}function Ic(n,e){if(BC(n=Ra(n)))return Ib("Unsupported field value:",e,n),UC(n,e);if(n instanceof zd)return function(r,a){if(!VC(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const u of r){let f=Ic(u,a.Ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=An.fromDate(r);return{timestampValue:sm(a.serializer,o)}}if(r instanceof An){const o=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(a.serializer,o)}}if(r instanceof Mb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:iC(a.serializer,r._byteString)};if(r instanceof dr){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hb(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof kb)return function(c,u){return{mapValue:{fields:{[PA]:{stringValue:OA},[rm]:{arrayValue:{values:c.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return cb(u.serializer,h)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Zm(r)}`)}(n,e)}function UC(n,e){const t={};return AA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(r,a)=>{const o=Ic(a,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function BC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof An||n instanceof Mb||n instanceof xc||n instanceof dr||n instanceof zd||n instanceof kb)}function Ib(n,e,t){if(!BC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Zm(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function G0(n,e,t){if((e=Ra(e))instanceof tp)return e._internalPath;if(typeof e=="string")return jb(n,e);throw dm("Field path arguments must be of type string or ",n,!1,void 0,t)}const zL=new RegExp("[~\\*/\\[\\]]");function jb(n,e,t){if(e.search(zL)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tp(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dm(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new Pe(me.INVALID_ARGUMENT,u+n+f)}function FC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ip("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HL extends zC{data(){return super.data()}}function ip(n,e){return typeof e=="string"?jb(n,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{}class YC extends Vb{}function or(n,e,...t){let r=[];e instanceof Vb&&r.push(e),r=r.concat(t),function(o){const c=o.filter(f=>f instanceof Lb).length,u=o.filter(f=>f instanceof sp).length;if(c>1||c>0&&u>0)throw new Pe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class sp extends YC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sp(e,t,r)}_apply(e){const t=this._parse(e);return qC(e._query,t),new to(e.firestore,e.converter,I0(e._query,t))}_parse(e){const t=rp(e.firestore);return function(o,c,u,f,h,g,v){let x;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){uS(v,g);const E=[];for(const C of v)E.push(cS(f,o,C));x={arrayValue:{values:E}}}else x=cS(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||uS(v,g),x=FL(u,c,v,g==="in"||g==="not-in");return _n.create(h,g,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function lr(n,e,t){const r=e,a=ip("where",n);return sp._create(a,r,t)}class Lb extends Vb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Na.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const u=o.getFlattenedFilters();for(const f of u)qC(c,f),c=I0(c,f)}(e._query,t),new to(e.firestore,e.converter,I0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ub extends YC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ub(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ed(o,c)}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new Pc(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Dd(n,e="asc"){const t=e,r=ip("orderBy",n);return Ub._create(r,t)}function cS(n,e,t){if(typeof(t=Ra(t))=="string"){if(t==="")throw new Pe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zA(e)&&t.indexOf("/")!==-1)throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($t.fromString(t));if(!Ye.isDocumentKey(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TT(n,new Ye(r))}if(t instanceof dr)return TT(n,t._key);throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zm(t)}.`)}function uS(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qC(n,e){const t=function(a,o){for(const c of a)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YL{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw We()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Js(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[rm].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>hn(c.doubleValue));return new kb(o)}convertGeoPoint(e){return new Mb(hn(e.latitude),hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new An(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$t.fromString(e);kt(dC(r));const a=new _d(r.get(1),r.get(3)),o=new Ye(r.popFirst(5));return a.isEqual(t)||Ki(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $C extends zC{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ip("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jh extends $C{data(e={}){return super.data(e)}}class QC{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Wu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jh(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(u=>{const f=new jh(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Wu(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new jh(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Wu(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,g=-1;return u.type!==0&&(h=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:qL(u.type),doc:f,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){n=Nr(n,dr);const e=Nr(n.firestore,Xi);return RL(ep(e),n._key).then(t=>WC(e,n,t))}class Bb extends YL{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function cr(n){n=Nr(n,to);const e=Nr(n.firestore,Xi),t=ep(e),r=new Bb(e);return HC(n._query),NL(t,n._query).then(a=>new QC(e,r,n,a))}function Fb(n,e,t){n=Nr(n,dr);const r=Nr(n.firestore,Xi),a=GC(n.converter,e,t);return op(r,[LC(rp(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,pa.none())])}function Yo(n,e,t,...r){n=Nr(n,dr);const a=Nr(n.firestore,Xi),o=rp(a);let c;return c=typeof(e=Ra(e))=="string"||e instanceof tp?BL(o,"updateDoc",n._key,e,t,r):UL(o,"updateDoc",n._key,e),op(a,[c.toMutation(n._key,pa.exists(!0))])}function KC(n){return op(Nr(n.firestore,Xi),[new ub(n._key,pa.none())])}function Ad(n,e){const t=Nr(n.firestore,Xi),r=wn(n),a=GC(n.converter,e);return op(t,[LC(rp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,pa.exists(!1))]).then(()=>r)}function fm(n,...e){var t,r,a;n=Ra(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||lS(e[c])||(o=e[c],c++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lS(e[c])){const v=e[c];e[c]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[c+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[c+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,h,g;if(n instanceof dr)h=Nr(n.firestore,Xi),g=Hm(n._key.path),f={next:v=>{e[c]&&e[c](WC(h,n,v))},error:e[c+1],complete:e[c+2]};else{const v=Nr(n,to);h=Nr(v.firestore,Xi),g=v._query;const x=new Bb(h);f={next:w=>{e[c]&&e[c](new QC(h,x,v,w))},error:e[c+1],complete:e[c+2]},HC(n._query)}return function(x,w,E,C){const T=new Nb(C),N=new Ab(w,T,E);return x.asyncQueue.enqueueAndForget(async()=>Tb(await um(x),N)),()=>{T.su(),x.asyncQueue.enqueueAndForget(async()=>Sb(await um(x),N))}}(ep(h),g,u,f)}function op(n,e){return function(r,a){const o=new Fi;return r.asyncQueue.enqueueAndForget(async()=>yL(await CL(r),a,o)),o.promise}(ep(n),e)}function WC(n,e,t){const r=t.docs.get(e._key),a=new Bb(n);return new $C(n,a,e._key,r,new Wu(t.hasPendingWrites,t.fromCache),e.converter)}function Xo(){return new Pb("serverTimestamp")}function Hy(...n){return new Ob("arrayUnion",n)}(function(e,t=!0){(function(a){Nc=a})(fA),yd(new fc("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new Xi(new F6(r.getProvider("auth-internal")),new Y6(c,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(h.options.projectId,g)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Is(fT,hT,e),Is(fT,hT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firebasestorage.googleapis.com",GL="storageBucket",$L=2*60*1e3,QL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends rl{constructor(e,t,r=0){super(Yy(e),`Firebase Storage: ${t} (${Yy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function Yy(n){return"storage/"+n}function KL(){const n="An unknown error occurred, please check the error payload for server response.";return new fi(li.UNKNOWN,n)}function WL(){return new fi(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XL(){return new fi(li.CANCELED,"User canceled the upload/download.")}function ZL(n){return new fi(li.INVALID_URL,"Invalid URL '"+n+"'.")}function JL(n){return new fi(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function dS(n){return new fi(li.INVALID_ARGUMENT,n)}function ZC(){return new fi(li.APP_DELETED,"The Firebase app was deleted.")}function e9(n){return new fi(li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Aa.makeFromUrl(e,t)}catch{return new Aa(e,"")}if(r.path==="")return r;throw JL(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${g}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},C=t===XC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",N=new RegExp(`^https?://${C}/${a}/${T}`,"i"),L=[{regex:u,indices:f,postModify:o},{regex:w,indices:E,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<L.length;F++){const I=L[F],Q=I.regex.exec(e);if(Q){const O=Q[I.indices.bucket];let A=Q[I.indices.path];A||(A=""),r=new Aa(O,A),I.postModify(r);break}}if(r==null)throw ZL(e);return r}}class t9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(n,e,t){let r=1,a=null,o=null,c=!1,u=0;function f(){return u===2}let h=!1;function g(...T){h||(h=!0,e.apply(null,T))}function v(T){a=setTimeout(()=>{a=null,n(w,f())},T)}function x(){o&&clearTimeout(o)}function w(T,...N){if(h){x();return}if(T){x(),g.call(null,T,...N);return}if(f()||c){x(),g.call(null,T,...N);return}r<64&&(r*=2);let L;u===1?(u=2,L=0):L=(r+Math.random())*1e3,v(L)}let E=!1;function C(T){E||(E=!0,x(),!h&&(a!==null?(T||(u=2),clearTimeout(a),v(0)):T||(u=1)))}return v(0),o=setTimeout(()=>{c=!0,C(!0)},t),C}function r9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(n){return n!==void 0}function fS(n,e,t,r){if(r<e)throw dS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dS(`Invalid value for '${n}'. Expected ${t} or less.`)}function i9(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var hm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(hm||(hm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t,r,a,o,c,u,f,h,g,v,x=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new yh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const u=o.getErrorCode()===hm.NO_ERROR,f=o.getStatus();if(!u||s9(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===hm.ABORT;r(!1,new yh(!1,null,g));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new yh(h,o))})},t=(r,a)=>{const o=this.resolve_,c=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());a9(f)?o(f):o()}catch(f){c(f)}else if(u!==null){const f=KL();f.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,f)):c(f)}else if(a.canceled){const f=this.appDelete_?ZC():XL();c(f)}else{const f=WL();c(f)}};this.canceled_?t(!1,new yh(!1,null,!0)):this.backoffId_=n9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function l9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function c9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function d9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function f9(n,e,t,r,a,o,c=!0){const u=i9(n.urlParams),f=n.url+u,h=Object.assign({},n.headers);return u9(h,e),l9(h,t),c9(h,o),d9(h,r),new o9(f,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function m9(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this._service=e,t instanceof Aa?this._location=t:this._location=Aa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mm(e,t)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m9(this._location.path)}get storage(){return this._service}get parent(){const e=h9(this._location.path);if(e===null)return null;const t=new Aa(this._location.bucket,e);return new mm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e9(e)}}function hS(n,e){const t=e==null?void 0:e[GL];return t==null?null:Aa.makeFromBucketSpec(t,n)}function p9(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:iA(a,n.app.options.projectId))}class g9{constructor(e,t,r,a,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=XC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$L,this._maxUploadRetryTime=QL,this._requests=new Set,a!=null?this._bucket=Aa.makeFromBucketSpec(a,this._host):this._bucket=hS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=hS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mm(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new t9(ZC());{const c=f9(e,this._appId,r,a,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const mS="@firebase/storage",pS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="storage";function y9(n=mA(),e){n=Ra(n);const r=uA(n,JC).getImmediate({identifier:e}),a=rA("storage");return a&&v9(r,...a),r}function v9(n,e,t,r={}){p9(n,e,t,r)}function b9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new g9(t,r,a,e,fA)}function x9(){yd(new fc(JC,b9,"PUBLIC").setMultipleInstances(!0)),Is(mS,pS,""),Is(mS,pS,"esm2017")}x9();const _9={apiKey:"AIzaSyDePZqpCrFdNsN1hUdw2_rwMfKP41SJgvU",authDomain:"nafa3ny-de185.firebaseapp.com",projectId:"nafa3ny-de185",storageBucket:"nafa3ny-de185.firebasestorage.app",messagingSenderId:"346694832541",appId:"1:346694832541:web:d2869f3ffb43e3c69a5f74"},eR=hA(_9),et=PL(eR);y9(eR);const w9=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),[a,o]=M.useState(""),[c,u]=M.useState(""),[f,h]=M.useState(!1),g=Bn(),v=async x=>{x.preventDefault(),u(""),h(!0);try{n==="admin"&&t==="admin1"&&g("/nafany/admin");const E=Gt(et,a==="user"?"users":"serviceProviders"),C=or(E,lr("email","==",n)),T=await cr(C);if(T.empty){u("الحساب غير موجود");return}const N=T.docs[0],V=N.data();if(V.password!==t){u("كلمة المرور غير صحيحة");return}const L={uid:N.id,email:V.email,name:V.name||"",phone:V.phone||"",role:a,governorate:V.governorate||"",...a==="provider"&&{profession:V.profession||"",category:V.category||"",profileImage:V.profileImage||""}};localStorage.setItem("currentUser",JSON.stringify(L)),a==="user"?g("/nafany"):a==="provider"&&g("/nafany/servicer_page")}catch(w){console.error("خطأ أثناء تسجيل الدخول:",w),u("حدث خطأ أثناء تسجيل الدخول")}finally{h(!1)}};return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100",dir:"rtl",children:[y.jsx(ve.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-cyan-800 mb-6 text-center",children:"تسجيل الدخول"}),c&&y.jsx("p",{className:"text-red-600 text-center mb-4",children:c}),y.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"البريد الإلكتروني أو رقم الهاتف*"}),y.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"كلمة المرور*"}),y.jsx("input",{type:"password",value:t,onChange:x=>r(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),y.jsx("div",{className:"flex items-center justify-between mb-6",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"radio",id:"user",name:"role",value:"user",checked:a==="user",onChange:()=>o("user"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"user",className:"mr-2 block text-sm text-gray-700",children:"مستخدم"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"radio",id:"provider",name:"role",value:"provider",checked:a==="provider",onChange:()=>o("provider"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"provider",className:"mr-2 block text-sm text-gray-700",children:"مقدم خدمة"})]})]})}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx(ve.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full py-3 bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 text-white rounded-md text-center font-medium shadow-md",disabled:f,children:f?"جاري التحميل...":"تسجيل الدخول"}),y.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsx("button",{onClick:()=>g(-1),className:"block w-full py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md text-center font-medium shadow-md",children:"رجوع"})})]})]}),y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("p",{className:"text-gray-600 mb-3",children:"ليس لديك حساب؟"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(lc,{to:"/register_user",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"إنشاء حساب مستخدم جديد"}),y.jsx(lc,{to:"/register",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"التسجيل كمقدم خدمة"})]})]})]})})},E9=()=>{var C;const n=Bn(),[e,t]=M.useState({name:"",email:"",password:"",nationalId:"",governorate:"",category:"",profession:"",subscriptionFee:"",idFrontImage:null,idBackImage:null,profileImage:null,bio:"",allowContact:!1,phone:"",address:"",ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0}),[r,a]=M.useState(null),[o,c]=M.useState(null),[u,f]=M.useState(null),h=["وسط البلد","الزمالك","المعادي","مدينة نصر","مصر الجديدة","التجمع الخامس","الرحاب","مدينتي","الشروق","العبور","6 أكتوبر","الشيخ زايد","حدائق الأهرام","المقطم","عين شمس","المرج","حلوان","دار السلام","السيدة زينب","باب الشعرية","شبرا","الزاوية الحمراء","حدائق القبة","المطرية","مدينة بدر","البساتين","التبين","الواحة","النزهة","الهرم"],g={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد","فني تكييفات","نقاش","ترزي","فني أجهزة منزلية"],"خدمات صحية":["مستشفى","عيادة","صيدلية","مركز تحاليل","عيادة أسنان","مركز أشعة"],"خدمات عامة":["سوبر ماركت","مطعم","كافيه","مول","محل حلويات","مخبز"],"خدمات أخرى":["عطار","جزار","فكهاني","خضري","محل ألبان","مشويات"]},v=["100 جنيه","200 جنيه","300 جنيه"];M.useEffect(()=>{t(T=>({...T,governorate:h[0],category:Object.keys(g)[0],profession:g[Object.keys(g)[0]][0],subscriptionFee:v[0]}))},[]);const x=(T,N)=>{if(!T)return;const V=new FileReader;V.onload=()=>{const L=V.result;t(F=>({...F,[N]:L})),N==="idFrontImage"?a(L):N==="idBackImage"?c(L):N==="profileImage"&&f(L)},V.readAsDataURL(T)},w=T=>{const N=T.target.value;t(V=>({...V,category:N,profession:g[N][0],allowContact:N==="خدمات فنية"?V.allowContact:!1}))},E=async T=>{if(T.preventDefault(),!e.idFrontImage||!e.idBackImage){alert("يرجى رفع صور البطاقة قبل التسجيل.");return}try{const N=or(Gt(et,"serviceProviders"),lr("email","==",e.email));if(!(await cr(N)).empty){alert("البريد الإلكتروني مسجل بالفعل.");return}const L={name:e.name,email:e.email,password:e.password,nationalId:e.nationalId,governorate:e.governorate,category:e.category,profession:e.profession,subscriptionFee:e.subscriptionFee,idFrontImage:e.idFrontImage,idBackImage:e.idBackImage,profileImage:e.profileImage,bio:e.bio,phone:e.phone,address:e.address,createdAt:new Date,ratings:{},chats:{},works:[]};e.category==="خدمات فنية"&&(L.allowContact=e.allowContact),await Fb(wn(et,"serviceProviders",e.email),L),alert("تم التسجيل بنجاح"),n("/nafany/login")}catch(N){console.error("حدث خطأ أثناء التسجيل: ",N),alert("حدث خطأ أثناء التسجيل، يرجى المحاولة مرة أخرى")}};return y.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[y.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل مقدم الخدمة"}),y.jsxs(ve.form,{onSubmit:E,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[["name","email","password","nationalId"].map((T,N)=>y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:N*.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:T==="name"?"الاسم":T==="email"?"البريد الإلكتروني":T==="password"?"كلمة المرور":"الرقم القومي"}),y.jsx("input",{type:T==="password"?"password":"text",placeholder:`أدخل ${T==="name"?"الاسم":T==="email"?"البريد الإلكتروني":T==="password"?"كلمة المرور":"الرقم القومي"}`,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e[T],onChange:V=>t(L=>({...L,[T]:V.target.value}))})]},N)),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"التصنيف"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.category,onChange:w,children:Object.keys(g).map((T,N)=>y.jsx("option",{value:T,children:T},N))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المهنة/الخدمة"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.profession,onChange:T=>t(N=>({...N,profession:T.target.value})),children:(C=g[e.category])==null?void 0:C.map((T,N)=>y.jsx("option",{value:T,children:T},N))})]}),e.category==="خدمات فنية"&&y.jsx(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:e.allowContact,onChange:T=>t(N=>({...N,allowContact:T.target.checked})),className:"rounded text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر بين الفني والعميل"})]})}),y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"العنوان"}),y.jsx("input",{type:"text",placeholder:"أدخل العنوان بالتفصيل",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.address,onChange:T=>t(N=>({...N,address:T.target.value}))})]}),y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"رقم الهاتف"}),y.jsx("input",{type:"tel",placeholder:"أدخل رقم الهاتف",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.phone,onChange:T=>t(N=>({...N,phone:T.target.value}))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المحافظة"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:T=>t(N=>({...N,governorate:T.target.value})),children:h.map((T,N)=>y.jsx("option",{value:T,children:T},N))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.8},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"رسوم الاشتراك"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.subscriptionFee,onChange:T=>t(N=>({...N,subscriptionFee:T.target.value})),children:v.map((T,N)=>y.jsx("option",{value:T,children:T},N))})]}),y.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"idFrontImage",label:"صورة البطاقة من الأمام",preview:r},{field:"idBackImage",label:"صورة البطاقة من الخلف",preview:o}].map((T,N)=>y.jsx(ve.div,{className:"space-y-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:N*.3},children:y.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-cyan-400 transition-colors",children:[y.jsx("input",{type:"file",className:"hidden",id:`id-image-${N}`,required:!0,onChange:V=>x(V.target.files[0],T.field)}),y.jsx("label",{htmlFor:`id-image-${N}`,className:"cursor-pointer",children:y.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:T.preview?y.jsx("img",{src:T.preview,alt:T.label,className:"h-20 w-20 object-cover rounded-lg mb-2"}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm font-medium",children:T.label}),y.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]})},N))})]}),y.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),y.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-cyan-400 transition-colors",children:[y.jsx("input",{type:"file",className:"hidden",id:"profile-image",onChange:T=>x(T.target.files[0],"profileImage")}),y.jsx("label",{htmlFor:"profile-image",className:"cursor-pointer",children:y.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:u?y.jsx("img",{src:u,alt:"الصورة الشخصية",className:"h-20 w-20 object-cover rounded-full mb-2"}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm font-medium",children:"صورة شخصية"}),y.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]})]}),y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:1.1},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"تعريف شخصي"}),y.jsx("textarea",{placeholder:"أدخل تعريفاً شخصياً مختصراً عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:e.bio,onChange:T=>t(N=>({...N,bio:T.target.value}))})]}),y.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"تسجيل"})]})]})]})})},T9=()=>{const n=Bn(),[e,t]=M.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",chats:{}}),[r,a]=M.useState({}),[o,c]=M.useState(!1),[u,f]=M.useState(!1),h=["القاهرة","الجيزة","الإسكندرية","الدقهلية","الشرقية","المنوفية","القليوبية","القليوبية","البحيرة","الغربية","الفيوم","كفر الشيخ","المنيا","أسيوط","سوهاج","قنا","أسوان","الأقصر","بني سويف","مطروح","السويس","الإسماعيلية","بورسعيد","دمياط","البحر الأحمر","الوادي الجديد","شمال سيناء","جنوب سيناء"],g=()=>{let C={};return e.name.trim()||(C.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(C.email="البريد الإلكتروني غير صالح"):C.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(C.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):C.password="كلمة المرور مطلوبة",e.governorate||(C.governorate="يجب اختيار المحافظة"),a(C),Object.keys(C).length===0},v=async C=>{const T=or(Gt(et,"users"),lr("email","==",C));return!(await cr(T)).empty},x=async C=>(await Wo(wn(et,"users",C))).exists(),w=async C=>{if(C.preventDefault(),!g())return;const T=e.email.split("@")[0],N=await v(e.email),V=await x(T);if(N){c(!0);return}if(V){f(!0);return}try{await Fb(wn(et,"users",T),{...e}),alert("User registered successfully"),n("/nafany/login")}catch(L){console.error("Error adding user: ",L)}},E=C=>{t({...e,[C.target.name]:C.target.value}),a({...r,[C.target.name]:""}),C.target.name==="email"&&(c(!1),f(!1))};return y.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[y.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل المستخدم"}),y.jsxs(ve.form,{onSubmit:w,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[[{label:"الاسم",name:"name"},{label:"عنوان البريد",name:"email"},{label:"كلمة المرور",name:"password",type:"password"}].map(({label:C,name:T,type:N="text"},V)=>y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:V*.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:C}),y.jsx("input",{type:N,name:T,placeholder:`أدخل ${C}`,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e[T],onChange:E}),r[T]&&y.jsx("p",{className:"text-red-500 text-sm",children:r[T]}),T==="email"&&o&&y.jsx("p",{className:"text-red-500 text-sm",children:"البريد الإلكتروني مستخدم بالفعل"}),T==="email"&&u&&y.jsx("p",{className:"text-red-500 text-sm",children:"اسم المستخدم مستخدم بالفعل"})]},V)),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المنطقة"}),y.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:E,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),h.map((C,T)=>y.jsx("option",{value:C,children:C},T))]}),r.governorate&&y.jsx("p",{className:"text-red-500 text-sm",children:r.governorate})]}),y.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"تسجيل"})]})]})]})})},S9=({title:n,description:e,image:t,bgColor:r})=>{const a=Bn();return y.jsx(ve.div,{className:`relative overflow-hidden rounded-xl shadow-lg p-6 ${r} transform transition-all duration-300 cursor-pointer`,whileHover:{scale:1.05,transition:{duration:.3}},onClick:()=>a(`/nafany/services_jobs/${n}`),children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("img",{src:t,alt:n,className:"w-32 h-32 object-cover mb-4 rounded-full shadow-md"}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n}),y.jsx("p",{className:"text-center text-white opacity-80",children:e})]})})},D9=({isLoggedIn:n,onLogout:e,userData:t})=>{const r=Bn();return y.jsxs(ve.header,{className:"bg-white shadow-md px-8 flex justify-between items-center",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:[y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n&&y.jsxs("span",{className:"text-gray-700 font-medium",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]}),y.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login")},className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})]}),y.jsxs("div",{className:"flex items-center space-x-8",children:[y.jsxs("nav",{className:"flex items-center space-x-9 font-black text-2xl",children:[y.jsx("button",{onClick:()=>r("/nafany/settings"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الإعدادات"}),y.jsx("button",{onClick:()=>r("/nafany/contact"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"تواصل معنا"}),y.jsx("button",{onClick:()=>r("/nafany/complaints"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الشكاوى والاقتراحات"})]}),y.jsx("img",{src:"../../public/IMG-20250322-WA0070.jpg",alt:"Logo",className:"h-24 w-24 object-contain"})]})]})},A9=({title:n,description:e,discount:t,isLoggedIn:r})=>{const a=Bn(),o=()=>{r?a("/nafany"):(alert("يجب تسجيل الدخول أولاً للاستفادة من العروض"),a("/nafany/login"))};return y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 overflow-hidden border-2 border-cyan-100",whileHover:{scale:1.03,transition:{duration:.3}},children:y.jsxs("div",{className:"flex flex-col items-start",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-3",children:n}),y.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:e}),y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:["خصم ",t,"%"]}),y.jsx("button",{className:"bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-cyan-700",onClick:o,children:r?"استكشف العرض":"سجل الدخول للاستفادة"})]})]})})},C9=()=>{const[n,e]=M.useState(!1),[t,r]=M.useState(null),[a,o]=M.useState(!0),c=Bn();M.useEffect(()=>{const g=()=>{try{const x=localStorage.getItem("currentUser");if(x&&x!=='""'){const w=JSON.parse(x);w&&(r(w),e(!0),w.role==="provider"&&c("/nafany/servicer_page"))}}catch(x){console.error("Error parsing user data:",x),localStorage.removeItem("currentUser")}o(!1)};g();const v=x=>{x.key==="currentUser"&&g()};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)},[c]);const u=()=>{localStorage.removeItem("currentUser"),e(!1),r(null),c("/nafany")},f=[{title:"خدمات فنية",description:"سباك، نجار، كهربائي، ميكانيكي، حداد، فني تكييفات، نقاش، ترزي",image:"../../public/IMG-20250322-WA0070.jpg",bgColor:"bg-[#2f4156]"},{title:"خدمات صحية",description:"مستشفيات، عيادات، صيدليات، مراكز طبية",image:"../../public/IMG-20250322-WA0070.jpg",bgColor:"bg-[#567c8d]"},{title:"خدمات عامة",description:"سوبر ماركت، مطاعم، كافيهات، مولات، خدمات تجارية",image:"../../public/IMG-20250322-WA0070.jpg",bgColor:"bg-[#808080]"},{title:"خدمات أخرى",description:"عطار، جزار، فكهاني، خضري، محل ألبان، خدمات متفرقة",image:"../../public/IMG-20250322-WA0070.jpg",bgColor:"bg-[#62a2d3]"}],h=[{title:"عرض الصيانة",description:"خصم خاص على خدمات الصيانة المنزلية الشاملة",discount:20},{title:"عرض النقل",description:"تخفيضات مميزة على خدمات النقل والتوصيل السريع",discount:15},{title:"عرض التركيبات",description:"أسعار مخفضة للتركيبات الفنية المتكاملة",discount:25}];return a?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[y.jsx(D9,{isLoggedIn:n,onLogout:u,userData:t}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"مرحبًا بك في منصة  نفعني"}),y.jsx(ve.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:f.map((g,v)=>y.jsx(S9,{...g},v))}),y.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.6},children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"العروض والتخفيضات الحالية"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map((g,v)=>y.jsx(A9,{...g,isLoggedIn:n},v))})]})]})]})},R9=()=>{const{serviceType:n}=yv(),e=Bn(),[t,r]=M.useState([]),[a,o]=M.useState([]),[c,u]=M.useState(!0),[f,h]=M.useState("الكل"),[g,v]=M.useState("الكل"),[x,w]=M.useState([]),[E,C]=M.useState([]),T=["وسط البلد","الزمالك","المعادي","مدينة نصر","مصر الجديدة","التجمع الخامس","الرحاب","مدينتي","الشروق","العبور","6 أكتوبر","الشيخ زايد","حدائق الأهرام","المقطم","عين شمس","المرج","حلوان","دار السلام","السيدة زينب","باب الشعرية","شبرا","الزاوية الحمراء","حدائق القبة","المطرية","مدينة بدر","البساتين","التبين","الواحة","النزهة","الهرم"];M.useEffect(()=>{(async()=>{try{u(!0);const F=or(Gt(et,"serviceProviders"),lr("category","==",n)),I=await cr(F),Q=[],O=new Set(["الكل"]),A=new Set(["الكل"]);I.forEach(R=>{const k=R.data(),z=k.profession||"بدون تخصص",Y=k.governorate||"غير محدد";Q.push({id:R.id,title:z,description:k.bio||"لا يوجد وصف",imageUrl:k.profileImage||k.idFrontImage||"../../public/IMG-20250322-WA0070.jpg",governorate:Y,providerData:{...k,id:R.id}}),O.add(z),A.add(Y)}),r(Q),o(Q),w(Array.from(O)),C(["الكل",...T]),u(!1)}catch(F){console.error("Error fetching jobs:",F),u(!1)}})()},[n]),M.useEffect(()=>{let L=[...t];f!=="الكل"&&(L=L.filter(F=>F.title===f)),g!=="الكل"&&(L=L.filter(F=>F.governorate===g)),o(L)},[f,g,t]);const N=L=>{e(`/nafany/book_page/${L.id}`,{state:{provider:L}})},V=()=>{let L=n;return f!=="الكل"&&g!=="الكل"?L+=` (${f} في ${g})`:f!=="الكل"?L+=` (${f})`:g!=="الكل"?L+=` في ${g}`:L+=" في جميع المناطق السكنية",L};return y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:V()}),y.jsxs(ve.div,{className:"bg-white p-4 rounded-lg shadow-md mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"تصفية حسب المهنة:"}),y.jsx("select",{value:f,onChange:L=>h(L.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-cyan-500",children:x.map((L,F)=>y.jsx("option",{value:L,children:L},`prof-${F}`))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"تصفية حسب المنطقة ابسكنية:"}),y.jsx("select",{value:g,onChange:L=>v(L.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-cyan-500",children:E.map((L,F)=>y.jsx("option",{value:L,children:L},`gov-${F}`))})]})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{onClick:()=>{h("الكل"),v("الكل")},className:"text-cyan-600 hover:text-cyan-800 text-sm",children:"إعادة تعيين الفلتر"}),y.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," نتيجة متاحة"]})]})]}),c?y.jsx("div",{className:"text-center text-gray-600 text-xl",children:"جاري تحميل البيانات..."}):a.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((L,F)=>y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("img",{src:L.imageUrl,alt:L.title,className:"w-20 h-20 object-cover rounded-full mr-4 border-2 border-cyan-100",onError:I=>{I.target.onerror=null,I.target.src="../../public/IMG-20250322-WA0070.jpg"}}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:L.title}),y.jsx("p",{className:"text-gray-600 text-sm mt-1",children:L.description})]})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4",children:[y.jsx("span",{className:"text-sm text-gray-500",children:L.governorate}),y.jsx("button",{onClick:()=>N(L.providerData),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"عرض الملف الشخصي"})]})]},F))}):y.jsx("div",{className:"text-center text-gray-600 text-xl",children:"لا توجد نتائج مطابقة للبحث"})]})]})};var tR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gS=J.createContext&&J.createContext(tR),N9=["attr","size","title"];function M9(n,e){if(n==null)return{};var t=k9(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function k9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pm(){return pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pm.apply(this,arguments)}function yS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function gm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(t),!0).forEach(function(r){P9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function P9(n,e,t){return e=O9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O9(n){var e=I9(n,"string");return typeof e=="symbol"?e:e+""}function I9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nR(n){return n&&n.map((e,t)=>J.createElement(e.tag,gm({key:t},e.attr),nR(e.child)))}function Rn(n){return e=>J.createElement(j9,pm({attr:gm({},n.attr)},e),nR(n.child))}function j9(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=M9(n,N9),u=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),J.createElement("svg",pm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:f,style:gm(gm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&J.createElement("title",null,o),n.children)};return gS!==void 0?J.createElement(gS.Consumer,null,t=>e(t)):e(tR)}function V9(n){return Rn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function L9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function U9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function B9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function F9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function z9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function H9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Y9(n){return Rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function q9(n){return Rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(n)}function G9(n){return Rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function $9(n){return Rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function Q9(n){return Rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function K9(n){return Rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function $0(n){return Rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function W9(n){return Rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function X9(n){return Rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function rR(n){return Rn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function aR(n){return Rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const Z9=({isLoggedIn:n,onLogout:e,userData:t})=>{const r=Bn(),a=()=>{(t==null?void 0:t.role)==="provider"?r("/nafany/settings",{state:{fromProvider:!0}}):r("/nafany/settings")};return y.jsxs(ve.header,{className:"bg-white shadow-md px-8 py-4 flex justify-between items-center",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:[y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n&&y.jsxs("span",{className:"text-gray-700 font-medium",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]}),y.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login")},className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})]}),y.jsxs("div",{className:"flex items-center space-x-8",children:[y.jsxs("nav",{className:"flex items-center space-x-9 font-black text-2xl",children:[y.jsx("button",{onClick:a,className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الإعدادات"}),y.jsx("button",{onClick:()=>r("/nafany/contact"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"تواصل معنا"}),y.jsx("button",{onClick:()=>r("/nafany/complaints"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الشكاوى والاقتراحات"})]}),y.jsx("img",{src:"/nafany/IMG-20250322-WA0070.jpg",alt:"Logo",className:"h-24 w-24 object-contain"})]})]})},J9=()=>{const n=Bn(),e=ka(),[t,r]=M.useState(null),[a,o]=M.useState([]),[c,u]=M.useState([]),[f,h]=M.useState([]),[g,v]=M.useState(!0),[x,w]=M.useState(!1),[E,C]=M.useState([]),[T,N]=M.useState({title:"",description:"",images:[],previewImages:[]}),[V,L]=M.useState(null),[F,I]=M.useState({title:"",description:"",images:[],previewImages:[]}),[Q,O]=M.useState({allProviders:[],currentProvider:null,totalProviders:0});M.useEffect(()=>{(async()=>{const le=localStorage.getItem("currentUser");if(le&&le!=='""'){const Ce=JSON.parse(le);r(Ce),w(!0);const[Ee,Ne,qe,dt]=await Promise.all([k(Ce.email),R(Ce.email),A(Ce.id||Ce.uid),z(Ce.email)]);Ne&&O(Ne),qe&&h(qe),dt&&C(dt)}else n("/nafany/login");v(!1)})()},[n,e]);const A=async de=>{try{const le=or(Gt(et,"chats"),lr("participants","array-contains",de),Dd("lastMessageTime","desc"));return(await cr(le)).docs.map(Ee=>{var Ne,qe;return{id:Ee.id,...Ee.data(),lastMessageTime:((qe=(Ne=Ee.data().lastMessageTime)==null?void 0:Ne.toDate)==null?void 0:qe.call(Ne))||new Date}})}catch(le){return console.error("Error fetching chats:",le),[]}},R=async de=>{try{const le=or(Gt(et,"serviceProviders")),Ce=await cr(le),Ee=or(Gt(et,"reviews")),qe=(await cr(Ee)).docs.map(Xe=>Xe.data()),dt=Ce.docs.map(Xe=>{const _e=Xe.data(),$e=qe.filter(Er=>Er.providerEmail===_e.email),ot=$e.length,Lt=$e.reduce((Er,fr)=>Er+fr.rating,0),Yr=ot>0?(Lt/ot).toFixed(1):0;return{id:Xe.id,..._e,ratingsCount:ot,ratingsTotal:Lt,averageRating:Yr}});dt.sort((Xe,_e)=>_e.averageRating-Xe.averageRating),dt.forEach((Xe,_e)=>{Xe.rank=_e+1});const nt=dt.find(Xe=>Xe.email===de);return{allProviders:dt,currentProvider:nt,totalProviders:dt.length}}catch(le){return console.error("Error fetching providers:",le),null}},k=async de=>{try{const le=or(Gt(et,"providerWorks"),lr("providerEmail","==",de)),Ee=(await cr(le)).docs.map(nt=>({id:nt.id,...nt.data()}));o(Ee);const Ne=or(Gt(et,"reviews"),lr("providerEmail","==",de)),dt=(await cr(Ne)).docs.map(nt=>({id:nt.id,...nt.data()}));return u(dt),Ee}catch(le){return console.error("Error fetching works:",le),[]}},z=async de=>{try{const le=or(Gt(et,"bookings"),lr("providerEmail","==",de),Dd("createdAt","desc"));return(await cr(le)).docs.map(Ee=>{const Ne=Ee.data();return{id:Ee.id,...Ne,createdAt:Y(Ne.createdAt),bookingDate:Ne.bookingDate||"غير محدد",bookingTime:Ne.bookingTime||"غير محدد"}})}catch(le){return console.error("Error fetching bookings:",le),[]}},Y=de=>de?de.seconds?new Date(de.seconds*1e3).toLocaleString("ar-EG"):de.toDate?de.toDate().toLocaleString("ar-EG"):de:"غير محدد",B=async(de,le)=>{try{await Yo(wn(et,"bookings",de),{status:le,updatedAt:Xo()}),C(Ce=>Ce.map(Ee=>Ee.id===de?{...Ee,status:le}:Ee))}catch(Ce){console.error("Error updating booking status:",Ce)}},Se=(de,le=!1)=>{const Ce=Array.from(de),Ee=[],Ne=[];Ce.forEach(qe=>{const dt=new FileReader;dt.onload=nt=>{Ee.push(nt.target.result),Ne.push(nt.target.result),Ee.length===Ce.length&&(le?I(Xe=>({...Xe,images:[...Xe.images,...Ee],previewImages:[...Xe.previewImages,...Ne]})):N(Xe=>({...Xe,images:Ee,previewImages:Ne})))},dt.readAsDataURL(qe)})},we=async de=>{if(de.preventDefault(),!!t)try{const le={...T,providerEmail:t.email,providerName:t.name,createdAt:Xo(),comments:[],ratings:[]};await Ad(Gt(et,"providerWorks"),le),await k(t.email),N({title:"",description:"",images:[],previewImages:[]})}catch(le){console.error("Error adding work:",le)}},ie=de=>{L(de.id),I({title:de.title,description:de.description,images:de.images,previewImages:de.images})},ee=async de=>{de.preventDefault();try{const le=wn(et,"providerWorks",V);await Yo(le,{title:F.title,description:F.description,images:F.images}),await k(t.email),L(null),I({title:"",description:"",images:[],previewImages:[]})}catch(le){console.error("Error updating work:",le)}},re=async de=>{if(window.confirm("هل أنت متأكد من حذف هذا العمل؟"))try{await KC(wn(et,"providerWorks",de)),await k(t.email)}catch(le){console.error("Error deleting work:",le)}},q=(de,le,Ce)=>{const Ee=t.id||t.uid;n(`/nafany/chat/${de}`,{state:{provider:{id:Ee,name:t.name,email:t.email,profileImage:t.profileImage},user:{id:de,name:le,email:Ce||"client@example.com"}}})},U=de=>[...Array(5)].map((le,Ce)=>y.jsx("span",{className:Ce<de?"text-yellow-500":"text-gray-300",children:Ce<de?y.jsx($0,{}):y.jsx(aR,{})},Ce)),X=()=>{var dt;if(!Q.currentProvider)return null;const{currentProvider:de,allProviders:le,totalProviders:Ce}=Q,Ee=de.averageRating||0,Ne=de.ratingsCount||0,qe=((dt=le.find(nt=>nt.email===de.email))==null?void 0:dt.rank)||Ce;return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"تصنيفك وتقييمك"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:Ee}),y.jsx("div",{className:"flex justify-center mb-2",children:U(Math.floor(Ee))}),y.jsx("p",{className:"text-gray-600",children:"متوسط التقييم"})]}),y.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:Ne}),y.jsx("p",{className:"text-gray-600",children:"عدد التقييمات"})]}),y.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:qe}),y.jsxs("p",{className:"text-gray-600",children:["من أصل ",Ce," مقدم خدمة"]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"أحدث التعليقات"}),c.length>0?y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:c.map((nt,Xe)=>{var _e,$e;return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-medium text-cyan-800",children:nt.clientName}),y.jsx("div",{className:"flex",children:U(nt.rating)})]}),y.jsx("p",{className:"text-gray-700",children:nt.review}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(($e=(_e=nt.createdAt)==null?void 0:_e.toDate)==null?void 0:$e.call(_e).toLocaleDateString())||"تاريخ غير معروف"})]},Xe)})}):y.jsx("p",{className:"text-center text-gray-500",children:"لا توجد تعليقات بعد"})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"المحادثات الحديثة"}),f.length>0?y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:f.slice(0,3).map(nt=>{const Xe=nt.participants[0]===t.id?nt.participants[1]:nt.participants[0],_e=nt.participantsNames[0]===t.name?nt.participantsNames[1]:nt.participantsNames[0];return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>{var $e;return q(Xe,_e,($e=nt.participantsEmails)==null?void 0:$e.find(ot=>ot!==t.email))},children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(rR,{className:"text-gray-400 text-2xl mr-3"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-cyan-800",children:_e}),y.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:nt.lastMessage})]})]}),y.jsx(z9,{className:"text-cyan-600"})]},nt.id)})}):y.jsx("p",{className:"text-center text-gray-500",children:"لا توجد محادثات بعد"})]})]})},be=()=>a.map(de=>y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:V===de.id?y.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"عنوان العمل",value:F.title,onChange:le=>I(Ce=>({...Ce,title:le.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),y.jsx("textarea",{placeholder:"وصف العمل",value:F.description,onChange:le=>I(Ce=>({...Ce,description:le.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),y.jsx("input",{type:"file",multiple:!0,onChange:le=>Se(le.target.files,!0),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),F.previewImages.length>0&&y.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:F.previewImages.map((le,Ce)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:le,alt:`Preview ${Ce+1}`,className:"w-full h-20 object-cover rounded-lg"}),y.jsx("button",{type:"button",onClick:()=>{const Ee=[...F.images],Ne=[...F.previewImages];Ee.splice(Ce,1),Ne.splice(Ce,1),I(qe=>({...qe,images:Ee,previewImages:Ne}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},Ce))}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg flex-1",children:"حفظ التعديلات"}),y.jsx("button",{type:"button",onClick:()=>{L(null),I({title:"",description:"",images:[],previewImages:[]})},className:"bg-gray-500 text-white px-4 py-2 rounded-lg flex-1",children:"إلغاء"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:de.title}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>ie(de),className:"text-blue-600 hover:text-blue-800 p-2",title:"تعديل",children:y.jsx(Q9,{})}),y.jsx("button",{onClick:()=>re(de.id),className:"text-red-600 hover:text-red-800 p-2",title:"حذف",children:y.jsx(X9,{})})]})]}),y.jsx("p",{className:"text-gray-600",children:de.description}),y.jsx("div",{className:"grid grid-cols-3 gap-4",children:de.images.map((le,Ce)=>y.jsx("img",{src:le,alt:`Work ${Ce+1}`,className:"w-full h-40 object-cover rounded-lg"},Ce))})]})},de.id)),xe=()=>{localStorage.removeItem("currentUser"),w(!1),r(null),n("/nafany")},ge=()=>{const de=le=>le?le.seconds?new Date(le.seconds*1e3).toLocaleDateString("ar-EG"):le.toDate?le.toDate().toLocaleDateString("ar-EG"):le:"غير محدد";return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"حجوزات العملاء"}),E.length>0?y.jsx("div",{className:"space-y-4",children:E.map((le,Ce)=>{const Ee=de(le.createdAt),Ne=de(le.bookingDate);return y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ce*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-800",children:le.clientName||"عميل غير معروف"}),y.jsx("p",{className:"text-gray-600 text-sm",children:le.clientEmail||"لا يوجد بريد إلكتروني"})]}),y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${le.status==="confirmed"?"bg-green-100 text-green-800":le.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:le.status==="confirmed"?"مؤكد":le.status==="pending"?"قيد الانتظار":"ملغى"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الإنشاء:"}),y.jsx("p",{className:"text-gray-700",children:Ee})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الحجز:"}),y.jsx("p",{className:"text-gray-700",children:Ne})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"الوقت:"}),y.jsx("p",{className:"text-gray-700",children:le.bookingTime||"غير محدد"})]})]}),le.note&&y.jsxs("div",{className:"mt-3",children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"ملاحظات العميل:"}),y.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:le.note})]}),y.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[le.status==="pending"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>B(le.id,"confirmed"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"تأكيد"}),y.jsx("button",{onClick:()=>B(le.id,"cancelled"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"إلغاء"})]}),y.jsx("button",{onClick:()=>q(le.clientId||"unknown",le.clientName,le.clientEmail),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"محادثة"})]})]},le.id)})}):y.jsx("div",{className:"text-center text-gray-500 py-8",children:"لا توجد حجوزات حتى الآن"})]})};return g?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx(Z9,{isLoggedIn:x,onLogout:xe,userData:t}),y.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:"لوحة تحكم مقدم الخدمة"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:V?"تعديل العمل":"إضافة عمل جديد"}),y.jsxs("form",{onSubmit:V?ee:we,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"عنوان العمل",value:V?F.title:T.title,onChange:de=>V?I(le=>({...le,title:de.target.value})):N(le=>({...le,title:de.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),y.jsx("textarea",{placeholder:"وصف العمل",value:V?F.description:T.description,onChange:de=>V?I(le=>({...le,description:de.target.value})):N(le=>({...le,description:de.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),y.jsx("input",{type:"file",multiple:!0,onChange:de=>Se(de.target.files,V),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),(V?F.previewImages:T.previewImages).length>0&&y.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:(V?F.previewImages:T.previewImages).map((de,le)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:de,alt:`Preview ${le+1}`,className:"w-full h-20 object-cover rounded-lg"}),V&&y.jsx("button",{type:"button",onClick:()=>{const Ce=[...F.images],Ee=[...F.previewImages];Ce.splice(le,1),Ee.splice(le,1),I(Ne=>({...Ne,images:Ce,previewImages:Ee}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},le))}),y.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700",children:V?"حفظ التعديلات":"إضافة العمل"}),V&&y.jsx("button",{type:"button",onClick:()=>{L(null),I({title:"",description:"",images:[],previewImages:[]})},className:"w-full bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 mt-2",children:"إلغاء التعديل"})]})]}),y.jsxs(ve.div,{className:"space-y-6",initial:{x:50,opacity:0},animate:{x:0,opacity:1},children:[X(),ge(),y.jsx("h2",{className:"text-2xl font-bold text-cyan-800",children:"أعمالك السابقة"}),a.length>0?y.jsx("div",{className:"space-y-6",children:be()}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لم تقم بإضافة أي أعمال بعد"})]})]})]})]})};function iR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=iR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Wn(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=iR(n))&&(r&&(r+=" "),r+=e);return r}const sR=6048e5,e8=864e5,lp=6e4,cp=36e5,t8=1e3,vS=Symbol.for("constructDateFrom");function It(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&vS in n?n[vS](e):n instanceof Date?new n.constructor(e):new Date(e)}function Le(n,e){return It(e||n,n)}function Ca(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(e)?It((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ma(n,e,t){const r=Le(n,t==null?void 0:t.in);if(isNaN(e))return It(n,NaN);if(!e)return r;const a=r.getDate(),o=It(n,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return a>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function oR(n,e,t){return It(n,+Le(n)+e)}function n8(n,e,t){return oR(n,e*cp)}let r8={};function sl(){return r8}function Zi(n,e){var u,f,h,g;const t=sl(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),c=(o<r?7:0)+o-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function _c(n,e){return Zi(n,{...e,weekStartsOn:1})}function lR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=It(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=_c(a),c=It(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=_c(c);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function ym(n){const e=Le(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ji(n,...e){const t=It.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Zo(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function wc(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=Zo(r),c=Zo(a),u=+o-ym(o),f=+c-ym(c);return Math.round((u-f)/e8)}function a8(n,e){const t=lR(n,e),r=It(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_c(r)}function Q0(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*lp),r}function zb(n,e,t){return Ma(n,e*3,t)}function i8(n,e,t){return oR(n,e*1e3)}function vm(n,e,t){return Ca(n,e*7,t)}function zi(n,e,t){return Ma(n,e*12,t)}function bS(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=It.bind(null,a));const o=Le(a,r);(!t||t<o||isNaN(+o))&&(t=o)}),It(r,t||NaN)}function xS(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=It.bind(null,a));const o=Le(a,r);(!t||t>o||isNaN(+o))&&(t=o)}),It(r,t||NaN)}function s8(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return+Zo(r)==+Zo(a)}function Hi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function bm(n){return!(!Hi(n)&&typeof n!="number"||isNaN(+Le(n)))}function xm(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return o*12+c}function qo(n,e){const t=Le(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function _m(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),c=qo(r)-qo(a);return o*4+c}function wm(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()-a.getFullYear()}function o8(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=_S(r,a),c=Math.abs(wc(r,a));r.setDate(r.getDate()-o*c);const u=+(_S(r,a)===-o),f=o*(c-u);return f===0?0:f}function _S(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function cR(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function uR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function K0(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function dR(n,e){const t=Le(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function fR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function up(n,e){const t=Le(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function l8(n,e){var u,f;const t=sl(),r=t.weekStartsOn??((f=(u=t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),c=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const c8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u8=(n,e,t)=>{let r;const a=c8[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function qy(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const d8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m8={date:qy({formats:d8,defaultWidth:"full"}),time:qy({formats:f8,defaultWidth:"full"}),dateTime:qy({formats:h8,defaultWidth:"full"})},p8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g8=(n,e,t,r)=>p8[n];function Uu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):c;a=n.formattingValues[u]||n.formattingValues[c]}else{const c=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(e):e;return a[o]}}const y8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},v8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E8=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},T8={ordinalNumber:E8,era:Uu({values:y8,defaultWidth:"wide"}),quarter:Uu({values:v8,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Uu({values:b8,defaultWidth:"wide"}),day:Uu({values:x8,defaultWidth:"wide"}),dayPeriod:Uu({values:_8,defaultWidth:"wide",formattingValues:w8,defaultFormattingWidth:"wide"})};function Bu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?D8(u,v=>v.test(c)):S8(u,v=>v.test(c));let h;h=n.valueCallback?n.valueCallback(f):f,h=t.valueCallback?t.valueCallback(h):h;const g=e.slice(c.length);return{value:h,rest:g}}}function S8(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function D8(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function A8(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],o=e.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}const C8=/^(\d+)(th|st|nd|rd)?/i,R8=/\d+/i,N8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M8={any:[/^b/i,/^(a|c)/i]},k8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P8={any:[/1/i,/2/i,/3/i,/4/i]},O8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B8={ordinalNumber:A8({matchPattern:C8,parsePattern:R8,valueCallback:n=>parseInt(n,10)}),era:Bu({matchPatterns:N8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:k8,defaultMatchWidth:"wide",parsePatterns:P8,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Bu({matchPatterns:O8,defaultMatchWidth:"wide",parsePatterns:I8,defaultParseWidth:"any"}),day:Bu({matchPatterns:j8,defaultMatchWidth:"wide",parsePatterns:V8,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:L8,defaultMatchWidth:"any",parsePatterns:U8,defaultParseWidth:"any"})},hR={code:"en-US",formatDistance:u8,formatLong:m8,formatRelative:g8,localize:T8,match:B8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function F8(n,e){const t=Le(n,e==null?void 0:e.in);return wc(t,up(t))+1}function Hb(n,e){const t=Le(n,e==null?void 0:e.in),r=+_c(t)-+a8(t);return Math.round(r/sR)+1}function Yb(n,e){var g,v,x,w;const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=sl(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(x=a.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,c=It((e==null?void 0:e.in)||n,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const u=Zi(c,e),f=It((e==null?void 0:e.in)||n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const h=Zi(f,e);return+t>=+u?r+1:+t>=+h?r:r-1}function z8(n,e){var u,f,h,g;const t=sl(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,a=Yb(n,e),o=It((e==null?void 0:e.in)||n,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),Zi(o,e)}function mR(n,e){const t=Le(n,e==null?void 0:e.in),r=+Zi(t,e)-+z8(t,e);return Math.round(r/sR)+1}function Ot(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ds={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ot(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ot(t+1,2)},d(n,e){return Ot(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ot(n.getHours()%12||12,e.length)},H(n,e){return Ot(n.getHours(),e.length)},m(n,e){return Ot(n.getMinutes(),e.length)},s(n,e){return Ot(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return Ot(a,e.length)}},Ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ds.y(n,e)},Y:function(n,e,t,r){const a=Yb(n,r),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return Ot(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Ot(o,e.length)},R:function(n,e){const t=lR(n);return Ot(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ot(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ds.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=mR(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Ot(a,e.length)},I:function(n,e,t){const r=Hb(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ot(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ds.d(n,e)},D:function(n,e,t){const r=F8(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ot(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ot(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Ot(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=Ql.noon:r===0?a=Ql.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=Ql.evening:r>=12?a=Ql.afternoon:r>=4?a=Ql.morning:a=Ql.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ds.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ds.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ds.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ds.s(n,e)},S:function(n,e){return Ds.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return TS(r);case"XXXX":case"XX":return jo(r);case"XXXXX":case"XXX":default:return jo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return TS(r);case"xxxx":case"xx":return jo(r);case"xxxxx":case"xxx":default:return jo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ES(r,":");case"OOOO":default:return"GMT"+jo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ES(r,":");case"zzzz":default:return"GMT"+jo(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ot(r,e.length)},T:function(n,e,t){return Ot(+n,e.length)}};function ES(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),o=r%60;return o===0?t+String(a):t+String(a)+e+Ot(o,2)}function TS(n,e){return n%60===0?(n>0?"-":"+")+Ot(Math.abs(n)/60,2):jo(n,e)}function jo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Ot(Math.trunc(r/60),2),o=Ot(r%60,2);return t+a+e+o}const SS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H8=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return SS(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",SS(r,e)).replace("{{time}}",pR(a,e))},W0={p:pR,P:H8},Y8=/^D+$/,q8=/^Y+$/,G8=["D","DD","YY","YYYY"];function $8(n){return Y8.test(n)}function Q8(n){return q8.test(n)}function K8(n,e,t){const r=W8(n,e,t);if(console.warn(r),G8.includes(n))throw new RangeError(r)}function W8(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J8=/^'([^]*?)'?$/,e7=/''/g,t7=/[a-zA-Z]/;function DS(n,e,t){var g,v,x,w,E,C,T,N;const r=sl(),a=(t==null?void 0:t.locale)??r.locale??hR,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((C=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((N=(T=r.locale)==null?void 0:T.options)==null?void 0:N.weekStartsOn)??0,u=Le(n,t==null?void 0:t.in);if(!bm(u))throw new RangeError("Invalid time value");let f=e.match(Z8).map(V=>{const L=V[0];if(L==="p"||L==="P"){const F=W0[L];return F(V,a.formatLong)}return V}).join("").match(X8).map(V=>{if(V==="''")return{isToken:!1,value:"'"};const L=V[0];if(L==="'")return{isToken:!1,value:n7(V)};if(wS[L])return{isToken:!0,value:V};if(L.match(t7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:V}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const h={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return f.map(V=>{if(!V.isToken)return V.value;const L=V.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Q8(L)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$8(L))&&K8(L,e,String(n));const F=wS[L[0]];return F(u,L,a.localize,h)}).join("")}function n7(n){const e=n.match(J8);return e?e[1].replace(e7,"'"):n}function AS(n,e){return Le(n,e==null?void 0:e.in).getDate()}function r7(n,e){return Le(n,e==null?void 0:e.in).getDay()}function a7(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=t.getMonth(),o=It(t,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function i7(){return Object.assign({},sl())}function Yi(n,e){return Le(n,e==null?void 0:e.in).getHours()}function s7(n,e){const t=Le(n,e==null?void 0:e.in).getDay();return t===0?7:t}function qi(n,e){return Le(n,e==null?void 0:e.in).getMinutes()}function _r(n,e){return Le(n,e==null?void 0:e.in).getMonth()}function Ls(n){return Le(n).getSeconds()}function X0(n){return+Le(n)}function ct(n,e){return Le(n,e==null?void 0:e.in).getFullYear()}function Ks(n,e){return+Le(n)>+Le(e)}function Jo(n,e){return+Le(n)<+Le(e)}function o7(n,e){return+Le(n)==+Le(e)}function l7(n,e){const t=c7(e)?new e(0):It(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function c7(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const u7=10;class gR{constructor(){Me(this,"subPriority",0)}validate(e,t){return!0}}class d7 extends gR{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class f7 extends gR{constructor(t,r){super();Me(this,"priority",u7);Me(this,"subPriority",-1);this.context=t||(a=>It(r,a))}set(t,r){return r.timestampIsSet?t:It(t,l7(t,this.context))}}class Rt{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new d7(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class h7 extends Rt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,r,a){return r.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const mn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Za={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pn(n,e){return n&&{value:e(n.value),rest:n.rest}}function en(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ja(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:r*(a*cp+o*lp+c*t8),rest:e.slice(t[0].length)}}function yR(n){return en(mn.anyDigitsSigned,n)}function ln(n,e){switch(n){case 1:return en(mn.singleDigit,e);case 2:return en(mn.twoDigits,e);case 3:return en(mn.threeDigits,e);case 4:return en(mn.fourDigits,e);default:return en(new RegExp("^\\d{1,"+n+"}"),e)}}function Em(n,e){switch(n){case 1:return en(mn.singleDigitSigned,e);case 2:return en(mn.twoDigitsSigned,e);case 3:return en(mn.threeDigitsSigned,e);case 4:return en(mn.fourDigitsSigned,e);default:return en(new RegExp("^-?\\d{1,"+n+"}"),e)}}function qb(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function vR(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const o=r+50,c=Math.trunc(o/100)*100,u=n>=o%100;a=n+c-(u?100:0)}return t?a:1-a}function bR(n){return n%400===0||n%4===0&&n%100!==0}class m7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,a){const o=c=>({year:c,isTwoDigitYear:r==="yy"});switch(r){case"y":return pn(ln(4,t),o);case"yo":return pn(a.ordinalNumber(t,{unit:"year"}),o);default:return pn(ln(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a){const o=t.getFullYear();if(a.isTwoDigitYear){const u=vR(a.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const c=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}}class p7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,a){const o=c=>({year:c,isTwoDigitYear:r==="YY"});switch(r){case"Y":return pn(ln(4,t),o);case"Yo":return pn(a.ordinalNumber(t,{unit:"year"}),o);default:return pn(ln(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a,o){const c=Yb(t,o);if(a.isTwoDigitYear){const f=vR(a.year,c);return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,o)}const u=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,o)}}class g7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Em(r==="R"?4:r.length,t)}set(t,r,a){const o=It(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),_c(o)}}class y7 extends Rt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Em(r==="u"?4:r.length,t)}set(t,r,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class v7 extends Rt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"Q":case"QQ":return ln(r.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class b7 extends Rt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"q":case"qq":return ln(r.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class x7 extends Rt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(t,r,a){const o=c=>c-1;switch(r){case"M":return pn(en(mn.month,t),o);case"MM":return pn(ln(2,t),o);case"Mo":return pn(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class _7 extends Rt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,a){const o=c=>c-1;switch(r){case"L":return pn(en(mn.month,t),o);case"LL":return pn(ln(2,t),o);case"Lo":return pn(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function w7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=mR(r,t)-e;return r.setDate(r.getDate()-a*7),Le(r,t==null?void 0:t.in)}class E7 extends Rt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,a){switch(r){case"w":return en(mn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a,o){return Zi(w7(t,a,o),o)}}function T7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Hb(r,t)-e;return r.setDate(r.getDate()-a*7),r}class S7 extends Rt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,a){switch(r){case"I":return en(mn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a){return _c(T7(t,a))}}const D7=[31,28,31,30,31,30,31,31,30,31,30,31],A7=[31,29,31,30,31,30,31,31,30,31,30,31];class C7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"d":return en(mn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return ln(r.length,t)}}validate(t,r){const a=t.getFullYear(),o=bR(a),c=t.getMonth();return o?r>=1&&r<=A7[c]:r>=1&&r<=D7[c]}set(t,r,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class R7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,a){switch(r){case"D":case"DD":return en(mn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return ln(r.length,t)}}validate(t,r){const a=t.getFullYear();return bR(a)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Gb(n,e,t){var v,x,w,E;const r=sl(),a=(t==null?void 0:t.weekStartsOn)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((E=(w=r.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,o=Le(n,t==null?void 0:t.in),c=o.getDay(),f=(e%7+7)%7,h=7-a,g=e<0||e>6?e-(c+h)%7:(f+h)%7-(c+h)%7;return Ca(o,g,t)}class N7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Gb(t,a,o),t.setHours(0,0,0,0),t}}class M7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,a,o){const c=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"e":case"ee":return pn(ln(r.length,t),c);case"eo":return pn(a.ordinalNumber(t,{unit:"day"}),c);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Gb(t,a,o),t.setHours(0,0,0,0),t}}class k7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,a,o){const c=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"c":case"cc":return pn(ln(r.length,t),c);case"co":return pn(a.ordinalNumber(t,{unit:"day"}),c);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Gb(t,a,o),t.setHours(0,0,0,0),t}}function P7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=s7(r,t),o=e-a;return Ca(r,o,t)}class O7 extends Rt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,a){const o=c=>c===0?7:c;switch(r){case"i":case"ii":return ln(r.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return pn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return pn(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return pn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return pn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,a){return t=P7(t,a),t.setHours(0,0,0,0),t}}class I7 extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(qb(a),0,0,0),t}}class j7 extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(qb(a),0,0,0),t}}class V7 extends Rt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(qb(a),0,0,0),t}}class L7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,a){switch(r){case"h":return en(mn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class U7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,a){switch(r){case"H":return en(mn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,a){return t.setHours(a,0,0,0),t}}class B7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,a){switch(r){case"K":return en(mn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class F7 extends Rt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,a){switch(r){case"k":return en(mn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return ln(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class z7 extends Rt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"m":return en(mn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setMinutes(a,0,0),t}}class H7 extends Rt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"s":return en(mn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return ln(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setSeconds(a,0),t}}class Y7 extends Rt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(t,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return pn(ln(r.length,t),a)}set(t,r,a){return t.setMilliseconds(a),t}}class q7 extends Rt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Ja(Za.basicOptionalMinutes,t);case"XX":return Ja(Za.basic,t);case"XXXX":return Ja(Za.basicOptionalSeconds,t);case"XXXXX":return Ja(Za.extendedOptionalSeconds,t);case"XXX":default:return Ja(Za.extended,t)}}set(t,r,a){return r.timestampIsSet?t:It(t,t.getTime()-ym(t)-a)}}class G7 extends Rt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Ja(Za.basicOptionalMinutes,t);case"xx":return Ja(Za.basic,t);case"xxxx":return Ja(Za.basicOptionalSeconds,t);case"xxxxx":return Ja(Za.extendedOptionalSeconds,t);case"xxx":default:return Ja(Za.extended,t)}}set(t,r,a){return r.timestampIsSet?t:It(t,t.getTime()-ym(t)-a)}}class $7 extends Rt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(t){return yR(t)}set(t,r,a){return[It(t,a*1e3),{timestampIsSet:!0}]}}class Q7 extends Rt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(t){return yR(t)}set(t,r,a){return[It(t,a),{timestampIsSet:!0}]}}const K7={G:new h7,y:new m7,Y:new p7,R:new g7,u:new y7,Q:new v7,q:new b7,M:new x7,L:new _7,w:new E7,I:new S7,d:new C7,D:new R7,E:new N7,e:new M7,c:new k7,i:new O7,a:new I7,b:new j7,B:new V7,h:new L7,H:new U7,K:new B7,k:new F7,m:new z7,s:new H7,S:new Y7,X:new q7,x:new G7,t:new $7,T:new Q7},W7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z7=/^'([^]*?)'?$/,J7=/''/g,eU=/\S/,tU=/[a-zA-Z]/;function nU(n,e,t,r){var T,N,V,L,F,I,Q,O;const a=()=>It((r==null?void 0:r.in)||t,NaN),o=i7(),c=(r==null?void 0:r.locale)??o.locale??hR,u=(r==null?void 0:r.firstWeekContainsDate)??((N=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:N.firstWeekContainsDate)??o.firstWeekContainsDate??((L=(V=o.locale)==null?void 0:V.options)==null?void 0:L.firstWeekContainsDate)??1,f=(r==null?void 0:r.weekStartsOn)??((I=(F=r==null?void 0:r.locale)==null?void 0:F.options)==null?void 0:I.weekStartsOn)??o.weekStartsOn??((O=(Q=o.locale)==null?void 0:Q.options)==null?void 0:O.weekStartsOn)??0;if(!e)return n?a():Le(t,r==null?void 0:r.in);const h={firstWeekContainsDate:u,weekStartsOn:f,locale:c},g=[new f7(r==null?void 0:r.in,t)],v=e.match(X7).map(A=>{const R=A[0];if(R in W0){const k=W0[R];return k(A,c.formatLong)}return A}).join("").match(W7),x=[];for(let A of v){const R=A[0],k=K7[R];if(k){const{incompatibleTokens:z}=k;if(Array.isArray(z)){const B=x.find(Se=>z.includes(Se.token)||Se.token===R);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${A}\` at the same time`)}else if(k.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);x.push({token:R,fullToken:A});const Y=k.run(n,A,c.match,h);if(!Y)return a();g.push(Y.setter),n=Y.rest}else{if(R.match(tU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(A==="''"?A="'":R==="'"&&(A=rU(A)),n.indexOf(A)===0)n=n.slice(A.length);else return a()}}if(n.length>0&&eU.test(n))return a();const w=g.map(A=>A.priority).sort((A,R)=>R-A).filter((A,R,k)=>k.indexOf(A)===R).map(A=>g.filter(R=>R.priority===A).sort((R,k)=>k.subPriority-R.subPriority)).map(A=>A[0]);let E=Le(t,r==null?void 0:r.in);if(isNaN(+E))return a();const C={};for(const A of w){if(!A.validate(E,h))return a();const R=A.set(E,C,h);Array.isArray(R)?(E=R[0],Object.assign(C,R[1])):E=R}return E}function rU(n){return n.match(Z7)[1].replace(J7,"'")}function aU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function iU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return+K0(r)==+K0(a)}function sU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()}function Cd(n,e,t){const r=+Le(n,t==null?void 0:t.in),[a,o]=[+Le(e.start,t==null?void 0:t.in),+Le(e.end,t==null?void 0:t.in)].sort((c,u)=>c-u);return r>=a&&r<=o}function oU(n,e,t){return Ca(n,-1,t)}function lU(n,e){const t=()=>It(e==null?void 0:e.in,NaN),a=fU(n);let o;if(a.date){const h=hU(a.date,2);o=mU(h.restDateString,h.year)}if(!o||isNaN(+o))return t();const c=+o;let u=0,f;if(a.time&&(u=pU(a.time),isNaN(u)))return t();if(a.timezone){if(f=gU(a.timezone),isNaN(f))return t()}else{const h=new Date(c+u),g=Le(0,e==null?void 0:e.in);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return Le(c+u+f,e==null?void 0:e.in)}const vh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fU(n){const e={},t=n.split(vh.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],vh.timeZoneDelimiter.test(e.date)&&(e.date=n.split(vh.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=vh.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function hU(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function mU(n,e){if(e===null)return new Date(NaN);const t=n.match(cU);if(!t)return new Date(NaN);const r=!!t[4],a=Fu(t[1]),o=Fu(t[2])-1,c=Fu(t[3]),u=Fu(t[4]),f=Fu(t[5])-1;if(r)return _U(e,u,f)?yU(e,u,f):new Date(NaN);{const h=new Date(0);return!bU(e,o,c)||!xU(e,a)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(a,c)),h)}}function Fu(n){return n?parseInt(n):1}function pU(n){const e=n.match(uU);if(!e)return NaN;const t=Gy(e[1]),r=Gy(e[2]),a=Gy(e[3]);return wU(t,r,a)?t*cp+r*lp+a*1e3:NaN}function Gy(n){return n&&parseFloat(n.replace(",","."))||0}function gU(n){if(n==="Z")return 0;const e=n.match(dU);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return EU(r,a)?t*(r*cp+a*lp):NaN}function yU(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const vU=[31,null,31,30,31,30,31,31,30,31,30,31];function xR(n){return n%400===0||n%4===0&&n%100!==0}function bU(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(vU[e]||(xR(n)?29:28))}function xU(n,e){return e>=1&&e<=(xR(n)?366:365)}function _U(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function wU(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function EU(n,e){return e>=0&&e<=59}function ha(n,e,t){const r=Le(n,t==null?void 0:t.in),a=r.getFullYear(),o=r.getDate(),c=It(n,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const u=a7(c);return r.setMonth(e,Math.min(o,u)),r}function Vh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setHours(e),r}function Lh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Jl(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Math.trunc(r.getMonth()/3)+1,o=e-a;return ha(r,r.getMonth()+o*3)}function Uh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Wa(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(+r)?It(n,NaN):(r.setFullYear(e),r)}function Go(n,e,t){return Ma(n,-e,t)}function _R(n,e,t){return zb(n,-1,t)}function CS(n,e,t){return vm(n,-1,t)}function Ec(n,e,t){return zi(n,-e,t)}function dp(){return typeof window<"u"}function jc(n){return wR(n)?(n.nodeName||"").toLowerCase():"#document"}function Hr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hi(n){var e;return(e=(wR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function wR(n){return dp()?n instanceof Node||n instanceof Hr(n).Node:!1}function wr(n){return dp()?n instanceof Element||n instanceof Hr(n).Element:!1}function ci(n){return dp()?n instanceof HTMLElement||n instanceof Hr(n).HTMLElement:!1}function RS(n){return!dp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hr(n).ShadowRoot}function Hd(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=ya(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function TU(n){return["table","td","th"].includes(jc(n))}function fp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function $b(n){const e=Qb(),t=wr(n)?ya(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function SU(n){let e=Ws(n);for(;ci(e)&&!Tc(e);){if($b(e))return e;if(fp(e))return null;e=Ws(e)}return null}function Qb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(n){return["html","body","#document"].includes(jc(n))}function ya(n){return Hr(n).getComputedStyle(n)}function hp(n){return wr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ws(n){if(jc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||RS(n)&&n.host||hi(n);return RS(e)?e.host:e}function ER(n){const e=Ws(n);return Tc(e)?n.ownerDocument?n.ownerDocument.body:n.body:ci(e)&&Hd(e)?e:ER(e)}function Rd(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=ER(n),o=a===((r=n.ownerDocument)==null?void 0:r.body),c=Hr(a);if(o){const u=Z0(c);return e.concat(c,c.visualViewport||[],Hd(a)?a:[],u&&t?Rd(u):[])}return e.concat(a,Rd(a,[],t))}function Z0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Sc=Math.min,$o=Math.max,Tm=Math.round,bh=Math.floor,si=n=>({x:n,y:n}),DU={left:"right",right:"left",bottom:"top",top:"bottom"},AU={start:"end",end:"start"};function CU(n,e,t){return $o(n,Sc(e,t))}function mp(n,e){return typeof n=="function"?n(e):n}function Dc(n){return n.split("-")[0]}function Yd(n){return n.split("-")[1]}function RU(n){return n==="x"?"y":"x"}function Kb(n){return n==="y"?"height":"width"}function Nd(n){return["top","bottom"].includes(Dc(n))?"y":"x"}function Wb(n){return RU(Nd(n))}function NU(n,e,t){t===void 0&&(t=!1);const r=Yd(n),a=Wb(n),o=Kb(a);let c=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Sm(c)),[c,Sm(c)]}function MU(n){const e=Sm(n);return[J0(n),e,J0(e)]}function J0(n){return n.replace(/start|end/g,e=>AU[e])}function kU(n,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:c;default:return[]}}function PU(n,e,t,r){const a=Yd(n);let o=kU(Dc(n),t==="start",r);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(J0)))),o}function Sm(n){return n.replace(/left|right|bottom|top/g,e=>DU[e])}function OU(n){return{top:0,right:0,bottom:0,left:0,...n}}function TR(n){return typeof n!="number"?OU(n):{top:n,right:n,bottom:n,left:n}}function Dm(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function NS(n,e,t){let{reference:r,floating:a}=n;const o=Nd(e),c=Wb(e),u=Kb(c),f=Dc(e),h=o==="y",g=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:g,y:r.y-a.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-a.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Yd(e)){case"start":w[c]-=x*(t&&h?-1:1);break;case"end":w[c]+=x*(t&&h?-1:1);break}return w}const IU=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:c}=t,u=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:g,y:v}=NS(h,r,f),x=r,w={},E=0;for(let C=0;C<u.length;C++){const{name:T,fn:N}=u[C],{x:V,y:L,data:F,reset:I}=await N({x:g,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:w,rects:h,platform:c,elements:{reference:n,floating:e}});g=V??g,v=L??v,w={...w,[T]:{...w[T],...F}},I&&E<=50&&(E++,typeof I=="object"&&(I.placement&&(x=I.placement),I.rects&&(h=I.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):I.rects),{x:g,y:v}=NS(h,x,f)),C=-1)}return{x:g,y:v,placement:x,strategy:a,middlewareData:w}};async function jU(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:c,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:w=0}=mp(e,n),E=TR(w),T=u[x?v==="floating"?"reference":"floating":v],N=Dm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(T)))==null||t?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:f})),V=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),F=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},I=Dm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:L,strategy:f}):V);return{top:(N.top-I.top+E.top)/F.y,bottom:(I.bottom-N.bottom+E.bottom)/F.y,left:(N.left-I.left+E.left)/F.x,right:(I.right-N.right+E.right)/F.x}}const VU=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:o,platform:c,elements:u,middlewareData:f}=e,{element:h,padding:g=0}=mp(n,e)||{};if(h==null)return{};const v=TR(g),x={x:t,y:r},w=Wb(a),E=Kb(w),C=await c.getDimensions(h),T=w==="y",N=T?"top":"left",V=T?"bottom":"right",L=T?"clientHeight":"clientWidth",F=o.reference[E]+o.reference[w]-x[w]-o.floating[E],I=x[w]-o.reference[w],Q=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let O=Q?Q[L]:0;(!O||!await(c.isElement==null?void 0:c.isElement(Q)))&&(O=u.floating[L]||o.floating[E]);const A=F/2-I/2,R=O/2-C[E]/2-1,k=Sc(v[N],R),z=Sc(v[V],R),Y=k,B=O-C[E]-z,Se=O/2-C[E]/2+A,we=CU(Y,Se,B),ie=!f.arrow&&Yd(a)!=null&&Se!==we&&o.reference[E]/2-(Se<Y?k:z)-C[E]/2<0,ee=ie?Se<Y?Se-Y:Se-B:0;return{[w]:x[w]+ee,data:{[w]:we,centerOffset:Se-we-ee,...ie&&{alignmentOffset:ee}},reset:ie}}}),LU=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:c,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:C=!0,...T}=mp(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=Dc(a),V=Nd(u),L=Dc(u)===u,F=await(f.isRTL==null?void 0:f.isRTL(h.floating)),I=x||(L||!C?[Sm(u)]:MU(u)),Q=E!=="none";!x&&Q&&I.push(...PU(u,C,E,F));const O=[u,...I],A=await jU(e,T),R=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&R.push(A[N]),v){const Se=NU(a,c,F);R.push(A[Se[0]],A[Se[1]])}if(k=[...k,{placement:a,overflows:R}],!R.every(Se=>Se<=0)){var z,Y;const Se=(((z=o.flip)==null?void 0:z.index)||0)+1,we=O[Se];if(we)return{data:{index:Se,overflows:k},reset:{placement:we}};let ie=(Y=k.filter(ee=>ee.overflows[0]<=0).sort((ee,re)=>ee.overflows[1]-re.overflows[1])[0])==null?void 0:Y.placement;if(!ie)switch(w){case"bestFit":{var B;const ee=(B=k.filter(re=>{if(Q){const q=Nd(re.placement);return q===V||q==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(q=>q>0).reduce((q,U)=>q+U,0)]).sort((re,q)=>re[1]-q[1])[0])==null?void 0:B[0];ee&&(ie=ee);break}case"initialPlacement":ie=u;break}if(a!==ie)return{reset:{placement:ie}}}return{}}}};async function UU(n,e){const{placement:t,platform:r,elements:a}=n,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=Dc(t),u=Yd(t),f=Nd(t)==="y",h=["left","top"].includes(c)?-1:1,g=o&&f?-1:1,v=mp(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(w=u==="end"?E*-1:E),f?{x:w*g,y:x*h}:{x:x*h,y:w*g}}const BU=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:o,placement:c,middlewareData:u}=e,f=await UU(e,n);return c===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:c}}}}};function SR(n){const e=ya(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ci(n),o=a?n.offsetWidth:t,c=a?n.offsetHeight:r,u=Tm(t)!==o||Tm(r)!==c;return u&&(t=o,r=c),{width:t,height:r,$:u}}function Xb(n){return wr(n)?n:n.contextElement}function sc(n){const e=Xb(n);if(!ci(e))return si(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=SR(e);let c=(o?Tm(t.width):t.width)/r,u=(o?Tm(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const FU=si(0);function DR(n){const e=Hr(n);return!Qb()||!e.visualViewport?FU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zU(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hr(n)?!1:e}function el(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=Xb(n);let c=si(1);e&&(r?wr(r)&&(c=sc(r)):c=sc(n));const u=zU(o,t,r)?DR(o):si(0);let f=(a.left+u.x)/c.x,h=(a.top+u.y)/c.y,g=a.width/c.x,v=a.height/c.y;if(o){const x=Hr(o),w=r&&wr(r)?Hr(r):r;let E=x,C=Z0(E);for(;C&&r&&w!==E;){const T=sc(C),N=C.getBoundingClientRect(),V=ya(C),L=N.left+(C.clientLeft+parseFloat(V.paddingLeft))*T.x,F=N.top+(C.clientTop+parseFloat(V.paddingTop))*T.y;f*=T.x,h*=T.y,g*=T.x,v*=T.y,f+=L,h+=F,E=Hr(C),C=Z0(E)}}return Dm({width:g,height:v,x:f,y:h})}function Zb(n,e){const t=hp(n).scrollLeft;return e?e.left+t:el(hi(n)).left+t}function AR(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),a=r.left+e.scrollLeft-(t?0:Zb(n,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function HU(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const o=a==="fixed",c=hi(r),u=e?fp(e.floating):!1;if(r===c||u&&o)return t;let f={scrollLeft:0,scrollTop:0},h=si(1);const g=si(0),v=ci(r);if((v||!v&&!o)&&((jc(r)!=="body"||Hd(c))&&(f=hp(r)),ci(r))){const w=el(r);h=sc(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const x=c&&!v&&!o?AR(c,f,!0):si(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+g.x+x.x,y:t.y*h.y-f.scrollTop*h.y+g.y+x.y}}function YU(n){return Array.from(n.getClientRects())}function qU(n){const e=hi(n),t=hp(n),r=n.ownerDocument.body,a=$o(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$o(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+Zb(n);const u=-t.scrollTop;return ya(r).direction==="rtl"&&(c+=$o(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:c,y:u}}function GU(n,e){const t=Hr(n),r=hi(n),a=t.visualViewport;let o=r.clientWidth,c=r.clientHeight,u=0,f=0;if(a){o=a.width,c=a.height;const h=Qb();(!h||h&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:o,height:c,x:u,y:f}}function $U(n,e){const t=el(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,o=ci(n)?sc(n):si(1),c=n.clientWidth*o.x,u=n.clientHeight*o.y,f=a*o.x,h=r*o.y;return{width:c,height:u,x:f,y:h}}function MS(n,e,t){let r;if(e==="viewport")r=GU(n,t);else if(e==="document")r=qU(hi(n));else if(wr(e))r=$U(e,t);else{const a=DR(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Dm(r)}function CR(n,e){const t=Ws(n);return t===e||!wr(t)||Tc(t)?!1:ya(t).position==="fixed"||CR(t,e)}function QU(n,e){const t=e.get(n);if(t)return t;let r=Rd(n,[],!1).filter(u=>wr(u)&&jc(u)!=="body"),a=null;const o=ya(n).position==="fixed";let c=o?Ws(n):n;for(;wr(c)&&!Tc(c);){const u=ya(c),f=$b(c);!f&&u.position==="fixed"&&(a=null),(o?!f&&!a:!f&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Hd(c)&&!f&&CR(n,c))?r=r.filter(g=>g!==c):a=u,c=Ws(c)}return e.set(n,r),r}function KU(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const c=[...t==="clippingAncestors"?fp(e)?[]:QU(e,this._c):[].concat(t),r],u=c[0],f=c.reduce((h,g)=>{const v=MS(e,g,a);return h.top=$o(v.top,h.top),h.right=Sc(v.right,h.right),h.bottom=Sc(v.bottom,h.bottom),h.left=$o(v.left,h.left),h},MS(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function WU(n){const{width:e,height:t}=SR(n);return{width:e,height:t}}function XU(n,e,t){const r=ci(e),a=hi(e),o=t==="fixed",c=el(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=si(0);if(r||!r&&!o)if((jc(e)!=="body"||Hd(a))&&(u=hp(e)),r){const x=el(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else a&&(f.x=Zb(a));const h=a&&!r&&!o?AR(a,u):si(0),g=c.left+u.scrollLeft-f.x-h.x,v=c.top+u.scrollTop-f.y-h.y;return{x:g,y:v,width:c.width,height:c.height}}function $y(n){return ya(n).position==="static"}function kS(n,e){if(!ci(n)||ya(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hi(n)===t&&(t=t.ownerDocument.body),t}function RR(n,e){const t=Hr(n);if(fp(n))return t;if(!ci(n)){let a=Ws(n);for(;a&&!Tc(a);){if(wr(a)&&!$y(a))return a;a=Ws(a)}return t}let r=kS(n,e);for(;r&&TU(r)&&$y(r);)r=kS(r,e);return r&&Tc(r)&&$y(r)&&!$b(r)?t:r||SU(n)||t}const ZU=async function(n){const e=this.getOffsetParent||RR,t=this.getDimensions,r=await t(n.floating);return{reference:XU(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JU(n){return ya(n).direction==="rtl"}const eB={convertOffsetParentRelativeRectToViewportRelativeRect:HU,getDocumentElement:hi,getClippingRect:KU,getOffsetParent:RR,getElementRects:ZU,getClientRects:YU,getDimensions:WU,getScale:sc,isElement:wr,isRTL:JU};function NR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function tB(n,e){let t=null,r;const a=hi(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:g,top:v,width:x,height:w}=h;if(u||e(),!x||!w)return;const E=bh(v),C=bh(a.clientWidth-(g+x)),T=bh(a.clientHeight-(v+w)),N=bh(g),L={rootMargin:-E+"px "+-C+"px "+-T+"px "+-N+"px",threshold:$o(0,Sc(1,f))||1};let F=!0;function I(Q){const O=Q[0].intersectionRatio;if(O!==f){if(!F)return c();O?c(!1,O):r=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!NR(h,n.getBoundingClientRect())&&c(),F=!1}try{t=new IntersectionObserver(I,{...L,root:a.ownerDocument})}catch{t=new IntersectionObserver(I,L)}t.observe(n)}return c(!0),o}function nB(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Xb(n),g=a||o?[...h?Rd(h):[],...Rd(e)]:[];g.forEach(N=>{a&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const v=h&&u?tB(h,t):null;let x=-1,w=null;c&&(w=new ResizeObserver(N=>{let[V]=N;V&&V.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var L;(L=w)==null||L.observe(e)})),t()}),h&&!f&&w.observe(h),w.observe(e));let E,C=f?el(n):null;f&&T();function T(){const N=el(n);C&&!NR(C,N)&&t(),C=N,E=requestAnimationFrame(T)}return t(),()=>{var N;g.forEach(V=>{a&&V.removeEventListener("scroll",t),o&&V.removeEventListener("resize",t)}),v==null||v(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(E)}}const rB=BU,aB=LU,PS=VU,iB=(n,e,t)=>{const r=new Map,a={platform:eB,...t},o={...a.platform,_c:r};return IU(n,e,{...a,platform:o})};var Bh=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Am(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Am(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&n.$$typeof)&&!Am(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function MR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function OS(n,e){const t=MR(n);return Math.round(e*t)/t}function Qy(n){const e=M.useRef(n);return Bh(()=>{e.current=n}),e}function sB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[g,v]=M.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=M.useState(r);Am(x,r)||w(r);const[E,C]=M.useState(null),[T,N]=M.useState(null),V=M.useCallback(re=>{re!==Q.current&&(Q.current=re,C(re))},[]),L=M.useCallback(re=>{re!==O.current&&(O.current=re,N(re))},[]),F=o||E,I=c||T,Q=M.useRef(null),O=M.useRef(null),A=M.useRef(g),R=f!=null,k=Qy(f),z=Qy(a),Y=Qy(h),B=M.useCallback(()=>{if(!Q.current||!O.current)return;const re={placement:e,strategy:t,middleware:x};z.current&&(re.platform=z.current),iB(Q.current,O.current,re).then(q=>{const U={...q,isPositioned:Y.current!==!1};Se.current&&!Am(A.current,U)&&(A.current=U,wv.flushSync(()=>{v(U)}))})},[x,e,t,z,Y]);Bh(()=>{h===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(re=>({...re,isPositioned:!1})))},[h]);const Se=M.useRef(!1);Bh(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Bh(()=>{if(F&&(Q.current=F),I&&(O.current=I),F&&I){if(k.current)return k.current(F,I,B);B()}},[F,I,B,k,R]);const we=M.useMemo(()=>({reference:Q,floating:O,setReference:V,setFloating:L}),[V,L]),ie=M.useMemo(()=>({reference:F,floating:I}),[F,I]),ee=M.useMemo(()=>{const re={position:t,left:0,top:0};if(!ie.floating)return re;const q=OS(ie.floating,g.x),U=OS(ie.floating,g.y);return u?{...re,transform:"translate("+q+"px, "+U+"px)",...MR(ie.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:q,top:U}},[t,u,ie.floating,g.x,g.y]);return M.useMemo(()=>({...g,update:B,refs:we,elements:ie,floatingStyles:ee}),[g,B,we,ie,ee])}const oB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?PS({element:r.current,padding:a}).fn(t):{}:r?PS({element:r,padding:a}).fn(t):{}}}},lB=(n,e)=>({...rB(n),options:[n,e]}),cB=(n,e)=>({...aB(n),options:[n,e]}),uB=(n,e)=>({...oB(n),options:[n,e]}),kR={...vM},dB=kR.useInsertionEffect,fB=dB||(n=>n());function hB(n){const e=M.useRef(()=>{});return fB(()=>{e.current=n}),M.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var Cm=typeof document<"u"?M.useLayoutEffect:M.useEffect;let IS=!1,mB=0;const jS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mB++;function pB(){const[n,e]=M.useState(()=>IS?jS():void 0);return Cm(()=>{n==null&&e(jS())},[]),M.useEffect(()=>{IS=!0},[]),n}const gB=kR.useId,PR=gB||pB,yB=M.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:o,shift:c}},width:u=14,height:f=7,tipRadius:h=0,strokeWidth:g=0,staticOffset:v,stroke:x,d:w,style:{transform:E,...C}={},...T}=e,N=PR(),[V,L]=M.useState(!1);if(Cm(()=>{if(!a)return;ya(a).direction==="rtl"&&L(!0)},[a]),!a)return null;const[F,I]=r.split("-"),Q=F==="top"||F==="bottom";let O=v;(Q&&c!=null&&c.x||!Q&&c!=null&&c.y)&&(O=null);const A=g*2,R=A/2,k=u/2*(h/-8+1),z=f/2*h/4,Y=!!w,B=O&&I==="end"?"bottom":"top";let Se=O&&I==="end"?"right":"left";O&&V&&(Se=I==="end"?"left":"right");const we=(o==null?void 0:o.x)!=null?O||o.x:"",ie=(o==null?void 0:o.y)!=null?O||o.y:"",ee=w||"M0,0"+(" H"+u)+(" L"+(u-k)+","+(f-z))+(" Q"+u/2+","+f+" "+k+","+(f-z))+" Z",re={top:Y?"rotate(180deg)":"",left:Y?"rotate(90deg)":"rotate(-90deg)",bottom:Y?"":"rotate(180deg)",right:Y?"rotate(-90deg)":"rotate(90deg)"}[F];return y.jsxs("svg",{...T,"aria-hidden":!0,ref:t,width:Y?u:u+A,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Se]:we,[B]:ie,[F]:Q||Y?"100%":"calc(100% - "+A/2+"px)",transform:[re,E].filter(q=>!!q).join(" "),...C},children:[A>0&&y.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:x,strokeWidth:A+(w?0:1),d:ee}),y.jsx("path",{stroke:A&&!w?T.fill:"none",d:ee}),y.jsx("clipPath",{id:N,children:y.jsx("rect",{x:-R,y:R*(Y?-1:1),width:u+A,height:u})})]})});function vB(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(a=>a!==t))||[])}}}const bB=M.createContext(null),xB=M.createContext(null),_B=()=>{var n;return((n=M.useContext(bB))==null?void 0:n.id)||null},wB=()=>M.useContext(xB);function EB(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=PR(),o=M.useRef({}),[c]=M.useState(()=>vB()),u=_B()!=null,[f,h]=M.useState(r.reference),g=hB((w,E,C)=>{o.current.openEvent=w?E:void 0,c.emit("openchange",{open:w,event:E,reason:C,nested:u}),t==null||t(w,E,C)}),v=M.useMemo(()=>({setPositionReference:h}),[]),x=M.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:x,events:c,floatingId:a,refs:v}),[e,g,x,c,a,v])}function TB(n){n===void 0&&(n={});const{nodeId:e}=n,t=EB({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[o,c]=M.useState(null),[u,f]=M.useState(null),g=(a==null?void 0:a.domReference)||o,v=M.useRef(null),x=wB();Cm(()=>{g&&(v.current=g)},[g]);const w=sB({...n,elements:{...a,...u&&{reference:u}}}),E=M.useCallback(L=>{const F=wr(L)?{getBoundingClientRect:()=>L.getBoundingClientRect(),contextElement:L}:L;f(F),w.refs.setReference(F)},[w.refs]),C=M.useCallback(L=>{(wr(L)||L===null)&&(v.current=L,c(L)),(wr(w.refs.reference.current)||w.refs.reference.current===null||L!==null&&!wr(L))&&w.refs.setReference(L)},[w.refs]),T=M.useMemo(()=>({...w.refs,setReference:C,setPositionReference:E,domReference:v}),[w.refs,C,E]),N=M.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),V=M.useMemo(()=>({...w,...r,refs:T,elements:N,nodeId:e}),[w,T,N,e,r]);return Cm(()=>{r.dataRef.current.floatingContext=V;const L=x==null?void 0:x.nodesRef.current.find(F=>F.id===e);L&&(L.context=V)}),M.useMemo(()=>({...w,context:V,refs:T,elements:N}),[w,T,N,V])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ev=function(e,t){return ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},ev(e,t)};function Fn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ev(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wt=function(){return wt=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},wt.apply(this,arguments)};function ei(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var SB=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,o=n.className,c=n.children,u=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return J.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},c)},DB=function(n,e){var t=M.useRef(null),r=M.useRef(n);r.current=n;var a=M.useCallback(function(o){var c,u=o.composed&&o.composedPath&&o.composedPath().find(function(f){return f instanceof Node})||o.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(c=r.current)===null||c===void 0||c.call(r,o))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},pp=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,o=n.style,c=n.ignoreClass,u=DB(t,c);return J.createElement("div",{className:r,style:o,ref:function(f){u.current=f,a&&(a.current=f)}},e)},Re;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Re||(Re={}));function OR(){var n=typeof window<"u"?window:globalThis;return n}var qd=12;function Mt(n){if(n==null)return new Date;var e=typeof n=="string"?lU(n):Le(n);return gp(e)?e:new Date}function Ky(n,e,t,r,a){a===void 0&&(a=Mt());for(var o=Ac(t)||Ac(Jb()),c=Array.isArray(e)?e:[e],u=0,f=c;u<f.length;u++){var h=f[u],g=nU(n,h,a,{locale:o});if(gp(g)&&(!r||n===Wt(g,h,t)))return g}return null}function gp(n,e){return bm(n)&&!Jo(n,new Date("1/1/1800"))}function Wt(n,e,t){if(t==="en")return DS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Ac(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Ac(Jb()),DS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function fa(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Wt(n,a,r)||""}function AB(n,e,t){if(!n)return"";var r=fa(n,t),a=e?fa(e,t):"";return"".concat(r," - ").concat(a)}function CB(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?fa(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=fa(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function Wy(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,c=e.second,u=c===void 0?0:c;return Vh(Lh(Uh(n,u),o),r)}function RB(n){return Hb(n)}function NB(n,e){return Wt(n,"ddd",e)}function Fh(n){return Zo(n)}function Us(n,e,t){var r=Ac(e||Jb());return Zi(n,{locale:r,weekStartsOn:t})}function Gi(n){return dR(n)}function Xu(n){return up(n)}function VS(n){return K0(n)}function LS(){return Zo(Mt())}function US(n){return cR(n)}function MB(n){return l8(n)}function kB(n){return uR(n)}function Xa(n,e){return n&&e?sU(n,e):!n&&!e}function br(n,e){return n&&e?aU(n,e):!n&&!e}function Rm(n,e){return n&&e?iU(n,e):!n&&!e}function _t(n,e){return n&&e?s8(n,e):!n&&!e}function zo(n,e){return n&&e?o7(n,e):!n&&!e}function Zu(n,e,t){var r,a=Zo(e),o=cR(t);try{r=Cd(n,{start:a,end:o})}catch{r=!1}return r}function Jb(){var n=OR();return n.__localeId__}function Ac(n){if(typeof n=="string"){var e=OR();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function PB(n,e,t){return e(Wt(n,"EEEE",t))}function OB(n,e){return Wt(n,"EEEEEE",e)}function IB(n,e){return Wt(n,"EEE",e)}function ex(n,e){return Wt(ha(Mt(),n),"LLLL",e)}function IR(n,e){return Wt(ha(Mt(),n),"LLL",e)}function jB(n,e){return Wt(Jl(Mt(),n),"QQQ",e)}function ma(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,u=t.includeDates,f=t.includeDateIntervals,h=t.filterDate;return Gd(n,{minDate:r,maxDate:a})||o&&o.some(function(g){return g instanceof Date?_t(n,g):_t(n,g.date)})||c&&c.some(function(g){var v=g.start,x=g.end;return Cd(n,{start:v,end:x})})||u&&!u.some(function(g){return _t(n,g)})||f&&!f.some(function(g){var v=g.start,x=g.end;return Cd(n,{start:v,end:x})})||h&&!h(Mt(n))||!1}function tx(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var c=o.start,u=o.end;return Cd(n,{start:c,end:u})}):r&&r.some(function(o){var c;return o instanceof Date?_t(n,o):_t(n,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function jR(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,u=t.filterDate;return Gd(n,{minDate:r?dR(r):void 0,maxDate:a?uR(a):void 0})||(o==null?void 0:o.some(function(f){return br(n,f instanceof Date?f:f.date)}))||c&&!c.some(function(f){return br(n,f)})||u&&!u(Mt(n))||!1}function xh(n,e,t,r){var a=ct(n),o=_r(n),c=ct(e),u=_r(e),f=ct(r);return a===c&&a===f?o<=t&&t<=u:a<c?f===a&&o<=t||f===c&&u>=t||f<c&&f>a:!1}function VB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates;return Gd(n,{minDate:r,maxDate:a})||o&&o.some(function(u){return br(u instanceof Date?u:u.date,n)})||c&&!c.some(function(u){return br(u,n)})||!1}function _h(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,u=t.filterDate;return Gd(n,{minDate:r,maxDate:a})||(o==null?void 0:o.some(function(f){return Rm(n,f instanceof Date?f:f.date)}))||c&&!c.some(function(f){return Rm(n,f)})||u&&!u(Mt(n))||!1}function wh(n,e,t){if(!e||!t||!bm(e)||!bm(t))return!1;var r=ct(e),a=ct(t);return r<=n&&a>=n}function zh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,u=t.filterDate,f=new Date(n,0,1);return Gd(f,{minDate:r?up(r):void 0,maxDate:a?fR(a):void 0})||(o==null?void 0:o.some(function(h){return Xa(f,h instanceof Date?h:h.date)}))||c&&!c.some(function(h){return Xa(f,h)})||u&&!u(Mt(f))||!1}function Eh(n,e,t,r){var a=ct(n),o=qo(n),c=ct(e),u=qo(e),f=ct(r);return a===c&&a===f?o<=t&&t<=u:a<c?f===a&&o<=t||f===c&&u>=t||f<c&&f>a:!1}function Gd(n,e){var t,r=e===void 0?{}:e,a=r.minDate,o=r.maxDate;return(t=a&&wc(n,a)<0||o&&wc(n,o)>0)!==null&&t!==void 0?t:!1}function BS(n,e){return e.some(function(t){return Yi(t)===Yi(n)&&qi(t)===qi(n)&&Ls(t)===Ls(n)})}function FS(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return r&&BS(n,r)||a&&!BS(n,a)||o&&!o(n)||!1}function zS(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=Mt();a=Vh(a,Yi(n)),a=Lh(a,qi(n)),a=Uh(a,Ls(n));var o=Mt();o=Vh(o,Yi(t)),o=Lh(o,qi(t)),o=Uh(o,Ls(t));var c=Mt();c=Vh(c,Yi(r)),c=Lh(c,qi(r)),c=Uh(c,Ls(r));var u;try{u=!Cd(a,{start:o,end:c})}catch{u=!1}return u}function HS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Go(n,1);return r&&xm(r,o)>0||a&&a.every(function(c){return xm(c,o)>0})||!1}function YS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=Ma(n,1);return r&&xm(o,r)>0||a&&a.every(function(c){return xm(o,c)>0})||!1}function LB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=up(n),c=_R(o);return r&&_m(r,c)>0||a&&a.every(function(u){return _m(u,c)>0})||!1}function UB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=fR(n),c=zb(o,1);return r&&_m(c,r)>0||a&&a.every(function(u){return _m(c,u)>0})||!1}function qS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Ec(n,1);return r&&wm(r,o)>0||a&&a.every(function(c){return wm(c,o)>0})||!1}function BB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,o=a===void 0?qd:a,c=Xu(Ec(n,o)),u=ks(c,o).endPeriod,f=r&&ct(r);return f&&f>u||!1}function GS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=zi(n,1);return r&&wm(o,r)>0||a&&a.every(function(c){return wm(o,c)>0})||!1}function FB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,o=a===void 0?qd:a,c=zi(n,o),u=ks(c,o).startPeriod,f=r&&ct(r);return f&&f<u||!1}function VR(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return wc(a,e)>=0});return xS(r)}else return t?xS(t):e}function LR(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return wc(a,e)<=0});return bS(r)}else return t?bS(t):e}function $S(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,o=n.length;a<o;a++){var c=n[a];if(Hi(c)){var u=Wt(c,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof c=="object"){var h=Object.keys(c),g=(t=h[0])!==null&&t!==void 0?t:"",v=c[g];if(typeof g=="string"&&Array.isArray(v))for(var x=0,w=v.length;x<w;x++){var E=v[x];if(E){var u=Wt(E,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(g)||(f.push(g),r.set(u,f))}}}}return r}function zB(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function HB(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,o=r.holidayName;if(Hi(a)){var c=Wt(a,"MM.dd.yyyy"),u=t.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&zB(u.holidayNames,[o]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?ei(ei([],f,!0),[o],!1):[o],t.set(c,u)}}}),t}function YB(n,e,t,r,a){for(var o=a.length,c=[],u=0;u<o;u++){var f=n,h=a[u];h&&(f=n8(f,Yi(h)),f=Q0(f,qi(h)),f=i8(f,Ls(h)));var g=Q0(n,(t+1)*r);Ks(f,e)&&Jo(f,g)&&h!=null&&c.push(h)}return c}function QS(n){return n<10?"0".concat(n):"".concat(n)}function ks(n,e){e===void 0&&(e=qd);var t=Math.ceil(ct(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function qB(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function KS(n){var e=n.getSeconds(),t=n.getMilliseconds();return Le(n.getTime()-e*1e3-t)}function GB(n,e){return KS(n).getTime()===KS(e).getTime()}function WS(n){if(!Hi(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function XS(n,e){if(!Hi(n)||!Hi(e))throw new Error("Invalid date received");var t=WS(n),r=WS(e);return Jo(t,r)}function UR(n){return n.key===Re.Space}var $B=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=J.createRef(),r.onTimeChange=function(a){var o,c;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),h=f?u:new Date;if(a!=null&&a.includes(":")){var g=a.split(":"),v=g[0],x=g[1];h.setHours(Number(v)),h.setMinutes(Number(x))}(c=(o=r.props).onChange)===null||c===void 0||c.call(o,h)},r.renderTimeInput=function(){var a=r.state.time,o=r.props,c=o.date,u=o.timeString,f=o.customTimeInput;return f?M.cloneElement(f,{date:c,value:a,onChange:r.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:a,onChange:function(h){r.onTimeChange(h.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),QB=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=M.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,o,c=r.key;c===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isSameDay=function(r){return _t(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return tx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return _t(t.props.day,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&_t(r,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,o=r.highlightDates;if(!o)return!1;var c=Wt(a,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var r,a=t.props,o=a.day,c=a.holidays;if(!c)return[void 0];var u=Wt(o,"MM.dd.yyyy");return c.has(u)?[(r=c.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Zu(a,o,c)},t.isInSelectingRange=function(){var r,a=t.props,o=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,h=a.selectsDisabledDaysInRange,g=a.startDate,v=a.endDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||u||f)||!x||!h&&t.isDisabled()?!1:c&&v&&(Jo(x,v)||zo(x,v))?Zu(o,x,v):u&&g&&(Ks(x,g)||zo(x,g))||f&&g&&!v&&(Ks(x,g)||zo(x,g))?Zu(o,g,x):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,c=a.startDate,u=a.selectsStart,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?_t(o,f):_t(o,c)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||f?_t(o,h):_t(o,c)},t.isRangeStart=function(){var r=t.props,a=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:_t(o,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:_t(c,a)},t.isWeekend=function(){var r=r7(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===_r(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(_r(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Mt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return Wn("react-datepicker__day",a,"react-datepicker__day--"+NB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,o=r.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,h=t.isDisabled()||t.isExcluded()?f:c;return"".concat(h," ").concat(Wt(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,o=r.holidays,c=o===void 0?new Map:o,u=r.excludeDates,f=Wt(a,"MM.dd.yyyy"),h=[];return c.has(f)&&h.push.apply(h,c.get(f).holidayNames),t.isExcluded()&&h.push(u==null?void 0:u.filter(function(g){return g instanceof Date?_t(g,a):_t(g==null?void 0:g.date,a)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),h.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&_t(a,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(AS(t.props.day),t.props.day):AS(t.props.day)},t.render=function(){return J.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&J.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),KB=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=M.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,o,c=r.key;c===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.props.date,t.props.selected)&&_t(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||_t(t.props.date,t.props.selected)&&_t(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&_t(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:Wn(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(M.Component),WB=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,o){for(var c,u,f,h=new Date(r),g=0;g<7;g++){var v=new Date(r);v.setDate(v.getDate()+g);var x=!t.isDisabled(v);if(x){h=v;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,a,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((f=(u=t.props).setOpen)===null||f===void 0||f.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):RB(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=Ca(r,6),o=new Date(r);o<=a;){if(!t.isDisabled(o))return!1;o=Ca(o,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;a.push(J.createElement(KB,wt({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=Ca(r,u);return J.createElement(QB,wt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return Us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_t(t.startOfWeek(),t.props.selected)&&_t(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return J.createElement("div",{className:Wn(t)},this.renderDays())},e}(M.Component),zu,XB=6,oc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Xy=(zu={},zu[oc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},zu[oc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},zu[oc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},zu),Th=1;function ZS(n,e){return n?oc.FOUR_COLUMNS:e?oc.TWO_COLUMNS:oc.THREE_COLUMNS}var ZB=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ei([],Array(12),!0).map(function(){return M.createRef()}),t.QUARTER_REFS=ei([],Array(4),!0).map(function(){return M.createRef()}),t.isDisabled=function(r){return ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return tx(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,o=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:br(ha(o,r),c)},t.isRangeStartQuarter=function(r){var a=t.props,o=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Rm(Jl(o,r),c)},t.isRangeEndMonth=function(r){var a=t.props,o=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:br(ha(o,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,o=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Rm(Jl(o,r),u)},t.isInSelectingRangeMonth=function(r){var a,o=t.props,c=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,g=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?xh(x,v,r,c):f&&g||h&&g&&!v?xh(g,x,r,c):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,c=o.day,u=o.startDate,f=o.selectsStart,h=ha(c,r),g=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f?br(h,g):br(h,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,c=o.day,u=o.endDate,f=o.selectsEnd,h=o.selectsRange,g=ha(c,r),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f||h?br(g,v):br(g,u)},t.isInSelectingRangeQuarter=function(r){var a,o=t.props,c=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,g=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?Eh(x,v,r,c):f&&g||h&&g&&!v?Eh(g,x,r,c):!1},t.isWeekInMonth=function(r){var a=t.props.day,o=Ca(r,6);return br(r,a)||br(o,a)},t.isCurrentMonth=function(r,a){return ct(r)===ct(Mt())&&a===_r(Mt())},t.isCurrentQuarter=function(r,a){return ct(r)===ct(Mt())&&a===qo(Mt())},t.isSelectedMonth=function(r,a,o){return _r(o)===a&&ct(r)===ct(o)},t.isSelectMonthInList=function(r,a,o){return o.some(function(c){return t.isSelectedMonth(r,a,c)})},t.isSelectedQuarter=function(r,a,o){return qo(r)===a&&ct(r)===ct(o)},t.renderWeeks=function(){for(var r=[],a=t.props.fixedHeight,o=0,c=!1,u=Us(Gi(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(E){return t.props.showWeekPicker?Us(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(E){return t.props.showWeekPicker?Us(E,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?h(t.props.selected):void 0,v=t.props.preSelection?f(t.props.preSelection):void 0;r.push(J.createElement(WB,wt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:_r(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:v,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,u=vm(u,1);var x=a&&o>=XB,w=!a&&!t.isWeekInMonth(u);if(x||w)if(t.props.peekNextMonth)c=!0;else break}return r},t.onMonthClick=function(r,a){var o=t.isMonthDisabledForLabelDate(a),c=o.isDisabled,u=o.labelDate;c||t.handleDayClick(Gi(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),o=a.isDisabled,c=a.labelDate;o||t.handleDayMouseEnter(Gi(c))},t.handleMonthNavigation=function(r,a){var o,c,u,f;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,a),(f=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(r,a,o){var c,u=t.props,f=u.selected,h=u.preSelection,g=u.setPreSelection,v=u.minDate,x=u.maxDate,w=u.showFourColumnMonthYearPicker,E=u.showTwoColumnMonthYearPicker;if(h){var C=ZS(w,E),T=t.getVerticalOffset(C),N=(c=Xy[C])===null||c===void 0?void 0:c.grid,V=function(O,A,R){var k,z,Y=A,B=R;switch(O){case Re.ArrowRight:Y=Ma(A,Th),B=R===11?0:R+Th;break;case Re.ArrowLeft:Y=Go(A,Th),B=R===0?11:R-Th;break;case Re.ArrowUp:Y=Go(A,T),B=!((k=N==null?void 0:N[0])===null||k===void 0)&&k.includes(R)?R+12-T:R-T;break;case Re.ArrowDown:Y=Ma(A,T),B=!((z=N==null?void 0:N[N.length-1])===null||z===void 0)&&z.includes(R)?R-12+T:R+T;break}return{newCalculatedDate:Y,newCalculatedMonth:B}},L=function(O,A,R){for(var k=40,z=O,Y=!1,B=0,Se=V(z,A,R),we=Se.newCalculatedDate,ie=Se.newCalculatedMonth;!Y;){if(B>=k){we=A,ie=R;break}if(v&&we<v){z=Re.ArrowRight;var ee=V(z,we,ie);we=ee.newCalculatedDate,ie=ee.newCalculatedMonth}if(x&&we>x){z=Re.ArrowLeft;var ee=V(z,we,ie);we=ee.newCalculatedDate,ie=ee.newCalculatedMonth}if(VB(we,t.props)){var ee=V(z,we,ie);we=ee.newCalculatedDate,ie=ee.newCalculatedMonth}else Y=!0;B++}return{newCalculatedDate:we,newCalculatedMonth:ie}};if(a===Re.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),g==null||g(f));return}var F=L(a,h,o),I=F.newCalculatedDate,Q=F.newCalculatedMonth;switch(a){case Re.ArrowRight:case Re.ArrowLeft:case Re.ArrowUp:case Re.ArrowDown:t.handleMonthNavigation(Q,I);break}}},t.getVerticalOffset=function(r){var a,o;return(o=(a=Xy[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,a){var o=t.props,c=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,f=r.key;f!==Re.Tab&&r.preventDefault(),c||t.handleKeyboardNavigation(r,f,a),u&&u(r)},t.onQuarterClick=function(r,a){var o=Jl(t.props.day,a);_h(o,t.props)||t.handleDayClick(VS(o),r)},t.onQuarterMouseEnter=function(r){var a=Jl(t.props.day,r);_h(a,t.props)||t.handleDayMouseEnter(VS(a))},t.handleQuarterNavigation=function(r,a){var o,c,u,f;t.isDisabled(a)||t.isExcluded(a)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,a),(f=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(r,a){var o,c,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Re.Enter:t.onQuarterClick(r,a),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case Re.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,zb(t.props.preSelection,1));break;case Re.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,_R(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,o=t.props,c=o.day,u=o.minDate,f=o.maxDate,h=o.excludeDates,g=o.includeDates,v=ha(c,r);return{isDisabled:(a=(u||f||h||g)&&jR(v,t.props))!==null&&a!==void 0?a:!1,labelDate:v}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,o=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,h=a.monthClassName,g=h?h(ha(o,r)):void 0,v=t.getSelection();return Wn("react-datepicker__month-text","react-datepicker__month-".concat(r),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":v?t.isSelectMonthInList(o,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(o,r,f)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&u?xh(c,u,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=_r(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,c=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=qo(t.props.preSelection),o=_h(t.props.day,t.props),c=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(r){var a=t.props,o=a.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,h=a.day,g=a.locale,v=ha(h,r),x=t.isDisabled(v)||t.isExcluded(v)?f:c;return"".concat(x," ").concat(Wt(v,"MMMM yyyy",g))},t.getQuarterClassNames=function(r){var a=t.props,o=a.day,c=a.startDate,u=a.endDate,f=a.selected,h=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,w=a.filterDate,E=a.preSelection,C=a.disabledKeyboardNavigation,T=(h||g||v||x||w)&&_h(Jl(o,r),t.props);return Wn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":T,"react-datepicker__quarter-text--selected":f?t.isSelectedQuarter(o,r,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!C&&E&&t.isSelectedQuarter(o,r,E)&&!T,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&u?Eh(c,u,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,r)})},t.getMonthContent=function(r){var a=t.props,o=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,h=IR(r,u),g=ex(r,u);return c?c(r,h,g,f):o?g:h},t.getQuarterContent=function(r){var a,o=t.props,c=o.renderQuarterContent,u=o.locale,f=jB(r,u);return(a=c==null?void 0:c(r,f))!==null&&a!==void 0?a:f},t.renderMonths=function(){var r,a=t.props,o=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,h=(r=Xy[ZS(c,o)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(g,v){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:v},g.map(function(x,w){return J.createElement("div",{ref:t.MONTH_REFS[x],key:w,onClick:function(E){t.onMonthClick(E,x)},onKeyDown:function(E){UR(E)&&(E.preventDefault(),E.key=Re.Enter),t.onMonthKeyDown(E,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?t.isSelectedMonth(u,x,f):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,o=r.selected,c=[1,2,3,4];return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return J.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(h){t.onQuarterClick(h,u)},onKeyDown:function(h){t.onQuarterKeyDown(h,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(a,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,o=r.selectsStart,c=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,h=r.showWeekPicker;return Wn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"";return J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(Wt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(M.Component),JB=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,a){return J.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?J.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return J.createElement(pp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),eF=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,o){return J.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(r){return J.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return J.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return J.createElement(JB,wt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,r)];return a&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return IR(o,t.props.locale)}:function(o){return ex(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(M.Component);function tF(n,e){for(var t=[],r=Gi(n),a=Gi(e);!Ks(r,a);)t.push(Mt(r)),r=Ma(r,1);return t}var nF=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var o=X0(a),c=Xa(r.props.date,a)&&br(r.props.date,a);return J.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":c?"true":void 0},c?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Wt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:tF(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Wn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(pp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),rF=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Gi(t.props.minDate),a=Gi(t.props.maxDate),o=[];!Ks(r,a);){var c=X0(r);o.push(J.createElement("option",{key:c,value:c},Wt(r,t.props.dateFormat,t.props.locale))),r=Ma(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:X0(Gi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=Wt(t.props.date,t.props.dateFormat,t.props.locale);return J.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return J.createElement(nF,wt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=Mt(r);Xa(t.props.date,a)&&br(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),aF=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var a,o;(t.props.minTime||t.props.maxTime)&&zS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&FS(r,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&GB(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&zS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&FS(r,t.props)},t.liClasses=function(r){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Yi(r)*3600+qi(r)*60+Ls(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,a){var o,c;r.key===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(r.key===Re.ArrowUp||r.key===Re.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Re.ArrowDown||r.key===Re.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Re.Enter&&t.handleClick(a),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,r)},t.renderTimes=function(){for(var r,a=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Mt(),f=Fh(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(T,N){return T.getTime()-N.getTime()}),g=60*qB(u),v=g/c,x=0;x<v;x++){var w=Q0(f,x*c);if(a.push(w),h){var E=YB(f,w,x,c,h);a=a.concat(E)}}var C=a.reduce(function(T,N){return N.getTime()<=u.getTime()?N:T},a[0]);return a.map(function(T){return J.createElement("li",{key:T.valueOf(),onClick:t.handleClick.bind(t,T),className:t.liClasses(T),ref:function(N){T===C&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,T)},tabIndex:T===C?0:-1,role:"option","aria-selected":t.isSelectedTime(T)?"true":void 0,"aria-disabled":t.isDisabledTime(T)?"true":void 0},Wt(T,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},J.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(M.Component),JS=3,iF=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ei([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(a){return ma(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return tx(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var o=function(){var c,u;(u=(c=r.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleYearNavigation=function(a,o){var c,u,f,h,g=r.props,v=g.date,x=g.yearItemNumber;if(!(v===void 0||x===void 0)){var w=ks(v,x).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,o),a-w<0?r.updateFocusOnPaginate(x-(w-a)):a-w>=x?r.updateFocusOnPaginate(Math.abs(x-(a-w))):(h=(f=r.YEAR_REFS[a-w])===null||f===void 0?void 0:f.current)===null||h===void 0||h.focus())}},r.isSameDay=function(a,o){return _t(a,o)},r.isCurrentYear=function(a){return a===ct(Mt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Xa(Wa(Mt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Xa(Wa(Mt(),a),r.props.endDate)},r.isInRange=function(a){return wh(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var o=r.props,c=o.selectsStart,u=o.selectsEnd,f=o.selectsRange,h=o.startDate,g=o.endDate;return!(c||u||f)||!r.selectingDate()?!1:c&&g?wh(a,r.selectingDate(),g):u&&h||f&&h&&!g?wh(a,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var o;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.startDate,f=c.selectsStart,h=Wa(Mt(),a);return f?Xa(h,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xa(h,u??null)},r.isSelectingRangeEnd=function(a){var o;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.endDate,f=c.selectsEnd,h=c.selectsRange,g=Wa(Mt(),a);return f||h?Xa(g,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xa(g,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,c=o.minDate,u=o.maxDate,f=o.excludeDates,h=o.includeDates,g=o.filterDate,v=Xu(Wa(r.props.date,a)),x=(c||u||f||h||g)&&zh(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!_t(v,Xu(r.props.selected))&&_t(v,Xu(r.props.preSelection))&&!x}},r.onYearClick=function(a,o){var c=r.props.date;c!==void 0&&r.handleYearClick(Xu(Wa(c,o)),a)},r.onYearKeyDown=function(a,o){var c,u,f=a.key,h=r.props,g=h.date,v=h.yearItemNumber,x=h.handleOnKeyDown;if(f!==Re.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Re.Enter:if(r.props.selected==null)break;r.onYearClick(a,o),(u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,r.props.selected);break;case Re.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,zi(r.props.preSelection,1));break;case Re.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ec(r.props.preSelection,1));break;case Re.ArrowUp:{if(g===void 0||v===void 0||r.props.preSelection==null)break;var w=ks(g,v).startPeriod,E=JS,C=o-E;if(C<w){var T=v%E;o>=w&&o<w+T?E=T:E+=T,C=o-E}r.handleYearNavigation(C,Ec(r.props.preSelection,E));break}case Re.ArrowDown:{if(g===void 0||v===void 0||r.props.preSelection==null)break;var N=ks(g,v).endPeriod,E=JS,C=o+E;if(C>N){var T=v%E;o<=N&&o>N-T?E=T:E+=T,C=o+E}r.handleYearNavigation(C,zi(r.props.preSelection,E));break}}x&&x(a)},r.getYearClassNames=function(a){var o=r.props,c=o.date,u=o.minDate,f=o.maxDate,h=o.selected,g=o.excludeDates,v=o.includeDates,x=o.filterDate,w=o.yearClassName;return Wn("react-datepicker__year-text","react-datepicker__year-".concat(a),c?w==null?void 0:w(Wa(c,a)):void 0,{"react-datepicker__year-text--selected":h?a===ct(h):void 0,"react-datepicker__year-text--disabled":(u||f||g||v||x)&&zh(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=ct(r.props.preSelection),c=zh(a,r.props);return a===o&&!c?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,o=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(o===void 0)return null;for(var h=ks(o,c),g=h.startPeriod,v=h.endPeriod,x=function(C){r.push(J.createElement("div",{ref:w.YEAR_REFS[C-g],onClick:function(T){t.onYearClick(T,C)},onKeyDown:function(T){UR(T)&&(T.preventDefault(),T.key=Re.Enter),t.onYearKeyDown(T,C)},tabIndex:Number(w.getYearTabIndex(C)),className:w.getYearClassNames(C),onMouseEnter:w.props.usePointerEvent?void 0:function(T){return u(T,C)},onPointerEnter:w.props.usePointerEvent?function(T){return u(T,C)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(T){return f(T,C)},onPointerLeave:w.props.usePointerEvent?function(T){return f(T,C)}:void 0,key:C,"aria-current":w.isCurrentYear(C)?"date":void 0},w.getYearContent(C)))},w=this,E=g;E<=v;E++)x(E);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(M.Component);function sF(n,e,t,r){for(var a=[],o=0;o<2*e+1;o++){var c=n+e-o,u=!0;t&&(u=ct(t)<=c),r&&u&&(u=ct(r)>=c),u&&a.push(c)}return a}var oF=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,f=r.state.yearsList.map(function(v){return J.createElement("div",{className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?J.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),h=r.props.minDate?ct(r.props.minDate):null,g=r.props.maxDate?ct(r.props.maxDate):null;return(!g||!r.state.yearsList.find(function(v){return v===g}))&&f.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(h){return h+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=a||(o?10:5);return r.state={yearsList:sF(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Wn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(pp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),lF=function(n){Fn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ct(t.props.minDate):1900,a=t.props.maxDate?ct(t.props.maxDate):2100,o=[],c=r;c<=a;c++)o.push(J.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return J.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return J.createElement(oF,wt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),cF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],uF=function(n){var e=(n.className||"").split(/\s+/);return cF.some(function(t){return e.indexOf(t)>=0})},dF=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var o,c;uF(a.target)&&((c=(o=r.props).onDropdownFocus)===null||c===void 0||c.call(o,a))},r.getDateInView=function(){var a=r.props,o=a.preSelection,c=a.selected,u=a.openToDate,f=VR(r.props),h=LR(r.props),g=Mt(),v=u||c||o;return v||(f&&Jo(g,f)?f:h&&Ks(g,h)?h:g)},r.increaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Ma(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Go(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,o,c){r.props.onSelect(a,o,c),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,o){r.setState({selectingDate:Wa(Mt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,o)},r.handleYearMouseLeave=function(a,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,o)},r.handleYearChange=function(a){var o,c,u,f;(c=(o=r.props).onYearChange)===null||c===void 0||c.call(o,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!ma(a,r.props))return a;for(var o=Gi(a),c=kB(a),u=o8(c,o),f=null,h=0;h<=u;h++){var g=Ca(o,h);if(!ma(g,r.props)){f=g;break}}return f},r.handleMonthChange=function(a){var o,c,u,f=(o=r.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(c=r.props).setOpen)===null||u===void 0||u.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var o,c;(c=(o=r.props).onMonthChange)===null||c===void 0||c.call(o,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(o){var c=o.date;return{date:Wa(c,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(o){var c=o.date;return{date:ha(c,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(o){var c=o.date;return{date:Wa(ha(c,_r(a)),ct(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var o=Us(a,r.props.locale,r.props.calendarStartDay),c=[];return r.props.showWeekNumbers&&c.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(u){var f=Ca(o,u),h=r.formatWeekday(f,r.props.locale),g=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return J.createElement("div",{key:u,"aria-label":Wt(f,"EEEE",r.props.locale),className:Wn("react-datepicker__day-name",g)},h)}))},r.formatWeekday=function(a,o){return r.props.formatWeekDay?PB(a,r.props.formatWeekDay,o):r.props.useWeekdaysShort?IB(a,o):OB(a,o)},r.decreaseYear=function(){r.setState(function(a){var o,c=a.date;return{date:Ec(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,o,c;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,g=Go(r.state.date,h),v;switch(!0){case r.props.showMonthYearPicker:v=qS(r.state.date,r.props);break;case r.props.showYearPicker:v=BB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=LB(r.state.date,r.props);break;default:v=HS(g,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(E=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),E=void 0);var C=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,T=r.props,N=T.previousMonthButtonLabel,V=N===void 0?e.defaultProps.previousMonthButtonLabel:N,L=T.previousYearButtonLabel,F=L===void 0?e.defaultProps.previousYearButtonLabel:L,I=r.props,Q=I.previousMonthAriaLabel,O=Q===void 0?typeof V=="string"?V:"Previous Month":Q,A=I.previousYearAriaLabel,R=A===void 0?typeof F=="string"?F:"Previous Year":A;return J.createElement("button",{type:"button",className:w.join(" "),onClick:E,onKeyDown:r.props.handleOnKeyDown,"aria-label":C?R:O},J.createElement("span",{className:x.join(" ")},C?F:V))}}},r.increaseYear=function(){r.setState(function(a){var o,c=a.date;return{date:zi(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=GS(r.state.date,r.props);break;case r.props.showYearPicker:o=FB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=UB(r.state.date,r.props);break;default:o=YS(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,v=g.nextMonthButtonLabel,x=v===void 0?e.defaultProps.nextMonthButtonLabel:v,w=g.nextYearButtonLabel,E=w===void 0?e.defaultProps.nextYearButtonLabel:w,C=r.props,T=C.nextMonthAriaLabel,N=T===void 0?typeof x=="string"?x:"Next Month":T,V=C.nextYearAriaLabel,L=V===void 0?typeof E=="string"?E:"Next Year":V;return J.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?L:N},J.createElement("span",{className:u.join(" ")},h?E:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:o.join(" ")},Wt(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return J.createElement(lF,wt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ct(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return J.createElement(eF,wt({},e.defaultProps,r.props,{month:_r(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return J.createElement(rF,wt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(LS(),a),r.props.setPreSelection&&r.props.setPreSelection(LS())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return J.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var o=a.monthDate,c=a.i;return J.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)),J.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(a){var o,c,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=HS(r.state.date,r.props),g=YS(r.state.date,r.props),v=qS(r.state.date,r.props),x=GS(r.state.date,r.props),w=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(o=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,wt(wt({},r.state),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:g,prevYearButtonDisabled:v,nextYearButtonDisabled:x})),w&&J.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(a){var o=a.monthDate,c=r.props,u=c.showYearPicker,f=c.yearItemNumber,h=f===void 0?e.defaultProps.yearItemNumber:f,g=ks(o,h),v=g.startPeriod,x=g.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):ct(o))},r.renderHeader=function(a){var o=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:o,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zi(r.state.date,f):Go(r.state.date,f),g=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,v=0;v<u;++v){var x=v-g+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zi(h,x):Ma(h,x),E="month-".concat(v),C=v<u-1,T=v>0;c.push(J.createElement("div",{key:E,ref:function(N){r.monthContainer=N??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:v}),J.createElement(ZB,wt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:T}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return J.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),J.createElement(iF,wt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return J.createElement(aF,wt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,o=a&&gp(a)&&!!r.props.selected,c=o?"".concat(QS(a.getHours()),":").concat(QS(a.getMinutes())):"";if(r.props.showTimeInput)return J.createElement($B,wt({},e.defaultProps,r.props,{date:a,timeString:c,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,o=ks(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),c=o.startPeriod,u=o.endPeriod,f;return r.props.showYearPicker?f="".concat(c," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=ct(r.state.date):f="".concat(ex(_r(r.state.date),r.props.locale)," ").concat(ct(r.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:qd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!br(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||SB;return J.createElement(pp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},J.createElement("div",{style:{display:"contents"},ref:this.containerRef},J.createElement(t,{className:Wn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(M.Component),fF=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return J.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(J.isValidElement(e)){var c=e;return J.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(r),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return J.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},BR=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Dk.createPortal(this.props.children,this.el)},e}(M.Component),hF="[tabindex], a, button, input, select, textarea",mF=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},FR=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(hF),1,-1).filter(mF)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=M.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function pF(n){var e=function(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=M.useRef(null),c=TB(wt({open:!a,whileElementsMounted:nB,placement:t.popperPlacement,middleware:ei([cB({padding:15}),lB(10),uB({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=wt(wt({},t),{hidePopper:a,popperProps:wt(wt({},c),{arrowRef:o})});return J.createElement(n,wt({},u))};return e}var gF=function(n){Fn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,a=t.wrapperClassName,o=t.hidePopper,c=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,f=t.targetComponent,h=t.enableTabLoop,g=t.popperOnKeyDown,v=t.portalId,x=t.portalHost,w=t.popperProps,E=t.showArrow,C=void 0;if(!c){var T=Wn("react-datepicker-popper",r);C=J.createElement(FR,{enableTabLoop:h},J.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:T,"data-placement":w.placement,onKeyDown:g},u,E&&J.createElement(yB,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(C=M.createElement(this.props.popperContainer,{},C)),v&&!c&&(C=J.createElement(BR,{portalId:v,portalHost:x},C));var N=Wn("react-datepicker-wrapper",a);return J.createElement(J.Fragment,null,J.createElement("div",{ref:w.refs.setReference,className:N},f),C)},e}(M.Component),yF=pF(gF),eD="react-datepicker-ignore-onclickoutside";function vF(n,e){return n&&e?_r(n)!==_r(e)||ct(n)!==ct(e):n!==e}var Zy="Date input not valid.",bF=function(n){Fn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Mt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,c){var u=new Date(c.date);return gp(u)?ei(ei([],o,!0),[wt(wt({},c),{date:u})],!1):o},[])},r.calcInitialState=function(){var a,o=r.getPreSelection(),c=VR(r.props),u=LR(r.props),f=c&&Jo(o,Fh(c))?c:u&&Ks(o,US(u))?u:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:f,highlightDates:$S(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(wt(wt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(wt(wt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},r.setBlur=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,o){o===void 0&&(o=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Jy},function(){a||r.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Hi(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var o,c,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((c=(o=r.props).onFocus)===null||c===void 0||c.call(o,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var o,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(o=r.props).onBlur)===null||c===void 0||c.call(o,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var o,c;r.props.inline||r.setOpen(!1),(c=(o=r.props).onClickOutside)===null||c===void 0||c.call(o,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,o,c,u,f,h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var v=h[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,h),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){r.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:xF});var x=r.props,w=x.selectsRange,E=x.startDate,C=x.endDate,T=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,N=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,V=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(w){var L=V.split("-",2).map(function(z){return z.trim()}),F=L[0],I=L[1],Q=Ky(F??"",T,r.props.locale,N),O=Ky(I??"",T,r.props.locale,N),A=(E==null?void 0:E.getTime())!==(Q==null?void 0:Q.getTime()),R=(C==null?void 0:C.getTime())!==(O==null?void 0:O.getTime());if(!A&&!R||Q&&ma(Q,r.props)||O&&ma(O,r.props))return;(u=(c=r.props).onChange)===null||u===void 0||u.call(c,[Q,O],v)}else{var k=Ky(V,T,r.props.locale,N,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(k||!V)&&r.setSelected(k,v,!0)}}},r.handleSelect=function(a,o,c){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(a,o,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,f=u.startDate,h=u.endDate;f&&!h&&(r.props.swapRange||!XS(a,f))&&r.setOpen(!1)}},r.setSelected=function(a,o,c,u){var f,h,g=a;if(r.props.showYearPicker){if(g!==null&&zh(ct(g),r.props))return}else if(r.props.showMonthYearPicker){if(g!==null&&jR(g,r.props))return}else if(g!==null&&ma(g,r.props))return;var v=r.props,x=v.onChange,w=v.selectsRange,E=v.startDate,C=v.endDate,T=v.selectsMultiple,N=v.selectedDates,V=v.minTime,L=v.swapRange;if(!zo(r.props.selected,g)||r.props.allowSameDay||w||T)if(g!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(g=Wy(g,{hour:Yi(r.props.selected),minute:qi(r.props.selected),second:Ls(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&V&&(g=Wy(g,{hour:V.getHours(),minute:V.getMinutes(),second:V.getSeconds()})),r.props.inline||r.setState({preSelection:g}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var F=!E&&!C,I=E&&!C,Q=E&&C;F?x==null||x([g,null],o):I&&(g===null?x==null||x([null,null],o):XS(g,E)?L?x==null||x([g,E],o):x==null||x([g,null],o):x==null||x([E,g],o)),Q&&(x==null||x([g,null],o))}else if(T){if(g!==null)if(!(N!=null&&N.length))x==null||x([g],o);else{var O=N.some(function(R){return _t(R,g)});if(O){var A=N.filter(function(R){return!_t(R,g)});x==null||x(A,o)}else x==null||x(ei(ei([],N,!0),[g],!1),o)}}else x==null||x(g,o);c||((h=(f=r.props).onSelect)===null||h===void 0||h.call(f,g,o),r.setState({inputValue:null}))},r.setPreSelection=function(a){var o=Hi(r.props.minDate),c=Hi(r.props.maxDate),u=!0;if(a){var f=Fh(a);if(o&&c)u=Zu(a,r.props.minDate,r.props.maxDate);else if(o){var h=Fh(r.props.minDate);u=Ks(a,h)||zo(f,h)}else if(c){var g=US(r.props.maxDate);u=Jo(a,g)||zo(f,g)}}u&&r.setState({preSelection:a})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var o,c;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?a:Wy(u,{hour:Yi(a),minute:qi(a)});r.setState({preSelection:f}),(c=(o=r.props).onChange)===null||c===void 0||c.call(o,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(a=r.props).onInputClick)===null||o===void 0||o.call(a)},r.onInputKeyDown=function(a){var o,c,u,f,h,g;(c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Re.ArrowDown||v===Re.ArrowUp||v===Re.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(v===Re.ArrowDown||v===Re.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var E=Mt(r.state.preSelection);v===Re.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Jy?(r.handleSelect(E,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(E)):r.setOpen(!1)):v===Re.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Re.Tab&&r.setOpen(!1),r.inputOk()||(g=(h=r.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:Zy})}},r.onPortalKeyDown=function(a){var o=a.key;o===Re.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var o,c,u,f,h,g,v=r.props,x=v.minDate,w=v.maxDate,E=v.disabledKeyboardNavigation,C=v.showWeekPicker,T=v.shouldCloseOnSelect,N=v.locale,V=v.calendarStartDay,L=v.adjustDateOnChange,F=v.inline;if((c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,a),!E){var I=a.key,Q=a.shiftKey,O=Mt(r.state.preSelection),A=function(we,ie){var ee=ie;switch(we){case Re.ArrowRight:ee=C?vm(ie,1):Ca(ie,1);break;case Re.ArrowLeft:ee=C?CS(ie):oU(ie);break;case Re.ArrowUp:ee=CS(ie);break;case Re.ArrowDown:ee=vm(ie,1);break;case Re.PageUp:ee=Q?Ec(ie,1):Go(ie,1);break;case Re.PageDown:ee=Q?zi(ie,1):Ma(ie,1);break;case Re.Home:ee=Us(ie,N,V);break;case Re.End:ee=MB(ie);break}return ee},R=function(we,ie){for(var ee=40,re=we,q=!1,U=0,X=A(we,ie);!q;){if(U>=ee){X=ie;break}x&&X<x&&(re=Re.ArrowRight,X=ma(x,r.props)?A(re,X):x),w&&X>w&&(re=Re.ArrowLeft,X=ma(w,r.props)?A(re,X):w),ma(X,r.props)?((re===Re.PageUp||re===Re.Home)&&(re=Re.ArrowRight),(re===Re.PageDown||re===Re.End)&&(re=Re.ArrowLeft),X=A(re,X)):q=!0,U++}return X};if(I===Re.Enter){a.preventDefault(),r.handleSelect(O,a),!T&&r.setPreSelection(O);return}else if(I===Re.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Zy});return}var k=null;switch(I){case Re.ArrowLeft:case Re.ArrowRight:case Re.ArrowUp:case Re.ArrowDown:case Re.PageUp:case Re.PageDown:case Re.Home:case Re.End:k=R(I,O);break}if(!k){(g=(h=r.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:Zy});return}if(a.preventDefault(),r.setState({lastPreSelectChange:Jy}),L&&r.setSelected(k),r.setPreSelection(k),F){var z=_r(O),Y=_r(k),B=ct(O),Se=ct(k);z!==Y||B!==Se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var o=a.key;o===Re.Escape&&(a.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var o=r.props,c=o.selectsRange,u=o.onChange;c?u==null||u([null,null],a):u==null||u(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,o;return!r.props.inline&&!r.isCalendarOpen()?null:J.createElement(dF,wt({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:HB(r.modifyHolidays()),outsideClickIgnoreClass:eD,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,o=a.dateFormat,c=o===void 0?e.defaultProps.dateFormat:o,u=a.locale,f=r.props.showTimeInput||r.props.showTimeSelect,h=f?"PPPPp":"PPPP",g;return r.props.selectsRange?g="Selected start date: ".concat(fa(r.props.startDate,{dateFormat:h,locale:u}),". ").concat(r.props.endDate?"End date: "+fa(r.props.endDate,{dateFormat:h,locale:u}):""):r.props.showTimeSelectOnly?g="Selected time: ".concat(fa(r.props.selected,{dateFormat:c,locale:u})):r.props.showYearPicker?g="Selected year: ".concat(fa(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?g="Selected month: ".concat(fa(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?g="Selected quarter: ".concat(fa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):g="Selected date: ".concat(fa(r.props.selected,{dateFormat:h,locale:u})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},r.renderDateInput=function(){var a,o,c,u=Wn(r.props.className,(a={},a[eD]=r.state.open,a)),f=r.props.customInput||J.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",g=r.props,v=g.dateFormat,x=v===void 0?e.defaultProps.dateFormat:v,w=g.locale,E=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?AB(r.props.startDate,r.props.endDate,{dateFormat:x,locale:w}):r.props.selectsMultiple?CB((c=r.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:x,locale:w}):fa(r.props.selected,{dateFormat:x,locale:w});return M.cloneElement(f,(o={},o[h]=function(C){r.input=C},o.value=E,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=Wn(f.props.className,u),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var a=r.props,o=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,h=a.endDate,g=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,w=a.ariaLabelClose,E=w===void 0?"Close":w,C=a.selectedDates;return o&&(u!=null||f!=null||h!=null||C!=null&&C.length)?J.createElement("button",{type:"button",className:Wn("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":E,onClick:r.onClearClick,title:g,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:qd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,o,c,u;t.inline&&vF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:$S(this.props.highlightDates)}),!r.focused&&!zo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),r.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,f=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&J.createElement(fF,wt({icon:a,className:Wn(c,!c&&o,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?J.createElement(FR,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=J.createElement(BR,wt({portalId:this.props.portalId},this.props),r)),J.createElement("div",null,this.renderInputContainer(),r)}return J.createElement(yF,wt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),xF="input",Jy="navigate";function tv(n){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(n)}function _F(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function EF(n,e,t){return e&&wF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function TF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nv(n,e)}function nv(n,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},nv(n,e)}function SF(n){var e=CF();return function(){var r=Nm(n),a;if(e){var o=Nm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return DF(this,a)}}function DF(n,e){if(e&&(tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AF(n)}function AF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function CF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nm(n){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nm(n)}function RF(n,e){if(!document.head.querySelector("#"+n)){var t=document.createElement("style");t.textContent=e,t.type="text/css",t.id=n,document.head.appendChild(t)}}var NF=function(n){TF(t,n);var e=SF(t);function t(){return _F(this,t),e.apply(this,arguments)}return EF(t,[{key:"componentDidMount",value:function(){RF(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var a=document.getElementById(this.props.name);a.parentNode.removeChild(a)}},{key:"render",value:function(){return null}}]),t}(M.Component),MF=function(e){var t=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(t,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(t,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},kF=function(){return J.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),J.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))},PF=function(){return J.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),J.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))},OF=function(){return J.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),J.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},IF=function(){return J.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),J.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},jF=function(){return J.createElement("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),J.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))},VF=function(){return J.createElement("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),J.createElement("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"}))};function LF(n){return document.location.hostname!==new URL(n,document.location).hostname}var UF=function(e){return function(t){LF(e)&&(t.preventDefault(),fetch(e).then(function(r){return r.ok||console.error("Failed to download image, HTTP status "+r.status+" from "+e),r.blob().then(function(a){var o=document.createElement("a");o.setAttribute("download",e.split("/").pop()),o.href=URL.createObjectURL(a),o.click()})}).catch(function(r){console.error(r),console.error("Failed to download image from "+e)}))}},BF=function(e){var t=e.image,r=e.alt,a=e.zoomed,o=e.toggleZoom,c=e.toggleRotate,u=e.onClose,f=e.enableDownload,h=e.enableZoom,g=e.enableRotate;return J.createElement("div",{className:"__react_modal_image__header"},J.createElement("span",{className:"__react_modal_image__icon_menu"},f&&J.createElement("a",{href:t,download:!0,onClick:UF(t)},J.createElement(OF,null)),h&&J.createElement("a",{onClick:o},a?J.createElement(PF,null):J.createElement(kF,null)),g&&J.createElement("a",{onClick:c},J.createElement(VF,null)),J.createElement("a",{onClick:u},J.createElement(IF,null))),r&&J.createElement("span",{className:"__react_modal_image__caption"},r))};function rv(n){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(n)}function FF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function HF(n,e,t){return e&&zF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function YF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&av(n,e)}function av(n,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},av(n,e)}function qF(n){var e=$F();return function(){var r=Mm(n),a;if(e){var o=Mm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return GF(this,a)}}function GF(n,e){if(e&&(rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hh(n)}function Hh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mm(n){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mm(n)}function e0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var tD=function(n){YF(t,n);var e=qF(t);function t(){var r;FF(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o)),e0(Hh(r),"state",{loading:!0}),e0(Hh(r),"handleOnLoad",function(){r.setState({loading:!1})}),e0(Hh(r),"handleOnContextMenu",function(u){!r.props.contextMenu&&u.preventDefault()}),r}return HF(t,[{key:"render",value:function(){var a=this.props,o=a.id,c=a.className,u=a.src,f=a.style,h=a.handleDoubleClick;return J.createElement("div",null,this.state.loading&&J.createElement(jF,null),J.createElement("img",{id:o,className:c,src:u,style:f,onLoad:this.handleOnLoad,onDoubleClick:h,onContextMenu:this.handleOnContextMenu}))}}]),t}(M.Component);function iv(n){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(n)}function QF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function KF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function WF(n,e,t){return e&&KF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function XF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&sv(n,e)}function sv(n,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sv(n,e)}function ZF(n){var e=ez();return function(){var r=km(n),a;if(e){var o=km(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return JF(this,a)}}function JF(n,e){if(e&&(iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(n)}function Li(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ez(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function km(n){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},km(n)}function As(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var tz=function(n){XF(t,n);var e=ZF(t);function t(){var r;QF(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o)),As(Li(r),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),As(Li(r),"handleKeyDown",function(u){(u.keyCode===27||u.keyCode===13)&&r.props.onClose()}),As(Li(r),"getCoordinatesIfOverImg",function(u){var f=u.changedTouches?u.changedTouches[0]:u;if(f.target.id==="react-modal-image-img"){var h=r.contentEl.getBoundingClientRect(),g=f.clientX-h.left,v=f.clientY-h.top;return{x:g,y:v}}}),As(Li(r),"handleMouseDownOrTouchStart",function(u){if(u.preventDefault(),!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f||r.props.onClose(),r.state.zoomed&&r.setState(function(h){return{moveStart:{x:f.x-h.move.x,y:f.y-h.move.y}}})}}),As(Li(r),"handleMouseMoveOrTouchMove",function(u){if(u.preventDefault(),!(!r.state.zoomed||!r.state.moveStart)&&!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f&&r.setState(function(h){return{move:{x:f.x-h.moveStart.x,y:f.y-h.moveStart.y}}})}}),As(Li(r),"handleMouseUpOrTouchEnd",function(u){r.setState({moveStart:void 0})}),As(Li(r),"toggleZoom",function(u){u.preventDefault(),r.setState(function(f){return{zoomed:!f.zoomed,move:f.zoomed?{x:0,y:0}:f.move}})}),As(Li(r),"toggleRotate",function(u){u.preventDefault();var f=r.state.rotationDeg;if(f===360){r.setState({rotationDeg:90});return}r.setState(function(h){return{rotationDeg:h.rotationDeg+=90}})}),r}return WF(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var a=this,o=this.props,c=o.medium,u=o.large,f=o.alt,h=o.onClose,g=o.hideDownload,v=o.hideZoom,x=o.showRotate,w=o.imageBackgroundColor,E=w===void 0?"black":w,C=this.state,T=C.move,N=C.zoomed,V=C.rotationDeg;return J.createElement("div",null,J.createElement(NF,{name:"__react_modal_image__lightbox",css:MF({imageBackgroundColor:E})}),J.createElement("div",{className:"__react_modal_image__modal_container"},J.createElement("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(F){a.contentEl=F}},N&&J.createElement(tD,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:u||c,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(T.x,"px, ").concat(T.y,"px, 0) rotate(").concat(V,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(T.x,"px, ").concat(T.y,"px, 0) rotate(").concat(V,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(T.x,"px, ").concat(T.y,"px, 0) rotate(").concat(V,"deg)")},handleDoubleClick:this.toggleZoom}),!N&&J.createElement(tD,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:c||u,handleDoubleClick:this.toggleZoom,contextMenu:!c,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(V,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(V,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(V,"deg)")}})),J.createElement(BF,{image:u||c,alt:f,zoomed:N,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:h,enableDownload:!g,enableZoom:!v,enableRotate:!!x})))}}]),t}(M.Component);function ov(n){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(n)}function nz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function az(n,e,t){return e&&rz(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function iz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&lv(n,e)}function lv(n,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lv(n,e)}function sz(n){var e=lz();return function(){var r=Pm(n),a;if(e){var o=Pm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return oz(this,a)}}function oz(n,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cv(n)}function cv(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pm(n){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pm(n)}function nD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var cz=function(n){iz(t,n);var e=sz(t);function t(){var r;nz(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o)),nD(cv(r),"state",{modalOpen:!1}),nD(cv(r),"toggleModal",function(){r.setState(function(u){return{modalOpen:!u.modalOpen}})}),r}return az(t,[{key:"render",value:function(){var a=this.props,o=a.className,c=a.small,u=a.smallSrcSet,f=a.medium,h=a.large,g=a.alt,v=a.hideDownload,x=a.hideZoom,w=a.showRotate,E=a.imageBackgroundColor,C=this.state.modalOpen;return J.createElement("div",null,J.createElement("img",{className:o,style:{cursor:"pointer",maxWidth:"100%",maxHeight:"100%"},onClick:this.toggleModal,src:c,srcSet:u,alt:g}),C&&J.createElement(tz,{medium:f,large:h,alt:g,onClose:this.toggleModal,hideDownload:v,hideZoom:x,showRotate:w,imageBackgroundColor:E}))}}]),t}(M.Component);const uz=()=>{const{providerId:n}=yv(),e=ka(),t=Bn(),[r,a]=M.useState(null),[o,c]=M.useState([]),[u,f]=M.useState([]),[h,g]=M.useState(null),[v,x]=M.useState(!0),[w,E]=M.useState(null),[C,T]=M.useState(""),[N,V]=M.useState(0),[L,F]=M.useState(0),[I,Q]=M.useState(""),[O,A]=M.useState(!1),[R,k]=M.useState([]),[z,Y]=M.useState(""),[B,Se]=M.useState(""),[we,ie]=M.useState(""),[ee,re]=M.useState("works"),[q,U]=M.useState(!1),[X,be]=M.useState(null),[xe,ge]=M.useState(!1),[de,le]=M.useState(!1);M.useEffect(()=>{(async()=>{try{x(!0);let $e;if(e.state&&e.state.provider)$e=e.state.provider;else{const Qt=await Wo(wn(et,"serviceProviders",n));if(Qt.exists())$e={id:Qt.id,...Qt.data()};else throw new Error("مقدم الخدمة غير موجود")}a($e);const ot=or(Gt(et,"providerWorks"),lr("providerEmail","==",$e.email)),Lt=fm(ot,Qt=>{const Mr=Qt.docs.map(Tr=>({id:Tr.id,...Tr.data()}));c(Mr)}),Yr=or(Gt(et,"reviews"),lr("providerEmail","==",$e.email)),Er=fm(Yr,Qt=>{const Mr=Qt.docs.map(Tr=>({id:Tr.id,...Tr.data()}));f(Mr)}),fr=localStorage.getItem("currentUser");if(fr&&fr!=='""'){const Qt=JSON.parse(fr);g(Qt)}return x(!1),()=>{Lt(),Er()}}catch($e){console.error("Error fetching provider data:",$e),ie("حدث خطأ أثناء تحميل البيانات"),x(!1)}})()},[n,e]);const Ce=()=>!u||u.length===0?0:(u.reduce(($e,ot)=>$e+ot.rating,0)/u.length).toFixed(1),Ee=async(_e,$e)=>{try{const ot=or(Gt(et,"bookings"),lr("providerEmail","==",r.email),lr("bookingDate","==",_e),lr("bookingTime","==",$e),lr("status","in",["pending","confirmed"]));return(await cr(ot)).empty}catch(ot){return console.error("Error checking appointment availability:",ot),!1}},Ne=async()=>{if(!h){ie("يرجى تسجيل الدخول أولاً للحجز");return}if(!w||!z){ie("يرجى اختيار التاريخ والوقت للحجز");return}try{const _e=w.toISOString().split("T")[0];U(!0);const $e=await Ee(_e,z);if(U(!1),!$e){be({success:!1,message:"هذا الموعد محجوز بالفعل، يرجى اختيار وقت آخر"}),ge(!0);return}const ot={providerEmail:r.email,providerName:r.name,clientEmail:h.email,clientName:h.name,bookingDate:_e,bookingTime:z,note:I,status:"pending",createdAt:Xo()},Lt=await Ad(Gt(et,"bookings"),ot);await Yo(wn(et,"serviceProviders",n),{bookings:Hy(Lt.id)}),await Yo(wn(et,"users",h.uid),{bookings:Hy(Lt.id)}),be({success:!0,message:`تم الحجز بنجاح مع ${r.name} في ${_e} الساعة ${z}`}),ge(!0),A(!1),Q(""),E(null),Y("")}catch(_e){console.error("Error booking appointment:",_e),be({success:!1,message:"حدث خطأ أثناء إجراء الحجز، يرجى المحاولة مرة أخرى"}),ge(!0),U(!1)}},qe=async()=>{if(!h){ie("يرجى تسجيل الدخول أولاً لإضافة تقييم");return}if(N===0){ie("يرجى تحديد التقييم النجمي");return}try{le(!0);const _e={providerEmail:r.email,providerName:r.name,providerCategory:r.category,clientEmail:h.email,clientName:h.name,rating:N,review:C,createdAt:Xo()},$e=await Ad(Gt(et,"reviews"),_e);await Yo(wn(et,"serviceProviders",n),{reviews:Hy($e.id),ratingsCount:(r.ratingsCount||0)+1,ratingsTotal:(r.ratingsTotal||0)+N},{merge:!0}),f([...u,{id:$e.id,..._e}]),V(0),T(""),Se("تم إضافة تقييمك بنجاح!"),setTimeout(()=>{Se("")},3e3)}catch(_e){console.error("Error submitting review:",_e),ie("حدث خطأ أثناء إرسال التقييم"),setTimeout(()=>{ie("")},3e3)}finally{le(!1)}},dt=()=>{if(!h){ie("يرجى تسجيل الدخول أولاً للحجز");return}k(["9:00 صباحاً","10:00 صباحاً","11:00 صباحاً","12:00 ظهراً","1:00 مساءً","2:00 مساءً","3:00 مساءً","4:00 مساءً","5:00 مساءً","6:00 مساءً","7:00 مساءً"]),A(!0)},nt=()=>{if(!h||!r)return;const _e=h.uid||h.id,$e=r.id||r.uid;t(`/nafany/chat/${$e}`,{state:{provider:{id:$e,email:r.email,name:r.name,profileImage:r.profileImage||"/default-profile.png"},user:{id:_e,email:h.email,name:h.name,profileImage:h.profileImage||"/default-profile.png"}}})},Xe=(_e,$e=null,ot=null)=>[1,2,3,4,5].map(Lt=>y.jsx("span",{onClick:$e?()=>$e(Lt):void 0,onMouseEnter:ot?()=>ot(Lt):void 0,onMouseLeave:ot?()=>ot(0):void 0,className:"cursor-pointer text-xl",style:{color:Lt<=_e?"#FFD700":"#C0C0C0"},children:Lt<=_e?y.jsx($0,{}):y.jsx(aR,{})},Lt));return v?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):r?y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsxs("div",{className:"container mx-auto px-4",children:[B&&y.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",children:B}),we&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:we}),y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start",children:[y.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden mb-4 md:mb-0 md:mr-6",children:y.jsx("img",{src:r.profileImage||"../../public/IMG-20250322-WA0070.jpg",alt:r.name,className:"w-full h-full object-cover",onError:_e=>{_e.target.onerror=null,_e.target.src="../../public/IMG-20250322-WA0070.jpg"}})}),y.jsxs("div",{className:"flex-1 text-center md:text-right",children:[y.jsx("h1",{className:"text-3xl font-bold text-cyan-800 mb-2",children:r.name}),y.jsxs("div",{className:"flex items-center justify-center md:justify-end mb-2",children:[y.jsx("div",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm mr-2",children:r.profession||r.category}),y.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:r.governorate||"غير محدد المنطقة"})]}),y.jsx("div",{className:"flex items-center justify-center md:justify-end mb-4",children:y.jsxs("div",{className:"flex items-center",children:[Xe(Math.round(Ce())),y.jsx("span",{className:"mx-2 text-yellow-500 font-bold",children:Ce()}),y.jsxs("span",{className:"text-gray-500",children:["(",u.length," تقييم)"]})]})}),y.jsx("p",{className:"text-gray-600 mb-4 max-w-2xl",children:r.bio||"لا يوجد وصف لمقدم الخدمة"}),y.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start space-x-4 mt-4",children:[y.jsxs("button",{onClick:dt,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg flex items-center",children:[y.jsx(H9,{className:"mr-2"}),"احجز موعد"]}),y.jsxs("button",{onClick:nt,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center",children:[y.jsx($9,{className:"mr-2"}),"محادثة"]})]})]})]})}),y.jsxs("div",{className:"mb-6 flex border-b border-gray-200",children:[y.jsx("button",{className:`px-6 py-3 font-medium ${ee==="works"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>re("works"),children:"الأعمال السابقة"}),y.jsx("button",{className:`px-6 py-3 font-medium ${ee==="reviews"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>re("reviews"),children:"التقييمات"}),y.jsx("button",{className:`px-6 py-3 font-medium ${ee==="about"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>re("about"),children:"عن مقدم الخدمة"})]}),ee==="works"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"الأعمال السابقة"}),o.length>0?y.jsx("div",{className:"space-y-8",children:o.map((_e,$e)=>y.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$e*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:_e.title}),_e.images&&_e.images.length>0&&y.jsx("div",{className:"mb-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_e.images.map((ot,Lt)=>y.jsx(cz,{small:ot,large:ot,alt:`${_e.title} - صورة ${Lt+1}`,className:"rounded-lg object-cover h-48 w-full cursor-pointer",imageBackgroundColor:"#fff"},Lt))})}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"وصف العمل:"}),y.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:_e.description})]}),y.jsxs("div",{className:"flex flex-wrap justify-between items-center pt-4 border-t border-gray-200",children:[y.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"تاريخ الإنجاز:"}),y.jsx("span",{className:"text-sm font-medium",children:_e.createdAt&&_e.createdAt.toDate?_e.createdAt.toDate().toLocaleDateString():"غير محدد"})]}),_e.ratings&&_e.ratings.length>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"التقييم:"}),y.jsxs("div",{className:"flex items-center",children:[y.jsx($0,{className:"text-yellow-500 mr-1"}),y.jsx("span",{className:"font-medium",children:(_e.ratings.reduce((ot,Lt)=>ot+Lt,0)/_e.ratings.length).toFixed(1)})]})]})]})]})},_e.id))}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد أعمال سابقة لعرضها"})]}),ee==="reviews"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"أضف تقييمك"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"تقييمك:"}),y.jsx("div",{className:"flex space-x-2 mb-4",children:Xe(L||N,_e=>V(_e),_e=>F(_e))})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"تعليقك:"}),y.jsx("textarea",{value:C,onChange:_e=>T(_e.target.value),placeholder:"أخبرنا عن تجربتك مع مقدم الخدمة...",className:"w-full border border-gray-300 rounded-lg p-3 h-32"})]}),y.jsx("button",{onClick:qe,disabled:!h||N===0||de,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:de?"جاري الإرسال...":"إرسال التقييم"}),!h&&y.jsx("p",{className:"text-red-500 mt-2",children:"يرجى تسجيل الدخول لإضافة تقييم"})]}),y.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["التقييمات (",u.length,")"]}),u.length>0?y.jsx("div",{className:"space-y-4",children:u.map((_e,$e)=>y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$e*.1},className:"bg-white rounded-xl shadow-lg p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-bold text-cyan-800",children:_e.clientName}),y.jsx("div",{className:"flex",children:Xe(_e.rating)})]}),y.jsx("p",{className:"text-gray-600 mb-2",children:_e.review}),y.jsx("div",{className:"text-sm text-gray-500",children:_e.createdAt&&_e.createdAt.toDate?_e.createdAt.toDate().toLocaleDateString():"تاريخ غير محدد"})]},_e.id))}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد تقييمات لمقدم الخدمة"})]}),ee==="about"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"معلومات مقدم الخدمة"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المهنة:"}),y.jsx("p",{children:r.profession||r.category||"غير محدد"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المنطقة:"}),y.jsx("p",{children:r.governorate||"غير محدد"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"عدد الأعمال المنجزة:"}),y.jsx("p",{children:r.worksCount||o.length||0})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"نبذة:"}),y.jsx("p",{children:r.bio||"لا توجد نبذة تعريفية"})]}),r.services&&r.services.length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخدمات المقدمة:"}),y.jsx("ul",{className:"list-disc list-inside",children:r.services.map((_e,$e)=>y.jsx("li",{children:_e},$e))})]}),r.experience&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخبرة:"}),y.jsx("p",{children:r.experience})]})]})]})]}),O&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[y.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["حجز موعد مع ",r.name]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر التاريخ:"}),y.jsx(bF,{selected:w,onChange:_e=>E(_e),className:"w-full border border-gray-300 rounded-lg p-3",dateFormat:"dd/MM/yyyy",minDate:new Date,placeholderText:"اختر تاريخ الحجز"})]}),w&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر الوقت:"}),y.jsxs("select",{value:z,onChange:_e=>Y(_e.target.value),className:"w-full border border-gray-300 rounded-lg p-3",children:[y.jsx("option",{value:"",children:"-- اختر الوقت --"}),R.map((_e,$e)=>y.jsx("option",{value:_e,children:_e},$e))]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات (اختياري):"}),y.jsx("textarea",{value:I,onChange:_e=>Q(_e.target.value),placeholder:"أضف أي ملاحظات أو تفاصيل إضافية حول الحجز...",className:"w-full border border-gray-300 rounded-lg p-3 h-24"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:()=>A(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg",children:"إلغاء"}),y.jsx("button",{onClick:Ne,disabled:!w||!z||q,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:q?"جاري التحقق...":"تأكيد الحجز"})]})]})}),xe&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsx(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:y.jsxs("div",{className:"text-center",children:[X.success?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(Y9,{className:"text-green-500 text-5xl"})}),y.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"تم الحجز بنجاح!"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(W9,{className:"text-red-500 text-5xl"})}),y.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"لم يتم الحجز"})]}),y.jsx("p",{className:"mb-6 text-gray-700",children:X.message}),y.jsx("button",{onClick:()=>ge(!1),className:`px-6 py-2 rounded-lg ${X.success?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"حسناً"})]})})})]}):y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"لم يتم العثور على مقدم الخدمة، يرجى التحقق من الرابط والمحاولة مرة أخرى."})})};function dz(n){return Rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"},child:[]}]})(n)}const fz=()=>{const{providerId:n}=yv(),e=ka(),t=Bn(),[r,a]=M.useState([]),[o,c]=M.useState(""),[u,f]=M.useState(!0),[h,g]=M.useState(null),[v,x]=M.useState(null),w=M.useRef(null),[E,C]=M.useState(!1),[T,N]=M.useState(""),V=(Q,O)=>[Q,O].sort().join("_"),L=()=>{try{const Q=localStorage.getItem("currentUser");if(!Q)return null;const O=JSON.parse(Q);if(!O)return null;if(O.uid&&!O.id)O.id=O.uid;else if(O.id&&!O.uid)O.uid=O.id;else if(!O.uid&&!O.id)return null;return O}catch(Q){return console.error("Error parsing user data:",Q),null}};M.useEffect(()=>{(async()=>{var O;try{f(!0);const A=L();if(!A){t("/nafany/login");return}g(A);let R,k;if((O=e.state)!=null&&O.provider)R=e.state.provider,e.state.user?k=e.state.user:k={id:A.uid||A.id,name:A.name,email:A.email};else{R={id:A.uid||A.id,name:A.name,email:A.email};try{const Se=await Wo(wn(et,"users",n));if(Se.exists())k={id:Se.id,...Se.data()};else{const we=await Wo(wn(et,"serviceProviders",n));if(!we.exists())throw new Error("User not found");k={id:we.id,...we.data()}}}catch(Se){throw console.error("Error fetching client data:",Se),Se}}R.id=R.id||R.uid,k.id=k.id||k.uid,x(R);const z=V(R.id,k.id);console.log("Chat participants:",{provider:R,client:k}),console.log("Generated chatId:",z),N(z);const Y=or(Gt(et,"chats",z,"messages"),Dd("timestamp","asc")),B=fm(Y,Se=>{const we=Se.docs.map(ie=>{var ee;return{id:ie.id,...ie.data(),timestamp:((ee=ie.data().timestamp)==null?void 0:ee.toDate())||new Date}});console.log("Real-time messages update:",we),a(we)});return f(!1),B}catch(A){console.error("Chat init error:",A),f(!1)}})()},[n,e.state,t]);const F=()=>{var Q;(Q=w.current)==null||Q.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{F()},[r]);const I=async Q=>{if(Q.preventDefault(),!(!o.trim()||!h||!v||!T))try{console.log("Sending message with chatId:",T),console.log("From:",h.id||h.uid,"To:",v.id||v.uid);const O=await Ad(Gt(et,"chats",T,"messages"),{text:o,senderId:h.id||h.uid,senderName:h.name,receiverId:v.id||v.uid,timestamp:Xo(),isRead:!1});await Fb(wn(et,"chats",T),{lastMessage:o,lastMessageTime:Xo(),providerData:{id:v.id||v.uid,name:v.name,email:v.email},userData:{id:h.id||h.uid,name:h.name,email:h.email},participants:[h.id||h.uid,v.id||v.uid],participantsNames:[h.name,v.name]},{merge:!0}),c(""),console.log("Message sent successfully:",O.id)}catch(O){console.error("Message send error:",O)}};return M.useEffect(()=>{if(r.length>0&&r[r.length-1].senderId===(h==null?void 0:h.uid)){const Q=setTimeout(()=>{C(!0);const O=setTimeout(()=>{C(!1)},3e3);return()=>clearTimeout(O)},2e3);return()=>clearTimeout(Q)}},[r,h]),u?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل المحادثة..."})}):!v||!h?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"حدث خطأ في تحميل بيانات المحادثة"})}):y.jsxs(ve.div,{className:"flex flex-col min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center",children:[y.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100",children:y.jsx(F9,{className:"text-gray-600 text-xl"})}),y.jsxs("div",{className:"flex items-center mx-4",children:[v.profileImage?y.jsx("img",{src:v.profileImage,alt:v.name,className:"w-10 h-10 rounded-full object-cover"}):y.jsx(rR,{className:"text-gray-400 text-3xl"}),y.jsxs("div",{className:"mr-3",children:[y.jsx("h2",{className:"font-semibold text-gray-800",children:v.name}),y.jsx("p",{className:"text-xs text-gray-500",children:v.profession||v.category})]})]})]}),y.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:y.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-8",children:["لا توجد رسائل بعد. ابدأ المحادثة مع ",v.name]}):r.map(Q=>{var O,A;return y.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${Q.senderId===h.uid?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`max-w-xs md:max-w-md rounded-lg p-3 ${Q.senderId===h.uid?"bg-cyan-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow"}`,children:[y.jsx("p",{className:"text-sm",children:Q.text}),y.jsx("p",{className:`text-xs mt-1 ${Q.senderId===h.uid?"text-cyan-100":"text-gray-500"}`,children:((A=(O=Q.timestamp)==null?void 0:O.toDate)==null?void 0:A.call(O).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"الآن"})]})},Q.id)}),E&&y.jsx("div",{className:"flex justify-start",children:y.jsx("div",{className:"bg-white text-gray-800 rounded-lg rounded-bl-none shadow p-3",children:y.jsxs("div",{className:"flex space-x-1",children:[y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),y.jsx("div",{ref:w})]})}),y.jsx("div",{className:"bg-white p-4 border-t border-gray-200",children:y.jsxs("form",{onSubmit:I,className:"flex items-center max-w-3xl mx-auto",children:[y.jsx("input",{type:"text",value:o,onChange:Q=>c(Q.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-1 border border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),y.jsx("button",{type:"submit",disabled:!o.trim(),className:"ml-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full p-2 disabled:bg-gray-400",children:y.jsx(dz,{className:"text-xl"})})]})})]})},hz=()=>{const n=Bn(),[e,t]=M.useState(null),[r,a]=M.useState([]),[o,c]=M.useState(!0),[u,f]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("currentUser");if(!x||x==='""'){n("/nafany/login");return}const w=JSON.parse(x);t(w);try{(await Wo(wn(et,"serviceProviders",w.uid))).exists()&&f(!0)}catch{console.log("User is not a service provider")}const E=or(Gt(et,"chats"),lr("participants","array-contains",w.email),Dd("lastMessageTime","desc"));return fm(E,async T=>{var V,L;const N=[];for(const F of T.docs){const I=F.data(),Q=or(Gt(et,"messages"),lr("chatId","==",F.id),Dd("timestamp","desc")),O=await cr(Q);let A=null;O.empty||(A={id:O.docs[0].id,...O.docs[0].data()});const R=I.participants.find(k=>k!==w.email);N.push({id:F.id,otherParticipantName:I.participantNames[R],otherParticipantEmail:R,otherParticipantImage:((V=I.participantImages)==null?void 0:V[R])||"/default-profile.png",otherParticipantId:(L=I.participantIds)==null?void 0:L[R],lastMessage:A,lastMessageTime:I.lastMessageTime,unreadCount:0})}a(N),c(!1)})}catch(x){console.error("Error fetching chats:",x),c(!1)}})()},[n]);const h=v=>{const x=v.otherParticipantId;u?n(`/nafany/chat/${x}`,{state:{user:{uid:x,email:v.otherParticipantEmail,name:v.otherParticipantName}}}):n(`/nafany/chat/${x}`,{state:{provider:{id:x,email:v.otherParticipantEmail,name:v.otherParticipantName,profileImage:v.otherParticipantImage}}})},g=v=>{if(!v)return"";const x=v.toDate?v.toDate():new Date(v),E=new Date-x,C=Math.floor(E/(1e3*60*60*24));return C===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):C===1?"الأمس":C<7?["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"][x.getDay()]:x.toLocaleDateString()};return o?y.jsx("div",{className:"flex items-center justify-center h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500"})}):y.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[y.jsx("div",{className:"bg-cyan-600 text-white p-4 shadow-md",children:y.jsx("h1",{className:"text-xl font-bold text-center",children:"المحادثات"})}),y.jsx("div",{className:"max-w-xl mx-auto p-4",children:r.length===0?y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"ليس لديك محادثات حالية"}),u?y.jsx("p",{className:"text-gray-500",children:"سيظهر عملاؤك هنا عندما يبدأون محادثة معك"}):y.jsx("button",{onClick:()=>n("/nafany/providers"),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700",children:"ابحث عن مقدمي الخدمة"})]}):y.jsx("div",{className:"space-y-3",children:r.map(v=>{var x;return y.jsxs("div",{onClick:()=>h(v),className:"bg-white rounded-lg shadow-md p-4 flex items-center cursor-pointer hover:bg-gray-50",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden mr-3",children:y.jsx("img",{src:v.otherParticipantImage,alt:v.otherParticipantName,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex justify-between items-baseline",children:[y.jsx("h3",{className:"font-bold text-gray-800 truncate",children:v.otherParticipantName}),y.jsx("span",{className:"text-xs text-gray-500",children:g(v.lastMessageTime)})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("p",{className:"text-gray-600 text-sm truncate flex-1",children:((x=v.lastMessage)==null?void 0:x.text)||"بدء محادثة جديدة"}),v.lastMessage&&y.jsx("div",{className:"ml-2 text-gray-400",children:v.lastMessage.sender===e.email?v.lastMessage.isRead?y.jsx(q9,{size:12}):y.jsx(G9,{size:12}):v.unreadCount>0&&y.jsx("span",{className:"bg-cyan-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:v.unreadCount})})]})]})]},v.id)})})})]})},mz=()=>{var we,ie;const n=Bn(),t=((we=ka().state)==null?void 0:we.fromProvider)||!1,[r,a]=M.useState({name:"",email:"",password:"",governorate:"",phone:"",role:""}),[o,c]=M.useState({nationalId:"",category:"",profession:"",subscriptionFee:"",idFrontImage:"",idBackImage:"",profileImage:"",bio:"",allowContact:!1,address:"",workingAreas:[]}),[u,f]=M.useState(!0),[h,g]=M.useState(!1),[v,x]=M.useState({}),[w,E]=M.useState(!1),[C,T]=M.useState(""),[N,V]=M.useState(""),[L,F]=M.useState(""),I=["القاهرة","الجيزة","الإسكندرية","الدقهلية","الشرقية","المنوفية","القليوبية","البحيرة","الغربية","الفيوم","كفر الشيخ","المنيا","أسيوط","سوهاج","قنا","أسوان","الأقصر","بني سويف","مطروح","السويس","الإسماعيلية","بورسعيد","دمياط","البحر الأحمر","الوادي الجديد","شمال سيناء","جنوب سيناء"],Q={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد"],"خدمات صحية":["طبيب","ممرض","صيدلي","فني مختبر"],"خدمات عامة":["توصيل طلبات","نقل","تنظيف"]},O=["100 جنيه","200 جنيه","300 جنيه"];M.useEffect(()=>{(async()=>{try{const re=localStorage.getItem("currentUser");if(!re){n("/nafany/login");return}const q=JSON.parse(re),U=q.role==="provider"?"serviceProviders":"users",X=q.email.split("@")[0],be=wn(et,U,X),xe=await Wo(be);if(xe.exists()){const ge=xe.data();a({name:ge.name||"",email:ge.email||"",password:"",governorate:ge.governorate||"",phone:ge.phone||"",role:q.role}),q.role==="provider"&&(c({nationalId:ge.nationalId||"",category:ge.category||"",profession:ge.profession||"",subscriptionFee:ge.subscriptionFee||"",idFrontImage:ge.idFrontImage||"",idBackImage:ge.idBackImage||"",profileImage:ge.profileImage||"",bio:ge.bio||"",allowContact:ge.allowContact||!1,address:ge.address||"",workingAreas:ge.workingAreas||[]}),ge.idFrontImage&&T(ge.idFrontImage),ge.idBackImage&&V(ge.idBackImage),ge.profileImage&&F(ge.profileImage))}else alert("لم يتم العثور على بيانات المستخدم"),n("/nafany")}catch(re){console.error("Error fetching user data:",re),alert("حدث خطأ أثناء تحميل البيانات")}finally{f(!1)}})()},[n]);const A=()=>{let ee={};return r.name.trim()||(ee.name="الاسم مطلوب"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(ee.email="البريد الإلكتروني غير صالح"):ee.email="البريد الإلكتروني مطلوب",r.password&&r.password.length<6&&(ee.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"),r.governorate||(ee.governorate="يجب اختيار المحافظة"),r.phone||(ee.phone="رقم الهاتف مطلوب"),r.role==="provider"&&(o.nationalId||(ee.nationalId="الرقم القومي مطلوب"),o.profession||(ee.profession="المهنة مطلوبة"),o.address||(ee.address="العنوان مطلوب")),x(ee),Object.keys(ee).length===0},R=ee=>{const{name:re,value:q,type:U,checked:X}=ee.target;a(be=>({...be,[re]:U==="checkbox"?X:q})),x({...v,[re]:""})},k=ee=>{const{name:re,value:q,type:U,checked:X}=ee.target;c(be=>({...be,[re]:U==="checkbox"?X:q})),x({...v,[re]:""})},z=ee=>{const re=ee.target.value;c(q=>{var U;return{...q,category:re,profession:((U=Q[re])==null?void 0:U[0])||""}})},Y=(ee,re)=>{const q=ee.target.files[0];if(!q)return;const U=new FileReader;U.onload=()=>{const X=U.result;c(be=>({...be,[re]:X})),re==="idFrontImage"?T(X):re==="idBackImage"?V(X):re==="profileImage"&&F(X)},U.readAsDataURL(q)},B=ee=>{const{value:re,checked:q}=ee.target;c(U=>q?{...U,workingAreas:[...U.workingAreas,re]}:{...U,workingAreas:U.workingAreas.filter(X=>X!==re)})},Se=async ee=>{if(ee.preventDefault(),!!A())try{f(!0);const re=r.email.split("@")[0],q=r.role==="provider"?"serviceProviders":"users",U=wn(et,q,re),X={...r,...r.role==="provider"?o:{}};X.password||delete X.password,await Yo(U,X);const be={...r,...r.role==="provider"?o:{}};localStorage.setItem("currentUser",JSON.stringify(be)),E(!0),g(!1)}catch(re){console.error("Error updating user data:",re),alert("حدث خطأ أثناء تحديث البيانات")}finally{f(!1)}};return u?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{onClick:()=>n(t?"/nafany/servicer_page":"/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-cyan-800",children:r.role==="provider"?"إعدادات مقدم الخدمة":"إعدادات الحساب"}),!h&&y.jsx(ve.button,{onClick:()=>g(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-cyan-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تعديل البيانات"})]}),w&&y.jsx(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:"تم تحديث البيانات بنجاح"}),y.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الاسم"}),y.jsx("input",{type:"text",name:"name",placeholder:"أدخل الاسم",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.name,onChange:R,disabled:!h}),v.name&&y.jsx("p",{className:"text-red-500 text-sm",children:v.name})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"البريد الإلكتروني"}),y.jsx("input",{type:"email",name:"email",placeholder:"أدخل البريد الإلكتروني",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.email,onChange:R,disabled:!0}),v.email&&y.jsx("p",{className:"text-red-500 text-sm",children:v.email})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"كلمة المرور (اتركها فارغة إذا لم ترغب في تغييرها)"}),y.jsx("input",{type:"password",name:"password",placeholder:"أدخل كلمة المرور الجديدة",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.password,onChange:R,disabled:!h}),v.password&&y.jsx("p",{className:"text-red-500 text-sm",children:v.password})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رقم الهاتف"}),y.jsx("input",{type:"tel",name:"phone",placeholder:"أدخل رقم الهاتف",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.phone,onChange:R,disabled:!h}),v.phone&&y.jsx("p",{className:"text-red-500 text-sm",children:v.phone})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المحافظة"}),y.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.governorate,onChange:R,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),I.map((ee,re)=>y.jsx("option",{value:ee,children:ee},re))]}),v.governorate&&y.jsx("p",{className:"text-red-500 text-sm",children:v.governorate})]}),r.role==="provider"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الرقم القومي"}),y.jsx("input",{type:"text",name:"nationalId",placeholder:"أدخل الرقم القومي",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.nationalId,onChange:k,disabled:!h}),v.nationalId&&y.jsx("p",{className:"text-red-500 text-sm",children:v.nationalId})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"التصنيف"}),y.jsxs("select",{name:"category",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.category,onChange:z,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر التصنيف"}),Object.keys(Q).map((ee,re)=>y.jsx("option",{value:ee,children:ee},re))]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المهنة"}),y.jsxs("select",{name:"profession",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.profession,onChange:k,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المهنة"}),o.category&&((ie=Q[o.category])==null?void 0:ie.map((ee,re)=>y.jsx("option",{value:ee,children:ee},re)))]}),v.profession&&y.jsx("p",{className:"text-red-500 text-sm",children:v.profession})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رسوم الاشتراك"}),y.jsx("select",{name:"subscriptionFee",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.subscriptionFee,onChange:k,disabled:!h,children:O.map((ee,re)=>y.jsx("option",{value:ee,children:ee},re))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"العنوان"}),y.jsx("input",{type:"text",name:"address",placeholder:"أدخل العنوان بالتفصيل",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.address,onChange:k,disabled:!h}),v.address&&y.jsx("p",{className:"text-red-500 text-sm",children:v.address})]}),y.jsx("div",{className:"space-y-1",children:y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",name:"allowContact",checked:o.allowContact,onChange:k,disabled:!h,className:"rounded text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر مع العملاء"})]})}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block",children:"صورة البطاقة من الأمام"}),C?y.jsx("img",{src:C,alt:"Front ID",className:"h-40 w-full object-contain border rounded-lg"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:ee=>Y(ee,"idFrontImage"),className:"w-full",accept:"image/*"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block",children:"صورة البطاقة من الخلف"}),N?y.jsx("img",{src:N,alt:"Back ID",className:"h-40 w-full object-contain border rounded-lg"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:ee=>Y(ee,"idBackImage"),className:"w-full",accept:"image/*"})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),L?y.jsx("img",{src:L,alt:"Profile",className:"h-40 w-40 object-cover rounded-full mx-auto border"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-full h-40 w-40 mx-auto flex items-center justify-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:ee=>Y(ee,"profileImage"),className:"w-full",accept:"image/*"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"نبذة عنك"}),y.jsx("textarea",{name:"bio",placeholder:"أدخل نبذة عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:o.bio,onChange:k,disabled:!h})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"مناطق العمل"}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:I.map((ee,re)=>{var q;return y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:`governorate-${re}`,value:ee,checked:((q=o.workingAreas)==null?void 0:q.includes(ee))||!1,onChange:B,disabled:!h,className:"ml-2"}),y.jsx("label",{htmlFor:`governorate-${re}`,children:ee})]},re)})})]})]}),h&&y.jsxs(ve.div,{className:"pt-4 grid grid-cols-2 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsx(ve.button,{type:"button",onClick:()=>g(!1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"إلغاء"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"حفظ التغييرات"})]})]})]})]})})},pz=()=>{const n=Bn();return y.jsx(ve.div,{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:y.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"bg-cyan-700 py-6 px-8 text-center",children:y.jsx("h1",{className:"text-3xl font-bold text-white",children:"تواصل معنا"})}),y.jsxs("div",{className:"p-8 border-b",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"نبذة عن المشروع"}),y.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"موقعنا هو منصة متكاملة تتيح للمستخدمين العثور على مختلف الخدمات المتوفرة في منطقتهم بسهولة وسرعة. سواء كنت تبحث عن خدمات صيانة منزلية، أو خدمات تعليمية، أو خدمات طبية، أو أي نوع آخر من الخدمات، فإن منصتنا تساعدك في العثور على أفضل مقدمي الخدمات القريبين من موقعك."}),y.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"نهدف إلى ربط المستخدمين بمقدمي الخدمات المؤهلين والموثوقين، مما يوفر الوقت والجهد ويضمن الحصول على خدمة ذات جودة عالية. نحن نعمل باستمرار على توسيع قاعدة بياناتنا وتحسين تجربة المستخدم لجعل عملية البحث عن الخدمات أكثر سهولة ومتعة."})]}),y.jsxs("div",{className:"p-8",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"وسائل التواصل"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"تابعنا على مواقع التواصل الاجتماعي"}),y.jsxs("div",{className:"flex flex-wrap gap-4",children:[y.jsxs("a",{href:"https://facebook.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(V9,{})," فيسبوك"]}),y.jsxs("a",{href:"https://instagram.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",children:[y.jsx(L9,{})," انستجرام"]}),y.jsxs("a",{href:"https://wa.me/+201234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[y.jsx(B9,{})," واتساب"]}),y.jsxs("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[y.jsx(U9,{})," لينكدين"]}),y.jsxs("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[y.jsx(K9,{})," البريد الإلكتروني"]})]})]}),y.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"معلومات الاتصال"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"البريد الإلكتروني:"})," info@projectname.com"]}),y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"رقم الهاتف:"})," +20 123 456 7890"]}),y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"العنوان:"})," المنطقة الرئيسية، المدينة، البلد"]})]})]})]})]}),y.jsx("div",{className:"p-8 text-center",children:y.jsx(ve.button,{onClick:()=>n("/nafany"),className:"bg-cyan-700 text-white px-6 py-2 rounded-lg hover:bg-cyan-800 inline-flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"العودة للصفحة الرئيسية"})})]})})},gz=()=>{const n=Bn(),[e,t]=M.useState({type:"complaint",title:"",description:""}),[r,a]=M.useState(!1),[o,c]=M.useState(!1),[u,f]=M.useState(""),[h,g]=M.useState({}),v=()=>{let E=!0,C={};return e.title.trim()||(C.title="عنوان الشكوى/الاقتراح مطلوب",E=!1),e.description.trim()?e.description.trim().length<10&&(C.description="يجب أن تحتوي التفاصيل على 10 أحرف على الأقل",E=!1):(C.description="تفاصيل الشكوى/الاقتراح مطلوبة",E=!1),g(C),E},x=E=>{const{name:C,value:T}=E.target;t(N=>({...N,[C]:T})),h[C]&&g(N=>({...N,[C]:""}))},w=async E=>{if(E.preventDefault(),!!v())try{a(!0),f("");const C=localStorage.getItem("currentUser"),T=C?JSON.parse(C):null;await Ad(Gt(et,"feedbacks"),{type:e.type,title:e.title,description:e.description,status:"new",timestamp:Xo(),userId:(T==null?void 0:T.email)||"anonymous",userName:(T==null?void 0:T.name)||"زائر",userRole:(T==null?void 0:T.role)||"guest"}),c(!0),t({type:"complaint",title:"",description:""}),setTimeout(()=>{c(!1)},3e3)}catch(C){console.error("خطأ في إرسال الشكوى/الاقتراح:",C),f("حدث خطأ أثناء إرسال الشكوى/الاقتراح. يرجى المحاولة مرة أخرى.")}finally{a(!1)}};return y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{onClick:()=>n("/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-2xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsx("h1",{className:"text-2xl font-bold text-cyan-800 mb-8 text-center",children:"الشكاوى والاقتراحات"}),o&&y.jsxs(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:["تم إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"," بنجاح. شكراً لك!"]}),u&&y.jsx(ve.div,{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),y.jsxs("form",{onSubmit:w,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-gray-700 font-medium",children:"نوع الرسالة"}),y.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",name:"type",value:"complaint",checked:e.type==="complaint",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{children:"شكوى"})]}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:e.type==="suggestion",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{children:"اقتراح"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"block text-gray-700 font-medium",children:["العنوان",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"title",placeholder:"أدخل عنوان الشكوى/الاقتراح",className:`w-full border ${h.title?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,value:e.title,onChange:x}),h.title&&y.jsx("p",{className:"text-red-500 text-sm",children:h.title})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"block text-gray-700 font-medium",children:["التفاصيل",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("textarea",{name:"description",placeholder:"أدخل تفاصيل الشكوى/الاقتراح",className:`w-full border ${h.description?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-40`,value:e.description,onChange:x}),h.description&&y.jsx("p",{className:"text-red-500 text-sm",children:h.description})]}),y.jsx(ve.button,{type:"submit",className:"w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:r,children:r?y.jsx("span",{children:"جاري الإرسال..."}):y.jsxs("span",{children:["إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"]})})]})]})]})})},yz=()=>{const[n,e]=M.useState("users"),[t,r]=M.useState([]),[a,o]=M.useState([]),[c,u]=M.useState([]),[f,h]=M.useState([]),[g,v]=M.useState(null),[x,w]=M.useState(!1),[E,C]=M.useState({}),[T,N]=M.useState(!0),[V,L]=M.useState(!1),[F,I]=M.useState(null);M.useEffect(()=>{(async()=>{N(!0);try{const X=(await cr(Gt(et,"users"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));r(X);const xe=(await cr(Gt(et,"serviceProviders"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));o(xe);const de=(await cr(Gt(et,"feedbacks"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));u(de);const Ce=(await cr(Gt(et,"reviews"))).docs.map(Ee=>{var Ne;return{id:Ee.id,...Ee.data(),createdAt:(Ne=Ee.data().createdAt)==null?void 0:Ne.toDate()}});h(Ce)}catch(U){console.error("خطأ في جلب البيانات:",U),alert("حدث خطأ أثناء تحميل البيانات")}N(!1)})()},[]),console.log(f),console.log(t);const Q=async(q,U)=>{if(window.confirm("هل أنت متأكد من رغبتك في الحذف؟"))try{await KC(wn(et,U,q)),U==="users"?r(t.filter(X=>X.id!==q)):U==="serviceProviders"?o(a.filter(X=>X.id!==q)):U==="feedbacks"?u(c.filter(X=>X.id!==q)):U==="reviews"&&h(f.filter(X=>X.id!==q)),alert("تم الحذف بنجاح")}catch(X){console.error("خطأ في الحذف:",X),alert("حدث خطأ أثناء الحذف")}},O=(q,U)=>{v({item:q,collectionName:U}),C(q),w(!0)},A=async()=>{try{const{item:q,collectionName:U}=g;await Yo(wn(et,U,q.id),E),U==="users"?r(t.map(X=>X.id===q.id?{...X,...E}:X)):U==="serviceProviders"?o(a.map(X=>X.id===q.id?{...X,...E}:X)):U==="feedbacks"?u(c.map(X=>X.id===q.id?{...X,...E}:X)):U==="reviews"&&h(f.map(X=>X.id===q.id?{...X,...E}:X)),w(!1),alert("تم التحديث بنجاح")}catch(q){console.error("خطأ في التحديث:",q),alert("حدث خطأ أثناء التحديث")}},R=async(q,U)=>{try{const X=wn(et,U,q),be=await Wo(X);if(be.exists()){const xe={id:be.id,...be.data()};if(U==="serviceProviders"){const ge=f.filter(de=>de.providerEmail===xe.email);xe.reviewsDetails=ge}I(xe),L(!0)}else alert("لم يتم العثور على البيانات")}catch(X){console.error("خطأ في جلب التفاصيل:",X),alert("حدث خطأ أثناء جلب التفاصيل")}},k=q=>q?q instanceof Date?q.toLocaleDateString("ar-EG"):q.toDate?q.toDate().toLocaleDateString("ar-EG"):"غير محدد":"غير محدد",z=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"مقدم الخدمة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التقييم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التعليق"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(q=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.clientName}),y.jsx("div",{className:"text-sm text-gray-500",children:q.clientEmail})]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.providerName}),y.jsx("div",{className:"text-sm text-gray-500",children:q.providerCategory})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((U,X)=>y.jsx("svg",{className:`h-5 w-5 ${X<q.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},X)),y.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[q.rating,"/5"]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:q.review})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:k(q.createdAt)})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>R(q.id,"reviews"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>O(q,"reviews"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>Q(q.id,"reviews"),children:"حذف"})]})]},q.id))})]})}),Y=()=>y.jsx("div",{className:"flex flex-wrap border-b text-sm font-medium text-center text-gray-500 mb-4",children:[{id:"users",label:"المستخدمين"},{id:"providers",label:"مقدمي الخدمة"},{id:"complaints",label:"الشكاوى والاقتراحات"},{id:"reviews",label:"التقييمات"}].map(q=>y.jsx("button",{className:`inline-block p-4 rounded-t-lg ${n===q.id?"text-cyan-600 border-b-2 border-cyan-600":"hover:text-gray-600 hover:border-gray-300"}`,onClick:()=>e(q.id),children:q.label},q.id))}),B=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"البريد الإلكتروني"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المحافظة"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(q=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:q.email})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:q.governorate})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>R(q.id,"users"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>O(q,"users"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>Q(q.id,"users"),children:"حذف"})]})]},q.id))})]})}),Se=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المهنة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التصنيف"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(q=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[q.profileImage&&y.jsx("div",{className:"flex-shrink-0 h-10 w-10 ml-2",children:y.jsx("img",{className:"h-10 w-10 rounded-full",src:q.profileImage,alt:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),y.jsx("div",{className:"text-sm text-gray-500",children:q.email})]})]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-900",children:q.profession})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:q.category})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>R(q.id,"serviceProviders"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>O(q,"serviceProviders"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>Q(q.id,"serviceProviders"),children:"حذف"})]})]},q.id))})]})}),we=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"النوع"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المستخدم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العنوان"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(q=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:q.type==="complaint"?"شكوى":"اقتراح"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.userName}),y.jsx("div",{className:"text-sm text-gray-500",children:q.userId})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:k(q.timestamp)})}),y.jsxs("td",{className:"px-6 py-4",children:[y.jsx("div",{className:"text-sm text-gray-900",children:q.title}),y.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:q.description})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${q.status==="new"?"bg-gray-100 text-gray-800":q.status==="in_progress"?"bg-yellow-100 text-yellow-800":q.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.status==="new"?"جديد":q.status==="in_progress"?"قيد المعالجة":q.status==="resolved"?"تم الحل":"مرفوض"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>R(q.id,"feedbacks"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>O(q,"feedbacks"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>Q(q.id,"feedbacks"),children:"حذف"})]})]},q.id))})]})}),ie=()=>x&&g&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"تعديل البيانات"}),y.jsxs("div",{className:"space-y-4",children:[g.collectionName==="feedbacks"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"النوع"}),y.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:E.type||"complaint",onChange:q=>C({...E,type:q.target.value}),children:[y.jsx("option",{value:"complaint",children:"شكوى"}),y.jsx("option",{value:"suggestion",children:"اقتراح"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحالة"}),y.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:E.status||"new",onChange:q=>C({...E,status:q.target.value}),children:[y.jsx("option",{value:"new",children:"جديد"}),y.jsx("option",{value:"in_progress",children:"قيد المعالجة"}),y.jsx("option",{value:"resolved",children:"تم الحل"}),y.jsx("option",{value:"rejected",children:"مرفوض"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),y.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:E.title||"",onChange:q=>C({...E,title:q.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الرد"}),y.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:E.response||"",onChange:q=>C({...E,response:q.target.value}),placeholder:"أدخل ردك هنا..."})]})]}),g.collectionName!=="feedbacks"&&Object.keys(E).filter(q=>typeof E[q]!="object"&&typeof E[q]!="function"&&!q.includes("Image")&&q!=="id"&&q!=="password").map(q=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:q}),q==="bio"||q==="message"||q==="comment"?y.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:E[q]||"",onChange:U=>C({...E,[q]:U.target.value})}):y.jsx("input",{type:q==="email"?"email":"text",className:"w-full p-2 border border-gray-300 rounded-md",value:E[q]||"",onChange:U=>C({...E,[q]:U.target.value})})]},q))]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[y.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>w(!1),children:"إلغاء"}),y.jsx("button",{className:"px-4 py-2 bg-cyan-600 text-white rounded-md",onClick:A,children:"حفظ"})]})]})}),ee=()=>V&&F&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"التفاصيل"}),F.category&&y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[F.profileImage&&y.jsx("img",{src:F.profileImage,alt:"",className:"h-16 w-16 rounded-full object-cover ml-4"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold",children:F.name}),y.jsxs("p",{className:"text-gray-600",children:[F.profession," - ",F.category]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",F.email]}),y.jsxs("p",{className:"text-gray-600",children:["رقم الهاتف: ",F.phone]}),y.jsxs("p",{className:"text-gray-600",children:["العنوان: ",F.address]}),y.jsxs("p",{className:"text-gray-600",children:["المحافظة: ",F.governorate]})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-gray-600",children:["رسوم الاشتراك: ",F.subscriptionFee]}),y.jsxs("p",{className:"text-gray-600",children:["متوسط التقييم: ",F.averageRating?F.averageRating.toFixed(1):"لا يوجد"," (",F.totalRatings||0," تقييم)"]}),y.jsxs("p",{className:"text-gray-600",children:["عدد الأعمال: ",F.worksCount||0]})]})]}),F.bio&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"نبذة:"}),y.jsx("p",{className:"text-gray-600",children:F.bio})]}),F.ratingsDetails&&F.ratingsDetails.length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["التقييمات (",F.ratingsDetails.length,")"]}),y.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:F.ratingsDetails.map((q,U)=>y.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3 last:border-0 last:mb-0 last:pb-0",children:[y.jsxs("div",{className:"flex justify-between mb-1",children:[y.jsx("div",{className:"font-medium",children:q.userName}),y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((X,be)=>y.jsxs("svg",{className:`h-4 w-4 ${be<q.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:["  ",y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]},be)),y.jsxs("span",{className:"text-xs text-gray-600 mr-1",children:[q.rating,"/5"]})]})]}),y.jsx("p",{className:"text-sm text-gray-600",children:q.comment}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:k(q.createdAt)})]},U))})]})]}),!F.category&&!F.providerId&&!F.title&&y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(F).filter(([q])=>q!=="id"&&typeof F[q]!="object"&&typeof F[q]!="function").map(([q,U])=>y.jsxs("div",{className:"mb-3",children:[y.jsxs("h4",{className:"font-semibold",children:[q,":"]}),y.jsx("p",{className:"text-gray-600",children:(U==null?void 0:U.toString())||"غير محدد"})]},q))}),F.title&&y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات المستخدم"}),y.jsxs("p",{className:"text-gray-600",children:["الاسم: ",F.userName]}),y.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",F.userId]}),y.jsxs("p",{className:"text-gray-600",children:["الدور: ",F.userRole]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["تفاصيل ",F.type==="complaint"?"الشكوى":"الاقتراح"]}),y.jsxs("p",{className:"text-gray-600",children:["النوع:",y.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${F.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:F.type==="complaint"?"شكوى":"اقتراح"})]}),y.jsxs("p",{className:"text-gray-600",children:["العنوان: ",F.title]}),y.jsxs("p",{className:"text-gray-600",children:["تاريخ الإنشاء: ",k(F.timestamp)]}),y.jsxs("p",{className:"text-gray-600",children:["الحالة:",y.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${F.status==="new"?"bg-gray-100 text-gray-800":F.status==="in_progress"?"bg-yellow-100 text-yellow-800":F.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.status==="new"?"جديد":F.status==="in_progress"?"قيد المعالجة":F.status==="resolved"?"تم الحل":"مرفوض"})]}),y.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"التفاصيل:"}),y.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:F.description})]})]}),F.response&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"الرد"}),y.jsx("div",{className:"p-3 bg-blue-50 rounded",children:y.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:F.response})}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["تاريخ الرد: ",k(F.respondedAt)]})]})]}),F.providerId&&!F.title&&y.jsx("div",{children:y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات التقييم"}),y.jsxs("p",{className:"text-gray-600",children:["المستخدم: ",F.userName]}),y.jsxs("p",{className:"text-gray-600",children:["مقدم الخدمة: ",F.providerName]}),y.jsxs("p",{className:"text-gray-600",children:["تاريخ التقييم: ",k(F.createdAt)]}),y.jsxs("div",{className:"flex items-center my-2",children:[y.jsx("span",{className:"ml-2",children:"التقييم:"}),[...Array(5)].map((q,U)=>y.jsx("svg",{className:`h-5 w-5 ${U<F.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},U)),y.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[F.rating,"/5"]})]}),y.jsxs("div",{className:"mt-2",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"التعليق:"}),y.jsx("div",{className:"p-3 bg-gray-50 rounded",children:y.jsx("p",{className:"text-gray-800",children:F.comment})})]})]})}),y.jsx("div",{className:"flex justify-end mt-6",children:y.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>L(!1),children:"إغلاق"})})]})}),re=()=>y.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-600"})});return y.jsxs(ve.div,{className:"container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-right",children:"لوحة تحكم المشرف"}),Y(),T?re():y.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[n==="users"&&B(),n==="providers"&&Se(),n==="complaints"&&we(),n==="reviews"&&z()]}),ie(),ee()]})},vz=()=>{const n=mk(q4(y.jsxs(y.Fragment,{children:[y.jsx(rr,{path:"/nafany/check_sign",element:y.jsx(cj,{})}),y.jsx(rr,{path:"/nafany/check_user",element:y.jsx(ij,{})}),y.jsx(rr,{path:"/nafany/login",element:y.jsx(w9,{})}),y.jsx(rr,{path:"/nafany/register",element:y.jsx(E9,{})}),y.jsx(rr,{path:"/nafany/register_user",element:y.jsx(T9,{})}),y.jsx(rr,{path:"/nafany/services_jobs/:serviceType",element:y.jsx(R9,{})}),y.jsx(rr,{path:"/nafany/servicer_page",element:y.jsx(J9,{})}),y.jsx(rr,{path:"/nafany/book_page/:providerId",element:y.jsx(uz,{})}),y.jsx(rr,{path:"/nafany/",element:y.jsx(C9,{})}),y.jsx(rr,{path:"/nafany/chat/:providerId",element:y.jsx(fz,{})}),y.jsx(rr,{path:"/nafany/chats",element:y.jsx(hz,{})}),y.jsx(rr,{path:"/nafany/settings",element:y.jsx(mz,{})}),y.jsx(rr,{path:"/nafany/contact",element:y.jsx(pz,{})}),y.jsx(rr,{path:"/nafany/complaints",element:y.jsx(gz,{})}),y.jsx(rr,{path:"/nafany/admin",element:y.jsx(yz,{})})]})));return y.jsx(y.Fragment,{children:y.jsx(Ak,{router:n})})};TM.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(vz,{})}));
